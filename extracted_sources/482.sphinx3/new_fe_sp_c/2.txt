void fe_pre_emphasis(int16 *in, double *out, int32 len, float
		     factor, int16 prior)
{
    int32 i;
  
    out[0] = (double)in[0]-factor*(double)prior;
    for (i=1; i<len;i++) {
	out[i] = (double)in[i] - factor*(double)in[i-1];
    }
 
}
