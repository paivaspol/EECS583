int32 bio_fread (void *buf, int32 el_sz, int32 n_el, FILE *fp, int32 swap, uint32 *chksum)
{
    if (fread (buf, el_sz, n_el, fp) != (size_t)n_el)
	return -1;
    
    if (swap)
	swap_buf (buf, el_sz, n_el);
    
    if (chksum)
	*chksum = chksum_accum (buf, el_sz, n_el, *chksum);

    return n_el;
}
