void get_stx_coordnum(char *infile,int *natoms)
{
  FILE *in;
  int ftp;
  t_trxframe fr;

  ftp=fn2ftp(infile);
  switch (ftp) {
  case efGRO:
    get_coordnum(infile, natoms);
    break;
  case efG96:
    in=ffopen(infile,"r");
    fr.title = NULL;
    fr.natoms = -1;
    fr.atoms = NULL;
    fr.x = NULL;
    fr.v = NULL;
    fr.f = NULL;
    *natoms=read_g96_conf(in,infile,&fr);
    fclose(in);
    break;
  case efPDB:
  case efBRK:
  case efENT:
    in=ffopen(infile,"r");
    get_pdb_coordnum(in, natoms);
    fclose(in);
    break;
  case efTPA:
  case efTPB:
  case efTPR: {
    t_tpxheader tpx;
    read_tpxheader(infile,&tpx);
    *natoms = tpx.natoms;
    break;
  }
  default:
    fatal_error(0,"Not supported in get_stx_coordnum: %s",infile);
  }
}
