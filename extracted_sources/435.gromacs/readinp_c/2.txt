void write_inpfile(char *fn,int ninp,t_inpfile inp[])
{
  FILE *out;
  int  i;

  sort_inp(ninp,inp);  
  out=ffopen(fn,"w");
  nice_header(out,fn);
  for(i=0; (i<ninp); i++) {
    if (inp[i].bSet)
      fprintf(out,"%-24s = %s\n",inp[i].name,inp[i].value ? inp[i].value : "");
    else {
      sprintf(warn_buf,"Unknown left-hand %s in parameter file\n",
	      inp[i].name);
      warning(NULL);
    }
  }
  fclose(out);
}
