bool_t
xdr_long (XDR *xdrs, long *lp)
{

  if (xdrs->x_op == XDR_ENCODE
      && (sizeof (xdr_int32_t) == sizeof (long)
	  || (xdr_int32_t) *lp == *lp))
    return xdr_putlong (xdrs, lp);

  if (xdrs->x_op == XDR_DECODE)
    return xdr_getlong (xdrs, lp);

  if (xdrs->x_op == XDR_FREE)
    return TRUE;

  return FALSE;
}
