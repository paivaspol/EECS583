bool_t
xdr_u_short (XDR *xdrs, unsigned short *usp)
{
  unsigned long l;

  switch (xdrs->x_op)
    {
    case XDR_ENCODE:
      l = (unsigned long) * usp;
      return xdr_putlong (xdrs, (long *)&l);

    case XDR_DECODE:
      if (!xdr_getlong (xdrs, (long *)&l))
	{
	  return FALSE;
	}
      *usp = (unsigned short) l;
      return TRUE;

    case XDR_FREE:
      return TRUE;
    }
  return FALSE;
}
