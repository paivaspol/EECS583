static int count_zero_length_constraints(t_idef *idef)
{
  int nZeroLen,i;

  nZeroLen = 0;

  for(i=0; i<idef->il[F_SHAKE].nr; i+=3)
    if (fabs(idef->iparams[idef->il[F_SHAKE].iatoms[i]].shake.dA)<GMX_REAL_MIN)
      nZeroLen++;
  
  return nZeroLen;
}
