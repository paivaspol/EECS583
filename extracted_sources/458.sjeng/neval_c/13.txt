int  Queen(int sq,int c) {
  int s = 0;
  int mob;
  int xside = c^1;

  s += 900;

  s += std_q_tropism[distance[sq][king_locs[xside]]];

  mob = rook_mobility(sq) << 1;
  mob += bishop_mobility(sq) << 1;

  if (mob <= 4) {
     if (mob == 0)
	mob -= 15;
     else if (mob == 2)
	mob -= 10;
     else
	mob -= 5;
  }

  s += mob;

  if( c == BLACK )
    s = -s;
  return s;
}
