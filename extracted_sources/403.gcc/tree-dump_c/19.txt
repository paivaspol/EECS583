int
dump_switch_p (arg)
     const char *arg;
{
  unsigned ix;
  const char *option_value;
  
  for (ix = 0; ix != TDI_end; ix++)
    if ((option_value = skip_leading_substring (arg, dump_files[ix].swtch)))
      {
	const char *ptr = option_value;
	int flags = 0;
	
	while (*ptr)
	  {
	    const struct dump_option_value_info *option_ptr;
	    const char *end_ptr;
	    unsigned length;
	    
	    while (*ptr == '-')
	      ptr++;
	    end_ptr = strchr (ptr, '-');
	    if (!end_ptr)
	      end_ptr = ptr + strlen (ptr);
	    length = end_ptr - ptr;
	    
	    for (option_ptr = dump_options; option_ptr->name;
		 option_ptr++)
	      if (strlen (option_ptr->name) == length
		  && !memcmp (option_ptr->name, ptr, length))
		{
		  flags |= option_ptr->value;
		  goto found;
		}
	    warning ("ignoring unknown option `%.*s' in `-f%s'",
		     length, ptr, dump_files[ix].swtch);
	  found:;
	    ptr = end_ptr;
	  }
	
	dump_files[ix].state = -1;
	dump_files[ix].flags = flags;
	
	return 1;
      }
  return 0;
}
