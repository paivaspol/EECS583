static void
run_directive (pfile, dir_no, buf, count)
     cpp_reader *pfile;
     int dir_no;
     const char *buf;
     size_t count;
{
  cpp_push_buffer (pfile, (const U_CHAR *) buf, count,
		   /* from_stage3 */ true, 1);
  start_directive (pfile);
  /* We don't want a leading # to be interpreted as a directive.  */
  pfile->buffer->saved_flags = 0;
  pfile->directive = &dtable[dir_no];
  (void) (*pfile->directive->handler) (pfile);
  end_directive (pfile, 1);
  _cpp_pop_buffer (pfile);
}
