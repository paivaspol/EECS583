bool
function_attribute_inlinable_p (fndecl)
     tree fndecl;
{
  bool has_machine_attr = false;
  tree a;

  for (a = DECL_ATTRIBUTES (fndecl); a; a = TREE_CHAIN (a))
    {
      tree name = TREE_PURPOSE (a);
      int i;

      for (i = 0; targetm.attribute_table[i].name != NULL; i++)
	{
	  if (is_attribute_p (targetm.attribute_table[i].name, name))
	    {
	      has_machine_attr = true;
	      break;
	    }
	}
      if (has_machine_attr)
	break;
    }

  if (has_machine_attr)
    return (*targetm.function_attribute_inlinable_p) (fndecl);
  else
    return true;
}
