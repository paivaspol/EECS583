bool
set_named_section_flags (section, flags)
     const char *section;
     unsigned int flags;
{
  struct in_named_entry **slot, *entry;

  slot = (struct in_named_entry**)
    htab_find_slot_with_hash (in_named_htab, section,
			      htab_hash_string (section), INSERT);
  entry = *slot;

  if (!entry)
    {
      entry = (struct in_named_entry *) xmalloc (sizeof (*entry));
      *slot = entry;
      entry->name = ggc_strdup (section);
      entry->flags = flags;
      entry->declared = false;
    }
  else if (entry->flags != flags)
    return false;

  return true;
}
