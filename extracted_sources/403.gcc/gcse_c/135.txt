static void
replace_store_insn (reg, del, bb)
     rtx reg, del;
     basic_block bb;
{
  rtx insn;
  
  insn = gen_move_insn (reg, SET_SRC (PATTERN (del)));
  insn = emit_insn_after (insn, del);
  
  if (gcse_file)
    {
      fprintf (gcse_file, 
	       "STORE_MOTION  delete insn in BB %d:\n      ", bb->index);
      print_inline_rtx (gcse_file, del, 6);
      fprintf (gcse_file, "\nSTORE MOTION  replaced with insn:\n      ");
      print_inline_rtx (gcse_file, insn, 6);
      fprintf (gcse_file, "\n");
    }
  
  delete_insn (del);
}
