static rtx
expand_nl_handler_label (slot, before_insn)
     rtx slot, before_insn;
{
  rtx insns;
  rtx handler_label = gen_label_rtx ();

  /* Don't let cleanup_cfg delete the handler.  */
  LABEL_PRESERVE_P (handler_label) = 1;

  start_sequence ();
  emit_move_insn (slot, gen_rtx_LABEL_REF (Pmode, handler_label));
  insns = get_insns ();
  end_sequence ();
  emit_insns_before (insns, before_insn);

  emit_label (handler_label);

  return handler_label;
}
