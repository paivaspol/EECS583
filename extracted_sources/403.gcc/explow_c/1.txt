void
maybe_set_unchanging (ref, t)
     rtx ref;
     tree t;
{
  /* We can set RTX_UNCHANGING_P from TREE_READONLY for decls whose
     initialization is only executed once, or whose initializer always
     has the same value.  Currently we simplify this to PARM_DECLs in the
     first case, and decls with TREE_CONSTANT initializers in the second.  */
  if ((TREE_READONLY (t) && DECL_P (t)
       && (TREE_CODE (t) == PARM_DECL
	   || DECL_INITIAL (t) == NULL_TREE
	   || TREE_CONSTANT (DECL_INITIAL (t))))
      || TREE_CODE_CLASS (TREE_CODE (t)) == 'c')
    RTX_UNCHANGING_P (ref) = 1;
}
