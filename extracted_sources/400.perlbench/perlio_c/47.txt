int
PerlIO_has_base(PerlIO *f)
{
     if (PerlIOValid(f)) {
	  PerlIO_funcs *tab = PerlIOBase(f)->tab;

	  if (tab)
	       return (tab->Get_base != NULL);
	  SETERRNO(EINVAL, LIB_INVARG);
     }
     else
	  SETERRNO(EBADF, SS_IVCHAN);

     return 0;
}
