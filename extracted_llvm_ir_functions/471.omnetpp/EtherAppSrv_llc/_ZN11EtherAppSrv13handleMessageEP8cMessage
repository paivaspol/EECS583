define void @_ZN11EtherAppSrv13handleMessageEP8cMessage(%class.EtherAppSrv* %this, %class.cMessage* %msg) unnamed_addr #2 align 2 {
entry:
  %srcAddr = alloca %class.MACAddress, align 8
  %msgname = alloca [30 x i8], align 16
  call void @llvm.dbg.value(metadata !{%class.EtherAppSrv* %this}, i64 0, metadata !4552), !dbg !5220
  call void @llvm.dbg.value(metadata !{%class.cMessage* %msg}, i64 0, metadata !4553), !dbg !5220
  %0 = load i32* getelementptr inbounds (%class.cEnvir* @ev, i64 0, i32 1), align 8, !dbg !5221, !tbaa !5147
  %tobool = icmp eq i32 %0, 0, !dbg !5221
  br i1 %tobool, label %cond.false, label %cond.end, !dbg !5221

cond.false:                                       ; preds = %entry
  call void @llvm.dbg.value(metadata !5185, i64 0, metadata !5222), !dbg !5223
  call void @llvm.dbg.value(metadata !5224, i64 0, metadata !5225), !dbg !5223
  call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([18 x i8]* @.str4, i64 0, i64 0)) #10, !dbg !5226
  %namestr.i = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 0, i32 1, !dbg !5227
  %1 = load i8** %namestr.i, align 8, !dbg !5227, !tbaa !5167
  %tobool.i = icmp eq i8* %1, null, !dbg !5227
  %..i = select i1 %tobool.i, i8* getelementptr inbounds ([1 x i8]* @.str20, i64 0, i64 0), i8* %1, !dbg !5227
  call void @llvm.dbg.value(metadata !5185, i64 0, metadata !5222), !dbg !5223
  call void @llvm.dbg.value(metadata !{i8* %..i}, i64 0, metadata !5225), !dbg !5223
  call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* %..i) #10, !dbg !5226
  call void @llvm.dbg.value(metadata !5185, i64 0, metadata !5222), !dbg !5223
  call void @llvm.dbg.value(metadata !5229, i64 0, metadata !5225), !dbg !5223
  call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([3 x i8]* @.str5, i64 0, i64 0)) #10, !dbg !5226
  br label %cond.end, !dbg !5221

cond.end:                                         ; preds = %entry, %cond.false
  %packetsReceived = getelementptr inbounds %class.EtherAppSrv* %this, i64 0, i32 4, !dbg !5230
  %2 = load i64* %packetsReceived, align 8, !dbg !5230, !tbaa !5231
  %inc = add nsw i64 %2, 1, !dbg !5230
  store i64 %inc, i64* %packetsReceived, align 8, !dbg !5230, !tbaa !5231
  %3 = getelementptr inbounds %class.EtherAppSrv* %this, i64 0, i32 0, !dbg !5232
  %call5 = call double @_ZNK13cSimpleModule7simTimeEv(%class.cSimpleModule* %3) #10, !dbg !5232
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %msg}, i64 0, metadata !5233), !dbg !5234
  %created.i = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 13, !dbg !5235
  %4 = load double* %created.i, align 8, !dbg !5235, !tbaa !5237
  %sub = fsub double %call5, %4, !dbg !5232
  call void @llvm.dbg.value(metadata !{double %sub}, i64 0, metadata !4554), !dbg !5232
  %eedVector = getelementptr inbounds %class.EtherAppSrv* %this, i64 0, i32 5, !dbg !5238
  %call7 = call zeroext i1 @_ZN10cOutVector6recordEd(%class.cOutVector* %eedVector, double %sub) #10, !dbg !5238
  %eedStats = getelementptr inbounds %class.EtherAppSrv* %this, i64 0, i32 6, !dbg !5239
  call void @_ZN7cStdDev7collectEd(%class.cStdDev* %eedStats, double %sub) #10, !dbg !5239
  %5 = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 0, !dbg !5240
  %call8 = call %class.EtherAppReq* @_Z14check_and_castIP11EtherAppReqET_P7cObject(%class.cObject* %5) #10, !dbg !5240
  call void @llvm.dbg.value(metadata !{%class.EtherAppReq* %call8}, i64 0, metadata !4555), !dbg !5240
  %ctrlp.i = getelementptr inbounds %class.EtherAppReq* %call8, i64 0, i32 0, i32 1, !dbg !5241
  %6 = load %class.cPolymorphic** %ctrlp.i, align 8, !dbg !5241, !tbaa !5167
  tail call void @llvm.dbg.value(metadata !{%class.cPolymorphic* %6}, i64 0, metadata !5243), !dbg !5241
  store %class.cPolymorphic* null, %class.cPolymorphic** %ctrlp.i, align 8, !dbg !5241, !tbaa !5167
  %call10 = call %class.EtherCtrl* @_Z14check_and_castIP9EtherCtrlET_P12cPolymorphic(%class.cPolymorphic* %6) #10, !dbg !5242
  call void @llvm.dbg.value(metadata !{%class.EtherCtrl* %call10}, i64 0, metadata !4658), !dbg !5242
  call void @llvm.dbg.declare(metadata !{%class.MACAddress* %srcAddr}, metadata !4720), !dbg !5244
  %7 = bitcast %class.EtherCtrl* %call10 to %class.MACAddress* (%class.EtherCtrl*)***, !dbg !5244
  %vtable = load %class.MACAddress* (%class.EtherCtrl*)*** %7, align 8, !dbg !5244, !tbaa !5164
  %vfn = getelementptr inbounds %class.MACAddress* (%class.EtherCtrl*)** %vtable, i64 5, !dbg !5244
  %8 = load %class.MACAddress* (%class.EtherCtrl*)** %vfn, align 8, !dbg !5244
  %call11 = call %class.MACAddress* %8(%class.EtherCtrl* %call10) #10, !dbg !5244
  call void @llvm.dbg.value(metadata !{%class.MACAddress* %srcAddr}, i64 0, metadata !5245), !dbg !5246
  call void @llvm.dbg.value(metadata !{%class.MACAddress* %call11}, i64 0, metadata !5247), !dbg !5246
  call void @_ZN10MACAddressC2ERKS_(%class.MACAddress* %srcAddr, %class.MACAddress* %call11) #10, !dbg !5246
  %9 = bitcast %class.EtherAppReq* %call8 to i64 (%class.EtherAppReq*)***, !dbg !5248
  %vtable12 = load i64 (%class.EtherAppReq*)*** %9, align 8, !dbg !5248, !tbaa !5164
  %vfn13 = getelementptr inbounds i64 (%class.EtherAppReq*)** %vtable12, i64 19, !dbg !5248
  %10 = load i64 (%class.EtherAppReq*)** %vfn13, align 8, !dbg !5248
  %call14 = invoke i64 %10(%class.EtherAppReq* %call8) #10
          to label %invoke.cont unwind label %lpad.nonloopexit, !dbg !5248

invoke.cont:                                      ; preds = %cond.end
  call void @llvm.dbg.value(metadata !{i64 %call14}, i64 0, metadata !4721), !dbg !5248
  %vtable15 = load i64 (%class.EtherAppReq*)*** %9, align 8, !dbg !5249, !tbaa !5164
  %vfn16 = getelementptr inbounds i64 (%class.EtherAppReq*)** %vtable15, i64 21, !dbg !5249
  %11 = load i64 (%class.EtherAppReq*)** %vfn16, align 8, !dbg !5249
  %call18 = invoke i64 %11(%class.EtherAppReq* %call8) #10
          to label %invoke.cont17 unwind label %lpad.nonloopexit, !dbg !5249

invoke.cont17:                                    ; preds = %invoke.cont
  call void @llvm.dbg.value(metadata !{i64 %call18}, i64 0, metadata !4722), !dbg !5249
  call void @llvm.dbg.declare(metadata !{[30 x i8]* %msgname}, metadata !4723), !dbg !5250
  %arraydecay = getelementptr inbounds [30 x i8]* %msgname, i64 0, i64 0, !dbg !5251
  tail call void @llvm.dbg.value(metadata !{%class.cObject* %5}, i64 0, metadata !5252), !dbg !5253
  %namestr.i66 = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 0, i32 1, !dbg !5254
  %12 = load i8** %namestr.i66, align 8, !dbg !5254, !tbaa !5167
  %tobool.i67 = icmp eq i8* %12, null, !dbg !5254
  %..i68 = select i1 %tobool.i67, i8* getelementptr inbounds ([1 x i8]* @.str20, i64 0, i64 0), i8* %12, !dbg !5254
  %call21 = call i8* @strcpy(i8* %arraydecay, i8* %..i68) #11, !dbg !5251
  %isnull = icmp eq %class.cMessage* %msg, null, !dbg !5255
  br i1 %isnull, label %delete.end, label %delete.notnull, !dbg !5255

delete.notnull:                                   ; preds = %invoke.cont17
  %13 = bitcast %class.cMessage* %msg to void (%class.cMessage*)***, !dbg !5255
  %vtable22 = load void (%class.cMessage*)*** %13, align 8, !dbg !5255, !tbaa !5164
  %vfn23 = getelementptr inbounds void (%class.cMessage*)** %vtable22, i64 1, !dbg !5255
  %14 = load void (%class.cMessage*)** %vfn23, align 8, !dbg !5255
  invoke void %14(%class.cMessage* %msg) #10
          to label %delete.end unwind label %lpad.nonloopexit, !dbg !5255

delete.end:                                       ; preds = %delete.notnull, %invoke.cont17
  %isnull25 = icmp eq %class.EtherCtrl* %call10, null, !dbg !5256
  br i1 %isnull25, label %while.cond.preheader, label %delete.notnull26, !dbg !5256

delete.notnull26:                                 ; preds = %delete.end
  %15 = bitcast %class.EtherCtrl* %call10 to void (%class.EtherCtrl*)***, !dbg !5256
  %vtable27 = load void (%class.EtherCtrl*)*** %15, align 8, !dbg !5256, !tbaa !5164
  %vfn28 = getelementptr inbounds void (%class.EtherCtrl*)** %vtable27, i64 1, !dbg !5256
  %16 = load void (%class.EtherCtrl*)** %vfn28, align 8, !dbg !5256
  invoke void %16(%class.EtherCtrl* %call10) #10
          to label %while.cond.preheader unwind label %lpad.nonloopexit, !dbg !5256

while.cond.preheader:                             ; preds = %delete.notnull26, %delete.end
  %cmp71 = icmp sgt i64 %call18, 0, !dbg !5257
  br i1 %cmp71, label %while.body.lr.ph, label %while.end, !dbg !5257

while.body.lr.ph:                                 ; preds = %while.cond.preheader
  %conv43 = trunc i64 %call14 to i32, !dbg !5258
  %packetsSent = getelementptr inbounds %class.EtherAppSrv* %this, i64 0, i32 3, !dbg !5259
  br label %while.body, !dbg !5257

while.body:                                       ; preds = %while.body.lr.ph, %invoke.cont47
  %replyBytes.072 = phi i64 [ %call18, %while.body.lr.ph ], [ %sub36, %invoke.cont47 ]
  %cmp31 = icmp sgt i64 %replyBytes.072, 1497, !dbg !5260
  %17 = trunc i64 %replyBytes.072 to i32, !dbg !5260
  %conv = select i1 %cmp31, i32 1497, i32 %17, !dbg !5260
  call void @llvm.dbg.value(metadata !{i32 %conv}, i64 0, metadata !4728), !dbg !5260
  %conv35 = sext i32 %conv to i64, !dbg !5261
  %sub36 = sub nsw i64 %replyBytes.072, %conv35, !dbg !5261
  call void @llvm.dbg.value(metadata !{i64 %sub36}, i64 0, metadata !4722), !dbg !5261
  %call38 = invoke i8* @_ZN7cObjectnwEm(i64 184) #10
          to label %invoke.cont37 unwind label %lpad.loopexit, !dbg !5262

invoke.cont37:                                    ; preds = %while.body
  %18 = bitcast i8* %call38 to %class.EtherAppResp*, !dbg !5262
  invoke void @_ZN12EtherAppRespC1EPKci(%class.EtherAppResp* %18, i8* null, i32 2003) #10
          to label %invoke.cont40 unwind label %lpad39, !dbg !5262

invoke.cont40:                                    ; preds = %invoke.cont37
  call void @llvm.dbg.value(metadata !{%class.EtherAppResp* %18}, i64 0, metadata !4730), !dbg !5262
  %19 = bitcast i8* %call38 to void (%class.EtherAppResp*, i32)***, !dbg !5258
  %vtable41 = load void (%class.EtherAppResp*, i32)*** %19, align 8, !dbg !5258, !tbaa !5164
  %vfn42 = getelementptr inbounds void (%class.EtherAppResp*, i32)** %vtable41, i64 20, !dbg !5258
  %20 = load void (%class.EtherAppResp*, i32)** %vfn42, align 8, !dbg !5258
  invoke void %20(%class.EtherAppResp* %18, i32 %conv43) #10
          to label %invoke.cont44 unwind label %lpad.loopexit, !dbg !5258

invoke.cont44:                                    ; preds = %invoke.cont40
  %21 = bitcast i8* %call38 to %class.cMessage*, !dbg !5263
  %mul = shl nsw i32 %conv, 3, !dbg !5263
  %conv45 = sext i32 %mul to i64, !dbg !5263
  invoke void @_ZN8cMessage9setLengthEl(%class.cMessage* %21, i64 %conv45) #10
          to label %invoke.cont46 unwind label %lpad.loopexit, !dbg !5263

invoke.cont46:                                    ; preds = %invoke.cont44
  invoke void @_ZN11EtherAppSrv10sendPacketEP8cMessageRK10MACAddress(%class.EtherAppSrv* %this, %class.cMessage* %21, %class.MACAddress* %srcAddr) #10
          to label %invoke.cont47 unwind label %lpad.loopexit, !dbg !5264

invoke.cont47:                                    ; preds = %invoke.cont46
  %22 = load i64* %packetsSent, align 8, !dbg !5259, !tbaa !5231
  %inc48 = add nsw i64 %22, 1, !dbg !5259
  store i64 %inc48, i64* %packetsSent, align 8, !dbg !5259, !tbaa !5231
  %cmp = icmp sgt i64 %sub36, 0, !dbg !5257
  br i1 %cmp, label %while.body, label %while.end, !dbg !5257

lpad.loopexit:                                    ; preds = %while.body, %invoke.cont40, %invoke.cont44, %invoke.cont46
  %lpad.loopexit69 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          cleanup, !dbg !5248
  br label %lpad

lpad.nonloopexit:                                 ; preds = %cond.end, %invoke.cont, %delete.notnull, %delete.notnull26
  %lpad.nonloopexit70 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          cleanup, !dbg !5248
  br label %lpad

lpad:                                             ; preds = %lpad.nonloopexit, %lpad.loopexit
  %lpad.phi = phi { i8*, i32 } [ %lpad.loopexit69, %lpad.loopexit ], [ %lpad.nonloopexit70, %lpad.nonloopexit ]
  %23 = extractvalue { i8*, i32 } %lpad.phi, 0, !dbg !5248
  %24 = extractvalue { i8*, i32 } %lpad.phi, 1, !dbg !5248
  br label %ehcleanup, !dbg !5248

lpad39:                                           ; preds = %invoke.cont37
  %25 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          cleanup, !dbg !5262
  %26 = extractvalue { i8*, i32 } %25, 0, !dbg !5262
  %27 = extractvalue { i8*, i32 } %25, 1, !dbg !5262
  call void @_ZdlPv(i8* %call38) #11, !dbg !5262
  br label %ehcleanup, !dbg !5262

while.end:                                        ; preds = %invoke.cont47, %while.cond.preheader
  call void @llvm.dbg.value(metadata !{%class.MACAddress* %srcAddr}, i64 0, metadata !5265), !dbg !5267
  call void @llvm.dbg.value(metadata !{%class.MACAddress* %srcAddr}, i64 0, metadata !5268), !dbg !5271
  %28 = getelementptr inbounds %class.MACAddress* %srcAddr, i64 0, i32 0, !dbg !5272
  call void @_ZN15MACAddress_BaseD2Ev(%class.MACAddress_Base* %28) #10, !dbg !5272
  ret void, !dbg !5266

ehcleanup:                                        ; preds = %lpad39, %lpad
  %ehselector.slot.0 = phi i32 [ %24, %lpad ], [ %27, %lpad39 ]
  %exn.slot.0 = phi i8* [ %23, %lpad ], [ %26, %lpad39 ]
  call void @llvm.dbg.value(metadata !{%class.MACAddress* %srcAddr}, i64 0, metadata !5265), !dbg !5267
  call void @llvm.dbg.value(metadata !{%class.MACAddress* %srcAddr}, i64 0, metadata !5268), !dbg !5271
  %29 = getelementptr inbounds %class.MACAddress* %srcAddr, i64 0, i32 0, !dbg !5272
  invoke void @_ZN15MACAddress_BaseD2Ev(%class.MACAddress_Base* %29) #10
          to label %eh.resume unwind label %terminate.lpad

eh.resume:                                        ; preds = %ehcleanup
  %lpad.val = insertvalue { i8*, i32 } undef, i8* %exn.slot.0, 0, !dbg !5266
  %lpad.val51 = insertvalue { i8*, i32 } %lpad.val, i32 %ehselector.slot.0, 1, !dbg !5266
  resume { i8*, i32 } %lpad.val51, !dbg !5266

terminate.lpad:                                   ; preds = %ehcleanup
  %30 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          catch i8* null, !dbg !5266
  %31 = extractvalue { i8*, i32 } %30, 0, !dbg !5266
  call void @__clang_call_terminate(i8* %31) #12, !dbg !5266
  unreachable, !dbg !5266
}
