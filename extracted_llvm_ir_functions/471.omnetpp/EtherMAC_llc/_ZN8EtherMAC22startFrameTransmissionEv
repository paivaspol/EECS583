define void @_ZN8EtherMAC22startFrameTransmissionEv(%class.EtherMAC* %this) #2 align 2 {
entry:
  tail call void @llvm.dbg.value(metadata !{%class.EtherMAC* %this}, i64 0, metadata !4928), !dbg !6629
  %outputbuffer = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 24, !dbg !6630
  %call = tail call %class.cObject* @_ZNK6cQueue4tailEv(%class.cQueue* %outputbuffer) #11, !dbg !6630
  %0 = bitcast %class.cObject* %call to %class.cMessage*, !dbg !6630
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %0}, i64 0, metadata !4929), !dbg !6630
  %1 = load i32* getelementptr inbounds (%class.cEnvir* @ev, i64 0, i32 1), align 8, !dbg !6631, !tbaa !5376
  %tobool = icmp eq i32 %1, 0, !dbg !6631
  br i1 %tobool, label %cond.false, label %cond.end, !dbg !6631

cond.false:                                       ; preds = %entry
  tail call void @llvm.dbg.value(metadata !5402, i64 0, metadata !6632), !dbg !6633
  tail call void @llvm.dbg.value(metadata !6634, i64 0, metadata !6635), !dbg !6633
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([30 x i8]* @.str105, i64 0, i64 0)) #11, !dbg !6636
  tail call void @llvm.dbg.value(metadata !5402, i64 0, metadata !6637), !dbg !6638
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %0}, i64 0, metadata !6639), !dbg !6638
  %2 = bitcast %class.cObject* %call to i8* (%class.cObject*)***, !dbg !6640
  %vtable.i = load i8* (%class.cObject*)*** %2, align 8, !dbg !6640, !tbaa !5419
  %vfn.i = getelementptr inbounds i8* (%class.cObject*)** %vtable.i, i64 7, !dbg !6640
  %3 = load i8* (%class.cObject*)** %vfn.i, align 8, !dbg !6640
  %call.i = tail call i8* %3(%class.cObject* %call) #11, !dbg !6640
  %vtable1.i = load i8* (%class.cObject*)*** %2, align 8, !dbg !6640, !tbaa !5419
  %vfn2.i = getelementptr inbounds i8* (%class.cObject*)** %vtable1.i, i64 3, !dbg !6640
  %4 = load i8* (%class.cObject*)** %vfn2.i, align 8, !dbg !6640
  %call3.i = tail call i8* %4(%class.cObject* %call) #11, !dbg !6640
  tail call void (%class.cEnvir*, i8*, ...)* @_ZN6cEnvir6printfEPKcz(%class.cEnvir* @ev, i8* getelementptr inbounds ([7 x i8]* @.str175, i64 0, i64 0), i8* %call.i, i8* %call3.i) #11, !dbg !6640
  tail call void @llvm.dbg.value(metadata !5402, i64 0, metadata !6641), !dbg !6642
  tail call void @llvm.dbg.value(metadata !5705, i64 0, metadata !6643), !dbg !6642
  tail call void @llvm.dbg.value(metadata !5402, i64 0, metadata !6644), !dbg !6646
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([2 x i8]* @.str67, i64 0, i64 0)) #11, !dbg !6646
  br label %cond.end, !dbg !6631

cond.end:                                         ; preds = %entry, %cond.false
  %5 = bitcast %class.cObject* %call to %class.cObject* (%class.cMessage*)***, !dbg !6647
  %vtable = load %class.cObject* (%class.cMessage*)*** %5, align 8, !dbg !6647, !tbaa !5419
  %vfn = getelementptr inbounds %class.cObject* (%class.cMessage*)** %vtable, i64 2, !dbg !6647
  %6 = load %class.cObject* (%class.cMessage*)** %vfn, align 8, !dbg !6647
  %call5 = tail call %class.cObject* %6(%class.cMessage* %0) #11, !dbg !6647
  %7 = bitcast %class.cObject* %call5 to %class.cMessage*, !dbg !6647
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %7}, i64 0, metadata !4930), !dbg !6647
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %7}, i64 0, metadata !6648), !dbg !6650
  %len.i = getelementptr inbounds %class.cObject* %call5, i64 1, i32 1, !dbg !6650
  %8 = bitcast i8** %len.i to i64*, !dbg !6650
  %9 = load i64* %8, align 8, !dbg !6650, !tbaa !5932
  %add7 = add nsw i64 %9, 64, !dbg !6649
  tail call void @_ZN8cMessage9setLengthEl(%class.cMessage* %7, i64 %add7) #11, !dbg !6649
  %10 = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 0, !dbg !6651
  %call8 = tail call i32 @_ZN13cSimpleModule4sendEP8cMessagePKci(%class.cSimpleModule* %10, %class.cMessage* %7, i8* getelementptr inbounds ([12 x i8]* @.str12, i64 0, i64 0), i32 -1) #11, !dbg !6651
  %frameBursting = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 6, !dbg !6652
  %11 = load i8* %frameBursting, align 1, !dbg !6652, !tbaa !5393, !range !5425
  %tobool9 = icmp eq i8 %11, 0, !dbg !6652
  br i1 %tobool9, label %if.end, label %if.then, !dbg !6652

if.then:                                          ; preds = %cond.end
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %7}, i64 0, metadata !6653), !dbg !6656
  %12 = load i64* %8, align 8, !dbg !6656, !tbaa !5932
  %div = sdiv i64 %12, 8, !dbg !6654
  %conv = trunc i64 %div to i32, !dbg !6654
  %bytesSentInBurst = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 20, !dbg !6654
  store i32 %conv, i32* %bytesSentInBurst, align 4, !dbg !6654, !tbaa !5376
  %framesSentInBurst = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 19, !dbg !6657
  %13 = load i32* %framesSentInBurst, align 4, !dbg !6657, !tbaa !5376
  %inc = add nsw i32 %13, 1, !dbg !6657
  store i32 %inc, i32* %framesSentInBurst, align 4, !dbg !6657, !tbaa !5376
  br label %if.end, !dbg !6658

if.end:                                           ; preds = %cond.end, %if.then
  %duplexMode = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 4, !dbg !6659
  %14 = load i8* %duplexMode, align 1, !dbg !6659, !tbaa !5393, !range !5425
  %tobool11 = icmp eq i8 %14, 0, !dbg !6659
  br i1 %tobool11, label %land.lhs.true, label %if.else, !dbg !6659

land.lhs.true:                                    ; preds = %if.end
  %receiveState = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 18, !dbg !6659
  %15 = load i32* %receiveState, align 4, !dbg !6659, !tbaa !5376
  %cmp = icmp eq i32 %15, 1, !dbg !6659
  br i1 %cmp, label %if.else, label %if.then12, !dbg !6659

if.then12:                                        ; preds = %land.lhs.true
  tail call void @_ZN8EtherMAC13sendJamSignalEv(%class.EtherMAC* %this) #11, !dbg !6660
  %16 = load i32* %receiveState, align 4, !dbg !6662, !tbaa !5376
  %cmp14 = icmp eq i32 %16, 2, !dbg !6662
  br i1 %cmp14, label %if.then15, label %if.end23, !dbg !6662

if.then15:                                        ; preds = %if.then12
  %frameBeingReceived = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 25, !dbg !6663
  %17 = load %class.EtherFrame** %frameBeingReceived, align 8, !dbg !6663, !tbaa !5362
  %isnull = icmp eq %class.EtherFrame* %17, null, !dbg !6663
  br i1 %isnull, label %delete.end, label %delete.notnull, !dbg !6663

delete.notnull:                                   ; preds = %if.then15
  %18 = bitcast %class.EtherFrame* %17 to void (%class.EtherFrame*)***, !dbg !6663
  %vtable16 = load void (%class.EtherFrame*)*** %18, align 8, !dbg !6663, !tbaa !5419
  %vfn17 = getelementptr inbounds void (%class.EtherFrame*)** %vtable16, i64 1, !dbg !6663
  %19 = load void (%class.EtherFrame*)** %vfn17, align 8, !dbg !6663
  tail call void %19(%class.EtherFrame* %17) #11, !dbg !6663
  br label %delete.end, !dbg !6663

delete.end:                                       ; preds = %delete.notnull, %if.then15
  store %class.EtherFrame* null, %class.EtherFrame** %frameBeingReceived, align 8, !dbg !6665, !tbaa !5362
  %numCollisions = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 46, !dbg !6666
  %20 = load i64* %numCollisions, align 8, !dbg !6666, !tbaa !5932
  %inc19 = add i64 %20, 1, !dbg !6666
  store i64 %inc19, i64* %numCollisions, align 8, !dbg !6666, !tbaa !5932
  %numCollisionsVector = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 58, !dbg !6667
  %conv21 = uitofp i64 %inc19 to double, !dbg !6667
  %call22 = tail call zeroext i1 @_ZN10cOutVector6recordEd(%class.cOutVector* %numCollisionsVector, double %conv21) #11, !dbg !6667
  br label %if.end23, !dbg !6668

if.end23:                                         ; preds = %delete.end, %if.then12
  store i32 3, i32* %receiveState, align 4, !dbg !6669, !tbaa !5376
  br label %if.end30, !dbg !6670

if.else:                                          ; preds = %land.lhs.true, %if.end
  tail call void @llvm.dbg.value(metadata !{%class.EtherMAC* %this}, i64 0, metadata !6671), !dbg !6674
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %7}, i64 0, metadata !6675), !dbg !6674
  %call.i38 = tail call double @_ZNK13cSimpleModule7simTimeEv(%class.cSimpleModule* %10) #11, !dbg !6676
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %7}, i64 0, metadata !6677), !dbg !6678
  %21 = load i64* %8, align 8, !dbg !6678, !tbaa !5932
  %conv.i = sitofp i64 %21 to double, !dbg !6676
  %bitTime.i = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 9, !dbg !6676
  %22 = load double* %bitTime.i, align 8, !dbg !6676, !tbaa !5436
  %mul.i = fmul double %conv.i, %22, !dbg !6676
  %add.i = fadd double %call.i38, %mul.i, !dbg !6676
  %endTxMsg.i = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 26, !dbg !6676
  %23 = load %class.cMessage** %endTxMsg.i, align 8, !dbg !6676, !tbaa !5362
  %call3.i39 = tail call i32 @_ZN13cSimpleModule10scheduleAtEdP8cMessage(%class.cSimpleModule* %10, double %add.i, %class.cMessage* %23) #11, !dbg !6676
  %transmitState.i = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 17, !dbg !6679
  store i32 3, i32* %transmitState.i, align 4, !dbg !6679, !tbaa !5376
  %24 = load i8* %duplexMode, align 1, !dbg !6680, !tbaa !5393, !range !5425
  %tobool26 = icmp eq i8 %24, 0, !dbg !6680
  br i1 %tobool26, label %if.then27, label %if.end30, !dbg !6680

if.then27:                                        ; preds = %if.else
  %call28 = tail call double @_ZNK13cSimpleModule7simTimeEv(%class.cSimpleModule* %10) #11, !dbg !6681
  %channelBusySince = getelementptr inbounds %class.EtherMAC* %this, i64 0, i32 34, !dbg !6681
  store double %call28, double* %channelBusySince, align 8, !dbg !6681, !tbaa !5436
  br label %if.end30, !dbg !6681

if.end30:                                         ; preds = %if.else, %if.then27, %if.end23
  ret void, !dbg !6682
}
