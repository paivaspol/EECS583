define void @_ZN10EtherEncap28processPacketFromHigherLayerEP8cMessage(%class.EtherEncap* %this, %class.cMessage* %msg) unnamed_addr #2 align 2 {
entry:
  tail call void @llvm.dbg.value(metadata !{%class.EtherEncap* %this}, i64 0, metadata !4284), !dbg !4899
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %msg}, i64 0, metadata !4285), !dbg !4899
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %msg}, i64 0, metadata !4900), !dbg !4902
  %len.i = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 3, !dbg !4903
  %0 = load i64* %len.i, align 8, !dbg !4903, !tbaa !4905
  %cmp = icmp sgt i64 %0, 12000, !dbg !4901
  br i1 %cmp, label %if.then, label %if.end, !dbg !4901

if.then:                                          ; preds = %entry
  %1 = getelementptr inbounds %class.EtherEncap* %this, i64 0, i32 0, !dbg !4906
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %msg}, i64 0, metadata !4907), !dbg !4908
  %div = sdiv i64 %0, 8, !dbg !4906
  tail call void (%class.cSimpleModule*, i8*, ...)* @_ZNK13cSimpleModule5errorEPKcz(%class.cSimpleModule* %1, i8* getelementptr inbounds ([81 x i8]* @.str7, i64 0, i64 0), i64 %div, i32 1500) #9, !dbg !4906
  br label %if.end, !dbg !4906

if.end:                                           ; preds = %if.then, %entry
  %totalFromHigherLayer = getelementptr inbounds %class.EtherEncap* %this, i64 0, i32 2, !dbg !4909
  %2 = load i64* %totalFromHigherLayer, align 8, !dbg !4909, !tbaa !4905
  %inc = add nsw i64 %2, 1, !dbg !4909
  store i64 %inc, i64* %totalFromHigherLayer, align 8, !dbg !4909, !tbaa !4905
  %3 = load i32* getelementptr inbounds (%class.cEnvir* @ev, i64 0, i32 1), align 8, !dbg !4910, !tbaa !4820
  %tobool = icmp eq i32 %3, 0, !dbg !4910
  br i1 %tobool, label %cond.end, label %if.end.cond.end22_crit_edge, !dbg !4910

if.end.cond.end22_crit_edge:                      ; preds = %if.end
  %namestr.i73.pre = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 0, i32 1, !dbg !4911
  br label %cond.end22, !dbg !4910

cond.end:                                         ; preds = %if.end
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4914), !dbg !4915
  tail call void @llvm.dbg.value(metadata !4916, i64 0, metadata !4917), !dbg !4915
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([36 x i8]* @.str8, i64 0, i64 0)) #9, !dbg !4918
  %namestr.i = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 0, i32 1, !dbg !4919
  %4 = load i8** %namestr.i, align 8, !dbg !4919, !tbaa !4834
  %tobool.i = icmp eq i8* %4, null, !dbg !4919
  %..i = select i1 %tobool.i, i8* getelementptr inbounds ([1 x i8]* @.str29, i64 0, i64 0), i8* %4, !dbg !4919
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4914), !dbg !4915
  tail call void @llvm.dbg.value(metadata !{i8* %..i}, i64 0, metadata !4917), !dbg !4915
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* %..i) #9, !dbg !4918
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4914), !dbg !4915
  tail call void @llvm.dbg.value(metadata !4920, i64 0, metadata !4917), !dbg !4915
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([11 x i8]* @.str9, i64 0, i64 0)) #9, !dbg !4918
  %.pr = load i32* getelementptr inbounds (%class.cEnvir* @ev, i64 0, i32 1), align 8, !dbg !4921, !tbaa !4820
  %tobool7 = icmp eq i32 %.pr, 0, !dbg !4921
  br i1 %tobool7, label %cond.false9, label %cond.end22, !dbg !4921

cond.false9:                                      ; preds = %cond.end
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4922), !dbg !4923
  tail call void @llvm.dbg.value(metadata !4924, i64 0, metadata !4925), !dbg !4923
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([11 x i8]* @.str10, i64 0, i64 0)) #9, !dbg !4926
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %msg}, i64 0, metadata !4927), !dbg !4928
  %frommod.i = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 9, !dbg !4928
  %5 = load i32* %frommod.i, align 4, !dbg !4928, !tbaa !4820
  tail call void @llvm.dbg.value(metadata !4929, i64 0, metadata !4930), !dbg !4931
  tail call void @llvm.dbg.value(metadata !{i32 %5}, i64 0, metadata !4932), !dbg !4931
  %idxprom.i = sext i32 %5 to i64, !dbg !4933
  %6 = load %class.cModule*** getelementptr inbounds (%class.cSimulation* @simulation, i64 0, i32 3), align 8, !dbg !4933, !tbaa !4834
  %arrayidx.i = getelementptr inbounds %class.cModule** %6, i64 %idxprom.i, !dbg !4933
  %7 = load %class.cModule** %arrayidx.i, align 8, !dbg !4933, !tbaa !4834
  %8 = bitcast %class.cModule* %7 to i8* (%class.cModule*)***, !dbg !4921
  %vtable = load i8* (%class.cModule*)*** %8, align 8, !dbg !4921, !tbaa !4831
  %vfn = getelementptr inbounds i8* (%class.cModule*)** %vtable, i64 4, !dbg !4921
  %9 = load i8* (%class.cModule*)** %vfn, align 8, !dbg !4921
  %call13 = tail call i8* %9(%class.cModule* %7) #9, !dbg !4921
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4922), !dbg !4923
  tail call void @llvm.dbg.value(metadata !{i8* %call13}, i64 0, metadata !4925), !dbg !4923
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* %call13) #9, !dbg !4926
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4922), !dbg !4923
  tail call void @llvm.dbg.value(metadata !4935, i64 0, metadata !4925), !dbg !4923
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([5 x i8]* @.str11, i64 0, i64 0)) #9, !dbg !4926
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %msg}, i64 0, metadata !4936), !dbg !4937
  %sent.i = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 14, !dbg !4937
  %10 = load double* %sent.i, align 8, !dbg !4937, !tbaa !4938
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4939), !dbg !4940
  tail call void @llvm.dbg.value(metadata !{double %10}, i64 0, metadata !4941), !dbg !4940
  tail call void (%class.cEnvir*, i8*, ...)* @_ZN6cEnvir6printfEPKcz(%class.cEnvir* @ev, i8* getelementptr inbounds ([3 x i8]* @.str28, i64 0, i64 0), double %10) #9, !dbg !4942
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4922), !dbg !4923
  tail call void @llvm.dbg.value(metadata !4944, i64 0, metadata !4925), !dbg !4923
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([18 x i8]* @.str12, i64 0, i64 0)) #9, !dbg !4926
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %msg}, i64 0, metadata !4945), !dbg !4946
  %created.i = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 13, !dbg !4947
  %11 = load double* %created.i, align 8, !dbg !4947, !tbaa !4938
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4939), !dbg !4940
  tail call void @llvm.dbg.value(metadata !{double %11}, i64 0, metadata !4941), !dbg !4940
  tail call void (%class.cEnvir*, i8*, ...)* @_ZN6cEnvir6printfEPKcz(%class.cEnvir* @ev, i8* getelementptr inbounds ([3 x i8]* @.str28, i64 0, i64 0), double %11) #9, !dbg !4942
  tail call void @llvm.dbg.value(metadata !4913, i64 0, metadata !4922), !dbg !4923
  tail call void @llvm.dbg.value(metadata !4949, i64 0, metadata !4925), !dbg !4923
  tail call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([2 x i8]* @.str13, i64 0, i64 0)) #9, !dbg !4926
  br label %cond.end22, !dbg !4921

cond.end22:                                       ; preds = %if.end.cond.end22_crit_edge, %cond.end, %cond.false9
  %namestr.i73.pre-phi = phi i8** [ %namestr.i73.pre, %if.end.cond.end22_crit_edge ], [ %namestr.i, %cond.end ], [ %namestr.i, %cond.false9 ], !dbg !4911
  %12 = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 0, !dbg !4950
  %call24 = tail call %class.cMessage30* @_Z14check_and_castIP10cMessage30ET_P7cObject(%class.cObject* %12) #9, !dbg !4950
  tail call void @llvm.dbg.value(metadata !{%class.cMessage30* %call24}, i64 0, metadata !4951), !dbg !4952
  %ctrlp.i = getelementptr inbounds %class.cMessage30* %call24, i64 0, i32 1, !dbg !4952
  %13 = load %class.cPolymorphic** %ctrlp.i, align 8, !dbg !4952, !tbaa !4834
  tail call void @llvm.dbg.value(metadata !{%class.cPolymorphic* %13}, i64 0, metadata !4953), !dbg !4952
  store %class.cPolymorphic* null, %class.cPolymorphic** %ctrlp.i, align 8, !dbg !4952, !tbaa !4834
  %call26 = tail call %class.EtherCtrl* @_Z14check_and_castIP9EtherCtrlET_P12cPolymorphic(%class.cPolymorphic* %13) #9, !dbg !4950
  tail call void @llvm.dbg.value(metadata !{%class.EtherCtrl* %call26}, i64 0, metadata !4286), !dbg !4950
  %call27 = tail call i8* @_ZN7cObjectnwEm(i64 208) #9, !dbg !4912
  %14 = bitcast i8* %call27 to %class.EthernetIIFrame*, !dbg !4912
  tail call void @llvm.dbg.value(metadata !{%class.cObject* %12}, i64 0, metadata !4954), !dbg !4955
  %15 = load i8** %namestr.i73.pre-phi, align 8, !dbg !4911, !tbaa !4834
  %tobool.i74 = icmp eq i8* %15, null, !dbg !4911
  %..i75 = select i1 %tobool.i74, i8* getelementptr inbounds ([1 x i8]* @.str29, i64 0, i64 0), i8* %15, !dbg !4911
  invoke void @_ZN15EthernetIIFrameC1EPKci(%class.EthernetIIFrame* %14, i8* %..i75, i32 2001) #9
          to label %invoke.cont29 unwind label %lpad, !dbg !4912

invoke.cont29:                                    ; preds = %cond.end22
  tail call void @llvm.dbg.value(metadata !{%class.EthernetIIFrame* %14}, i64 0, metadata !4368), !dbg !4912
  %16 = bitcast i8* %call27 to %class.EtherFrame*, !dbg !4956
  %17 = bitcast i8* %call27 to void (%class.EtherFrame*, %class.MACAddress*)***, !dbg !4956
  %vtable30 = load void (%class.EtherFrame*, %class.MACAddress*)*** %17, align 8, !dbg !4956, !tbaa !4831
  %vfn31 = getelementptr inbounds void (%class.EtherFrame*, %class.MACAddress*)** %vtable30, i64 22, !dbg !4956
  %18 = load void (%class.EtherFrame*, %class.MACAddress*)** %vfn31, align 8, !dbg !4956
  %19 = bitcast %class.EtherCtrl* %call26 to %class.MACAddress* (%class.EtherCtrl*)***, !dbg !4956
  %vtable32 = load %class.MACAddress* (%class.EtherCtrl*)*** %19, align 8, !dbg !4956, !tbaa !4831
  %vfn33 = getelementptr inbounds %class.MACAddress* (%class.EtherCtrl*)** %vtable32, i64 5, !dbg !4956
  %20 = load %class.MACAddress* (%class.EtherCtrl*)** %vfn33, align 8, !dbg !4956
  %call34 = tail call %class.MACAddress* %20(%class.EtherCtrl* %call26) #9, !dbg !4956
  tail call void %18(%class.EtherFrame* %16, %class.MACAddress* %call34) #9, !dbg !4956
  %vtable35 = load void (%class.EtherFrame*, %class.MACAddress*)*** %17, align 8, !dbg !4957, !tbaa !4831
  %vfn36 = getelementptr inbounds void (%class.EtherFrame*, %class.MACAddress*)** %vtable35, i64 20, !dbg !4957
  %21 = load void (%class.EtherFrame*, %class.MACAddress*)** %vfn36, align 8, !dbg !4957
  %vtable37 = load %class.MACAddress* (%class.EtherCtrl*)*** %19, align 8, !dbg !4957, !tbaa !4831
  %vfn38 = getelementptr inbounds %class.MACAddress* (%class.EtherCtrl*)** %vtable37, i64 7, !dbg !4957
  %22 = load %class.MACAddress* (%class.EtherCtrl*)** %vfn38, align 8, !dbg !4957
  %call39 = tail call %class.MACAddress* %22(%class.EtherCtrl* %call26) #9, !dbg !4957
  tail call void %21(%class.EtherFrame* %16, %class.MACAddress* %call39) #9, !dbg !4957
  %23 = bitcast i8* %call27 to void (%class.EthernetIIFrame*, i32)***, !dbg !4958
  %vtable40 = load void (%class.EthernetIIFrame*, i32)*** %23, align 8, !dbg !4958, !tbaa !4831
  %vfn41 = getelementptr inbounds void (%class.EthernetIIFrame*, i32)** %vtable40, i64 24, !dbg !4958
  %24 = load void (%class.EthernetIIFrame*, i32)** %vfn41, align 8, !dbg !4958
  %25 = bitcast %class.EtherCtrl* %call26 to i32 (%class.EtherCtrl*)***, !dbg !4958
  %vtable42 = load i32 (%class.EtherCtrl*)*** %25, align 8, !dbg !4958, !tbaa !4831
  %vfn43 = getelementptr inbounds i32 (%class.EtherCtrl*)** %vtable42, i64 9, !dbg !4958
  %26 = load i32 (%class.EtherCtrl*)** %vfn43, align 8, !dbg !4958
  %call44 = tail call i32 %26(%class.EtherCtrl* %call26) #9, !dbg !4958
  tail call void %24(%class.EthernetIIFrame* %14, i32 %call44) #9, !dbg !4958
  %27 = bitcast i8* %call27 to %class.cMessage*, !dbg !4959
  tail call void @_ZN8cMessage9setLengthEl(%class.cMessage* %27, i64 144) #9, !dbg !4959
  %isnull = icmp eq %class.EtherCtrl* %call26, null, !dbg !4960
  br i1 %isnull, label %delete.end, label %delete.notnull, !dbg !4960

delete.notnull:                                   ; preds = %invoke.cont29
  %28 = bitcast %class.EtherCtrl* %call26 to void (%class.EtherCtrl*)***, !dbg !4960
  %vtable45 = load void (%class.EtherCtrl*)*** %28, align 8, !dbg !4960, !tbaa !4831
  %vfn46 = getelementptr inbounds void (%class.EtherCtrl*)** %vtable45, i64 1, !dbg !4960
  %29 = load void (%class.EtherCtrl*)** %vfn46, align 8, !dbg !4960
  tail call void %29(%class.EtherCtrl* %call26) #9, !dbg !4960
  br label %delete.end, !dbg !4960

delete.end:                                       ; preds = %delete.notnull, %invoke.cont29
  tail call void @_ZN8cMessage11encapsulateEPS_(%class.cMessage* %27, %class.cMessage* %msg) #9, !dbg !4961
  tail call void @llvm.dbg.value(metadata !{%class.cMessage* %27}, i64 0, metadata !4962), !dbg !4964
  %len.i71 = getelementptr inbounds i8* %call27, i64 64, !dbg !4965
  %30 = bitcast i8* %len.i71 to i64*, !dbg !4965
  %31 = load i64* %30, align 8, !dbg !4965, !tbaa !4905
  %cmp48 = icmp slt i64 %31, 512, !dbg !4963
  br i1 %cmp48, label %if.then49, label %if.end50, !dbg !4963

if.then49:                                        ; preds = %delete.end
  tail call void @_ZN8cMessage9setLengthEl(%class.cMessage* %27, i64 512) #9, !dbg !4966
  br label %if.end50, !dbg !4966

lpad:                                             ; preds = %cond.end22
  %32 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          cleanup, !dbg !4912
  tail call void @_ZdlPv(i8* %call27) #10, !dbg !4912
  resume { i8*, i32 } %32, !dbg !4912

if.end50:                                         ; preds = %if.then49, %delete.end
  %33 = getelementptr inbounds %class.EtherEncap* %this, i64 0, i32 0, !dbg !4967
  %call51 = tail call i32 @_ZN13cSimpleModule4sendEP8cMessagePKci(%class.cSimpleModule* %33, %class.cMessage* %27, i8* getelementptr inbounds ([14 x i8]* @.str14, i64 0, i64 0), i32 -1) #9, !dbg !4967
  ret void, !dbg !4968
}
