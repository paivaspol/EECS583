define void @_ZN8EtherLLC17handleRegisterSAPEP8cMessage(%class.EtherLLC* %this, %class.cMessage* %msg) unnamed_addr #2 align 2 {
entry:
  %dsap = alloca i32, align 4
  call void @llvm.dbg.value(metadata !{%class.EtherLLC* %this}, i64 0, metadata !5347), !dbg !6481
  call void @llvm.dbg.value(metadata !{%class.cMessage* %msg}, i64 0, metadata !5348), !dbg !6481
  %call = call %class.cGate* @_ZNK8cMessage11arrivalGateEv(%class.cMessage* %msg) #11, !dbg !6482
  tail call void @llvm.dbg.value(metadata !{%class.cGate* %call}, i64 0, metadata !6483), !dbg !6484
  %serno.i = getelementptr inbounds %class.cGate* %call, i64 0, i32 2, !dbg !6485
  %0 = load i32* %serno.i, align 4, !dbg !6485, !tbaa !6114
  call void @llvm.dbg.value(metadata !{i32 %0}, i64 0, metadata !5349), !dbg !6482
  %1 = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 0, !dbg !6487
  %call3 = call %class.cMessage30* @_Z14check_and_castIP10cMessage30ET_P7cObject(%class.cObject* %1) #11, !dbg !6487
  tail call void @llvm.dbg.value(metadata !{%class.cMessage30* %call3}, i64 0, metadata !6488), !dbg !6489
  %ctrlp.i = getelementptr inbounds %class.cMessage30* %call3, i64 0, i32 1, !dbg !6490
  %2 = load %class.cPolymorphic** %ctrlp.i, align 8, !dbg !6490, !tbaa !6128
  tail call void @llvm.dbg.value(metadata !{%class.cPolymorphic* %2}, i64 0, metadata !6491), !dbg !6490
  store %class.cPolymorphic* null, %class.cPolymorphic** %ctrlp.i, align 8, !dbg !6490, !tbaa !6128
  %3 = icmp eq %class.cPolymorphic* %2, null, !dbg !6487
  br i1 %3, label %if.then, label %dynamic_cast.end, !dbg !6487

dynamic_cast.end:                                 ; preds = %entry
  %4 = bitcast %class.cPolymorphic* %2 to i8*, !dbg !6487
  %5 = call i8* @__dynamic_cast(i8* %4, i8* bitcast ({ i8*, i8* }* @_ZTI12cPolymorphic to i8*), i8* bitcast (i8** @_ZTI9EtherCtrl to i8*), i64 0) #1, !dbg !6487
  %6 = bitcast i8* %5 to %class.EtherCtrl*, !dbg !6487
  call void @llvm.dbg.value(metadata !{%class.EtherCtrl* %9}, i64 0, metadata !5350), !dbg !6487
  %tobool = icmp eq i8* %5, null, !dbg !6492
  br i1 %tobool, label %if.then, label %if.end, !dbg !6492

if.then:                                          ; preds = %entry, %dynamic_cast.end
  %7 = getelementptr inbounds %class.EtherLLC* %this, i64 0, i32 0, !dbg !6493
  tail call void @llvm.dbg.value(metadata !{%class.cObject* %1}, i64 0, metadata !6494), !dbg !6495
  %namestr.i = getelementptr inbounds %class.cMessage* %msg, i64 0, i32 0, i32 1, !dbg !6496
  %8 = load i8** %namestr.i, align 8, !dbg !6496, !tbaa !6128
  %tobool.i = icmp eq i8* %8, null, !dbg !6496
  %..i = select i1 %tobool.i, i8* getelementptr inbounds ([1 x i8]* @.str41, i64 0, i64 0), i8* %8, !dbg !6496
  call void (%class.cSimpleModule*, i8*, ...)* @_ZNK13cSimpleModule5errorEPKcz(%class.cSimpleModule* %7, i8* getelementptr inbounds ([57 x i8]* @.str15, i64 0, i64 0), i8* %..i) #11, !dbg !6493
  br label %if.end, !dbg !6493

if.end:                                           ; preds = %dynamic_cast.end, %if.then
  %9 = phi %class.EtherCtrl* [ %6, %dynamic_cast.end ], [ null, %if.then ]
  call void @llvm.dbg.declare(metadata !{i32* %dsap}, metadata !5351), !dbg !6497
  %10 = bitcast %class.EtherCtrl* %9 to i32 (%class.EtherCtrl*)***, !dbg !6497
  %vtable = load i32 (%class.EtherCtrl*)*** %10, align 8, !dbg !6497, !tbaa !6125
  %vfn = getelementptr inbounds i32 (%class.EtherCtrl*)** %vtable, i64 13, !dbg !6497
  %11 = load i32 (%class.EtherCtrl*)** %vfn, align 8, !dbg !6497
  %call6 = call i32 %11(%class.EtherCtrl* %9) #11, !dbg !6497
  call void @llvm.dbg.value(metadata !{i32 %call6}, i64 0, metadata !5351), !dbg !6497
  store i32 %call6, i32* %dsap, align 4, !dbg !6497, !tbaa !6114
  %12 = load i32* getelementptr inbounds (%class.cEnvir* @ev, i64 0, i32 1), align 8, !dbg !6498, !tbaa !6114
  %tobool7 = icmp eq i32 %12, 0, !dbg !6498
  br i1 %tobool7, label %cond.false, label %cond.end, !dbg !6498

cond.false:                                       ; preds = %if.end
  call void @llvm.dbg.value(metadata !6227, i64 0, metadata !6499), !dbg !6500
  call void @llvm.dbg.value(metadata !6501, i64 0, metadata !6502), !dbg !6500
  call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([36 x i8]* @.str24, i64 0, i64 0)) #11, !dbg !6503
  call void @llvm.dbg.value(metadata !{i32* %dsap}, i64 0, metadata !5351), !dbg !6498
  call void @llvm.dbg.value(metadata !6227, i64 0, metadata !6504), !dbg !6505
  call void @llvm.dbg.value(metadata !{i32 %call6}, i64 0, metadata !6506), !dbg !6505
  call void (%class.cEnvir*, i8*, ...)* @_ZN6cEnvir6printfEPKcz(%class.cEnvir* @ev, i8* getelementptr inbounds ([3 x i8]* @.str39, i64 0, i64 0), i32 %call6) #11, !dbg !6507
  call void @llvm.dbg.value(metadata !6227, i64 0, metadata !6499), !dbg !6500
  call void @llvm.dbg.value(metadata !6508, i64 0, metadata !6502), !dbg !6500
  call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([10 x i8]* @.str25, i64 0, i64 0)) #11, !dbg !6503
  call void @llvm.dbg.value(metadata !6227, i64 0, metadata !6504), !dbg !6505
  call void @llvm.dbg.value(metadata !{i32 %0}, i64 0, metadata !6506), !dbg !6505
  call void (%class.cEnvir*, i8*, ...)* @_ZN6cEnvir6printfEPKcz(%class.cEnvir* @ev, i8* getelementptr inbounds ([3 x i8]* @.str39, i64 0, i64 0), i32 %0) #11, !dbg !6507
  call void @llvm.dbg.value(metadata !6227, i64 0, metadata !6499), !dbg !6500
  call void @llvm.dbg.value(metadata !6263, i64 0, metadata !6502), !dbg !6500
  call void @_ZN6cEnvir4putsEPKc(%class.cEnvir* @ev, i8* getelementptr inbounds ([2 x i8]* @.str14, i64 0, i64 0)) #11, !dbg !6503
  br label %cond.end, !dbg !6498

cond.end:                                         ; preds = %if.end, %cond.false
  %dsapToPort = getelementptr inbounds %class.EtherLLC* %this, i64 0, i32 2, !dbg !6509
  call void @llvm.dbg.value(metadata !{%"class.std::map"* %dsapToPort}, i64 0, metadata !6510) #1, !dbg !6511
  call void @llvm.dbg.value(metadata !{i32* %dsap}, i64 0, metadata !6512) #1, !dbg !6511
  %_M_t.i = getelementptr inbounds %"class.std::map"* %dsapToPort, i64 0, i32 0, !dbg !6513
  %call.i = call %"struct.std::_Rb_tree_node_base"* @_ZNSt8_Rb_treeIiSt4pairIKiiESt10_Select1stIS2_ESt4lessIiESaIS2_EE4findERS1_(%"class.std::_Rb_tree"* %_M_t.i, i32* %dsap) #12, !dbg !6513
  tail call void @llvm.dbg.value(metadata !{%"class.std::map"* %dsapToPort}, i64 0, metadata !6514), !dbg !6515
  %_M_header.i.i = getelementptr inbounds %class.EtherLLC* %this, i64 0, i32 2, i32 0, i32 0, i32 1, !dbg !6516
  tail call void @llvm.dbg.value(metadata !6370, i64 0, metadata !6518), !dbg !6519
  tail call void @llvm.dbg.value(metadata !6370, i64 0, metadata !6520), !dbg !6522
  tail call void @llvm.dbg.value(metadata !6370, i64 0, metadata !6523), !dbg !6524
  tail call void @llvm.dbg.value(metadata !6370, i64 0, metadata !6525), !dbg !6524
  %cmp.i = icmp eq %"struct.std::_Rb_tree_node_base"* %call.i, %_M_header.i.i, !dbg !6526
  br i1 %cmp.i, label %if.end21, label %if.then18, !dbg !6509

if.then18:                                        ; preds = %cond.end
  %13 = getelementptr inbounds %class.EtherLLC* %this, i64 0, i32 0, !dbg !6527
  call void @llvm.dbg.value(metadata !{i32* %dsap}, i64 0, metadata !5351), !dbg !6527
  %call20 = call i32* @_ZNSt3mapIiiSt4lessIiESaISt4pairIKiiEEEixERS3_(%"class.std::map"* %dsapToPort, i32* %dsap) #11, !dbg !6527
  %14 = load i32* %call20, align 4, !dbg !6527, !tbaa !6114
  call void (%class.cSimpleModule*, i8*, ...)* @_ZNK13cSimpleModule5errorEPKcz(%class.cSimpleModule* %13, i8* getelementptr inbounds ([40 x i8]* @.str26, i64 0, i64 0), i32 %call6, i32 %14) #11, !dbg !6527
  br label %if.end21, !dbg !6527

if.end21:                                         ; preds = %cond.end, %if.then18
  %call23 = call i32* @_ZNSt3mapIiiSt4lessIiESaISt4pairIKiiEEEixERS3_(%"class.std::map"* %dsapToPort, i32* %dsap) #11, !dbg !6528
  store i32 %0, i32* %call23, align 4, !dbg !6528, !tbaa !6114
  tail call void @llvm.dbg.value(metadata !{%"class.std::map"* %dsapToPort}, i64 0, metadata !6529), !dbg !6531
  %_M_node_count.i.i = getelementptr inbounds %class.EtherLLC* %this, i64 0, i32 2, i32 0, i32 0, i32 2, !dbg !6532
  %15 = load i64* %_M_node_count.i.i, align 8, !dbg !6532, !tbaa !6221
  %dsapsRegistered = getelementptr inbounds %class.EtherLLC* %this, i64 0, i32 3, !dbg !6530
  store i64 %15, i64* %dsapsRegistered, align 8, !dbg !6530, !tbaa !6221
  %isnull = icmp eq %class.cMessage* %msg, null, !dbg !6536
  br i1 %isnull, label %delete.end, label %delete.notnull, !dbg !6536

delete.notnull:                                   ; preds = %if.end21
  %16 = bitcast %class.cMessage* %msg to void (%class.cMessage*)***, !dbg !6536
  %vtable26 = load void (%class.cMessage*)*** %16, align 8, !dbg !6536, !tbaa !6125
  %vfn27 = getelementptr inbounds void (%class.cMessage*)** %vtable26, i64 1, !dbg !6536
  %17 = load void (%class.cMessage*)** %vfn27, align 8, !dbg !6536
  call void %17(%class.cMessage* %msg) #11, !dbg !6536
  br label %delete.end, !dbg !6536

delete.end:                                       ; preds = %delete.notnull, %if.end21
  ret void, !dbg !6537
}
