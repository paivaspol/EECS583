define void @gtp_main_loop(%struct.gtp_command* nocapture %commands, %struct._IO_FILE* nocapture %gtp_input) #0 {
entry:
  %line = alloca [1000 x i8], align 16
  %command = alloca [1000 x i8], align 16
  %n = alloca i32, align 4
  call void @llvm.dbg.value(metadata !{%struct.gtp_command* %commands}, i64 0, metadata !79), !dbg !253
  call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %gtp_input}, i64 0, metadata !80), !dbg !253
  %0 = getelementptr inbounds [1000 x i8]* %line, i64 0, i64 0, !dbg !254
  call void @llvm.lifetime.start(i64 1000, i8* %0) #2, !dbg !254
  call void @llvm.dbg.declare(metadata !{[1000 x i8]* %line}, metadata !81), !dbg !254
  %1 = getelementptr inbounds [1000 x i8]* %command, i64 0, i64 0, !dbg !255
  call void @llvm.lifetime.start(i64 1000, i8* %1) #2, !dbg !255
  call void @llvm.dbg.declare(metadata !{[1000 x i8]* %command}, metadata !85), !dbg !255
  call void @llvm.dbg.declare(metadata !{i32* %n}, metadata !88), !dbg !256
  call void @llvm.dbg.value(metadata !2, i64 0, metadata !89), !dbg !257
  %name116 = getelementptr inbounds %struct.gtp_command* %commands, i64 0, i32 0, !dbg !258
  br label %while.body

while.body:                                       ; preds = %if.end79, %if.end42, %entry
  %call = call i8* @fgets(i8* %0, i32 1000, %struct._IO_FILE* %gtp_input) #6, !dbg !260
  %tobool = icmp eq i8* %call, null, !dbg !260
  br i1 %tobool, label %while.end.split, label %for.cond, !dbg !260

for.cond:                                         ; preds = %while.body, %for.inc
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 0, %while.body ]
  %p.0 = phi i8* [ %p.1, %for.inc ], [ %0, %while.body ]
  %arrayidx = getelementptr inbounds [1000 x i8]* %line, i64 0, i64 %indvars.iv, !dbg !261
  %2 = load i8* %arrayidx, align 1, !dbg !261, !tbaa !262
  switch i8 %2, label %if.else [
    i8 0, label %for.end
    i8 9, label %if.then7
  ], !dbg !261

if.then7:                                         ; preds = %for.cond
  %incdec.ptr = getelementptr inbounds i8* %p.0, i64 1, !dbg !264
  call void @llvm.dbg.value(metadata !{i8* %incdec.ptr}, i64 0, metadata !86), !dbg !264
  store i8 32, i8* %p.0, align 1, !dbg !264, !tbaa !262
  br label %for.inc, !dbg !264

if.else:                                          ; preds = %for.cond
  %.off = add i8 %2, -1, !dbg !265
  %3 = icmp ult i8 %.off, 9, !dbg !265
  br i1 %3, label %for.inc, label %lor.lhs.false, !dbg !265

lor.lhs.false:                                    ; preds = %if.else
  %.off113 = add i8 %2, -11, !dbg !265
  %4 = icmp ult i8 %.off113, 21, !dbg !265
  %cmp23 = icmp eq i8 %2, 127, !dbg !265
  %or.cond109 = or i1 %4, %cmp23, !dbg !265
  br i1 %or.cond109, label %for.inc, label %if.else26, !dbg !265

if.else26:                                        ; preds = %lor.lhs.false
  %cmp28 = icmp eq i8 %2, 35, !dbg !266
  br i1 %cmp28, label %for.end, label %if.else31, !dbg !266

if.else31:                                        ; preds = %if.else26
  %incdec.ptr32 = getelementptr inbounds i8* %p.0, i64 1, !dbg !267
  call void @llvm.dbg.value(metadata !{i8* %incdec.ptr32}, i64 0, metadata !86), !dbg !267
  store i8 %2, i8* %p.0, align 1, !dbg !267, !tbaa !262
  br label %for.inc

for.inc:                                          ; preds = %lor.lhs.false, %if.else, %if.then7, %if.else31
  %p.1 = phi i8* [ %incdec.ptr, %if.then7 ], [ %incdec.ptr32, %if.else31 ], [ %p.0, %if.else ], [ %p.0, %lor.lhs.false ]
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !261
  br label %for.cond, !dbg !261

for.end:                                          ; preds = %for.cond, %if.else26
  store i8 0, i8* %p.0, align 1, !dbg !268, !tbaa !262
  call void @llvm.dbg.value(metadata !{i8* %0}, i64 0, metadata !86), !dbg !269
  %call37 = call i32 (i8*, i8*, ...)* @__isoc99_sscanf(i8* %0, i8* getelementptr inbounds ([5 x i8]* @.str, i64 0, i64 0), i32* @current_id, i32* %n) #6, !dbg !270
  %cmp38 = icmp eq i32 %call37, 1, !dbg !270
  br i1 %cmp38, label %if.then40, label %if.else41, !dbg !270

if.then40:                                        ; preds = %for.end
  call void @llvm.dbg.value(metadata !{i32* %n}, i64 0, metadata !88), !dbg !271
  %5 = load i32* %n, align 4, !dbg !271, !tbaa !272
  %idx.ext = sext i32 %5 to i64, !dbg !271
  %add.ptr = getelementptr inbounds [1000 x i8]* %line, i64 0, i64 %idx.ext, !dbg !271
  call void @llvm.dbg.value(metadata !{i8* %add.ptr}, i64 0, metadata !86), !dbg !271
  br label %if.end42, !dbg !271

if.else41:                                        ; preds = %for.end
  store i32 -1, i32* @current_id, align 4, !dbg !273, !tbaa !272
  br label %if.end42

if.end42:                                         ; preds = %if.else41, %if.then40
  %p.2 = phi i8* [ %add.ptr, %if.then40 ], [ %0, %if.else41 ]
  %call44 = call i32 (i8*, i8*, ...)* @__isoc99_sscanf(i8* %p.2, i8* getelementptr inbounds ([7 x i8]* @.str1, i64 0, i64 0), i8* %1, i32* %n) #6, !dbg !274
  %cmp45 = icmp slt i32 %call44, 1, !dbg !274
  br i1 %cmp45, label %while.body, label %if.end48, !dbg !274

if.end48:                                         ; preds = %if.end42
  call void @llvm.dbg.value(metadata !{i32* %n}, i64 0, metadata !88), !dbg !275
  %6 = load i32* %n, align 4, !dbg !275, !tbaa !272
  %idx.ext49 = sext i32 %6 to i64, !dbg !275
  %add.ptr50 = getelementptr inbounds i8* %p.2, i64 %idx.ext49, !dbg !275
  call void @llvm.dbg.value(metadata !{i8* %add.ptr50}, i64 0, metadata !86), !dbg !275
  call void @llvm.dbg.value(metadata !2, i64 0, metadata !87), !dbg !258
  %7 = load i8** %name116, align 8, !dbg !258, !tbaa !276
  %cmp54117 = icmp eq i8* %7, null, !dbg !258
  br i1 %cmp54117, label %if.then77, label %for.body56, !dbg !258

for.cond51:                                       ; preds = %for.body56
  %name = getelementptr inbounds %struct.gtp_command* %commands, i64 %indvars.iv.next125, i32 0, !dbg !258
  %8 = load i8** %name, align 8, !dbg !258, !tbaa !276
  %cmp54 = icmp eq i8* %8, null, !dbg !258
  br i1 %cmp54, label %if.then77, label %for.body56, !dbg !258

for.body56:                                       ; preds = %if.end48, %for.cond51
  %indvars.iv124 = phi i64 [ %indvars.iv.next125, %for.cond51 ], [ 0, %if.end48 ]
  %9 = phi i8* [ %8, %for.cond51 ], [ %7, %if.end48 ]
  %name120 = phi i8** [ %name, %for.cond51 ], [ %name116, %if.end48 ]
  %call61 = call i32 @strcmp(i8* %1, i8* %9) #7, !dbg !277
  %cmp62 = icmp eq i32 %call61, 0, !dbg !277
  %indvars.iv.next125 = add i64 %indvars.iv124, 1, !dbg !258
  br i1 %cmp62, label %for.end71, label %for.cond51, !dbg !277

for.end71:                                        ; preds = %for.body56
  %function = getelementptr inbounds %struct.gtp_command* %commands, i64 %indvars.iv124, i32 1, !dbg !279
  %10 = load i32 (i8*)** %function, align 8, !dbg !279, !tbaa !276
  %call67 = call i32 %10(i8* %add.ptr50) #6, !dbg !279
  call void @llvm.dbg.value(metadata !{i32 %call67}, i64 0, metadata !89), !dbg !279
  %.pr = load i8** %name120, align 8, !dbg !281, !tbaa !276
  %cmp75 = icmp eq i8* %.pr, null, !dbg !281
  br i1 %cmp75, label %if.then77, label %if.end79, !dbg !281

if.then77:                                        ; preds = %if.end48, %for.cond51, %for.end71
  %status.1112 = phi i32 [ %call67, %for.end71 ], [ 0, %for.cond51 ], [ 0, %if.end48 ]
  %call78 = call i32 (i8*, ...)* @gtp_failure(i8* getelementptr inbounds ([16 x i8]* @.str2, i64 0, i64 0)) #8, !dbg !282
  br label %if.end79, !dbg !282

if.end79:                                         ; preds = %if.then77, %for.end71
  %status.1111 = phi i32 [ %status.1112, %if.then77 ], [ %call67, %for.end71 ]
  switch i32 %status.1111, label %while.end.split [
    i32 1, label %while.cond.outer.backedge.thread
    i32 0, label %while.body
  ], !dbg !283

while.cond.outer.backedge.thread:                 ; preds = %if.end79
  call void (i8*, ...)* @gtp_printf(i8* getelementptr inbounds ([10 x i8]* @.str14, i64 0, i64 0)) #6, !dbg !284
  br label %while.end.split

while.end.split:                                  ; preds = %if.end79, %while.body, %while.cond.outer.backedge.thread
  call void @llvm.lifetime.end(i64 1000, i8* %1) #2, !dbg !286
  call void @llvm.lifetime.end(i64 1000, i8* %0) #2, !dbg !286
  ret void, !dbg !286
}
