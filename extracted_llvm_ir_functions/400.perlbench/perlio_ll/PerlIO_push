define %struct._PerlIO** @PerlIO_push(%struct._PerlIO** %f, %struct._PerlIO_funcs* %tab, i8* %mode, %struct.sv* %arg) #1 {
entry:
  %fsize = getelementptr inbounds %struct._PerlIO_funcs* %tab, i64 0, i32 0
  %0 = load i64* %fsize, align 8, !tbaa !4
  %cmp = icmp eq i64 %0, 224
  br i1 %cmp, label %if.end, label %mismatch

mismatch:                                         ; preds = %entry, %if.then1
  tail call void (i8*, ...)* @Perl_croak(i8* getelementptr inbounds ([31 x i8]* @.str23, i64 0, i64 0)) #9
  br label %if.end

if.end:                                           ; preds = %entry, %mismatch
  %size = getelementptr inbounds %struct._PerlIO_funcs* %tab, i64 0, i32 2
  %1 = load i64* %size, align 8, !tbaa !4
  %tobool = icmp eq i64 %1, 0
  br i1 %tobool, label %if.else, label %if.then1

if.then1:                                         ; preds = %if.end
  %cmp3 = icmp ult i64 %1, 24
  br i1 %cmp3, label %mismatch, label %if.end5

if.end5:                                          ; preds = %if.then1
  %call = tail call i8* @Perl_safesysmalloc(i64 %1) #9
  %tobool7 = icmp eq i8* %call, null
  %tobool8 = icmp eq %struct._PerlIO** %f, null
  %or.cond = or i1 %tobool7, %tobool8
  br i1 %or.cond, label %if.end41, label %if.then9

if.then9:                                         ; preds = %if.end5
  %2 = bitcast i8* %call to %struct._PerlIO*
  %3 = load i64* %size, align 8, !tbaa !4
  tail call void @llvm.memset.p0i8.i64(i8* %call, i8 0, i64 %3, i32 1, i1 false)
  %4 = load %struct._PerlIO** %f, align 8, !tbaa !3
  %next = bitcast i8* %call to %struct._PerlIO**
  store %struct._PerlIO* %4, %struct._PerlIO** %next, align 8, !tbaa !3
  %tab12 = getelementptr inbounds i8* %call, i64 8
  %5 = bitcast i8* %tab12 to %struct._PerlIO_funcs**
  store %struct._PerlIO_funcs* %tab, %struct._PerlIO_funcs** %5, align 8, !tbaa !3
  store %struct._PerlIO* %2, %struct._PerlIO** %f, align 8, !tbaa !3
  %name = getelementptr inbounds %struct._PerlIO_funcs* %tab, i64 0, i32 1
  %6 = load i8** %name, align 8, !tbaa !3
  %tobool13 = icmp ne i8* %mode, null
  %cond = select i1 %tobool13, i8* %mode, i8* getelementptr inbounds ([7 x i8]* @.str25, i64 0, i64 0)
  tail call void (i8*, ...)* @PerlIO_debug(i8* undef, %struct._PerlIO** %f, i8* %6, i8* %cond, %struct.sv* %arg) #10
  %7 = load %struct._PerlIO_funcs** %5, align 8, !tbaa !3
  %Pushed = getelementptr inbounds %struct._PerlIO_funcs* %7, i64 0, i32 4
  %8 = load i64 (%struct._PerlIO**, i8*, %struct.sv*, %struct._PerlIO_funcs*)** %Pushed, align 8, !tbaa !3
  %tobool15 = icmp eq i64 (%struct._PerlIO**, i8*, %struct.sv*, %struct._PerlIO_funcs*)* %8, null
  br i1 %tobool15, label %if.end41, label %land.lhs.true16

land.lhs.true16:                                  ; preds = %if.then9
  %call19 = tail call i64 %8(%struct._PerlIO** %f, i8* %mode, %struct.sv* %arg, %struct._PerlIO_funcs* %tab) #9
  %cmp20 = icmp eq i64 %call19, 0
  br i1 %cmp20, label %if.end41, label %if.then21

if.then21:                                        ; preds = %land.lhs.true16
  tail call void @PerlIO_pop(%struct._PerlIO** %f) #10
  br label %return

if.else:                                          ; preds = %if.end
  %tobool24 = icmp eq %struct._PerlIO** %f, null
  br i1 %tobool24, label %if.end41, label %if.then25

if.then25:                                        ; preds = %if.else
  %name26 = getelementptr inbounds %struct._PerlIO_funcs* %tab, i64 0, i32 1
  %9 = load i8** %name26, align 8, !tbaa !3
  %tobool27 = icmp ne i8* %mode, null
  %cond31 = select i1 %tobool27, i8* %mode, i8* getelementptr inbounds ([7 x i8]* @.str25, i64 0, i64 0)
  tail call void (i8*, ...)* @PerlIO_debug(i8* undef, %struct._PerlIO** %f, i8* %9, i8* %cond31, %struct.sv* %arg) #10
  %Pushed32 = getelementptr inbounds %struct._PerlIO_funcs* %tab, i64 0, i32 4
  %10 = load i64 (%struct._PerlIO**, i8*, %struct.sv*, %struct._PerlIO_funcs*)** %Pushed32, align 8, !tbaa !3
  %tobool33 = icmp eq i64 (%struct._PerlIO**, i8*, %struct.sv*, %struct._PerlIO_funcs*)* %10, null
  br i1 %tobool33, label %if.end41, label %land.lhs.true34

land.lhs.true34:                                  ; preds = %if.then25
  %call36 = tail call i64 %10(%struct._PerlIO** %f, i8* %mode, %struct.sv* %arg, %struct._PerlIO_funcs* %tab) #9
  %cmp37 = icmp eq i64 %call36, 0
  br i1 %cmp37, label %if.end41, label %return

if.end41:                                         ; preds = %land.lhs.true16, %if.then9, %if.end5, %land.lhs.true34, %if.then25, %if.else
  br label %return

return:                                           ; preds = %land.lhs.true34, %if.end41, %if.then21
  %retval.0 = phi %struct._PerlIO** [ null, %if.then21 ], [ %f, %if.end41 ], [ null, %land.lhs.true34 ]
  ret %struct._PerlIO** %retval.0
}
