define %struct.av* @PerlIO_get_layers(%struct._PerlIO** %f) #1 {
entry:
  %l = alloca %struct._PerlIO*, align 8
  %call = call %struct.av* @Perl_newAV() #9
  %tobool = icmp eq %struct._PerlIO** %f, null
  br i1 %tobool, label %if.end, label %land.lhs.true

land.lhs.true:                                    ; preds = %entry
  %0 = load %struct._PerlIO** %f, align 8, !tbaa !3
  %tobool1 = icmp eq %struct._PerlIO* %0, null
  br i1 %tobool1, label %if.end, label %while.body.lr.ph

while.body.lr.ph:                                 ; preds = %land.lhs.true
  store %struct._PerlIO* %0, %struct._PerlIO** %l, align 8, !tbaa !3
  br label %while.body

while.body:                                       ; preds = %while.body.lr.ph, %cond.end21
  %storemerge30 = phi %struct._PerlIO* [ %0, %while.body.lr.ph ], [ %8, %cond.end21 ]
  %tab = getelementptr inbounds %struct._PerlIO* %storemerge30, i64 0, i32 1
  %1 = load %struct._PerlIO_funcs** %tab, align 8, !tbaa !3
  %tobool3 = icmp eq %struct._PerlIO_funcs* %1, null
  br i1 %tobool3, label %cond.end21, label %land.lhs.true4

land.lhs.true4:                                   ; preds = %while.body
  %name6 = getelementptr inbounds %struct._PerlIO_funcs* %1, i64 0, i32 1
  %2 = load i8** %name6, align 8, !tbaa !3
  %tobool7 = icmp eq i8* %2, null
  br i1 %tobool7, label %land.lhs.true13, label %cond.end

cond.end:                                         ; preds = %land.lhs.true4
  %call10 = call %struct.sv* @Perl_newSVpv(i8* %2, i64 0) #9
  %.pre = load %struct._PerlIO** %l, align 8, !tbaa !3
  %tab11.phi.trans.insert = getelementptr inbounds %struct._PerlIO* %.pre, i64 0, i32 1
  %.pre31 = load %struct._PerlIO_funcs** %tab11.phi.trans.insert, align 8, !tbaa !3
  %tobool12 = icmp eq %struct._PerlIO_funcs* %.pre31, null
  br i1 %tobool12, label %cond.end21, label %land.lhs.true13

land.lhs.true13:                                  ; preds = %land.lhs.true4, %cond.end
  %cond36 = phi %struct.sv* [ %call10, %cond.end ], [ @PL_sv_undef, %land.lhs.true4 ]
  %3 = phi %struct._PerlIO_funcs* [ %.pre31, %cond.end ], [ %1, %land.lhs.true4 ]
  %Getarg = getelementptr inbounds %struct._PerlIO_funcs* %3, i64 0, i32 8
  %4 = load %struct.sv* (%struct._PerlIO**, %struct.clone_params*, i32)** %Getarg, align 8, !tbaa !3
  %tobool15 = icmp eq %struct.sv* (%struct._PerlIO**, %struct.clone_params*, i32)* %4, null
  br i1 %tobool15, label %cond.end21, label %cond.true16

cond.true16:                                      ; preds = %land.lhs.true13
  %call19 = call %struct.sv* %4(%struct._PerlIO** %l, %struct.clone_params* null, i32 0) #9
  br label %cond.end21

cond.end21:                                       ; preds = %while.body, %land.lhs.true13, %cond.end, %cond.true16
  %cond33 = phi %struct.sv* [ %cond36, %cond.true16 ], [ %cond36, %land.lhs.true13 ], [ %call10, %cond.end ], [ @PL_sv_undef, %while.body ]
  %cond22 = phi %struct.sv* [ %call19, %cond.true16 ], [ @PL_sv_undef, %land.lhs.true13 ], [ @PL_sv_undef, %cond.end ], [ @PL_sv_undef, %while.body ]
  call void @Perl_av_push(%struct.av* %call, %struct.sv* %cond33) #9
  call void @Perl_av_push(%struct.av* %call, %struct.sv* %cond22) #9
  %5 = load %struct._PerlIO** %l, align 8, !tbaa !3
  %flags = getelementptr inbounds %struct._PerlIO* %5, i64 0, i32 2
  %6 = load i32* %flags, align 4, !tbaa !0
  %conv = zext i32 %6 to i64
  %call23 = call %struct.sv* @Perl_newSViv(i64 %conv) #9
  call void @Perl_av_push(%struct.av* %call, %struct.sv* %call23) #9
  %7 = load %struct._PerlIO** %l, align 8, !tbaa !3
  %next = getelementptr inbounds %struct._PerlIO* %7, i64 0, i32 0
  %8 = load %struct._PerlIO** %next, align 8, !tbaa !3
  store %struct._PerlIO* %8, %struct._PerlIO** %l, align 8, !tbaa !3
  %tobool2 = icmp eq %struct._PerlIO* %8, null
  br i1 %tobool2, label %if.end, label %while.body

if.end:                                           ; preds = %cond.end21, %land.lhs.true, %entry
  ret %struct.av* %call
}
