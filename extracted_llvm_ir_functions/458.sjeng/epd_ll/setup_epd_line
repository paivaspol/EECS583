define void @setup_epd_line(i8* nocapture %inbuff) #0 {
entry:
  tail call void @llvm.memset.p0i8.i64(i8* bitcast ([144 x i32]* @board to i8*), i8 0, i64 576, i32 16, i1 false)
  store i32 0, i32* @white_castled, align 4, !tbaa !0
  store i32 0, i32* @black_castled, align 4, !tbaa !0
  store i32 50, i32* @book_ply, align 4, !tbaa !0
  br label %while.cond

while.cond:                                       ; preds = %while.cond, %entry
  %indvars.iv327 = phi i64 [ %indvars.iv.next328, %while.cond ], [ 0, %entry ]
  %i.0 = phi i32 [ %inc, %while.cond ], [ 0, %entry ]
  %arrayidx = getelementptr inbounds i8* %inbuff, i64 %indvars.iv327
  %0 = load i8* %arrayidx, align 1, !tbaa !1
  %cmp = icmp eq i8 %0, 32
  %indvars.iv.next328 = add i64 %indvars.iv327, 1
  %inc = add nsw i32 %i.0, 1
  br i1 %cmp, label %while.cond, label %while.cond2

while.cond2:                                      ; preds = %while.cond, %if.end222
  %stage.0 = phi i32 [ %stage.1, %if.end222 ], [ 0, %while.cond ]
  %fileoffset.0 = phi i32 [ %fileoffset.1, %if.end222 ], [ 0, %while.cond ]
  %rankoffset.0 = phi i32 [ %rankoffset.1, %if.end222 ], [ 110, %while.cond ]
  %rankp.0 = phi i32 [ %rankp.1, %if.end222 ], [ 0, %while.cond ]
  %i.1 = phi i32 [ %inc223, %if.end222 ], [ %i.0, %while.cond ]
  %idxprom3 = sext i32 %i.1 to i64
  %arrayidx4 = getelementptr inbounds i8* %inbuff, i64 %idxprom3
  %1 = load i8* %arrayidx4, align 1, !tbaa !1
  switch i8 %1, label %while.body13 [
    i8 10, label %while.end224
    i8 0, label %while.end224
  ]

while.body13:                                     ; preds = %while.cond2
  %cmp14 = icmp eq i32 %stage.0, 0
  br i1 %cmp14, label %land.lhs.true, label %if.else112

land.lhs.true:                                    ; preds = %while.body13
  %idxprom19 = sext i8 %1 to i64
  %call = tail call i16** @__ctype_b_loc() #8
  %2 = load i16** %call, align 8, !tbaa !3
  %arrayidx20 = getelementptr inbounds i16* %2, i64 %idxprom19
  %3 = load i16* %arrayidx20, align 2, !tbaa !4
  %and = and i16 %3, 2048
  %tobool = icmp eq i16 %and, 0
  br i1 %tobool, label %land.lhs.true37, label %for.cond.preheader

for.cond.preheader:                               ; preds = %land.lhs.true
  %call24304 = tail call i32 @atoi(i8* %arrayidx4) #9
  %cmp25305 = icmp sgt i32 %call24304, 0
  br i1 %cmp25305, label %for.body.lr.ph, label %for.end

for.body.lr.ph:                                   ; preds = %for.cond.preheader
  %add = add i32 %rankoffset.0, %fileoffset.0
  br label %for.body

for.body:                                         ; preds = %for.body.lr.ph, %for.body
  %indvars.iv = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next, %for.body ]
  %4 = trunc i64 %indvars.iv to i32
  %add27 = add i32 %add, %4
  %idxprom28 = sext i32 %add27 to i64
  %arrayidx29 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom28
  store i32 13, i32* %arrayidx29, align 4, !tbaa !0
  %indvars.iv.next = add i64 %indvars.iv, 1
  %call24 = tail call i32 @atoi(i8* %arrayidx4) #9
  %5 = trunc i64 %indvars.iv.next to i32
  %cmp25 = icmp slt i32 %5, %call24
  br i1 %cmp25, label %for.body, label %for.end

for.end:                                          ; preds = %for.body, %for.cond.preheader
  %call24.lcssa = phi i32 [ %call24304, %for.cond.preheader ], [ %call24, %for.body ]
  %add34 = add nsw i32 %call24.lcssa, %fileoffset.0
  br label %if.end222

land.lhs.true37:                                  ; preds = %land.lhs.true
  %cmp41 = icmp eq i8 %1, 47
  br i1 %cmp41, label %if.then43, label %land.lhs.true50

if.then43:                                        ; preds = %land.lhs.true37
  %inc44 = add nsw i32 %rankp.0, 1
  %idxprom45 = sext i32 %inc44 to i64
  %arrayidx46 = getelementptr inbounds [8 x i32]* @setup_epd_line.rankoffsets, i64 0, i64 %idxprom45
  %6 = load i32* %arrayidx46, align 4, !tbaa !0
  br label %if.end222

land.lhs.true50:                                  ; preds = %land.lhs.true37
  %and58 = and i16 %3, 1024
  %tobool59 = icmp eq i16 %and58, 0
  br i1 %tobool59, label %if.else112, label %if.then60

if.then60:                                        ; preds = %land.lhs.true50
  %conv53 = sext i8 %1 to i32
  switch i32 %conv53, label %sw.epilog [
    i32 112, label %sw.bb
    i32 80, label %sw.bb67
    i32 110, label %sw.bb71
    i32 78, label %sw.bb75
    i32 98, label %sw.bb79
    i32 66, label %sw.bb83
    i32 114, label %sw.bb87
    i32 82, label %sw.bb91
    i32 113, label %sw.bb95
    i32 81, label %sw.bb99
    i32 107, label %sw.bb103
    i32 75, label %sw.bb107
  ]

sw.bb:                                            ; preds = %if.then60
  %add64 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom65 = sext i32 %add64 to i64
  %arrayidx66 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom65
  store i32 2, i32* %arrayidx66, align 4, !tbaa !0
  br label %sw.epilog

sw.bb67:                                          ; preds = %if.then60
  %add68 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom69 = sext i32 %add68 to i64
  %arrayidx70 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom69
  store i32 1, i32* %arrayidx70, align 4, !tbaa !0
  br label %sw.epilog

sw.bb71:                                          ; preds = %if.then60
  %add72 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom73 = sext i32 %add72 to i64
  %arrayidx74 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom73
  store i32 4, i32* %arrayidx74, align 4, !tbaa !0
  br label %sw.epilog

sw.bb75:                                          ; preds = %if.then60
  %add76 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom77 = sext i32 %add76 to i64
  %arrayidx78 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom77
  store i32 3, i32* %arrayidx78, align 4, !tbaa !0
  br label %sw.epilog

sw.bb79:                                          ; preds = %if.then60
  %add80 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom81 = sext i32 %add80 to i64
  %arrayidx82 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom81
  store i32 12, i32* %arrayidx82, align 4, !tbaa !0
  br label %sw.epilog

sw.bb83:                                          ; preds = %if.then60
  %add84 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom85 = sext i32 %add84 to i64
  %arrayidx86 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom85
  store i32 11, i32* %arrayidx86, align 4, !tbaa !0
  br label %sw.epilog

sw.bb87:                                          ; preds = %if.then60
  %add88 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom89 = sext i32 %add88 to i64
  %arrayidx90 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom89
  store i32 8, i32* %arrayidx90, align 4, !tbaa !0
  br label %sw.epilog

sw.bb91:                                          ; preds = %if.then60
  %add92 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom93 = sext i32 %add92 to i64
  %arrayidx94 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom93
  store i32 7, i32* %arrayidx94, align 4, !tbaa !0
  br label %sw.epilog

sw.bb95:                                          ; preds = %if.then60
  %add96 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom97 = sext i32 %add96 to i64
  %arrayidx98 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom97
  store i32 10, i32* %arrayidx98, align 4, !tbaa !0
  br label %sw.epilog

sw.bb99:                                          ; preds = %if.then60
  %add100 = add nsw i32 %rankoffset.0, %fileoffset.0
  %idxprom101 = sext i32 %add100 to i64
  %arrayidx102 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom101
  store i32 9, i32* %arrayidx102, align 4, !tbaa !0
  br label %sw.epilog

sw.bb103:                                         ; preds = %if.then60
  %add104 = add nsw i32 %rankoffset.0, %fileoffset.0
  store i32 %add104, i32* @bking_loc, align 4, !tbaa !0
  %idxprom105 = sext i32 %add104 to i64
  %arrayidx106 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom105
  store i32 6, i32* %arrayidx106, align 4, !tbaa !0
  br label %sw.epilog

sw.bb107:                                         ; preds = %if.then60
  %add108 = add nsw i32 %rankoffset.0, %fileoffset.0
  store i32 %add108, i32* @wking_loc, align 4, !tbaa !0
  %idxprom109 = sext i32 %add108 to i64
  %arrayidx110 = getelementptr inbounds [144 x i32]* @board, i64 0, i64 %idxprom109
  store i32 5, i32* %arrayidx110, align 4, !tbaa !0
  br label %sw.epilog

sw.epilog:                                        ; preds = %if.then60, %sw.bb107, %sw.bb103, %sw.bb99, %sw.bb95, %sw.bb91, %sw.bb87, %sw.bb83, %sw.bb79, %sw.bb75, %sw.bb71, %sw.bb67, %sw.bb
  %inc111 = add nsw i32 %fileoffset.0, 1
  br label %if.end222

if.else112:                                       ; preds = %while.body13, %land.lhs.true50
  %cmp116 = icmp eq i8 %1, 32
  br i1 %cmp116, label %if.then118, label %if.end222

if.then118:                                       ; preds = %if.else112
  %inc119 = add nsw i32 %stage.0, 1
  br i1 %cmp14, label %while.cond123, label %if.else139

while.cond123:                                    ; preds = %if.then118, %while.body129
  %7 = phi i8 [ %.pre329, %while.body129 ], [ 32, %if.then118 ]
  %indvars.iv325 = phi i64 [ %indvars.iv.next326, %while.body129 ], [ %idxprom3, %if.then118 ]
  %i.2 = phi i32 [ %inc130, %while.body129 ], [ %i.1, %if.then118 ]
  switch i8 %7, label %if.else138 [
    i8 32, label %while.body129
    i8 119, label %if.then137
  ]

while.body129:                                    ; preds = %while.cond123
  %indvars.iv.next326 = add i64 %indvars.iv325, 1
  %inc130 = add nsw i32 %i.2, 1
  %arrayidx125.phi.trans.insert = getelementptr inbounds i8* %inbuff, i64 %indvars.iv.next326
  %.pre329 = load i8* %arrayidx125.phi.trans.insert, align 1, !tbaa !1
  br label %while.cond123

if.then137:                                       ; preds = %while.cond123
  store i32 1, i32* @white_to_move, align 4, !tbaa !0
  br label %if.end222

if.else138:                                       ; preds = %while.cond123
  store i32 0, i32* @white_to_move, align 4, !tbaa !0
  br label %if.end222

if.else139:                                       ; preds = %if.then118
  switch i32 %stage.0, label %if.end222 [
    i32 1, label %if.then142
    i32 2, label %while.cond173
  ]

if.then142:                                       ; preds = %if.else139
  store i32 1, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 30), align 4, !tbaa !0
  store i32 1, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 33), align 4, !tbaa !0
  store i32 1, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 26), align 4, !tbaa !0
  store i32 1, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 117), align 4, !tbaa !0
  store i32 1, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 114), align 4, !tbaa !0
  store i32 1, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 110), align 4, !tbaa !0
  br label %while.cond143

while.cond143:                                    ; preds = %while.cond143, %if.then142
  %indvars.iv320 = phi i64 [ %indvars.iv.next321, %while.cond143 ], [ %idxprom3, %if.then142 ]
  %i.3 = phi i32 [ %inc150, %while.cond143 ], [ %i.1, %if.then142 ]
  %arrayidx145 = getelementptr inbounds i8* %inbuff, i64 %indvars.iv320
  %8 = load i8* %arrayidx145, align 1, !tbaa !1
  %cmp147 = icmp eq i8 %8, 32
  %indvars.iv.next321 = add i64 %indvars.iv320, 1
  %inc150 = add nsw i32 %i.3, 1
  br i1 %cmp147, label %while.cond143, label %while.cond152.loopexit

while.cond152.loopexit:                           ; preds = %while.cond143
  %idxprom153309 = sext i32 %i.3 to i64
  %arrayidx154310 = getelementptr inbounds i8* %inbuff, i64 %idxprom153309
  %9 = load i8* %arrayidx154310, align 1, !tbaa !1
  %cmp156311 = icmp eq i8 %9, 32
  br i1 %cmp156311, label %while.end168, label %while.body158

while.body158:                                    ; preds = %while.cond152.loopexit, %sw.epilog166
  %indvars.iv322 = phi i64 [ %indvars.iv.next323, %sw.epilog166 ], [ %idxprom153309, %while.cond152.loopexit ]
  %10 = phi i8 [ %11, %sw.epilog166 ], [ %9, %while.cond152.loopexit ]
  %i.4312 = phi i32 [ %inc167, %sw.epilog166 ], [ %i.3, %while.cond152.loopexit ]
  %conv155 = sext i8 %10 to i32
  switch i32 %conv155, label %sw.epilog166 [
    i32 113, label %sw.bb165
    i32 75, label %sw.bb162
    i32 81, label %sw.bb163
    i32 107, label %sw.bb164
  ]

sw.bb162:                                         ; preds = %while.body158
  store i32 0, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 33), align 4, !tbaa !0
  store i32 0, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 30), align 4, !tbaa !0
  br label %sw.epilog166

sw.bb163:                                         ; preds = %while.body158
  store i32 0, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 26), align 4, !tbaa !0
  store i32 0, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 30), align 4, !tbaa !0
  br label %sw.epilog166

sw.bb164:                                         ; preds = %while.body158
  store i32 0, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 117), align 4, !tbaa !0
  store i32 0, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 114), align 4, !tbaa !0
  br label %sw.epilog166

sw.bb165:                                         ; preds = %while.body158
  store i32 0, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 110), align 4, !tbaa !0
  store i32 0, i32* getelementptr inbounds ([144 x i32]* @moved, i64 0, i64 114), align 4, !tbaa !0
  br label %sw.epilog166

sw.epilog166:                                     ; preds = %while.body158, %sw.bb165, %sw.bb164, %sw.bb163, %sw.bb162
  %indvars.iv.next323 = add i64 %indvars.iv322, 1
  %inc167 = add nsw i32 %i.4312, 1
  %arrayidx154 = getelementptr inbounds i8* %inbuff, i64 %indvars.iv.next323
  %11 = load i8* %arrayidx154, align 1, !tbaa !1
  %cmp156 = icmp eq i8 %11, 32
  br i1 %cmp156, label %while.end168, label %while.body158

while.end168:                                     ; preds = %sw.epilog166, %while.cond152.loopexit
  %i.4.lcssa = phi i32 [ %i.3, %while.cond152.loopexit ], [ %inc167, %sw.epilog166 ]
  %dec = add nsw i32 %i.4.lcssa, -1
  br label %if.end222

while.cond173:                                    ; preds = %if.else139, %while.body179
  %12 = phi i8 [ %.pre, %while.body179 ], [ 32, %if.else139 ]
  %indvars.iv318 = phi i64 [ %indvars.iv.next319, %while.body179 ], [ %idxprom3, %if.else139 ]
  %i.5 = phi i32 [ %inc180, %while.body179 ], [ %i.1, %if.else139 ]
  switch i8 %12, label %if.else188 [
    i8 32, label %while.body179
    i8 45, label %if.then187
  ]

while.body179:                                    ; preds = %while.cond173
  %indvars.iv.next319 = add i64 %indvars.iv318, 1
  %inc180 = add nsw i32 %i.5, 1
  %arrayidx175.phi.trans.insert = getelementptr inbounds i8* %inbuff, i64 %indvars.iv.next319
  %.pre = load i8* %arrayidx175.phi.trans.insert, align 1, !tbaa !1
  br label %while.cond173

if.then187:                                       ; preds = %while.cond173
  store i32 0, i32* @ep_square, align 4, !tbaa !0
  br label %if.end222

if.else188:                                       ; preds = %while.cond173
  %conv176 = sext i8 %12 to i32
  %inc189 = add nsw i32 %i.5, 1
  %inc193 = add nsw i32 %i.5, 2
  %idxprom194 = sext i32 %inc189 to i64
  %arrayidx195 = getelementptr inbounds i8* %inbuff, i64 %idxprom194
  %13 = load i8* %arrayidx195, align 1, !tbaa !1
  %conv196 = sext i8 %13 to i32
  %14 = mul i32 %conv196, 12
  %sub = add i32 %conv176, -659
  %add199 = add i32 %sub, %14
  store i32 %add199, i32* @ep_square, align 4, !tbaa !0
  br label %if.end222

if.end222:                                        ; preds = %if.else139, %if.then43, %if.else112, %while.end168, %if.then187, %if.else188, %if.then137, %if.else138, %sw.epilog, %for.end
  %stage.1 = phi i32 [ 0, %for.end ], [ 0, %if.then43 ], [ 0, %sw.epilog ], [ %inc119, %if.then137 ], [ %inc119, %if.else138 ], [ %inc119, %while.end168 ], [ %inc119, %if.then187 ], [ %inc119, %if.else188 ], [ %stage.0, %if.else112 ], [ %inc119, %if.else139 ]
  %fileoffset.1 = phi i32 [ %add34, %for.end ], [ 0, %if.then43 ], [ %inc111, %sw.epilog ], [ %fileoffset.0, %if.then137 ], [ %fileoffset.0, %if.else138 ], [ %fileoffset.0, %while.end168 ], [ %fileoffset.0, %if.then187 ], [ %fileoffset.0, %if.else188 ], [ %fileoffset.0, %if.else112 ], [ %fileoffset.0, %if.else139 ]
  %rankoffset.1 = phi i32 [ %rankoffset.0, %for.end ], [ %6, %if.then43 ], [ %rankoffset.0, %sw.epilog ], [ %rankoffset.0, %if.then137 ], [ %rankoffset.0, %if.else138 ], [ %rankoffset.0, %while.end168 ], [ %rankoffset.0, %if.then187 ], [ %rankoffset.0, %if.else188 ], [ %rankoffset.0, %if.else112 ], [ %rankoffset.0, %if.else139 ]
  %rankp.1 = phi i32 [ %rankp.0, %for.end ], [ %inc44, %if.then43 ], [ %rankp.0, %sw.epilog ], [ %rankp.0, %if.then137 ], [ %rankp.0, %if.else138 ], [ %rankp.0, %while.end168 ], [ %rankp.0, %if.then187 ], [ %rankp.0, %if.else188 ], [ %rankp.0, %if.else112 ], [ %rankp.0, %if.else139 ]
  %i.6 = phi i32 [ %i.1, %for.end ], [ %i.1, %if.then43 ], [ %i.1, %sw.epilog ], [ %i.2, %if.then137 ], [ %i.2, %if.else138 ], [ %dec, %while.end168 ], [ %i.5, %if.then187 ], [ %inc193, %if.else188 ], [ %i.1, %if.else112 ], [ %i.1, %if.else139 ]
  %inc223 = add nsw i32 %i.6, 1
  br label %while.cond2

while.end224:                                     ; preds = %while.cond2, %while.cond2
  tail call void @reset_piece_square() #10
  tail call void @initialize_hash() #10
  ret void
}
