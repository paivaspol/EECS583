define i32 @PUGH_GenerateNeighbours(i32 %dim, i32 %total_procs, i32* nocapture %nprocs, i32** nocapture %neighbours, i32* nocapture %perme) #1 {
entry:
  tail call void @llvm.dbg.value(metadata !{i32 %dim}, i64 0, metadata !108), !dbg !851
  tail call void @llvm.dbg.value(metadata !{i32 %total_procs}, i64 0, metadata !109), !dbg !852
  tail call void @llvm.dbg.value(metadata !{i32* %nprocs}, i64 0, metadata !110), !dbg !853
  tail call void @llvm.dbg.value(metadata !{i32** %neighbours}, i64 0, metadata !111), !dbg !854
  tail call void @llvm.dbg.value(metadata !{i32* %perme}, i64 0, metadata !112), !dbg !855
  %conv = sext i32 %dim to i64, !dbg !856
  %mul = shl nsw i64 %conv, 2, !dbg !856
  %call = tail call noalias i8* @malloc(i64 %mul) #7, !dbg !856
  %0 = bitcast i8* %call to i32*, !dbg !856
  tail call void @llvm.dbg.value(metadata !{i32* %0}, i64 0, metadata !116), !dbg !856
  %tobool = icmp eq i8* %call, null, !dbg !857
  br i1 %tobool, label %if.end97, label %for.cond.preheader, !dbg !857

for.cond.preheader:                               ; preds = %entry
  %cmp169 = icmp sgt i32 %total_procs, 0, !dbg !858
  br i1 %cmp169, label %for.body.lr.ph, label %if.end97, !dbg !858

for.body.lr.ph:                                   ; preds = %for.cond.preheader
  %cmp11.i = icmp sgt i32 %dim, 0, !dbg !861
  br label %for.body, !dbg !858

for.body:                                         ; preds = %for.inc93, %for.body.lr.ph
  %indvars.iv173 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next174, %for.inc93 ]
  %i.0170 = phi i32 [ 0, %for.body.lr.ph ], [ %inc94, %for.inc93 ]
  tail call void @llvm.dbg.value(metadata !{i32 %dim}, i64 0, metadata !865), !dbg !866
  tail call void @llvm.dbg.value(metadata !{i32 %i.0170}, i64 0, metadata !867), !dbg !866
  tail call void @llvm.dbg.value(metadata !{i32* %nprocs}, i64 0, metadata !868), !dbg !866
  tail call void @llvm.dbg.value(metadata !{i32* %0}, i64 0, metadata !869), !dbg !866
  tail call void @llvm.dbg.value(metadata !2, i64 0, metadata !870), !dbg !861
  br i1 %cmp11.i, label %for.body.i, label %for.inc93, !dbg !861

for.body.i:                                       ; preds = %for.body, %for.body.i
  %indvars.iv.i = phi i64 [ %indvars.iv.next.i, %for.body.i ], [ 0, %for.body ]
  %ijk.addr.012.i = phi i32 [ %div.i, %for.body.i ], [ %i.0170, %for.body ]
  %arrayidx.i = getelementptr inbounds i32* %nprocs, i64 %indvars.iv.i, !dbg !871
  %1 = load i32* %arrayidx.i, align 4, !dbg !871, !tbaa !381
  %rem.i = srem i32 %ijk.addr.012.i, %1, !dbg !871
  %arrayidx2.i = getelementptr inbounds i32* %0, i64 %indvars.iv.i, !dbg !871
  store i32 %rem.i, i32* %arrayidx2.i, align 4, !dbg !871, !tbaa !381
  %div.i = sdiv i32 %ijk.addr.012.i, %1, !dbg !873
  tail call void @llvm.dbg.value(metadata !{i32 %div.i}, i64 0, metadata !867), !dbg !873
  %indvars.iv.next.i = add i64 %indvars.iv.i, 1, !dbg !861
  %lftr.wideiv = trunc i64 %indvars.iv.next.i to i32, !dbg !861
  %exitcond = icmp eq i32 %lftr.wideiv, %dim, !dbg !861
  br i1 %exitcond, label %for.cond4.preheader, label %for.body.i, !dbg !861

for.cond4.preheader:                              ; preds = %for.body.i
  br i1 %cmp11.i, label %for.body7.lr.ph, label %for.inc93, !dbg !874

for.body7.lr.ph:                                  ; preds = %for.cond4.preheader
  %arrayidx17 = getelementptr inbounds i32** %neighbours, i64 %indvars.iv173, !dbg !876
  br label %for.body7, !dbg !874

for.body7:                                        ; preds = %if.end88, %for.body7.lr.ph
  %indvars.iv = phi i64 [ 0, %for.body7.lr.ph ], [ %indvars.iv.next, %if.end88 ]
  %arrayidx = getelementptr inbounds i32* %0, i64 %indvars.iv, !dbg !879
  %2 = load i32* %arrayidx, align 4, !dbg !879, !tbaa !381
  %dec = add nsw i32 %2, -1, !dbg !879
  store i32 %dec, i32* %arrayidx, align 4, !dbg !879, !tbaa !381
  %cmp10 = icmp sgt i32 %2, 0, !dbg !880
  br i1 %cmp10, label %if.then12, label %if.else, !dbg !880

if.then12:                                        ; preds = %for.body7
  %call13 = tail call i32 @PUGH_ComposeIJK(i32 %dim, i32* %nprocs, i32* %0) #8, !dbg !876
  %3 = trunc i64 %indvars.iv to i32, !dbg !876
  %mul14 = shl nsw i32 %3, 1, !dbg !876
  %idxprom15 = sext i32 %mul14 to i64, !dbg !876
  %4 = load i32** %arrayidx17, align 8, !dbg !876, !tbaa !397
  %arrayidx18 = getelementptr inbounds i32* %4, i64 %idxprom15, !dbg !876
  store i32 %call13, i32* %arrayidx18, align 4, !dbg !876, !tbaa !381
  br label %if.end43, !dbg !881

if.else:                                          ; preds = %for.body7
  %arrayidx20 = getelementptr inbounds i32* %perme, i64 %indvars.iv, !dbg !882
  %5 = load i32* %arrayidx20, align 4, !dbg !882, !tbaa !381
  %tobool21 = icmp eq i32 %5, 0, !dbg !882
  br i1 %tobool21, label %if.else37, label %if.then22, !dbg !882

if.then22:                                        ; preds = %if.else
  tail call void @llvm.dbg.value(metadata !{i32 %dec}, i64 0, metadata !117), !dbg !883
  %arrayidx26 = getelementptr inbounds i32* %nprocs, i64 %indvars.iv, !dbg !885
  %6 = load i32* %arrayidx26, align 4, !dbg !885, !tbaa !381
  %sub = add nsw i32 %6, -1, !dbg !885
  store i32 %sub, i32* %arrayidx, align 4, !dbg !885, !tbaa !381
  %call29 = tail call i32 @PUGH_ComposeIJK(i32 %dim, i32* %nprocs, i32* %0) #8, !dbg !886
  %7 = trunc i64 %indvars.iv to i32, !dbg !886
  %mul30 = shl nsw i32 %7, 1, !dbg !886
  %idxprom31 = sext i32 %mul30 to i64, !dbg !886
  %8 = load i32** %arrayidx17, align 8, !dbg !886, !tbaa !397
  %arrayidx34 = getelementptr inbounds i32* %8, i64 %idxprom31, !dbg !886
  store i32 %call29, i32* %arrayidx34, align 4, !dbg !886, !tbaa !381
  store i32 %dec, i32* %arrayidx, align 4, !dbg !887, !tbaa !381
  br label %if.end43, !dbg !888

if.else37:                                        ; preds = %if.else
  %9 = trunc i64 %indvars.iv to i32, !dbg !889
  %mul38 = shl nsw i32 %9, 1, !dbg !889
  %idxprom39 = sext i32 %mul38 to i64, !dbg !889
  %10 = load i32** %arrayidx17, align 8, !dbg !889, !tbaa !397
  %arrayidx42 = getelementptr inbounds i32* %10, i64 %idxprom39, !dbg !889
  store i32 -1, i32* %arrayidx42, align 4, !dbg !889, !tbaa !381
  br label %if.end43

if.end43:                                         ; preds = %if.then22, %if.else37, %if.then12
  %11 = phi i32* [ %8, %if.then22 ], [ %10, %if.else37 ], [ %4, %if.then12 ]
  %inc48 = add nsw i32 %2, 1, !dbg !891
  store i32 %inc48, i32* %arrayidx, align 4, !dbg !891, !tbaa !381
  %arrayidx52 = getelementptr inbounds i32* %nprocs, i64 %indvars.iv, !dbg !892
  %12 = load i32* %arrayidx52, align 4, !dbg !892, !tbaa !381
  %cmp53 = icmp slt i32 %inc48, %12, !dbg !892
  br i1 %cmp53, label %if.then55, label %if.else62, !dbg !892

if.then55:                                        ; preds = %if.end43
  %call56 = tail call i32 @PUGH_ComposeIJK(i32 %dim, i32* %nprocs, i32* %0) #8, !dbg !893
  %13 = trunc i64 %indvars.iv to i32, !dbg !893
  %mul57 = shl nsw i32 %13, 1, !dbg !893
  %add166 = or i32 %mul57, 1, !dbg !893
  %idxprom58 = sext i32 %add166 to i64, !dbg !893
  %arrayidx61 = getelementptr inbounds i32* %11, i64 %idxprom58, !dbg !893
  store i32 %call56, i32* %arrayidx61, align 4, !dbg !893, !tbaa !381
  br label %if.end88, !dbg !895

if.else62:                                        ; preds = %if.end43
  %arrayidx64 = getelementptr inbounds i32* %perme, i64 %indvars.iv, !dbg !896
  %14 = load i32* %arrayidx64, align 4, !dbg !896, !tbaa !381
  %tobool65 = icmp eq i32 %14, 0, !dbg !896
  br i1 %tobool65, label %if.else80, label %if.then66, !dbg !896

if.then66:                                        ; preds = %if.else62
  tail call void @llvm.dbg.value(metadata !{i32 %inc48}, i64 0, metadata !117), !dbg !897
  store i32 0, i32* %arrayidx, align 4, !dbg !899, !tbaa !381
  %call71 = tail call i32 @PUGH_ComposeIJK(i32 %dim, i32* %nprocs, i32* %0) #8, !dbg !900
  %15 = trunc i64 %indvars.iv to i32, !dbg !900
  %mul72 = shl nsw i32 %15, 1, !dbg !900
  %add73165 = or i32 %mul72, 1, !dbg !900
  %idxprom74 = sext i32 %add73165 to i64, !dbg !900
  %arrayidx77 = getelementptr inbounds i32* %11, i64 %idxprom74, !dbg !900
  store i32 %call71, i32* %arrayidx77, align 4, !dbg !900, !tbaa !381
  store i32 %inc48, i32* %arrayidx, align 4, !dbg !901, !tbaa !381
  br label %if.end88, !dbg !902

if.else80:                                        ; preds = %if.else62
  %16 = trunc i64 %indvars.iv to i32, !dbg !903
  %mul81 = shl nsw i32 %16, 1, !dbg !903
  %add82164 = or i32 %mul81, 1, !dbg !903
  %idxprom83 = sext i32 %add82164 to i64, !dbg !903
  %arrayidx86 = getelementptr inbounds i32* %11, i64 %idxprom83, !dbg !903
  store i32 -1, i32* %arrayidx86, align 4, !dbg !903, !tbaa !381
  br label %if.end88

if.end88:                                         ; preds = %if.then66, %if.else80, %if.then55
  store i32 %2, i32* %arrayidx, align 4, !dbg !905, !tbaa !381
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !874
  %lftr.wideiv171 = trunc i64 %indvars.iv.next to i32, !dbg !874
  %exitcond172 = icmp eq i32 %lftr.wideiv171, %dim, !dbg !874
  br i1 %exitcond172, label %for.inc93, label %for.body7, !dbg !874

for.inc93:                                        ; preds = %for.body, %if.end88, %for.cond4.preheader
  %indvars.iv.next174 = add i64 %indvars.iv173, 1, !dbg !858
  %inc94 = add nsw i32 %i.0170, 1, !dbg !858
  tail call void @llvm.dbg.value(metadata !{i32 %inc94}, i64 0, metadata !114), !dbg !858
  %lftr.wideiv175 = trunc i64 %indvars.iv.next174 to i32, !dbg !858
  %exitcond176 = icmp eq i32 %lftr.wideiv175, %total_procs, !dbg !858
  br i1 %exitcond176, label %if.end97, label %for.body, !dbg !858

if.end97:                                         ; preds = %for.cond.preheader, %for.inc93, %entry
  %retval1.0 = phi i32 [ 1, %entry ], [ 0, %for.inc93 ], [ 0, %for.cond.preheader ]
  tail call void @free(i8* %call) #7, !dbg !906
  ret i32 %retval1.0, !dbg !907
}
