define i32 @PUGH_SetupPGExtrasSizes(i32 %dim, i32* nocapture %perme, i32 %stagger, i32* nocapture %sh, i32* nocapture %nghosts, i32 %total_procs, i32* %nprocs, i32 %this_proc, %struct.PGExtras* nocapture %this) #1 {
entry:
  tail call void @llvm.dbg.value(metadata !{i32 %dim}, i64 0, metadata !152), !dbg !553
  tail call void @llvm.dbg.value(metadata !{i32* %perme}, i64 0, metadata !153), !dbg !554
  tail call void @llvm.dbg.value(metadata !{i32 %stagger}, i64 0, metadata !154), !dbg !555
  tail call void @llvm.dbg.value(metadata !{i32* %sh}, i64 0, metadata !155), !dbg !556
  tail call void @llvm.dbg.value(metadata !{i32* %nghosts}, i64 0, metadata !156), !dbg !557
  tail call void @llvm.dbg.value(metadata !{i32 %total_procs}, i64 0, metadata !157), !dbg !558
  tail call void @llvm.dbg.value(metadata !{i32* %nprocs}, i64 0, metadata !158), !dbg !559
  tail call void @llvm.dbg.value(metadata !{i32 %this_proc}, i64 0, metadata !159), !dbg !560
  tail call void @llvm.dbg.value(metadata !{%struct.PGExtras* %this}, i64 0, metadata !160), !dbg !561
  tail call void @llvm.dbg.value(metadata !2, i64 0, metadata !161), !dbg !562
  %cmp188 = icmp sgt i32 %dim, 0, !dbg !562
  br i1 %cmp188, label %for.body.lr.ph, label %for.end47, !dbg !562

for.body.lr.ph:                                   ; preds = %entry
  %nsize = getelementptr inbounds %struct.PGExtras* %this, i64 0, i32 1, !dbg !564
  %cmp23 = icmp eq i32 %stagger, 1, !dbg !567
  br label %for.body, !dbg !562

for.cond38.preheader:                             ; preds = %for.inc
  br i1 %cmp188, label %for.body40.lr.ph, label %for.end47, !dbg !568

for.body40.lr.ph:                                 ; preds = %for.cond38.preheader
  %nghostzones = getelementptr inbounds %struct.PGExtras* %this, i64 0, i32 12, !dbg !570
  %0 = load i32** %nghostzones, align 8, !dbg !570, !tbaa !397
  br label %for.body40, !dbg !568

for.body:                                         ; preds = %for.inc, %for.body.lr.ph
  %indvars.iv198 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next199, %for.inc ]
  %arrayidx = getelementptr inbounds i32* %sh, i64 %indvars.iv198, !dbg !572
  %1 = load i32* %arrayidx, align 4, !dbg !572, !tbaa !381
  %cmp1 = icmp slt i32 %1, 0, !dbg !572
  br i1 %cmp1, label %land.lhs.true, label %if.else, !dbg !572

land.lhs.true:                                    ; preds = %for.body
  %arrayidx3 = getelementptr inbounds i32* %nprocs, i64 %indvars.iv198, !dbg !572
  %2 = load i32* %arrayidx3, align 4, !dbg !572, !tbaa !381
  %cmp4 = icmp sgt i32 %2, 1, !dbg !572
  br i1 %cmp4, label %if.then, label %if.else, !dbg !572

if.then:                                          ; preds = %land.lhs.true
  %sub = add nsw i32 %2, -2, !dbg !564
  %sub9 = sub nsw i32 0, %1, !dbg !564
  %arrayidx11 = getelementptr inbounds i32* %nghosts, i64 %indvars.iv198, !dbg !564
  %3 = load i32* %arrayidx11, align 4, !dbg !564, !tbaa !381
  %mul = shl nsw i32 %3, 1, !dbg !564
  %sub12 = sub nsw i32 %sub9, %mul, !dbg !564
  %mul13 = mul nsw i32 %sub12, %sub, !dbg !564
  %sub19 = sub nsw i32 %sub9, %3, !dbg !564
  %mul20 = shl i32 %sub19, 1, !dbg !564
  %add = add nsw i32 %mul13, %mul20, !dbg !564
  %4 = load i32** %nsize, align 8, !dbg !564, !tbaa !397
  %arrayidx22 = getelementptr inbounds i32* %4, i64 %indvars.iv198, !dbg !564
  store i32 %add, i32* %arrayidx22, align 4, !dbg !564, !tbaa !381
  br i1 %cmp23, label %if.then24, label %for.inc, !dbg !567

if.then24:                                        ; preds = %if.then
  %5 = load i32* %arrayidx3, align 4, !dbg !573, !tbaa !381
  %sub27.neg = sub i32 1, %5, !dbg !573
  %sub31 = add i32 %sub27.neg, %add, !dbg !573
  store i32 %sub31, i32* %arrayidx22, align 4, !dbg !573, !tbaa !381
  br label %for.inc, !dbg !575

if.else:                                          ; preds = %land.lhs.true, %for.body
  %ispos = icmp sgt i32 %1, -1, !dbg !576
  %neg = sub i32 0, %1, !dbg !576
  %6 = select i1 %ispos, i32 %1, i32 %neg, !dbg !576
  %7 = load i32** %nsize, align 8, !dbg !576, !tbaa !397
  %arrayidx36 = getelementptr inbounds i32* %7, i64 %indvars.iv198, !dbg !576
  store i32 %6, i32* %arrayidx36, align 4, !dbg !576, !tbaa !381
  br label %for.inc

for.inc:                                          ; preds = %if.else, %if.then24, %if.then
  %indvars.iv.next199 = add i64 %indvars.iv198, 1, !dbg !562
  %lftr.wideiv200 = trunc i64 %indvars.iv.next199 to i32, !dbg !562
  %exitcond201 = icmp eq i32 %lftr.wideiv200, %dim, !dbg !562
  br i1 %exitcond201, label %for.cond38.preheader, label %for.body, !dbg !562

for.body40:                                       ; preds = %for.body40, %for.body40.lr.ph
  %indvars.iv194 = phi i64 [ 0, %for.body40.lr.ph ], [ %indvars.iv.next195, %for.body40 ]
  %arrayidx42 = getelementptr inbounds i32* %nghosts, i64 %indvars.iv194, !dbg !570
  %8 = load i32* %arrayidx42, align 4, !dbg !570, !tbaa !381
  %arrayidx44 = getelementptr inbounds i32* %0, i64 %indvars.iv194, !dbg !570
  store i32 %8, i32* %arrayidx44, align 4, !dbg !570, !tbaa !381
  %indvars.iv.next195 = add i64 %indvars.iv194, 1, !dbg !568
  %lftr.wideiv196 = trunc i64 %indvars.iv.next195 to i32, !dbg !568
  %exitcond197 = icmp eq i32 %lftr.wideiv196, %dim, !dbg !568
  br i1 %exitcond197, label %for.end47, label %for.body40, !dbg !568

for.end47:                                        ; preds = %entry, %for.body40, %for.cond38.preheader
  %call48 = tail call i32 @PUGH_SetupBoundingBox(i32 %dim, i32* undef, i32 %stagger, i32* undef, i32* %nghosts, i32 %total_procs, i32* %nprocs, %struct.PGExtras* %this) #8, !dbg !578
  %call49 = tail call i32 @PUGH_SetupRemoteSizes(i32 %dim, i32* undef, i32 undef, i32* undef, i32* undef, i32 %total_procs, i32* undef, %struct.PGExtras* %this) #8, !dbg !579
  tail call void @llvm.dbg.value(metadata !2, i64 0, metadata !161), !dbg !580
  %idxprom54 = sext i32 %this_proc to i64, !dbg !582
  br i1 %cmp188, label %for.body52.lr.ph, label %for.end61, !dbg !580

for.body52.lr.ph:                                 ; preds = %for.end47
  %rnsize = getelementptr inbounds %struct.PGExtras* %this, i64 0, i32 9, !dbg !582
  %9 = load i32*** %rnsize, align 8, !dbg !582, !tbaa !397
  %arrayidx55 = getelementptr inbounds i32** %9, i64 %idxprom54, !dbg !582
  %10 = load i32** %arrayidx55, align 8, !dbg !582, !tbaa !397
  %lnsize = getelementptr inbounds %struct.PGExtras* %this, i64 0, i32 6, !dbg !582
  %11 = load i32** %lnsize, align 8, !dbg !582, !tbaa !397
  br label %for.body52, !dbg !580

for.body52:                                       ; preds = %for.body52, %for.body52.lr.ph
  %indvars.iv190 = phi i64 [ 0, %for.body52.lr.ph ], [ %indvars.iv.next191, %for.body52 ]
  %arrayidx56 = getelementptr inbounds i32* %10, i64 %indvars.iv190, !dbg !582
  %12 = load i32* %arrayidx56, align 4, !dbg !582, !tbaa !381
  %arrayidx58 = getelementptr inbounds i32* %11, i64 %indvars.iv190, !dbg !582
  store i32 %12, i32* %arrayidx58, align 4, !dbg !582, !tbaa !381
  %indvars.iv.next191 = add i64 %indvars.iv190, 1, !dbg !580
  %lftr.wideiv192 = trunc i64 %indvars.iv.next191 to i32, !dbg !580
  %exitcond193 = icmp eq i32 %lftr.wideiv192, %dim, !dbg !580
  br i1 %exitcond193, label %for.end61, label %for.body52, !dbg !580

for.end61:                                        ; preds = %for.end47, %for.body52
  %rnpoints = getelementptr inbounds %struct.PGExtras* %this, i64 0, i32 8, !dbg !584
  %13 = load i32** %rnpoints, align 8, !dbg !584, !tbaa !397
  %arrayidx63 = getelementptr inbounds i32* %13, i64 %idxprom54, !dbg !584
  %14 = load i32* %arrayidx63, align 4, !dbg !584, !tbaa !381
  %npoints = getelementptr inbounds %struct.PGExtras* %this, i64 0, i32 7, !dbg !584
  store i32 %14, i32* %npoints, align 4, !dbg !584, !tbaa !381
  tail call void @llvm.dbg.value(metadata !{i32 %14}, i64 0, metadata !162), !dbg !585
  tail call void @llvm.dbg.value(metadata !{i32 %14}, i64 0, metadata !163), !dbg !586
  tail call void @llvm.dbg.value(metadata !2, i64 0, metadata !164), !dbg !587
  tail call void @llvm.dbg.value(metadata !2, i64 0, metadata !165), !dbg !588
  %cmp67177 = icmp sgt i32 %total_procs, 0, !dbg !588
  br i1 %cmp67177, label %for.body68, label %for.end93, !dbg !588

for.body68:                                       ; preds = %for.end61, %for.body68
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.body68 ], [ 0, %for.end61 ]
  %avgpoints.0180 = phi i32 [ %add90, %for.body68 ], [ 0, %for.end61 ]
  %minpoints.0179 = phi i32 [ %cond86, %for.body68 ], [ %14, %for.end61 ]
  %maxpoints.0178 = phi i32 [ %.maxpoints.0, %for.body68 ], [ %14, %for.end61 ]
  %arrayidx71 = getelementptr inbounds i32* %13, i64 %indvars.iv, !dbg !590
  %15 = load i32* %arrayidx71, align 4, !dbg !590, !tbaa !381
  %cmp72 = icmp slt i32 %maxpoints.0178, %15, !dbg !590
  %.maxpoints.0 = select i1 %cmp72, i32 %15, i32 %maxpoints.0178, !dbg !590
  tail call void @llvm.dbg.value(metadata !{i32 %.maxpoints.0}, i64 0, metadata !162), !dbg !590
  %cmp79 = icmp sgt i32 %minpoints.0179, %15, !dbg !592
  %cond86 = select i1 %cmp79, i32 %15, i32 %minpoints.0179, !dbg !592
  tail call void @llvm.dbg.value(metadata !{i32 %cond86}, i64 0, metadata !163), !dbg !592
  %add90 = add nsw i32 %15, %avgpoints.0180, !dbg !593
  tail call void @llvm.dbg.value(metadata !{i32 %add90}, i64 0, metadata !164), !dbg !593
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !588
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32, !dbg !588
  %exitcond = icmp eq i32 %lftr.wideiv, %total_procs, !dbg !588
  br i1 %exitcond, label %for.end93, label %for.body68, !dbg !588

for.end93:                                        ; preds = %for.body68, %for.end61
  %avgpoints.0.lcssa = phi i32 [ 0, %for.end61 ], [ %add90, %for.body68 ]
  %minpoints.0.lcssa = phi i32 [ %14, %for.end61 ], [ %cond86, %for.body68 ]
  %maxpoints.0.lcssa = phi i32 [ %14, %for.end61 ], [ %.maxpoints.0, %for.body68 ]
  %div = sdiv i32 %avgpoints.0.lcssa, %total_procs, !dbg !594
  tail call void @llvm.dbg.value(metadata !{i32 %div}, i64 0, metadata !164), !dbg !594
  %cmp94 = icmp sgt i32 %div, 0, !dbg !595
  br i1 %cmp94, label %cond.true95, label %cond.end100, !dbg !595

cond.true95:                                      ; preds = %for.end93
  %sub96 = sub nsw i32 %maxpoints.0.lcssa, %minpoints.0.lcssa, !dbg !595
  %mul97 = mul nsw i32 %sub96, 100, !dbg !595
  %div98 = sdiv i32 %mul97, %div, !dbg !595
  %phitmp = sitofp i32 %div98 to double, !dbg !595
  br label %cond.end100, !dbg !595

cond.end100:                                      ; preds = %for.end93, %cond.true95
  %cond101 = phi double [ %phitmp, %cond.true95 ], [ 0.000000e+00, %for.end93 ]
  %maxskew = getelementptr inbounds %struct.PGExtras* %this, i64 0, i32 2, !dbg !595
  store double %cond101, double* %maxskew, align 8, !dbg !595, !tbaa !596
  ret i32 0, !dbg !597
}
