define i32 @regcomp(%struct.re_pattern_buffer* %preg, i8* %pattern, i32 %cflags) #0 {
  %1 = and i32 %cflags, 1
  %2 = icmp ne i32 %1, 0
  %3 = select i1 %2, i64 242396, i64 66246
  %4 = bitcast %struct.re_pattern_buffer* %preg to i8*
  call void @llvm.memset.p0i8.i64(i8* %4, i8 0, i64 24, i32 8, i1 false)
  %5 = tail call i8* @malloc(i64 256) #7
  %6 = getelementptr inbounds %struct.re_pattern_buffer* %preg, i64 0, i32 4
  store i8* %5, i8** %6, align 8, !tbaa !6
  %7 = and i32 %cflags, 2
  %8 = icmp eq i32 %7, 0
  br i1 %8, label %28, label %9

; <label>:9                                       ; preds = %0
  %10 = tail call i8* @malloc(i64 256) #7
  %11 = getelementptr inbounds %struct.re_pattern_buffer* %preg, i64 0, i32 5
  store i8* %10, i8** %11, align 8, !tbaa !16
  %12 = icmp eq i8* %10, null
  br i1 %12, label %61, label %.preheader

.preheader:                                       ; preds = %9, %22
  %indvars.iv = phi i64 [ %indvars.iv.next, %22 ], [ 0, %9 ]
  %13 = trunc i64 %indvars.iv to i32
  %isascii.i.i = icmp ult i32 %13, 128
  br i1 %isascii.i.i, label %14, label %18

; <label>:14                                      ; preds = %.preheader
  %15 = getelementptr inbounds %struct._RuneLocale* @_DefaultRuneLocale, i64 0, i32 5, i64 %indvars.iv
  %16 = load i32* %15, align 4, !tbaa !15
  %17 = and i32 %16, 32768
  br label %isupper.exit

; <label>:18                                      ; preds = %.preheader
  %19 = tail call i32 @__maskrune(i32 %13, i64 32768) #7
  br label %isupper.exit

isupper.exit:                                     ; preds = %14, %18
  %.sink.i.in.i = phi i32 [ %17, %14 ], [ %19, %18 ]
  %.sink.i.i = icmp eq i32 %.sink.i.in.i, 0
  br i1 %.sink.i.i, label %22, label %20

; <label>:20                                      ; preds = %isupper.exit
  %21 = tail call i32 @__tolower(i32 %13) #7
  br label %22

; <label>:22                                      ; preds = %isupper.exit, %20
  %23 = phi i32 [ %21, %20 ], [ %13, %isupper.exit ]
  %24 = trunc i32 %23 to i8
  %25 = and i64 %indvars.iv, 4294967295
  %26 = load i8** %11, align 8, !tbaa !16
  %27 = getelementptr inbounds i8* %26, i64 %25
  store i8 %24, i8* %27, align 1, !tbaa !12
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond = icmp eq i64 %indvars.iv.next, 256
  br i1 %exitcond, label %.loopexit, label %.preheader

; <label>:28                                      ; preds = %0
  %29 = getelementptr inbounds %struct.re_pattern_buffer* %preg, i64 0, i32 5
  store i8* null, i8** %29, align 8, !tbaa !16
  br label %.loopexit

.loopexit:                                        ; preds = %22, %28
  %30 = and i32 %cflags, 4
  %31 = icmp eq i32 %30, 0
  br i1 %31, label %38, label %32

; <label>:32                                      ; preds = %.loopexit
  %33 = and i64 %3, 242334
  %34 = or i64 %33, 256
  %35 = getelementptr inbounds %struct.re_pattern_buffer* %preg, i64 0, i32 7
  %36 = load i8* %35, align 8
  %37 = or i8 %36, -128
  store i8 %37, i8* %35, align 8
  br label %42

; <label>:38                                      ; preds = %.loopexit
  %39 = getelementptr inbounds %struct.re_pattern_buffer* %preg, i64 0, i32 7
  %40 = load i8* %39, align 8
  %41 = and i8 %40, 127
  store i8 %41, i8* %39, align 8
  br label %42

; <label>:42                                      ; preds = %38, %32
  %.pre-phi = phi i8* [ %39, %38 ], [ %35, %32 ]
  %43 = phi i8 [ %41, %38 ], [ %37, %32 ]
  %syntax.0 = phi i64 [ %3, %38 ], [ %34, %32 ]
  %44 = shl i32 %cflags, 1
  %45 = trunc i32 %44 to i8
  %46 = and i8 %45, 16
  %47 = and i8 %43, -17
  %48 = or i8 %47, %46
  store i8 %48, i8* %.pre-phi, align 8
  %49 = tail call i64 @strlen(i8* %pattern) #7
  %50 = tail call fastcc i32 @regex_compile(i8* %pattern, i64 %49, i64 %syntax.0, %struct.re_pattern_buffer* %preg) #8
  %51 = icmp eq i32 %50, 16
  %. = select i1 %51, i32 8, i32 %50
  %52 = icmp eq i32 %., 0
  br i1 %52, label %53, label %61

; <label>:53                                      ; preds = %42
  %54 = load i8** %6, align 8, !tbaa !6
  %55 = icmp eq i8* %54, null
  br i1 %55, label %61, label %56

; <label>:56                                      ; preds = %53
  %57 = tail call i32 @re_compile_fastmap(%struct.re_pattern_buffer* %preg) #8
  %58 = icmp eq i32 %57, -2
  br i1 %58, label %59, label %61

; <label>:59                                      ; preds = %56
  %60 = load i8** %6, align 8, !tbaa !6
  tail call void @free(i8* %60) #8
  store i8* null, i8** %6, align 8, !tbaa !6
  br label %61

; <label>:61                                      ; preds = %42, %59, %56, %53, %9
  %.0 = phi i32 [ 12, %9 ], [ 0, %53 ], [ 0, %56 ], [ 0, %59 ], [ %., %42 ]
  ret i32 %.0
}
