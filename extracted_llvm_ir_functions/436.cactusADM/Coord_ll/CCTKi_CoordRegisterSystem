define i32 @CCTKi_CoordRegisterSystem(i32 %dim, i8* %thorn, i8* %systemname) #1 {
entry:
  %new_system = alloca %struct.Coordsystem*, align 8
  call void @llvm.dbg.value(metadata !{i32 %dim}, i64 0, metadata !16), !dbg !385
  call void @llvm.dbg.value(metadata !{i8* %thorn}, i64 0, metadata !17), !dbg !386
  call void @llvm.dbg.value(metadata !{i8* %systemname}, i64 0, metadata !18), !dbg !387
  call void @llvm.dbg.value(metadata !388, i64 0, metadata !19), !dbg !389
  call void @llvm.dbg.declare(metadata !{%struct.Coordsystem** %new_system}, metadata !20), !dbg !390
  %0 = load %struct.cHandledData** @CoordSystems, align 8, !dbg !391, !tbaa !392
  %1 = bitcast %struct.Coordsystem** %new_system to i8**, !dbg !391
  %call = call i32 @Util_GetHandle(%struct.cHandledData* %0, i8* %systemname, i8** %1) #6, !dbg !391
  call void @llvm.dbg.value(metadata !{%struct.Coordsystem** %new_system}, i64 0, metadata !20), !dbg !395
  %2 = load %struct.Coordsystem** %new_system, align 8, !dbg !395, !tbaa !392
  %tobool = icmp eq %struct.Coordsystem* %2, null, !dbg !395
  br i1 %tobool, label %if.then, label %if.else13, !dbg !395

if.then:                                          ; preds = %entry
  %call2 = call noalias i8* @malloc(i64 32) #6, !dbg !396
  %3 = bitcast i8* %call2 to %struct.Coordsystem*, !dbg !396
  call void @llvm.dbg.value(metadata !{%struct.Coordsystem* %3}, i64 0, metadata !20), !dbg !396
  store %struct.Coordsystem* %3, %struct.Coordsystem** %new_system, align 8, !dbg !396, !tbaa !392
  %tobool3 = icmp eq i8* %call2, null, !dbg !398
  br i1 %tobool3, label %if.end22, label %if.then4, !dbg !398

if.then4:                                         ; preds = %if.then
  %cmp = icmp sgt i32 %dim, 0, !dbg !399
  br i1 %cmp, label %if.then5, label %if.else, !dbg !399

if.then5:                                         ; preds = %if.then4
  %dimension = getelementptr inbounds i8* %call2, i64 8, !dbg !401
  %4 = bitcast i8* %dimension to i32*, !dbg !401
  store i32 %dim, i32* %4, align 4, !dbg !401, !tbaa !403
  %call6 = call i8* @CCTK_ThornImplementation(i8* %thorn) #6, !dbg !404
  call void @llvm.dbg.value(metadata !{%struct.Coordsystem** %new_system}, i64 0, metadata !20), !dbg !404
  %5 = load %struct.Coordsystem** %new_system, align 8, !dbg !404, !tbaa !392
  %implementation = getelementptr inbounds %struct.Coordsystem* %5, i64 0, i32 0, !dbg !404
  store i8* %call6, i8** %implementation, align 8, !dbg !404, !tbaa !392
  %call7 = call noalias i8* @strdup(i8* %systemname) #6, !dbg !405
  call void @llvm.dbg.value(metadata !{%struct.Coordsystem** %new_system}, i64 0, metadata !20), !dbg !405
  %6 = load %struct.Coordsystem** %new_system, align 8, !dbg !405, !tbaa !392
  %systemname8 = getelementptr inbounds %struct.Coordsystem* %6, i64 0, i32 2, !dbg !405
  store i8* %call7, i8** %systemname8, align 8, !dbg !405, !tbaa !392
  %conv = sext i32 %dim to i64, !dbg !406
  %call9 = call noalias i8* @calloc(i64 %conv, i64 32) #6, !dbg !406
  %7 = bitcast i8* %call9 to %struct.Coordprops*, !dbg !406
  call void @llvm.dbg.value(metadata !{%struct.Coordsystem** %new_system}, i64 0, metadata !20), !dbg !406
  %8 = load %struct.Coordsystem** %new_system, align 8, !dbg !406, !tbaa !392
  %coords = getelementptr inbounds %struct.Coordsystem* %8, i64 0, i32 3, !dbg !406
  store %struct.Coordprops* %7, %struct.Coordprops** %coords, align 8, !dbg !406, !tbaa !392
  call void @llvm.dbg.value(metadata !{%struct.Coordsystem** %new_system}, i64 0, metadata !20), !dbg !407
  %9 = load %struct.Coordsystem** %new_system, align 8, !dbg !407, !tbaa !392
  %10 = bitcast %struct.Coordsystem* %9 to i8*, !dbg !407
  %call10 = call i32 @Util_NewHandle(%struct.cHandledData** @CoordSystems, i8* %systemname, i8* %10) #6, !dbg !407
  call void @llvm.dbg.value(metadata !{i32 %call10}, i64 0, metadata !19), !dbg !407
  %11 = load i32* @num_systems, align 4, !dbg !408, !tbaa !403
  %inc = add nsw i32 %11, 1, !dbg !408
  store i32 %inc, i32* @num_systems, align 4, !dbg !408, !tbaa !403
  br label %if.end22, !dbg !409

if.else:                                          ; preds = %if.then4
  call void @llvm.dbg.value(metadata !410, i64 0, metadata !19), !dbg !411
  %call11 = call i32 (i32, i32, i8*, i8*, i8*, ...)* @CCTK_VWarn(i32 1, i32 192, i8* getelementptr inbounds ([62 x i8]* @.str, i64 0, i64 0), i8* getelementptr inbounds ([7 x i8]* @.str1, i64 0, i64 0), i8* getelementptr inbounds ([49 x i8]* @.str2, i64 0, i64 0), i32 %dim) #6, !dbg !413
  br label %if.end22

if.else13:                                        ; preds = %entry
  %dimension14 = getelementptr inbounds %struct.Coordsystem* %2, i64 0, i32 1, !dbg !414
  %12 = load i32* %dimension14, align 4, !dbg !414, !tbaa !403
  %cmp15 = icmp eq i32 %12, %dim, !dbg !414
  br i1 %cmp15, label %if.then17, label %if.else19, !dbg !414

if.then17:                                        ; preds = %if.else13
  call void @llvm.dbg.value(metadata !2, i64 0, metadata !19), !dbg !416
  %call18 = call i32 (i32, i32, i8*, i8*, i8*, ...)* @CCTK_VWarn(i32 4, i32 203, i8* getelementptr inbounds ([62 x i8]* @.str, i64 0, i64 0), i8* getelementptr inbounds ([7 x i8]* @.str1, i64 0, i64 0), i8* getelementptr inbounds ([57 x i8]* @.str3, i64 0, i64 0), i8* %systemname) #6, !dbg !418
  br label %if.end22, !dbg !419

if.else19:                                        ; preds = %if.else13
  call void @llvm.dbg.value(metadata !388, i64 0, metadata !19), !dbg !420
  %call20 = call i32 (i32, i32, i8*, i8*, i8*, ...)* @CCTK_VWarn(i32 1, i32 210, i8* getelementptr inbounds ([62 x i8]* @.str, i64 0, i64 0), i8* getelementptr inbounds ([7 x i8]* @.str1, i64 0, i64 0), i8* getelementptr inbounds ([82 x i8]* @.str4, i64 0, i64 0), i8* %systemname) #6, !dbg !422
  br label %if.end22

if.end22:                                         ; preds = %if.then, %if.then17, %if.else19, %if.else, %if.then5
  %retval1.0 = phi i32 [ 0, %if.then17 ], [ -1, %if.else19 ], [ %call10, %if.then5 ], [ -2, %if.else ], [ -1, %if.then ]
  ret i32 %retval1.0, !dbg !423
}
