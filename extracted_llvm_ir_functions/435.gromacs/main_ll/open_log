define void @open_log(i8* %lognm, %struct.t_commrec* nocapture %cr) #0 {
entry:
  %len = alloca i32, align 4
  %testlen = alloca i32, align 4
  %nnodes = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 1
  %0 = load i32* %nnodes, align 4, !tbaa !2
  %cmp = icmp sgt i32 %0, 1
  br i1 %cmp, label %if.then, label %if.end15

if.then:                                          ; preds = %entry
  %nodeid = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 0
  %1 = load i32* %nodeid, align 4, !tbaa !2
  %cmp1 = icmp eq i32 %1, 0
  br i1 %cmp1, label %land.lhs.true, label %if.else

land.lhs.true:                                    ; preds = %if.then
  %threadid = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 4
  %2 = load i32* %threadid, align 4, !tbaa !2
  %cmp2 = icmp eq i32 %2, 0
  br i1 %cmp2, label %if.then3, label %if.else

if.then3:                                         ; preds = %land.lhs.true
  %call = call i64 @strlen(i8* %lognm) #6
  %add = add i64 %call, 1
  %conv = trunc i64 %add to i32
  store i32 %conv, i32* %len, align 4, !tbaa !2
  %right = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 3
  %3 = load i32* %right, align 4, !tbaa !2
  %4 = bitcast i32* %len to i8*
  call void @gmx_txs(i32 %3, i8* %4, i32 4) #5
  %left = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 2
  %5 = load i32* %left, align 4, !tbaa !2
  %6 = bitcast i32* %testlen to i8*
  call void @gmx_rxs(i32 %5, i8* %6, i32 4) #5
  %7 = load i32* %right, align 4, !tbaa !2
  %8 = load i32* %len, align 4, !tbaa !2
  call void @gmx_txs(i32 %7, i8* %lognm, i32 %8) #5
  %9 = load i32* %left, align 4, !tbaa !2
  %10 = load i32* %len, align 4, !tbaa !2
  call void @gmx_rxs(i32 %9, i8* %lognm, i32 %10) #5
  %11 = load i32* %len, align 4, !tbaa !2
  %12 = load i32* %testlen, align 4, !tbaa !2
  %cmp6 = icmp eq i32 %11, %12
  br i1 %cmp6, label %if.end15, label %if.then8

if.then8:                                         ; preds = %if.then3
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([31 x i8]* @.str11, i64 0, i64 0)) #5
  br label %if.end15

if.else:                                          ; preds = %land.lhs.true, %if.then
  %left9 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 2
  %13 = load i32* %left9, align 4, !tbaa !2
  %14 = bitcast i32* %len to i8*
  call void @gmx_rxs(i32 %13, i8* %14, i32 4) #5
  %right10 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 3
  %15 = load i32* %right10, align 4, !tbaa !2
  call void @gmx_txs(i32 %15, i8* %14, i32 4) #5
  %16 = load i32* %len, align 4, !tbaa !2
  %call11 = call i8* @save_calloc(i8* getelementptr inbounds ([6 x i8]* @.str12, i64 0, i64 0), i8* getelementptr inbounds ([52 x i8]* @.str6, i64 0, i64 0), i32 195, i32 %16, i32 1) #5
  %17 = load i32* %left9, align 4, !tbaa !2
  %18 = load i32* %len, align 4, !tbaa !2
  call void @gmx_rxs(i32 %17, i8* %call11, i32 %18) #5
  %19 = load i32* %right10, align 4, !tbaa !2
  %20 = load i32* %len, align 4, !tbaa !2
  call void @gmx_txs(i32 %19, i8* %call11, i32 %20) #5
  br label %if.end15

if.end15:                                         ; preds = %if.then3, %if.else, %if.then8, %entry
  %lognm.addr.0 = phi i8* [ %lognm, %if.then8 ], [ %lognm, %if.then3 ], [ %call11, %if.else ], [ %lognm, %entry ]
  %call16 = call i8* @par_fn(i8* %lognm.addr.0, i32 18, %struct.t_commrec* %cr) #7
  %call17 = call %struct._IO_FILE* @ffopen(i8* getelementptr inbounds ([256 x i8]* @par_fn.buf, i64 0, i64 0), i8* getelementptr inbounds ([2 x i8]* @.str13, i64 0, i64 0)) #5
  store %struct._IO_FILE* %call17, %struct._IO_FILE** @stdlog, align 8, !tbaa !3
  %call18 = call i32 @getpid() #5
  %21 = load %struct._IO_FILE** @stdlog, align 8, !tbaa !3
  %tobool = icmp eq %struct._IO_FILE* %21, null
  br i1 %tobool, label %if.end25, label %if.then19

if.then19:                                        ; preds = %if.end15
  %nodeid20 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 0
  %22 = load i32* %nodeid20, align 4, !tbaa !2
  %23 = load i32* %nnodes, align 4, !tbaa !2
  %call23 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %21, i8* getelementptr inbounds ([66 x i8]* @.str14, i64 0, i64 0), i32 %22, i32 %23, i8* getelementptr inbounds ([8 x i8]* @.str15, i64 0, i64 0), i32 %call18) #5
  %24 = load %struct._IO_FILE** @stdlog, align 8, !tbaa !3
  %call24 = call i32 @fflush(%struct._IO_FILE* %24) #5
  br label %if.end25

if.end25:                                         ; preds = %if.end15, %if.then19
  ret void
}
