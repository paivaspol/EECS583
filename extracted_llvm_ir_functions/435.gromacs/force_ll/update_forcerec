define void @update_forcerec(%struct._IO_FILE* %log, %struct.t_forcerec* nocapture %fr, [3 x float]* nocapture %box) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %log}, i64 0, metadata !423), !dbg !1181
  tail call void @llvm.dbg.value(metadata !{%struct.t_forcerec* %fr}, i64 0, metadata !424), !dbg !1181
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %box}, i64 0, metadata !425), !dbg !1181
  %eeltype = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 33, !dbg !1182
  %0 = load i32* %eeltype, align 4, !dbg !1182, !tbaa !1183
  %epsilon_r = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 5, !dbg !1182
  %1 = load float* %epsilon_r, align 4, !dbg !1182, !tbaa !1186
  %rcoulomb = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 23, !dbg !1182
  %2 = load float* %rcoulomb, align 4, !dbg !1182, !tbaa !1186
  %temp = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 4, !dbg !1182
  %3 = load float* %temp, align 4, !dbg !1182, !tbaa !1186
  %kappa = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 8, !dbg !1182
  %epsfac = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 6, !dbg !1182
  %k_rf = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 9, !dbg !1182
  %c_rf = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 10, !dbg !1182
  tail call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %log}, i64 0, metadata !1187) #4, !dbg !1188
  tail call void @llvm.dbg.value(metadata !{i32 %0}, i64 0, metadata !1189) #4, !dbg !1188
  tail call void @llvm.dbg.value(metadata !{float %1}, i64 0, metadata !1190) #4, !dbg !1188
  tail call void @llvm.dbg.value(metadata !{float %2}, i64 0, metadata !1191) #4, !dbg !1188
  tail call void @llvm.dbg.value(metadata !{float %3}, i64 0, metadata !1192) #4, !dbg !1188
  tail call void @llvm.dbg.value(metadata !{float %5}, i64 0, metadata !1193) #4, !dbg !1194
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %box}, i64 0, metadata !1195) #4, !dbg !1194
  tail call void @llvm.dbg.value(metadata !{float* %kappa}, i64 0, metadata !1196) #4, !dbg !1197
  tail call void @llvm.dbg.value(metadata !{float* %epsfac}, i64 0, metadata !1198) #4, !dbg !1197
  tail call void @llvm.dbg.value(metadata !{float* %k_rf}, i64 0, metadata !1199) #4, !dbg !1197
  tail call void @llvm.dbg.value(metadata !{float* %c_rf}, i64 0, metadata !1200) #4, !dbg !1197
  %cmp1.i = icmp eq i32 %0, 2, !dbg !1201
  %eel.off.i = add i32 %0, -1, !dbg !1201
  %4 = icmp ult i32 %eel.off.i, 2, !dbg !1201
  br i1 %4, label %if.then.i, label %if.else72.i, !dbg !1201

if.then.i:                                        ; preds = %entry
  %zsquare = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 3, !dbg !1182
  %5 = load float* %zsquare, align 4, !dbg !1182, !tbaa !1186
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %box}, i64 0, metadata !1202) #4, !dbg !1205
  %arrayidx1.i.i = getelementptr inbounds [3 x float]* %box, i64 0, i64 0, !dbg !1206
  %6 = load float* %arrayidx1.i.i, align 4, !dbg !1206, !tbaa !1186
  %arrayidx3.i.i = getelementptr inbounds [3 x float]* %box, i64 1, i64 1, !dbg !1206
  %7 = load float* %arrayidx3.i.i, align 4, !dbg !1206, !tbaa !1186
  %arrayidx5.i.i = getelementptr inbounds [3 x float]* %box, i64 2, i64 2, !dbg !1206
  %8 = load float* %arrayidx5.i.i, align 4, !dbg !1206, !tbaa !1186
  %mul.i.i = fmul float %7, %8, !dbg !1206
  %arrayidx7.i.i = getelementptr inbounds [3 x float]* %box, i64 2, i64 1, !dbg !1206
  %9 = load float* %arrayidx7.i.i, align 4, !dbg !1206, !tbaa !1186
  %arrayidx9.i.i = getelementptr inbounds [3 x float]* %box, i64 1, i64 2, !dbg !1206
  %10 = load float* %arrayidx9.i.i, align 4, !dbg !1206, !tbaa !1186
  %mul10.i.i = fmul float %9, %10, !dbg !1206
  %sub.i.i = fsub float %mul.i.i, %mul10.i.i, !dbg !1206
  %mul11.i.i = fmul float %6, %sub.i.i, !dbg !1206
  %arrayidx13.i.i = getelementptr inbounds [3 x float]* %box, i64 1, i64 0, !dbg !1206
  %11 = load float* %arrayidx13.i.i, align 4, !dbg !1206, !tbaa !1186
  %arrayidx15.i.i = getelementptr inbounds [3 x float]* %box, i64 0, i64 1, !dbg !1206
  %12 = load float* %arrayidx15.i.i, align 4, !dbg !1206, !tbaa !1186
  %mul18.i.i = fmul float %8, %12, !dbg !1206
  %arrayidx22.i.i = getelementptr inbounds [3 x float]* %box, i64 0, i64 2, !dbg !1206
  %13 = load float* %arrayidx22.i.i, align 4, !dbg !1206, !tbaa !1186
  %mul23.i.i = fmul float %9, %13, !dbg !1206
  %sub24.i.i = fsub float %mul18.i.i, %mul23.i.i, !dbg !1206
  %mul25.i.i = fmul float %11, %sub24.i.i, !dbg !1206
  %sub26.i.i = fsub float %mul11.i.i, %mul25.i.i, !dbg !1206
  %arrayidx28.i.i = getelementptr inbounds [3 x float]* %box, i64 2, i64 0, !dbg !1206
  %14 = load float* %arrayidx28.i.i, align 4, !dbg !1206, !tbaa !1186
  %mul33.i.i = fmul float %10, %12, !dbg !1206
  %mul38.i.i = fmul float %7, %13, !dbg !1206
  %sub39.i.i = fsub float %mul33.i.i, %mul38.i.i, !dbg !1206
  %mul40.i.i = fmul float %14, %sub39.i.i, !dbg !1206
  %add.i.i = fadd float %mul40.i.i, %sub26.i.i, !dbg !1206
  tail call void @llvm.dbg.value(metadata !{float %add.i.i}, i64 0, metadata !1207) #4, !dbg !1203
  %div.i = fdiv float %5, %add.i.i, !dbg !1208
  tail call void @llvm.dbg.value(metadata !{float %div.i}, i64 0, metadata !1209) #4, !dbg !1208
  br i1 %cmp1.i, label %if.then3.i, label %if.then.if.end17_crit_edge.i, !dbg !1210

if.then.if.end17_crit_edge.i:                     ; preds = %if.then.i
  %conv18.pre.i = fpext float %1 to double, !dbg !1211
  br label %if.end17.i, !dbg !1210

if.then3.i:                                       ; preds = %if.then.i
  %conv.i = fpext float %3 to double, !dbg !1212
  %cmp4.i = fcmp ugt float %3, 0.000000e+00, !dbg !1212
  br i1 %cmp4.i, label %if.end.i, label %if.then6.i, !dbg !1212

if.then6.i:                                       ; preds = %if.then3.i
  tail call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([58 x i8]* @.str75, i64 0, i64 0), double %conv.i) #5, !dbg !1214
  br label %if.end.i, !dbg !1214

if.end.i:                                         ; preds = %if.then6.i, %if.then3.i
  %mul.i = fmul float %div.i, 2.000000e+00, !dbg !1215
  %conv8.i = fpext float %mul.i to double, !dbg !1215
  %conv9.i = fpext float %1 to double, !dbg !1215
  %mul10.i = fmul double %conv9.i, 5.727650e-04, !dbg !1215
  %mul11.i = fmul double %mul10.i, 0x3F810732CDE67DC4, !dbg !1215
  %mul13.i = fmul double %mul11.i, %conv.i, !dbg !1215
  %div14.i = fdiv double %conv8.i, %mul13.i, !dbg !1215
  %call15.i = tail call double @sqrt(double %div14.i) #5, !dbg !1215
  %conv16.i = fptrunc double %call15.i to float, !dbg !1215
  br label %if.end17.i, !dbg !1216

if.end17.i:                                       ; preds = %if.end.i, %if.then.if.end17_crit_edge.i
  %conv18.pre-phi.i = phi double [ %conv18.pre.i, %if.then.if.end17_crit_edge.i ], [ %conv9.i, %if.end.i ], !dbg !1211
  %storemerge.i = phi float [ 0.000000e+00, %if.then.if.end17_crit_edge.i ], [ %conv16.i, %if.end.i ]
  store float %storemerge.i, float* %kappa, align 4, !dbg !1215, !tbaa !1186
  %fabsf129.i = tail call float @fabsf(float %1) #6, !dbg !1211
  %15 = fpext float %fabsf129.i to double, !dbg !1211
  %cmp20.i = fcmp olt double %15, 1.200000e-38, !dbg !1211
  br i1 %cmp20.i, label %if.then22.i, label %if.else27.i, !dbg !1211

if.then22.i:                                      ; preds = %if.end17.i
  %mul23.i = fmul float %2, 2.000000e+00, !dbg !1217
  %mul24.i = fmul float %2, %mul23.i, !dbg !1217
  %mul25.i = fmul float %2, %mul24.i, !dbg !1217
  %div26.i = fdiv float 1.000000e+00, %mul25.i, !dbg !1217
  store float %div26.i, float* %k_rf, align 4, !dbg !1217, !tbaa !1186
  br label %if.end47.i, !dbg !1219

if.else27.i:                                      ; preds = %if.end17.i
  %mul28.i = fmul float %2, %storemerge.i, !dbg !1220
  %add.i = fadd float %mul28.i, 1.000000e+00, !dbg !1220
  tail call void @llvm.dbg.value(metadata !{float %add.i}, i64 0, metadata !1222) #4, !dbg !1220
  tail call void @llvm.dbg.value(metadata !{float %mul28.i}, i64 0, metadata !1223) #4, !dbg !1225
  %mul.i131.i = fmul float %mul28.i, %mul28.i, !dbg !1226
  %mul31.i = fmul float %1, %mul.i131.i, !dbg !1224
  tail call void @llvm.dbg.value(metadata !{float %mul31.i}, i64 0, metadata !1228) #4, !dbg !1224
  %sub.i = fadd float %1, -1.000000e+00, !dbg !1229
  %mul32.i = fmul float %sub.i, %add.i, !dbg !1229
  %add33.i = fadd float %mul32.i, %mul31.i, !dbg !1229
  %mul34.i = fmul float %1, 2.000000e+00, !dbg !1229
  %add35.i = fadd float %mul34.i, 1.000000e+00, !dbg !1229
  %mul36.i = fmul float %add35.i, %add.i, !dbg !1229
  %mul37.i = fmul float %mul31.i, 2.000000e+00, !dbg !1229
  %add38.i = fadd float %mul36.i, %mul37.i, !dbg !1229
  %div39.i = fdiv float %add33.i, %add38.i, !dbg !1229
  %mul40.i = fmul float %2, %2, !dbg !1229
  %mul41.i = fmul float %2, %mul40.i, !dbg !1229
  %div42.i = fdiv float %div39.i, %mul41.i, !dbg !1229
  store float %div42.i, float* %k_rf, align 4, !dbg !1229, !tbaa !1186
  %div43.i = fdiv float 1.000000e+00, %2, !dbg !1230
  %mul44.i = fmul float %2, %div42.i, !dbg !1230
  %mul45.i = fmul float %2, %mul44.i, !dbg !1230
  %add46.i = fadd float %div43.i, %mul45.i, !dbg !1230
  br label %if.end47.i

if.end47.i:                                       ; preds = %if.else27.i, %if.then22.i
  %16 = phi float [ %div42.i, %if.else27.i ], [ %div26.i, %if.then22.i ]
  %storemerge130.i = phi float [ %add46.i, %if.else27.i ], [ 0.000000e+00, %if.then22.i ]
  store float %storemerge130.i, float* %c_rf, align 4, !dbg !1231, !tbaa !1186
  store float 0x40615DEEE0000000, float* %epsfac, align 4, !dbg !1232, !tbaa !1186
  %conv48.i = fpext float %16 to double, !dbg !1233
  %mul49.i = fmul double %conv48.i, 2.000000e+00, !dbg !1233
  %call50.i = tail call double @pow(double %mul49.i, double 0xBFD5555555555555) #5, !dbg !1233
  %conv51.i = fptrunc double %call50.i to float, !dbg !1233
  tail call void @llvm.dbg.value(metadata !{float %conv51.i}, i64 0, metadata !1234) #4, !dbg !1233
  %.b.i = load i1* @calc_rffac.bFirst, align 1
  br i1 %.b.i, label %calc_rffac.exit, label %if.then52.i, !dbg !1235

if.then52.i:                                      ; preds = %if.end47.i
  br i1 %cmp1.i, label %if.then55.i, label %if.end56.i, !dbg !1236

if.then55.i:                                      ; preds = %if.then52.i
  tail call void @please_cite(%struct._IO_FILE* %log, i8* getelementptr inbounds ([10 x i8]* @.str76, i64 0, i64 0)) #5, !dbg !1238
  br label %if.end56.i, !dbg !1238

if.end56.i:                                       ; preds = %if.then55.i, %if.then52.i
  %tobool57.i = icmp eq %struct._IO_FILE* %log, null, !dbg !1239
  br i1 %tobool57.i, label %if.end70.i, label %if.then58.i, !dbg !1239

if.then58.i:                                      ; preds = %if.end56.i
  %idxprom.i = sext i32 %0 to i64, !dbg !1240
  %arrayidx.i = getelementptr inbounds [11 x i8*]* @eel_names, i64 0, i64 %idxprom.i, !dbg !1240
  %17 = load i8** %arrayidx.i, align 8, !dbg !1240, !tbaa !1242
  %conv60.i = fpext float %div.i to double, !dbg !1240
  %conv61.i = fpext float %add.i.i to double, !dbg !1240
  %18 = load float* %kappa, align 4, !dbg !1240, !tbaa !1186
  %conv62.i = fpext float %18 to double, !dbg !1240
  %conv63.i = fpext float %2 to double, !dbg !1240
  %19 = load float* %k_rf, align 4, !dbg !1240, !tbaa !1186
  %conv64.i = fpext float %19 to double, !dbg !1240
  %20 = load float* %c_rf, align 4, !dbg !1240, !tbaa !1186
  %conv65.i = fpext float %20 to double, !dbg !1240
  %21 = load float* %epsfac, align 4, !dbg !1240, !tbaa !1186
  %conv66.i = fpext float %21 to double, !dbg !1240
  %call67.i = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %log, i8* getelementptr inbounds ([115 x i8]* @.str77, i64 0, i64 0), i8* %17, double %conv18.pre-phi.i, double %conv60.i, double %conv61.i, double %conv62.i, double %conv63.i, double %conv64.i, double %conv65.i, double %conv66.i) #5, !dbg !1240
  %conv68.i = fpext float %conv51.i to double, !dbg !1243
  %call69.i = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %log, i8* getelementptr inbounds ([57 x i8]* @.str78, i64 0, i64 0), double %conv68.i) #5, !dbg !1243
  br label %if.end70.i, !dbg !1244

if.end70.i:                                       ; preds = %if.then58.i, %if.end56.i
  store i1 true, i1* @calc_rffac.bFirst, align 1
  br label %calc_rffac.exit, !dbg !1245

if.else72.i:                                      ; preds = %entry
  store float 0.000000e+00, float* %kappa, align 4, !dbg !1246, !tbaa !1186
  store float 0.000000e+00, float* %k_rf, align 4, !dbg !1248, !tbaa !1186
  store float 0.000000e+00, float* %c_rf, align 4, !dbg !1249, !tbaa !1186
  %fabsf.i = tail call float @fabsf(float %1) #6, !dbg !1250
  %22 = fpext float %fabsf.i to double, !dbg !1250
  %cmp75.i = fcmp olt double %22, 1.200000e-38, !dbg !1250
  tail call void @llvm.dbg.value(metadata !1251, i64 0, metadata !1190) #4, !dbg !1252
  %23 = fpext float %1 to double, !dbg !1253
  %conv79.i = select i1 %cmp75.i, double 1.000000e+00, double %23, !dbg !1253
  %div80.i = fdiv double 0x40615DEEE174A498, %conv79.i, !dbg !1253
  %conv81.i = fptrunc double %div80.i to float, !dbg !1253
  store float %conv81.i, float* %epsfac, align 4, !dbg !1253, !tbaa !1186
  br label %calc_rffac.exit

calc_rffac.exit:                                  ; preds = %if.end47.i, %if.end70.i, %if.else72.i
  ret void, !dbg !1254
}
