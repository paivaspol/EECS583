define void @force(%struct.__sFILE* %fp, i32 %step, %struct.t_forcerec* %fr, %struct.t_inputrec* %ir, %struct.t_idef* %idef, %struct.t_nsborder* %nsb, %struct.t_commrec* %cr, %struct.t_commrec* %mcr, %struct.t_nrnb* %nrnb, %struct.t_groups* nocapture readonly %grps, %struct.t_mdatoms* %md, i32 %ngener, %struct.t_grpopts* nocapture readonly %opts, [3 x float]* %x, [3 x float]* %f, float* %epot, %struct.t_fcdata* %fcd, i32 %bVerbose, [3 x float]* %box, float %lambda, %struct.t_graph* %graph, %struct.t_block* %excl, i32 %bNBFonly, [3 x float]* %lr_vir, float* %mu_tot, float %qsum, i32 %bGatherOnly) #3 {
  %nit = alloca i32, align 4
  %box_size = alloca [3 x float], align 4
  br label %1

; <label>:1                                       ; preds = %1, %0
  %indvars.iv12 = phi i64 [ 0, %0 ], [ %indvars.iv.next13, %1 ]
  %2 = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv12, i64 %indvars.iv12
  %3 = bitcast float* %2 to i32*
  %4 = load i32* %3, align 4, !tbaa !21
  %5 = getelementptr inbounds [3 x float]* %box_size, i64 0, i64 %indvars.iv12
  %6 = bitcast float* %5 to i32*
  store i32 %4, i32* %6, align 4, !tbaa !21
  %indvars.iv.next13 = add nuw nsw i64 %indvars.iv12, 1
  %exitcond14 = icmp eq i64 %indvars.iv.next13, 3
  br i1 %exitcond14, label %7, label %1

; <label>:7                                       ; preds = %1
  %8 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 59
  %9 = load i32* %8, align 4, !tbaa !87
  %10 = icmp sgt i32 %9, 0
  br i1 %10, label %11, label %.critedge

; <label>:11                                      ; preds = %7
  %12 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 62
  %13 = load i32* %12, align 4, !tbaa !91
  %14 = icmp sgt i32 %13, 0
  br i1 %14, label %_mod.exit, label %.critedge

_mod.exit:                                        ; preds = %11
  %15 = srem i32 %step, %13
  %16 = icmp eq i32 %15, 0
  br i1 %16, label %.critedge.loopexit, label %.critedge

.critedge.loopexit:                               ; preds = %_mod.exit
  %17 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 61
  %18 = bitcast float** %17 to i8**
  %19 = load i8** %18, align 8, !tbaa !89
  %20 = icmp sgt i32 %9, 1
  %.op = add i32 %9, -1
  %21 = zext i32 %.op to i64
  %.op15 = shl nuw nsw i64 %21, 2
  %.op15.op = add nuw nsw i64 %.op15, 4
  %22 = select i1 %20, i64 %.op15.op, i64 4
  call void @llvm.memset.p0i8.i64(i8* %19, i8 0, i64 %22, i32 4, i1 false)
  br label %.critedge

.critedge:                                        ; preds = %.critedge.loopexit, %7, %11, %_mod.exit
  %23 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 64
  %24 = load i32* %23, align 4, !tbaa !28
  %25 = icmp eq i32 %24, 0
  %26 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 2
  %27 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 1
  %.in = select i1 %25, float** %27, float** %26
  %28 = load float** %.in, align 8
  %29 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 0
  %30 = load float** %29, align 8, !tbaa !22
  %31 = getelementptr inbounds [3 x float]* %box_size, i64 0, i64 0
  %32 = getelementptr inbounds float* %epot, i64 42
  call void @do_fnbf(%struct.__sFILE* %fp, %struct.t_commrec* %cr, %struct.t_forcerec* %fr, [3 x float]* %x, [3 x float]* %f, %struct.t_mdatoms* %md, float* %28, float* %30, float* %31, %struct.t_nrnb* %nrnb, float %lambda, float* %32, i32 0, i32 -1) #8
  %33 = load %struct.__sFILE** @debug, align 8, !tbaa !22
  %34 = icmp eq %struct.__sFILE* %33, null
  br i1 %34, label %38, label %35

; <label>:35                                      ; preds = %.critedge
  %36 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 58
  %37 = load [3 x float]** %36, align 8, !tbaa !86
  call void @pr_rvecs(%struct.__sFILE* %33, i32 0, i8* getelementptr inbounds ([16 x i8]* @.str41, i64 0, i64 0), [3 x float]* %37, i32 27) #8
  br label %38

; <label>:38                                      ; preds = %.critedge, %35
  %39 = icmp ne i32 %bNBFonly, 0
  br i1 %39, label %70, label %40

; <label>:40                                      ; preds = %38
  call void @shift_self(%struct.t_graph* %graph, [3 x float]* %box, [3 x float]* %x) #8
  %41 = getelementptr inbounds [3 x float]* %box, i64 1, i64 0
  %42 = load float* %41, align 4, !tbaa !21
  %fabsf = call float @fabsf(float %42) #6
  %43 = fpext float %fabsf to double
  %44 = fcmp ogt double %43, 1.200000e-38
  br i1 %44, label %55, label %45

; <label>:45                                      ; preds = %40
  %46 = getelementptr inbounds [3 x float]* %box, i64 2, i64 0
  %47 = load float* %46, align 4, !tbaa !21
  %fabsf1 = call float @fabsf(float %47) #6
  %48 = fpext float %fabsf1 to double
  %49 = fcmp ogt double %48, 1.200000e-38
  br i1 %49, label %55, label %50

; <label>:50                                      ; preds = %45
  %51 = getelementptr inbounds [3 x float]* %box, i64 2, i64 1
  %52 = load float* %51, align 4, !tbaa !21
  %fabsf2 = call float @fabsf(float %52) #6
  %53 = fpext float %fabsf2 to double
  %54 = fcmp ogt double %53, 1.200000e-38
  br i1 %54, label %55, label %63

; <label>:55                                      ; preds = %50, %45, %40
  %56 = getelementptr inbounds %struct.t_graph* %graph, i64 0, i32 1
  %57 = load i32* %56, align 4, !tbaa !138
  %58 = shl nsw i32 %57, 1
  %59 = sitofp i32 %58 to double
  %60 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 0, i32 0, i64 89
  %61 = load double* %60, align 8, !tbaa !140
  %62 = fadd double %61, %59
  store double %62, double* %60, align 8, !tbaa !140
  br label %70

; <label>:63                                      ; preds = %50
  %64 = getelementptr inbounds %struct.t_graph* %graph, i64 0, i32 1
  %65 = load i32* %64, align 4, !tbaa !138
  %66 = sitofp i32 %65 to double
  %67 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 0, i32 0, i64 89
  %68 = load double* %67, align 8, !tbaa !140
  %69 = fadd double %68, %66
  store double %69, double* %67, align 8, !tbaa !140
  br label %70

; <label>:70                                      ; preds = %55, %63, %38
  %71 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 33
  %72 = load i32* %71, align 4, !tbaa !14
  %.off = add i32 %72, -3
  %switch = icmp ult i32 %.off, 4
  br i1 %switch, label %73, label %.thread

; <label>:73                                      ; preds = %70
  switch i32 %72, label %108 [
    i32 5, label %74
    i32 6, label %82
    i32 3, label %92
    i32 4, label %100
  ]

; <label>:74                                      ; preds = %73
  %75 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 55
  %76 = load [3 x float]** %75, align 8, !tbaa !83
  %77 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8
  %78 = load float** %77, align 8, !tbaa !76
  %79 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 24
  %80 = load float** %79, align 8, !tbaa !80
  %81 = call float @do_pppm(%struct.__sFILE* %fp, i32 0, [3 x float]* %x, [3 x float]* %76, float* %78, float* %31, float* %80, %struct.t_commrec* %cr, %struct.t_nsborder* %nsb, %struct.t_nrnb* %nrnb) #8
  br label %112

; <label>:82                                      ; preds = %73
  %83 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 1
  %84 = load i32* %83, align 4, !tbaa !25
  %85 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 55
  %86 = load [3 x float]** %85, align 8, !tbaa !83
  %87 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8
  %88 = load float** %87, align 8, !tbaa !76
  %89 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 24
  %90 = load float** %89, align 8, !tbaa !80
  %91 = call float @do_poisson(%struct.__sFILE* %fp, i32 0, %struct.t_inputrec* %ir, i32 %84, [3 x float]* %x, [3 x float]* %86, float* %88, float* %31, float* %90, %struct.t_commrec* %cr, %struct.t_nrnb* %nrnb, i32* %nit, i32 1) #8
  br label %112

; <label>:92                                      ; preds = %73
  %93 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 55
  %94 = load [3 x float]** %93, align 8, !tbaa !83
  %95 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8
  %96 = load float** %95, align 8, !tbaa !76
  %97 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 57
  %98 = load float* %97, align 4, !tbaa !61
  %99 = call float @do_pme(%struct.__sFILE* %fp, i32 0, %struct.t_inputrec* %ir, [3 x float]* %x, [3 x float]* %94, float* %96, [3 x float]* %box, %struct.t_commrec* %cr, %struct.t_nsborder* %nsb, %struct.t_nrnb* %nrnb, [3 x float]* %lr_vir, float %98, i32 %bGatherOnly) #8
  br label %112

; <label>:100                                     ; preds = %73
  %101 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 55
  %102 = load [3 x float]** %101, align 8, !tbaa !83
  %103 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8
  %104 = load float** %103, align 8, !tbaa !76
  %105 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 57
  %106 = load float* %105, align 4, !tbaa !61
  %107 = call float @do_ewald(%struct.__sFILE* %fp, i32 0, %struct.t_inputrec* %ir, [3 x float]* %x, [3 x float]* %102, float* %104, float* %31, %struct.t_commrec* %cr, %struct.t_nsborder* %nsb, [3 x float]* %lr_vir, float %106) #8
  br label %112

; <label>:108                                     ; preds = %73
  %109 = sext i32 %72 to i64
  %110 = getelementptr inbounds [11 x i8*]* @eel_names, i64 0, i64 %109
  %111 = load i8** %110, align 8, !tbaa !22
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([45 x i8]* @.str49, i64 0, i64 0), i8* %111) #8
  %.pre = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8
  br label %112

; <label>:112                                     ; preds = %108, %100, %92, %82, %74
  %.pre-phi = phi float** [ %.pre, %108 ], [ %103, %100 ], [ %95, %92 ], [ %87, %82 ], [ %77, %74 ]
  %Vlr.0 = phi float [ 0.000000e+00, %108 ], [ %107, %100 ], [ %99, %92 ], [ %91, %82 ], [ %81, %74 ]
  %113 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 56
  %114 = load i32* %113, align 4, !tbaa !56
  %115 = icmp eq i32 %114, 0
  %116 = load float** %.pre-phi, align 8, !tbaa !76
  br i1 %115, label %124, label %117

; <label>:117                                     ; preds = %112
  %118 = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 22
  %119 = load i32* %118, align 4, !tbaa !142
  %120 = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 23
  %121 = load i32* %120, align 4, !tbaa !143
  %122 = sitofp i32 %121 to float
  %123 = call float @ewald_LRcorrection(%struct.__sFILE* %fp, %struct.t_nsborder* %nsb, %struct.t_commrec* %cr, %struct.t_forcerec* %fr, float* %116, %struct.t_block* %excl, [3 x float]* %x, [3 x float]* %box, float* %mu_tot, float %qsum, i32 %119, float %122, [3 x float]* %lr_vir) #8
  br label %126

; <label>:124                                     ; preds = %112
  %125 = call float @shift_LRcorrection(%struct.__sFILE* %fp, %struct.t_nsborder* %nsb, %struct.t_commrec* %cr, %struct.t_forcerec* %fr, float* %116, %struct.t_block* %excl, [3 x float]* %x, i32 1, [3 x float]* %box, [3 x float]* %lr_vir) #8
  br label %126

; <label>:126                                     ; preds = %124, %117
  %Vcorr.0 = phi float [ %123, %117 ], [ %125, %124 ]
  %127 = fadd float %Vlr.0, %Vcorr.0
  %128 = getelementptr inbounds float* %epot, i64 18
  store float %127, float* %128, align 4, !tbaa !21
  %129 = load %struct.__sFILE** @debug, align 8, !tbaa !22
  %130 = icmp eq %struct.__sFILE* %129, null
  br i1 %130, label %.thread5, label %131

; <label>:131                                     ; preds = %126
  %132 = fpext float %Vlr.0 to double
  %133 = fpext float %Vcorr.0 to double
  %134 = fpext float %127 to double
  %135 = call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %129, i8* getelementptr inbounds ([37 x i8]* @.str50, i64 0, i64 0), double %132, double %133, double %134) #8
  %.pr = load %struct.__sFILE** @debug, align 8, !tbaa !22
  %136 = icmp eq %struct.__sFILE* %.pr, null
  br i1 %136, label %.thread5, label %137

; <label>:137                                     ; preds = %131
  call void @pr_rvecs(%struct.__sFILE* %.pr, i32 0, i8* getelementptr inbounds ([18 x i8]* @.str51, i64 0, i64 0), [3 x float]* %lr_vir, i32 3) #8
  %138 = load %struct.__sFILE** @debug, align 8, !tbaa !22
  %139 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 58
  %140 = load [3 x float]** %139, align 8, !tbaa !86
  call void @pr_rvecs(%struct.__sFILE* %138, i32 0, i8* getelementptr inbounds ([28 x i8]* @.str52, i64 0, i64 0), [3 x float]* %140, i32 27) #8
  br label %.thread

.thread:                                          ; preds = %70, %137
  %.pr4.pr = load %struct.__sFILE** @debug, align 8, !tbaa !22
  %141 = icmp eq %struct.__sFILE* %.pr4.pr, null
  br i1 %141, label %.thread5, label %142

; <label>:142                                     ; preds = %.thread
  call void @print_nrnb(%struct.__sFILE* %.pr4.pr, %struct.t_nrnb* %nrnb) #8
  br label %.thread5

.thread5:                                         ; preds = %126, %131, %.thread, %142
  br i1 %39, label %161, label %143

; <label>:143                                     ; preds = %.thread5
  %144 = getelementptr inbounds %struct.t_grpopts* %opts, i64 0, i32 3
  %145 = load i32* %144, align 4, !tbaa !144
  %146 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 6
  %147 = load float** %146, align 8, !tbaa !22
  %148 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 5
  %149 = load float** %148, align 8, !tbaa !22
  %150 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 32
  %151 = load i32* %150, align 4, !tbaa !145
  %152 = icmp eq i32 %151, 0
  br i1 %152, label %158, label %153

; <label>:153                                     ; preds = %143
  %154 = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 8
  %155 = load i32* %154, align 4, !tbaa !146
  %156 = call i32 @do_per_step(i32 %step, i32 %155) #8
  %157 = icmp ne i32 %156, 0
  br label %158

; <label>:158                                     ; preds = %143, %153
  %159 = phi i1 [ false, %143 ], [ %157, %153 ]
  %160 = zext i1 %159 to i32
  call void @calc_bonds(%struct.__sFILE* %fp, %struct.t_commrec* %cr, %struct.t_commrec* %mcr, %struct.t_idef* %idef, [3 x float]* %x, [3 x float]* %f, %struct.t_forcerec* %fr, %struct.t_graph* %graph, float* %epot, %struct.t_nrnb* %nrnb, [3 x float]* %box, float %lambda, %struct.t_mdatoms* %md, i32 %145, float* %147, float* %149, %struct.t_fcdata* %fcd, i32 %step, i32 %160) #8
  br label %161

; <label>:161                                     ; preds = %158, %.thread5
  %162 = load %struct.__sFILE** @debug, align 8, !tbaa !22
  %163 = icmp eq %struct.__sFILE* %162, null
  br i1 %163, label %.preheader, label %164

; <label>:164                                     ; preds = %161
  %165 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 58
  %166 = load [3 x float]** %165, align 8, !tbaa !86
  call void @pr_rvecs(%struct.__sFILE* %162, i32 0, i8* getelementptr inbounds ([21 x i8]* @.str53, i64 0, i64 0), [3 x float]* %166, i32 27) #8
  br label %.preheader

.preheader:                                       ; preds = %161, %164
  %167 = getelementptr inbounds float* %epot, i64 37
  br label %168

; <label>:168                                     ; preds = %176, %.preheader
  %indvars.iv = phi i64 [ 0, %.preheader ], [ %indvars.iv.next, %176 ]
  %169 = trunc i64 %indvars.iv to i32
  %170 = icmp eq i32 %169, 21
  br i1 %170, label %176, label %171

; <label>:171                                     ; preds = %168
  %172 = getelementptr inbounds float* %epot, i64 %indvars.iv
  %173 = load float* %172, align 4, !tbaa !21
  %174 = load float* %167, align 4, !tbaa !21
  %175 = fadd float %173, %174
  store float %175, float* %167, align 4, !tbaa !21
  br label %176

; <label>:176                                     ; preds = %168, %171
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %exitcond = icmp eq i64 %indvars.iv.next, 37
  br i1 %exitcond, label %177, label %168

; <label>:177                                     ; preds = %176
  ret void
}
