define void @force(%struct._IO_FILE* %fp, i32 %step, %struct.t_forcerec* %fr, %struct.t_inputrec* %ir, %struct.t_idef* %idef, %struct.t_nsborder* %nsb, %struct.t_commrec* %cr, %struct.t_commrec* %mcr, %struct.t_nrnb* %nrnb, %struct.t_groups* nocapture %grps, %struct.t_mdatoms* %md, i32 %ngener, %struct.t_grpopts* nocapture %opts, [3 x float]* %x, [3 x float]* %f, float* %epot, %struct.t_fcdata* %fcd, i32 %bVerbose, [3 x float]* %box, float %lambda, %struct.t_graph* %graph, %struct.t_block* %excl, i32 %bNBFonly, [3 x float]* %lr_vir, float* %mu_tot, float %qsum, i32 %bGatherOnly) #0 {
entry:
  %nit = alloca i32, align 4
  %box_size = alloca [3 x float], align 4
  call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %fp}, i64 0, metadata !1025), !dbg !1747
  call void @llvm.dbg.value(metadata !{i32 %step}, i64 0, metadata !1026), !dbg !1747
  call void @llvm.dbg.value(metadata !{%struct.t_forcerec* %fr}, i64 0, metadata !1027), !dbg !1748
  call void @llvm.dbg.value(metadata !{%struct.t_inputrec* %ir}, i64 0, metadata !1028), !dbg !1748
  call void @llvm.dbg.value(metadata !{%struct.t_idef* %idef}, i64 0, metadata !1029), !dbg !1749
  call void @llvm.dbg.value(metadata !{%struct.t_nsborder* %nsb}, i64 0, metadata !1030), !dbg !1749
  call void @llvm.dbg.value(metadata !{%struct.t_commrec* %cr}, i64 0, metadata !1031), !dbg !1750
  call void @llvm.dbg.value(metadata !{%struct.t_commrec* %mcr}, i64 0, metadata !1032), !dbg !1750
  call void @llvm.dbg.value(metadata !{%struct.t_nrnb* %nrnb}, i64 0, metadata !1033), !dbg !1751
  call void @llvm.dbg.value(metadata !{%struct.t_groups* %grps}, i64 0, metadata !1034), !dbg !1752
  call void @llvm.dbg.value(metadata !{%struct.t_mdatoms* %md}, i64 0, metadata !1035), !dbg !1752
  call void @llvm.dbg.value(metadata !{i32 %ngener}, i64 0, metadata !1036), !dbg !1753
  call void @llvm.dbg.value(metadata !{%struct.t_grpopts* %opts}, i64 0, metadata !1037), !dbg !1753
  call void @llvm.dbg.value(metadata !{[3 x float]* %x}, i64 0, metadata !1038), !dbg !1754
  call void @llvm.dbg.value(metadata !{[3 x float]* %f}, i64 0, metadata !1039), !dbg !1754
  call void @llvm.dbg.value(metadata !{float* %epot}, i64 0, metadata !1040), !dbg !1755
  call void @llvm.dbg.value(metadata !{%struct.t_fcdata* %fcd}, i64 0, metadata !1041), !dbg !1755
  call void @llvm.dbg.value(metadata !{i32 %bVerbose}, i64 0, metadata !1042), !dbg !1756
  call void @llvm.dbg.value(metadata !{[3 x float]* %box}, i64 0, metadata !1043), !dbg !1756
  call void @llvm.dbg.value(metadata !{float %lambda}, i64 0, metadata !1044), !dbg !1757
  call void @llvm.dbg.value(metadata !{%struct.t_graph* %graph}, i64 0, metadata !1045), !dbg !1757
  call void @llvm.dbg.value(metadata !{%struct.t_block* %excl}, i64 0, metadata !1046), !dbg !1758
  call void @llvm.dbg.value(metadata !{i32 %bNBFonly}, i64 0, metadata !1047), !dbg !1758
  call void @llvm.dbg.value(metadata !{[3 x float]* %lr_vir}, i64 0, metadata !1048), !dbg !1759
  call void @llvm.dbg.value(metadata !{float* %mu_tot}, i64 0, metadata !1049), !dbg !1759
  call void @llvm.dbg.value(metadata !{float %qsum}, i64 0, metadata !1050), !dbg !1760
  call void @llvm.dbg.value(metadata !{i32 %bGatherOnly}, i64 0, metadata !1051), !dbg !1760
  call void @llvm.dbg.declare(metadata !{i32* %nit}, metadata !1053), !dbg !1761
  call void @llvm.dbg.declare(metadata !{[3 x float]* %box_size}, metadata !1055), !dbg !1762
  call void @llvm.dbg.value(metadata !1340, i64 0, metadata !1057), !dbg !1763
  call void @llvm.dbg.value(metadata !246, i64 0, metadata !1052), !dbg !1764
  br label %for.body, !dbg !1764

for.body:                                         ; preds = %for.body, %entry
  %indvars.iv320 = phi i64 [ 0, %entry ], [ %indvars.iv.next321, %for.body ]
  %arrayidx2 = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv320, i64 %indvars.iv320, !dbg !1766
  %0 = load float* %arrayidx2, align 4, !dbg !1766, !tbaa !1186
  %arrayidx4 = getelementptr inbounds [3 x float]* %box_size, i64 0, i64 %indvars.iv320, !dbg !1766
  store float %0, float* %arrayidx4, align 4, !dbg !1766, !tbaa !1186
  %indvars.iv.next321 = add i64 %indvars.iv320, 1, !dbg !1764
  %lftr.wideiv322 = trunc i64 %indvars.iv.next321 to i32, !dbg !1764
  %exitcond323 = icmp eq i32 %lftr.wideiv322, 3, !dbg !1764
  br i1 %exitcond323, label %for.end, label %for.body, !dbg !1764

for.end:                                          ; preds = %for.body
  %nmol = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 59, !dbg !1767
  %1 = load i32* %nmol, align 4, !dbg !1767, !tbaa !1183
  %cmp5 = icmp sgt i32 %1, 0, !dbg !1767
  br i1 %cmp5, label %land.lhs.true, label %if.end, !dbg !1767

land.lhs.true:                                    ; preds = %for.end
  %nstcalc = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 62, !dbg !1767
  %2 = load i32* %nstcalc, align 4, !dbg !1767, !tbaa !1183
  %cmp6 = icmp sgt i32 %2, 0, !dbg !1767
  br i1 %cmp6, label %_mod.exit, label %if.end, !dbg !1767

_mod.exit:                                        ; preds = %land.lhs.true
  call void @llvm.dbg.value(metadata !1768, i64 0, metadata !1769) #4, !dbg !1770
  call void @llvm.dbg.value(metadata !1771, i64 0, metadata !1772) #4, !dbg !1770
  %rem.i = srem i32 %step, %2, !dbg !1773
  %cmp8 = icmp eq i32 %rem.i, 0, !dbg !1767
  br i1 %cmp8, label %if.end.loopexit, label %if.end, !dbg !1775

if.end.loopexit:                                  ; preds = %_mod.exit
  %mol_epot = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 61, !dbg !1776
  %3 = load float** %mol_epot, align 8, !dbg !1776, !tbaa !1242
  %4 = bitcast float* %3 to i8*
  %5 = icmp sgt i32 %1, 1
  %.op = add i32 %1, -1, !dbg !1778
  %6 = zext i32 %.op to i64
  %.op324 = shl nuw nsw i64 %6, 2, !dbg !1778
  %.op324.op = add i64 %.op324, 4, !dbg !1778
  %7 = select i1 %5, i64 %.op324.op, i64 4, !dbg !1778
  call void @llvm.memset.p0i8.i64(i8* %4, i8 0, i64 %7, i32 4, i1 false), !dbg !1776
  br label %if.end

if.end:                                           ; preds = %if.end.loopexit, %for.end, %land.lhs.true, %_mod.exit
  %bBHAM = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 64, !dbg !1779
  %8 = load i32* %bBHAM, align 4, !dbg !1779, !tbaa !1183
  %tobool18 = icmp eq i32 %8, 0, !dbg !1779
  %arrayidx19 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 2, !dbg !1779
  %arrayidx22 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 1, !dbg !1779
  %cond.in = select i1 %tobool18, float** %arrayidx22, float** %arrayidx19, !dbg !1779
  %cond = load float** %cond.in, align 8, !dbg !1779
  %arrayidx25 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 0, !dbg !1779
  %9 = load float** %arrayidx25, align 8, !dbg !1779, !tbaa !1242
  %arraydecay = getelementptr inbounds [3 x float]* %box_size, i64 0, i64 0, !dbg !1779
  %arrayidx26 = getelementptr inbounds float* %epot, i64 42, !dbg !1779
  call void @do_fnbf(%struct._IO_FILE* %fp, %struct.t_commrec* %cr, %struct.t_forcerec* %fr, [3 x float]* %x, [3 x float]* %f, %struct.t_mdatoms* %md, float* %cond, float* %9, float* %arraydecay, %struct.t_nrnb* %nrnb, float %lambda, float* %arrayidx26, i32 0, i32 -1) #5, !dbg !1779
  %10 = load %struct._IO_FILE** @debug, align 8, !dbg !1780, !tbaa !1242
  %tobool27 = icmp eq %struct._IO_FILE* %10, null, !dbg !1780
  br i1 %tobool27, label %if.end29, label %if.then28, !dbg !1780

if.then28:                                        ; preds = %if.end
  %fshift = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 58, !dbg !1781
  %11 = load [3 x float]** %fshift, align 8, !dbg !1781, !tbaa !1242
  call void @pr_rvecs(%struct._IO_FILE* %10, i32 0, i8* getelementptr inbounds ([16 x i8]* @.str41, i64 0, i64 0), [3 x float]* %11, i32 27) #5, !dbg !1781
  br label %if.end29, !dbg !1781

if.end29:                                         ; preds = %if.end, %if.then28
  %tobool34 = icmp ne i32 %bNBFonly, 0, !dbg !1782
  br i1 %tobool34, label %if.end99, label %if.then35, !dbg !1782

if.then35:                                        ; preds = %if.end29
  call void @shift_self(%struct.t_graph* %graph, [3 x float]* %box, [3 x float]* %x) #5, !dbg !1783
  %arrayidx71 = getelementptr inbounds [3 x float]* %box, i64 1, i64 0, !dbg !1785
  %12 = load float* %arrayidx71, align 4, !dbg !1785, !tbaa !1186
  %fabsf = call float @fabsf(float %12) #6, !dbg !1785
  %13 = fpext float %fabsf to double, !dbg !1785
  %cmp74 = fcmp ogt double %13, 1.200000e-38, !dbg !1785
  br i1 %cmp74, label %if.then89, label %lor.lhs.false, !dbg !1785

lor.lhs.false:                                    ; preds = %if.then35
  %arrayidx77 = getelementptr inbounds [3 x float]* %box, i64 2, i64 0, !dbg !1785
  %14 = load float* %arrayidx77, align 4, !dbg !1785, !tbaa !1186
  %fabsf307 = call float @fabsf(float %14) #6, !dbg !1785
  %15 = fpext float %fabsf307 to double, !dbg !1785
  %cmp80 = fcmp ogt double %15, 1.200000e-38, !dbg !1785
  br i1 %cmp80, label %if.then89, label %lor.lhs.false82, !dbg !1785

lor.lhs.false82:                                  ; preds = %lor.lhs.false
  %arrayidx84 = getelementptr inbounds [3 x float]* %box, i64 2, i64 1, !dbg !1785
  %16 = load float* %arrayidx84, align 4, !dbg !1785, !tbaa !1186
  %fabsf308 = call float @fabsf(float %16) #6, !dbg !1785
  %17 = fpext float %fabsf308 to double, !dbg !1785
  %cmp87 = fcmp ogt double %17, 1.200000e-38, !dbg !1785
  br i1 %cmp87, label %if.then89, label %if.else, !dbg !1785

if.then89:                                        ; preds = %lor.lhs.false82, %lor.lhs.false, %if.then35
  %nnodes90 = getelementptr inbounds %struct.t_graph* %graph, i64 0, i32 1, !dbg !1786
  %18 = load i32* %nnodes90, align 4, !dbg !1786, !tbaa !1183
  %mul = shl nsw i32 %18, 1, !dbg !1786
  %conv91 = sitofp i32 %mul to double, !dbg !1786
  %arrayidx92 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 0, i32 0, i64 89, !dbg !1786
  %19 = load double* %arrayidx92, align 8, !dbg !1786, !tbaa !1787
  %add = fadd double %19, %conv91, !dbg !1786
  store double %add, double* %arrayidx92, align 8, !dbg !1786, !tbaa !1787
  br label %if.end99, !dbg !1786

if.else:                                          ; preds = %lor.lhs.false82
  %nnodes93 = getelementptr inbounds %struct.t_graph* %graph, i64 0, i32 1, !dbg !1788
  %20 = load i32* %nnodes93, align 4, !dbg !1788, !tbaa !1183
  %conv94 = sitofp i32 %20 to double, !dbg !1788
  %arrayidx96 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 0, i32 0, i64 89, !dbg !1788
  %21 = load double* %arrayidx96, align 8, !dbg !1788, !tbaa !1787
  %add97 = fadd double %21, %conv94, !dbg !1788
  store double %add97, double* %arrayidx96, align 8, !dbg !1788, !tbaa !1787
  br label %if.end99

if.end99:                                         ; preds = %if.then89, %if.else, %if.end29
  %eeltype = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 33, !dbg !1789
  %22 = load i32* %eeltype, align 4, !dbg !1789, !tbaa !1183
  %.off = add i32 %22, -3, !dbg !1789
  %switch = icmp ult i32 %.off, 4, !dbg !1789
  br i1 %switch, label %if.then114, label %if.end160, !dbg !1789

if.then114:                                       ; preds = %if.end99
  switch i32 %22, label %sw.default [
    i32 5, label %sw.bb
    i32 6, label %sw.bb118
    i32 3, label %sw.bb124
    i32 4, label %sw.bb128
  ], !dbg !1790

sw.bb:                                            ; preds = %if.then114
  %f_pme = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 55, !dbg !1792
  %23 = load [3 x float]** %f_pme, align 8, !dbg !1792, !tbaa !1242
  %chargeT = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8, !dbg !1792
  %24 = load float** %chargeT, align 8, !dbg !1792, !tbaa !1242
  %phi = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 24, !dbg !1792
  %25 = load float** %phi, align 8, !dbg !1792, !tbaa !1242
  %call117 = call float @do_pppm(%struct._IO_FILE* %fp, i32 0, [3 x float]* %x, [3 x float]* %23, float* %24, float* %arraydecay, float* %25, %struct.t_commrec* %cr, %struct.t_nsborder* %nsb, %struct.t_nrnb* %nrnb) #5, !dbg !1792
  call void @llvm.dbg.value(metadata !{float %call117}, i64 0, metadata !1056), !dbg !1792
  br label %sw.epilog, !dbg !1794

sw.bb118:                                         ; preds = %if.then114
  %nr = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 1, !dbg !1795
  %26 = load i32* %nr, align 4, !dbg !1795, !tbaa !1183
  %f_pme119 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 55, !dbg !1795
  %27 = load [3 x float]** %f_pme119, align 8, !dbg !1795, !tbaa !1242
  %chargeT120 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8, !dbg !1795
  %28 = load float** %chargeT120, align 8, !dbg !1795, !tbaa !1242
  %phi122 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 24, !dbg !1795
  %29 = load float** %phi122, align 8, !dbg !1795, !tbaa !1242
  %call123 = call float @do_poisson(%struct._IO_FILE* %fp, i32 0, %struct.t_inputrec* %ir, i32 %26, [3 x float]* %x, [3 x float]* %27, float* %28, float* %arraydecay, float* %29, %struct.t_commrec* %cr, %struct.t_nrnb* %nrnb, i32* %nit, i32 1) #5, !dbg !1795
  call void @llvm.dbg.value(metadata !{float %call123}, i64 0, metadata !1056), !dbg !1795
  br label %sw.epilog, !dbg !1796

sw.bb124:                                         ; preds = %if.then114
  %f_pme125 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 55, !dbg !1797
  %30 = load [3 x float]** %f_pme125, align 8, !dbg !1797, !tbaa !1242
  %chargeT126 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8, !dbg !1797
  %31 = load float** %chargeT126, align 8, !dbg !1797, !tbaa !1242
  %ewaldcoeff = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 57, !dbg !1797
  %32 = load float* %ewaldcoeff, align 4, !dbg !1797, !tbaa !1186
  %call127 = call float @do_pme(%struct._IO_FILE* %fp, i32 0, %struct.t_inputrec* %ir, [3 x float]* %x, [3 x float]* %30, float* %31, [3 x float]* %box, %struct.t_commrec* %cr, %struct.t_nsborder* %nsb, %struct.t_nrnb* %nrnb, [3 x float]* %lr_vir, float %32, i32 %bGatherOnly) #5, !dbg !1797
  call void @llvm.dbg.value(metadata !{float %call127}, i64 0, metadata !1056), !dbg !1797
  br label %sw.epilog, !dbg !1798

sw.bb128:                                         ; preds = %if.then114
  %f_pme129 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 55, !dbg !1799
  %33 = load [3 x float]** %f_pme129, align 8, !dbg !1799, !tbaa !1242
  %chargeT130 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8, !dbg !1799
  %34 = load float** %chargeT130, align 8, !dbg !1799, !tbaa !1242
  %ewaldcoeff132 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 57, !dbg !1799
  %35 = load float* %ewaldcoeff132, align 4, !dbg !1799, !tbaa !1186
  %call133 = call float @do_ewald(%struct._IO_FILE* %fp, i32 0, %struct.t_inputrec* %ir, [3 x float]* %x, [3 x float]* %33, float* %34, float* %arraydecay, %struct.t_commrec* %cr, %struct.t_nsborder* %nsb, [3 x float]* %lr_vir, float %35) #5, !dbg !1799
  call void @llvm.dbg.value(metadata !{float %call133}, i64 0, metadata !1056), !dbg !1799
  br label %sw.epilog, !dbg !1800

sw.default:                                       ; preds = %if.then114
  call void @llvm.dbg.value(metadata !1340, i64 0, metadata !1056), !dbg !1801
  %idxprom135 = sext i32 %22 to i64, !dbg !1802
  %arrayidx136 = getelementptr inbounds [11 x i8*]* @eel_names, i64 0, i64 %idxprom135, !dbg !1802
  %36 = load i8** %arrayidx136, align 8, !dbg !1802, !tbaa !1242
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([45 x i8]* @.str49, i64 0, i64 0), i8* %36) #5, !dbg !1802
  %chargeT139.pre = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 8, !dbg !1803
  br label %sw.epilog, !dbg !1804

sw.epilog:                                        ; preds = %sw.default, %sw.bb128, %sw.bb124, %sw.bb118, %sw.bb
  %chargeT139.pre-phi = phi float** [ %chargeT139.pre, %sw.default ], [ %chargeT130, %sw.bb128 ], [ %chargeT126, %sw.bb124 ], [ %chargeT120, %sw.bb118 ], [ %chargeT, %sw.bb ], !dbg !1803
  %Vlr.0 = phi float [ 0.000000e+00, %sw.default ], [ %call133, %sw.bb128 ], [ %call127, %sw.bb124 ], [ %call123, %sw.bb118 ], [ %call117, %sw.bb ]
  %bEwald = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 56, !dbg !1805
  %37 = load i32* %bEwald, align 4, !dbg !1805, !tbaa !1183
  %tobool137 = icmp eq i32 %37, 0, !dbg !1805
  %38 = load float** %chargeT139.pre-phi, align 8, !dbg !1803, !tbaa !1242
  br i1 %tobool137, label %if.else142, label %if.then138, !dbg !1805

if.then138:                                       ; preds = %sw.epilog
  %ewald_geometry = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 22, !dbg !1803
  %39 = load i32* %ewald_geometry, align 4, !dbg !1803, !tbaa !1183
  %epsilon_surface = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 23, !dbg !1803
  %40 = load i32* %epsilon_surface, align 4, !dbg !1803, !tbaa !1183
  %conv140 = sitofp i32 %40 to float, !dbg !1803
  %call141 = call float @ewald_LRcorrection(%struct._IO_FILE* %fp, %struct.t_nsborder* %nsb, %struct.t_commrec* %cr, %struct.t_forcerec* %fr, float* %38, %struct.t_block* %excl, [3 x float]* %x, [3 x float]* %box, float* %mu_tot, float %qsum, i32 %39, float %conv140, [3 x float]* %lr_vir) #5, !dbg !1803
  call void @llvm.dbg.value(metadata !{float %call141}, i64 0, metadata !1057), !dbg !1803
  br label %if.end145, !dbg !1803

if.else142:                                       ; preds = %sw.epilog
  %call144 = call float @shift_LRcorrection(%struct._IO_FILE* %fp, %struct.t_nsborder* %nsb, %struct.t_commrec* %cr, %struct.t_forcerec* %fr, float* %38, %struct.t_block* %excl, [3 x float]* %x, i32 1, [3 x float]* %box, [3 x float]* %lr_vir) #5, !dbg !1806
  call void @llvm.dbg.value(metadata !{float %call144}, i64 0, metadata !1057), !dbg !1806
  br label %if.end145

if.end145:                                        ; preds = %if.else142, %if.then138
  %Vcorr.0 = phi float [ %call141, %if.then138 ], [ %call144, %if.else142 ]
  %add146 = fadd float %Vlr.0, %Vcorr.0, !dbg !1807
  %arrayidx147 = getelementptr inbounds float* %epot, i64 18, !dbg !1807
  store float %add146, float* %arrayidx147, align 4, !dbg !1807, !tbaa !1186
  %41 = load %struct._IO_FILE** @debug, align 8, !dbg !1808, !tbaa !1242
  %tobool148 = icmp eq %struct._IO_FILE* %41, null, !dbg !1808
  br i1 %tobool148, label %if.end163, label %if.end155, !dbg !1808

if.end155:                                        ; preds = %if.end145
  %conv150 = fpext float %Vlr.0 to double, !dbg !1809
  %conv151 = fpext float %Vcorr.0 to double, !dbg !1809
  %conv153 = fpext float %add146 to double, !dbg !1809
  %call154 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %41, i8* getelementptr inbounds ([37 x i8]* @.str50, i64 0, i64 0), double %conv150, double %conv151, double %conv153) #5, !dbg !1809
  %.pr = load %struct._IO_FILE** @debug, align 8, !dbg !1810, !tbaa !1242
  %tobool156 = icmp eq %struct._IO_FILE* %.pr, null, !dbg !1810
  br i1 %tobool156, label %if.end163, label %if.then157, !dbg !1810

if.then157:                                       ; preds = %if.end155
  call void @pr_rvecs(%struct._IO_FILE* %.pr, i32 0, i8* getelementptr inbounds ([18 x i8]* @.str51, i64 0, i64 0), [3 x float]* %lr_vir, i32 3) #5, !dbg !1811
  %42 = load %struct._IO_FILE** @debug, align 8, !dbg !1813, !tbaa !1242
  %fshift158 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 58, !dbg !1813
  %43 = load [3 x float]** %fshift158, align 8, !dbg !1813, !tbaa !1242
  call void @pr_rvecs(%struct._IO_FILE* %42, i32 0, i8* getelementptr inbounds ([28 x i8]* @.str52, i64 0, i64 0), [3 x float]* %43, i32 27) #5, !dbg !1813
  br label %if.end160, !dbg !1814

if.end160:                                        ; preds = %if.end99, %if.then157
  %.pr311.pr = load %struct._IO_FILE** @debug, align 8, !dbg !1815, !tbaa !1242
  %tobool161 = icmp eq %struct._IO_FILE* %.pr311.pr, null, !dbg !1815
  br i1 %tobool161, label %if.end163, label %if.then162, !dbg !1815

if.then162:                                       ; preds = %if.end160
  call void @print_nrnb(%struct._IO_FILE* %.pr311.pr, %struct.t_nrnb* %nrnb) #5, !dbg !1816
  br label %if.end163, !dbg !1816

if.end163:                                        ; preds = %if.end145, %if.end155, %if.end160, %if.then162
  br i1 %tobool34, label %if.end179, label %if.then165, !dbg !1817

if.then165:                                       ; preds = %if.end163
  %ngener166 = getelementptr inbounds %struct.t_grpopts* %opts, i64 0, i32 3, !dbg !1818
  %44 = load i32* %ngener166, align 4, !dbg !1818, !tbaa !1183
  %arrayidx169 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 6, !dbg !1818
  %45 = load float** %arrayidx169, align 8, !dbg !1818, !tbaa !1242
  %arrayidx172 = getelementptr inbounds %struct.t_groups* %grps, i64 0, i32 0, i32 1, i64 5, !dbg !1818
  %46 = load float** %arrayidx172, align 8, !dbg !1818, !tbaa !1242
  %bSepDVDL = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 32, !dbg !1818
  %47 = load i32* %bSepDVDL, align 4, !dbg !1818, !tbaa !1183
  %tobool173 = icmp eq i32 %47, 0, !dbg !1818
  br i1 %tobool173, label %land.end177, label %land.rhs174, !dbg !1818

land.rhs174:                                      ; preds = %if.then165
  %nstlog = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 8, !dbg !1820
  %48 = load i32* %nstlog, align 4, !dbg !1820, !tbaa !1183
  %call175 = call i32 @do_per_step(i32 %step, i32 %48) #5, !dbg !1820
  %tobool176 = icmp ne i32 %call175, 0, !dbg !1820
  br label %land.end177

land.end177:                                      ; preds = %if.then165, %land.rhs174
  %49 = phi i1 [ false, %if.then165 ], [ %tobool176, %land.rhs174 ]
  %land.ext178 = zext i1 %49 to i32
  call void @calc_bonds(%struct._IO_FILE* %fp, %struct.t_commrec* %cr, %struct.t_commrec* %mcr, %struct.t_idef* %idef, [3 x float]* %x, [3 x float]* %f, %struct.t_forcerec* %fr, %struct.t_graph* %graph, float* %epot, %struct.t_nrnb* %nrnb, [3 x float]* %box, float %lambda, %struct.t_mdatoms* %md, i32 %44, float* %45, float* %46, %struct.t_fcdata* %fcd, i32 %step, i32 %land.ext178) #5
  br label %if.end179, !dbg !1821

if.end179:                                        ; preds = %if.end163, %land.end177
  %50 = load %struct._IO_FILE** @debug, align 8, !dbg !1822, !tbaa !1242
  %tobool180 = icmp eq %struct._IO_FILE* %50, null, !dbg !1822
  br i1 %tobool180, label %for.cond184.preheader, label %if.then181, !dbg !1822

if.then181:                                       ; preds = %if.end179
  %fshift182 = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 58, !dbg !1823
  %51 = load [3 x float]** %fshift182, align 8, !dbg !1823, !tbaa !1242
  call void @pr_rvecs(%struct._IO_FILE* %50, i32 0, i8* getelementptr inbounds ([21 x i8]* @.str53, i64 0, i64 0), [3 x float]* %51, i32 27) #5, !dbg !1823
  br label %for.cond184.preheader, !dbg !1823

for.cond184.preheader:                            ; preds = %if.end179, %if.then181
  %arrayidx193 = getelementptr inbounds float* %epot, i64 37, !dbg !1824
  br label %for.body187, !dbg !1826

for.body187:                                      ; preds = %for.inc196, %for.cond184.preheader
  %indvars.iv = phi i64 [ 0, %for.cond184.preheader ], [ %indvars.iv.next, %for.inc196 ]
  %52 = trunc i64 %indvars.iv to i32, !dbg !1827
  %cmp188 = icmp eq i32 %52, 21, !dbg !1827
  br i1 %cmp188, label %for.inc196, label %if.then190, !dbg !1827

if.then190:                                       ; preds = %for.body187
  %arrayidx192 = getelementptr inbounds float* %epot, i64 %indvars.iv, !dbg !1824
  %53 = load float* %arrayidx192, align 4, !dbg !1824, !tbaa !1186
  %54 = load float* %arrayidx193, align 4, !dbg !1824, !tbaa !1186
  %add194 = fadd float %53, %54, !dbg !1824
  store float %add194, float* %arrayidx193, align 4, !dbg !1824, !tbaa !1186
  br label %for.inc196, !dbg !1824

for.inc196:                                       ; preds = %for.body187, %if.then190
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !1826
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32, !dbg !1826
  %exitcond = icmp eq i32 %lftr.wideiv, 37, !dbg !1826
  br i1 %exitcond, label %for.end198, label %for.body187, !dbg !1826

for.end198:                                       ; preds = %for.inc196
  ret void, !dbg !1828
}
