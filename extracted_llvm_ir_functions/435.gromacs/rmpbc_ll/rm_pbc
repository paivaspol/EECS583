define void @rm_pbc(%struct.t_idef* %idef, i32 %natoms, [3 x float]* %box, [3 x float]* %x, [3 x float]* %x_s) #4 {
  %sv = alloca [27 x [3 x float]], align 16
  %box_size = alloca [3 x float], align 4
  tail call void @llvm.dbg.value(metadata %struct.t_idef* %idef, i64 0, metadata !347, metadata !403), !dbg !566
  tail call void @llvm.dbg.value(metadata i32 %natoms, i64 0, metadata !348, metadata !403), !dbg !567
  tail call void @llvm.dbg.value(metadata [3 x float]* %box, i64 0, metadata !349, metadata !403), !dbg !568
  tail call void @llvm.dbg.value(metadata [3 x float]* %x, i64 0, metadata !350, metadata !403), !dbg !569
  tail call void @llvm.dbg.value(metadata [3 x float]* %x_s, i64 0, metadata !351, metadata !403), !dbg !570
  %1 = bitcast [27 x [3 x float]]* %sv to i8*, !dbg !571
  call void @llvm.lifetime.start(i64 324, i8* %1) #5, !dbg !571
  tail call void @llvm.dbg.declare(metadata [27 x [3 x float]]* %sv, metadata !352, metadata !403), !dbg !572
  tail call void @llvm.dbg.declare(metadata [3 x float]* %box_size, metadata !356, metadata !403), !dbg !573
  %2 = icmp ne [3 x float]* %x, %x_s, !dbg !574
  %3 = getelementptr inbounds [3 x float]* %box, i64 0, i64 0, !dbg !575
  %4 = load float* %3, align 4, !dbg !575, !tbaa !531
  %fabsf = tail call float @fabsf(float %4) #8, !dbg !577
  %5 = fpext float %fabsf to double, !dbg !577
  %6 = fcmp ogt double %5, 1.200000e-38, !dbg !578
  br i1 %6, label %7, label %46, !dbg !579

; <label>:7                                       ; preds = %0
  %8 = getelementptr inbounds %struct.t_idef* %idef, i64 0, i32 0, !dbg !580
  %9 = load i32* %8, align 4, !dbg !580, !tbaa !583
  %10 = icmp eq i32 %9, -1, !dbg !585
  br i1 %10, label %42, label %.preheader1, !dbg !586

.preheader1:                                      ; preds = %7
  %11 = load i32* @rm_pbc.ngraph, align 4, !dbg !587, !tbaa !591
  %12 = icmp sgt i32 %11, 0, !dbg !592
  br i1 %12, label %.lr.ph5, label %._crit_edge.thread, !dbg !593

.lr.ph5:                                          ; preds = %.preheader1
  %13 = load %struct.multi_graph** @rm_pbc.mgraph, align 8, !dbg !594, !tbaa !596
  %14 = sext i32 %11 to i64, !dbg !593
  br label %15, !dbg !593

; <label>:15                                      ; preds = %.lr.ph5, %15
  %indvars.iv7 = phi i64 [ 0, %.lr.ph5 ], [ %indvars.iv.next8, %15 ]
  %n.03 = phi i32 [ -1, %.lr.ph5 ], [ %i.0.n.0, %15 ]
  %16 = getelementptr inbounds %struct.multi_graph* %13, i64 %indvars.iv7, i32 0, !dbg !597
  %17 = load i32* %16, align 4, !dbg !597, !tbaa !598
  %18 = icmp eq i32 %17, %natoms, !dbg !600
  %19 = trunc i64 %indvars.iv7 to i32, !dbg !601
  %i.0.n.0 = select i1 %18, i32 %19, i32 %n.03, !dbg !601
  %indvars.iv.next8 = add nuw nsw i64 %indvars.iv7, 1, !dbg !593
  %20 = icmp slt i64 %indvars.iv.next8, %14, !dbg !592
  br i1 %20, label %15, label %._crit_edge, !dbg !593

._crit_edge:                                      ; preds = %15
  %21 = icmp eq i32 %i.0.n.0, -1, !dbg !602
  br i1 %21, label %._crit_edge.thread, label %.thread, !dbg !604

._crit_edge.thread:                               ; preds = %.preheader1, %._crit_edge
  tail call void @llvm.dbg.value(metadata i32 %11, i64 0, metadata !357, metadata !403), !dbg !605
  %22 = add nsw i32 %11, 1, !dbg !606
  store i32 %22, i32* @rm_pbc.ngraph, align 4, !dbg !606, !tbaa !591
  %23 = load i8** bitcast (%struct.multi_graph** @rm_pbc.mgraph to i8**), align 8, !dbg !608, !tbaa !596
  %24 = shl i32 %22, 4, !dbg !608
  %25 = tail call i8* @save_realloc(i8* getelementptr inbounds ([7 x i8]* @.str, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 68, i8* %23, i32 %24) #6, !dbg !608
  %26 = bitcast i8* %25 to %struct.multi_graph*, !dbg !608
  store i8* %25, i8** bitcast (%struct.multi_graph** @rm_pbc.mgraph to i8**), align 8, !dbg !608, !tbaa !596
  %27 = sext i32 %11 to i64, !dbg !609
  %28 = getelementptr inbounds %struct.multi_graph* %26, i64 %27, i32 0, !dbg !610
  store i32 %natoms, i32* %28, align 4, !dbg !611, !tbaa !598
  %29 = tail call %struct.t_graph* @mk_graph(%struct.t_idef* %idef, i32 %natoms, i32 0, i32 0) #6, !dbg !612
  %30 = load %struct.multi_graph** @rm_pbc.mgraph, align 8, !dbg !613, !tbaa !596
  %31 = getelementptr inbounds %struct.multi_graph* %30, i64 %27, i32 1, !dbg !614
  store %struct.t_graph* %29, %struct.t_graph** %31, align 8, !dbg !615, !tbaa !616
  br label %.thread, !dbg !617

.thread:                                          ; preds = %._crit_edge, %._crit_edge.thread
  %n.2 = phi i32 [ %11, %._crit_edge.thread ], [ %i.0.n.0, %._crit_edge ]
  %32 = load %struct.__sFILE** @__stdoutp, align 8, !dbg !618, !tbaa !596
  %33 = sext i32 %n.2 to i64, !dbg !619
  %34 = load %struct.multi_graph** @rm_pbc.mgraph, align 8, !dbg !619, !tbaa !596
  %35 = getelementptr inbounds %struct.multi_graph* %34, i64 %33, i32 1, !dbg !620
  %36 = load %struct.t_graph** %35, align 8, !dbg !620, !tbaa !616
  tail call void @mk_mshift(%struct.__sFILE* %32, %struct.t_graph* %36, [3 x float]* %box, [3 x float]* %x) #6, !dbg !621
  %37 = getelementptr inbounds [3 x float]* %box_size, i64 0, i64 0, !dbg !622
  %38 = getelementptr inbounds [27 x [3 x float]]* %sv, i64 0, i64 0, !dbg !623
  call void @calc_shifts([3 x float]* %box, float* %37, [3 x float]* %38) #6, !dbg !624
  %39 = load %struct.multi_graph** @rm_pbc.mgraph, align 8, !dbg !625, !tbaa !596
  %40 = getelementptr inbounds %struct.multi_graph* %39, i64 %33, i32 1, !dbg !626
  %41 = load %struct.t_graph** %40, align 8, !dbg !626, !tbaa !616
  call void @shift_x(%struct.t_graph* %41, [3 x float]* %box, [3 x float]* %x, [3 x float]* %x_s) #6, !dbg !627
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !359, metadata !403), !dbg !628
  br label %.loopexit, !dbg !629

; <label>:42                                      ; preds = %7
  %.b = load i1* @rm_pbc.bFirst, align 1
  br i1 %.b, label %46, label %43, !dbg !630

; <label>:43                                      ; preds = %42
  %44 = load %struct.__sFILE** @__stderrp, align 8, !dbg !631, !tbaa !596
  %45 = tail call i64 @fwrite(i8* getelementptr inbounds ([133 x i8]* @.str2, i64 0, i64 0), i64 132, i64 1, %struct.__sFILE* %44), !dbg !634
  store i1 true, i1* @rm_pbc.bFirst, align 1
  br label %46, !dbg !635

; <label>:46                                      ; preds = %42, %43, %0
  %47 = icmp sgt i32 %natoms, 0, !dbg !636
  %or.cond = and i1 %2, %47, !dbg !629
  br i1 %or.cond, label %.lr.ph, label %.loopexit, !dbg !629

.lr.ph:                                           ; preds = %46
  %48 = add i32 %natoms, -1, !dbg !640
  br label %49, !dbg !640

; <label>:49                                      ; preds = %49, %.lr.ph
  %indvars.iv = phi i64 [ 0, %.lr.ph ], [ %indvars.iv.next, %49 ]
  %50 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv, i64 0, !dbg !641
  %51 = getelementptr inbounds [3 x float]* %x_s, i64 %indvars.iv, i64 0, !dbg !642
  tail call void @llvm.dbg.value(metadata float* %50, i64 0, metadata !368, metadata !403), !dbg !643
  tail call void @llvm.dbg.value(metadata float* %51, i64 0, metadata !369, metadata !403), !dbg !645
  %52 = bitcast float* %50 to i32*, !dbg !646
  %53 = load i32* %52, align 4, !dbg !646, !tbaa !531
  %54 = bitcast float* %51 to i32*, !dbg !647
  store i32 %53, i32* %54, align 4, !dbg !647, !tbaa !531
  %55 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv, i64 1, !dbg !648
  %56 = bitcast float* %55 to i32*, !dbg !648
  %57 = load i32* %56, align 4, !dbg !648, !tbaa !531
  %58 = getelementptr inbounds [3 x float]* %x_s, i64 %indvars.iv, i64 1, !dbg !649
  %59 = bitcast float* %58 to i32*, !dbg !650
  store i32 %57, i32* %59, align 4, !dbg !650, !tbaa !531
  %60 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv, i64 2, !dbg !651
  %61 = bitcast float* %60 to i32*, !dbg !651
  %62 = load i32* %61, align 4, !dbg !651, !tbaa !531
  %63 = getelementptr inbounds [3 x float]* %x_s, i64 %indvars.iv, i64 2, !dbg !652
  %64 = bitcast float* %63 to i32*, !dbg !653
  store i32 %62, i32* %64, align 4, !dbg !653, !tbaa !531
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1, !dbg !640
  %lftr.wideiv = trunc i64 %indvars.iv to i32, !dbg !640
  %exitcond = icmp eq i32 %lftr.wideiv, %48, !dbg !640
  br i1 %exitcond, label %.loopexit, label %49, !dbg !640

.loopexit:                                        ; preds = %49, %46, %.thread
  call void @llvm.lifetime.end(i64 324, i8* %1) #5, !dbg !654
  ret void, !dbg !654
}
