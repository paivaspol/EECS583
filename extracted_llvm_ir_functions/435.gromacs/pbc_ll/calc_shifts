define void @calc_shifts([3 x float]* %box, float* nocapture %box_size, [3 x float]* nocapture %shift_vec) #1 {
entry:
  tail call void @init_pbc([3 x float]* %box) #6
  br label %for.body

for.body:                                         ; preds = %for.body, %entry
  %indvars.iv98 = phi i64 [ 0, %entry ], [ %indvars.iv.next99, %for.body ]
  %arrayidx2 = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv98, i64 %indvars.iv98
  %0 = load float* %arrayidx2, align 4, !tbaa !0
  %arrayidx4 = getelementptr inbounds float* %box_size, i64 %indvars.iv98
  store float %0, float* %arrayidx4, align 4, !tbaa !0
  %indvars.iv.next99 = add i64 %indvars.iv98, 1
  %lftr.wideiv100 = trunc i64 %indvars.iv.next99 to i32
  %exitcond101 = icmp eq i32 %lftr.wideiv100, 3
  br i1 %exitcond101, label %for.cond8.preheader, label %for.body

for.cond8.preheader:                              ; preds = %for.body, %for.inc53
  %n.088 = phi i32 [ %10, %for.inc53 ], [ 0, %for.body ]
  %m.187 = phi i32 [ %inc54, %for.inc53 ], [ -1, %for.body ]
  %1 = mul i32 %m.187, 3
  %mul = add i32 %1, 3
  %conv33 = sitofp i32 %m.187 to float
  br label %for.cond11.preheader

for.cond11.preheader:                             ; preds = %for.inc50, %for.cond8.preheader
  %indvars.iv92.in = phi i32 [ %n.088, %for.cond8.preheader ], [ %indvars.iv92, %for.inc50 ]
  %n.186 = phi i32 [ %n.088, %for.cond8.preheader ], [ %9, %for.inc50 ]
  %l.085 = phi i32 [ -1, %for.cond8.preheader ], [ %inc51, %for.inc50 ]
  %indvars.iv92 = add i32 %indvars.iv92.in, 3
  %add14 = add nsw i32 %mul, %l.085
  %2 = mul i32 %add14, 3
  %add17 = add i32 %2, 4
  %conv27 = sitofp i32 %l.085 to float
  %3 = sext i32 %n.186 to i64
  br label %for.body13

for.body13:                                       ; preds = %for.inc46.for.body13_crit_edge, %for.cond11.preheader
  %indvars.iv90 = phi i64 [ %3, %for.cond11.preheader ], [ %indvars.iv.next91, %for.inc46.for.body13_crit_edge ]
  %k.084 = phi i32 [ -1, %for.cond11.preheader ], [ %inc47, %for.inc46.for.body13_crit_edge ]
  %add18 = add i32 %add17, %k.084
  %4 = trunc i64 %indvars.iv90 to i32
  %cmp19 = icmp ne i32 %4, %add18
  %5 = load %struct._IO_FILE** @stdlog, align 8, !tbaa !3
  %tobool = icmp ne %struct._IO_FILE* %5, null
  %or.cond = and i1 %cmp19, %tobool
  br i1 %or.cond, label %if.then, label %for.cond20.preheader

if.then:                                          ; preds = %for.body13
  %call = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %5, i8* getelementptr inbounds ([15 x i8]* @.str8, i64 0, i64 0), i32 %4, i32 %add18) #7
  br label %for.cond20.preheader

for.cond20.preheader:                             ; preds = %if.then, %for.body13
  %conv = sitofp i32 %k.084 to float
  br label %for.body22

for.body22:                                       ; preds = %for.body22, %for.cond20.preheader
  %indvars.iv = phi i64 [ 0, %for.cond20.preheader ], [ %indvars.iv.next, %for.body22 ]
  %arrayidx25 = getelementptr inbounds [3 x float]* %box, i64 0, i64 %indvars.iv
  %6 = load float* %arrayidx25, align 4, !tbaa !0
  %mul26 = fmul float %conv, %6
  %arrayidx30 = getelementptr inbounds [3 x float]* %box, i64 1, i64 %indvars.iv
  %7 = load float* %arrayidx30, align 4, !tbaa !0
  %mul31 = fmul float %conv27, %7
  %add32 = fadd float %mul26, %mul31
  %arrayidx36 = getelementptr inbounds [3 x float]* %box, i64 2, i64 %indvars.iv
  %8 = load float* %arrayidx36, align 4, !tbaa !0
  %mul37 = fmul float %conv33, %8
  %add38 = fadd float %add32, %mul37
  %arrayidx42 = getelementptr inbounds [3 x float]* %shift_vec, i64 %indvars.iv90, i64 %indvars.iv
  store float %add38, float* %arrayidx42, align 4, !tbaa !0
  %indvars.iv.next = add i64 %indvars.iv, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32
  %exitcond = icmp eq i32 %lftr.wideiv, 3
  br i1 %exitcond, label %for.inc46, label %for.body22

for.inc46:                                        ; preds = %for.body22
  %indvars.iv.next91 = add i64 %indvars.iv90, 1
  %lftr.wideiv94 = trunc i64 %indvars.iv.next91 to i32
  %exitcond95 = icmp eq i32 %lftr.wideiv94, %indvars.iv92
  br i1 %exitcond95, label %for.inc50, label %for.inc46.for.body13_crit_edge

for.inc46.for.body13_crit_edge:                   ; preds = %for.inc46
  %inc47 = add nsw i32 %k.084, 1
  br label %for.body13

for.inc50:                                        ; preds = %for.inc46
  %9 = add i32 %n.186, 3
  %inc51 = add nsw i32 %l.085, 1
  %exitcond96 = icmp eq i32 %inc51, 2
  br i1 %exitcond96, label %for.inc53, label %for.cond11.preheader

for.inc53:                                        ; preds = %for.inc50
  %10 = add i32 %n.088, 9
  %inc54 = add nsw i32 %m.187, 1
  %exitcond97 = icmp eq i32 %inc54, 2
  br i1 %exitcond97, label %for.end55, label %for.cond8.preheader

for.end55:                                        ; preds = %for.inc53
  ret void
}
