define i32 @open_enx(i8* %fn, i8* %mode) #3 {
  %dum.i = alloca i8, align 1
  %nre = alloca i32, align 4
  %nm = alloca i8**, align 8
  %bDum = alloca i32, align 4
  store i8** null, i8*** %nm, align 8, !tbaa !23
  store i32 1, i32* %bDum, align 4, !tbaa !26
  %1 = load i8* %mode, align 1, !tbaa !13
  %2 = icmp eq i8 %1, 114
  %3 = tail call i32 @gmx_fio_open(i8* %fn, i8* %mode) #6
  br i1 %2, label %4, label %102

; <label>:4                                       ; preds = %0
  tail call void @gmx_fio_select(i32 %3) #6
  tail call void @gmx_fio_setprecision(i32 %3, i32 0) #6
  call void @do_enxnms(i32 %3, i32* %nre, i8*** %nm) #7
  %5 = call i8* @save_calloc(i8* getelementptr inbounds ([3 x i8]* @.str8, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 206, i32 1, i32 96) #6
  %6 = bitcast i8* %5 to %struct.t_enxframe*
  %7 = call fastcc i32 @do_eheader(i32 %3, %struct.t_enxframe* %6, i32* %bDum) #7
  %8 = getelementptr inbounds i8* %5, i64 32
  %9 = bitcast i8* %8 to i32*
  %10 = load i32* %9, align 4, !tbaa !27
  %11 = icmp eq i32 %10, 0
  br i1 %11, label %24, label %12

; <label>:12                                      ; preds = %4
  %13 = getelementptr inbounds i8* %5, i64 8
  %14 = bitcast i8* %13 to i32*
  %15 = load i32* %14, align 4, !tbaa !28
  %16 = load i32* %nre, align 4, !tbaa !26
  %17 = icmp eq i32 %15, %16
  br i1 %17, label %18, label %24

; <label>:18                                      ; preds = %12
  %19 = shl nsw i32 %15, 2
  %20 = sext i32 %19 to i64
  %21 = shl nsw i64 %20, 2
  %22 = sext i32 %10 to i64
  %23 = icmp eq i64 %21, %22
  br i1 %23, label %38, label %24

; <label>:24                                      ; preds = %4, %18, %12
  %25 = getelementptr inbounds i8* %5, i64 36
  %26 = bitcast i8* %25 to i32*
  %27 = load i32* %26, align 4, !tbaa !29
  %28 = icmp eq i32 %27, 0
  br i1 %28, label %52, label %29

; <label>:29                                      ; preds = %24
  %30 = getelementptr inbounds i8* %5, i64 12
  %31 = bitcast i8* %30 to i32*
  %32 = load i32* %31, align 4, !tbaa !30
  %33 = sext i32 %32 to i64
  %34 = shl nsw i64 %33, 3
  %35 = or i64 %34, 4
  %36 = sext i32 %27 to i64
  %37 = icmp eq i64 %35, %36
  br i1 %37, label %38, label %52

; <label>:38                                      ; preds = %29, %18
  %39 = load %struct.__sFILE** @__stderrp, align 8, !tbaa !23
  %40 = call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %39, i8* getelementptr inbounds ([43 x i8]* @.str9, i64 0, i64 0), i8* %fn) #6
  %41 = load i32* %nre, align 4, !tbaa !26
  %42 = icmp sgt i32 %41, 0
  br i1 %42, label %.lr.ph4, label %._crit_edge8

._crit_edge8:                                     ; preds = %38
  %.phi.trans.insert = bitcast i8*** %nm to i8**
  %.pre = load i8** %.phi.trans.insert, align 8, !tbaa !23
  br label %._crit_edge5

.lr.ph4:                                          ; preds = %38
  %43 = load i8*** %nm, align 8, !tbaa !23
  %44 = bitcast i8** %43 to i8*
  br label %45

; <label>:45                                      ; preds = %.lr.ph4, %45
  %indvars.iv6 = phi i64 [ 0, %.lr.ph4 ], [ %indvars.iv.next7, %45 ]
  %46 = getelementptr inbounds i8** %43, i64 %indvars.iv6
  %47 = load i8** %46, align 8, !tbaa !23
  call void @save_free(i8* getelementptr inbounds ([6 x i8]* @.str10, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 216, i8* %47) #6
  %indvars.iv.next7 = add nuw nsw i64 %indvars.iv6, 1
  %48 = load i32* %nre, align 4, !tbaa !26
  %49 = sext i32 %48 to i64
  %50 = icmp slt i64 %indvars.iv.next7, %49
  br i1 %50, label %45, label %._crit_edge5

._crit_edge5:                                     ; preds = %45, %._crit_edge8
  %51 = phi i8* [ %.pre, %._crit_edge8 ], [ %44, %45 ]
  call void @save_free(i8* getelementptr inbounds ([3 x i8]* @.str11, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 217, i8* %51) #6
  br label %101

; <label>:52                                      ; preds = %24, %29
  call void @gmx_fio_rewind(i32 %3) #6
  call void @gmx_fio_select(i32 %3) #6
  call void @gmx_fio_setprecision(i32 %3, i32 1) #6
  call void @do_enxnms(i32 %3, i32* %nre, i8*** %nm) #7
  %53 = call fastcc i32 @do_eheader(i32 %3, %struct.t_enxframe* %6, i32* %bDum) #7
  %54 = load i32* %9, align 4, !tbaa !27
  %55 = icmp eq i32 %54, 0
  br i1 %55, label %68, label %56

; <label>:56                                      ; preds = %52
  %57 = getelementptr inbounds i8* %5, i64 8
  %58 = bitcast i8* %57 to i32*
  %59 = load i32* %58, align 4, !tbaa !28
  %60 = load i32* %nre, align 4, !tbaa !26
  %61 = icmp eq i32 %59, %60
  br i1 %61, label %62, label %68

; <label>:62                                      ; preds = %56
  %63 = shl nsw i32 %59, 2
  %64 = sext i32 %63 to i64
  %65 = shl nsw i64 %64, 3
  %66 = sext i32 %54 to i64
  %67 = icmp eq i64 %65, %66
  br i1 %67, label %80, label %68

; <label>:68                                      ; preds = %52, %62, %56
  %69 = load i32* %26, align 4, !tbaa !29
  %70 = icmp eq i32 %69, 0
  br i1 %70, label %83, label %71

; <label>:71                                      ; preds = %68
  %72 = getelementptr inbounds i8* %5, i64 12
  %73 = bitcast i8* %72 to i32*
  %74 = load i32* %73, align 4, !tbaa !30
  %75 = sext i32 %74 to i64
  %76 = shl nsw i64 %75, 4
  %77 = or i64 %76, 4
  %78 = sext i32 %69 to i64
  %79 = icmp eq i64 %77, %78
  br i1 %79, label %80, label %83

; <label>:80                                      ; preds = %71, %62
  %81 = load %struct.__sFILE** @__stderrp, align 8, !tbaa !23
  %82 = call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %81, i8* getelementptr inbounds ([43 x i8]* @.str12, i64 0, i64 0), i8* %fn) #6
  br label %.preheader

; <label>:83                                      ; preds = %68, %71
  call void @llvm.lifetime.start(i64 1, i8* %dum.i)
  %84 = call %struct.__sFILE* @ffopen(i8* %fn, i8* getelementptr inbounds ([2 x i8]* @.str44, i64 0, i64 0)) #6
  %85 = call i64 @fread(i8* %dum.i, i64 1, i64 1, %struct.__sFILE* %84) #6
  %86 = call i32 @feof(%struct.__sFILE* %84) #6
  call void @ffclose(%struct.__sFILE* %84) #6
  call void @llvm.lifetime.end(i64 1, i8* %dum.i)
  %87 = icmp eq i32 %86, 0
  br i1 %87, label %89, label %88

; <label>:88                                      ; preds = %83
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([17 x i8]* @.str13, i64 0, i64 0), i8* %fn) #6
  br label %.preheader

; <label>:89                                      ; preds = %83
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([52 x i8]* @.str14, i64 0, i64 0), i8* %fn) #6
  br label %.preheader

.preheader:                                       ; preds = %88, %89, %80
  %90 = load i32* %nre, align 4, !tbaa !26
  %91 = icmp sgt i32 %90, 0
  br i1 %91, label %.lr.ph, label %.preheader._crit_edge

.preheader._crit_edge:                            ; preds = %.preheader
  %.phi.trans.insert9 = bitcast i8*** %nm to i8**
  %.pre10 = load i8** %.phi.trans.insert9, align 8, !tbaa !23
  br label %._crit_edge

.lr.ph:                                           ; preds = %.preheader
  %92 = load i8*** %nm, align 8, !tbaa !23
  %93 = bitcast i8** %92 to i8*
  br label %94

; <label>:94                                      ; preds = %.lr.ph, %94
  %indvars.iv = phi i64 [ 0, %.lr.ph ], [ %indvars.iv.next, %94 ]
  %95 = getelementptr inbounds i8** %92, i64 %indvars.iv
  %96 = load i8** %95, align 8, !tbaa !23
  call void @save_free(i8* getelementptr inbounds ([6 x i8]* @.str10, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 238, i8* %96) #6
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %97 = load i32* %nre, align 4, !tbaa !26
  %98 = sext i32 %97 to i64
  %99 = icmp slt i64 %indvars.iv.next, %98
  br i1 %99, label %94, label %._crit_edge

._crit_edge:                                      ; preds = %94, %.preheader._crit_edge
  %100 = phi i8* [ %.pre10, %.preheader._crit_edge ], [ %93, %94 ]
  call void @save_free(i8* getelementptr inbounds ([3 x i8]* @.str11, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 239, i8* %100) #6
  br label %101

; <label>:101                                     ; preds = %._crit_edge, %._crit_edge5
  call void @free_enxframe(%struct.t_enxframe* %6) #7
  call void @save_free(i8* getelementptr inbounds ([3 x i8]* @.str8, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 242, i8* %5) #6
  call void @gmx_fio_rewind(i32 %3) #6
  br label %102

; <label>:102                                     ; preds = %0, %101
  store i32 0, i32* @framenr, align 4, !tbaa !26
  ret i32 %3
}
