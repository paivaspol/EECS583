define i32 @count_constraints(%struct.t_topology* nocapture %top, %struct.t_commrec* %cr) #0 {
entry:
  %nc = alloca i32, align 4
  call void @llvm.dbg.value(metadata !{%struct.t_topology* %top}, i64 0, metadata !710), !dbg !1164
  call void @llvm.dbg.value(metadata !{%struct.t_commrec* %cr}, i64 0, metadata !711), !dbg !1164
  call void @llvm.dbg.declare(metadata !{i32* %nc}, metadata !712), !dbg !1165
  %nr = getelementptr inbounds %struct.t_topology* %top, i64 0, i32 1, i32 5, i64 29, i32 0, !dbg !1166
  %0 = load i32* %nr, align 4, !dbg !1166, !tbaa !1035
  %mul = mul nsw i32 %0, 3, !dbg !1166
  %div = sdiv i32 %mul, 2, !dbg !1166
  %nr4 = getelementptr inbounds %struct.t_topology* %top, i64 0, i32 1, i32 5, i64 27, i32 0, !dbg !1166
  %1 = load i32* %nr4, align 4, !dbg !1166, !tbaa !1035
  %div5 = sdiv i32 %1, 3, !dbg !1166
  %add = add nsw i32 %div5, %div, !dbg !1166
  call void @llvm.dbg.value(metadata !{i32 %add}, i64 0, metadata !712), !dbg !1166
  store i32 %add, i32* %nc, align 4, !dbg !1166, !tbaa !1035
  %nnodes = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 1, !dbg !1167
  %2 = load i32* %nnodes, align 4, !dbg !1167, !tbaa !1035
  %cmp = icmp sgt i32 %2, 1, !dbg !1167
  br i1 %cmp, label %if.then, label %lor.lhs.false, !dbg !1167

lor.lhs.false:                                    ; preds = %entry
  %nthreads = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 5, !dbg !1167
  %3 = load i32* %nthreads, align 4, !dbg !1167, !tbaa !1035
  %cmp6 = icmp sgt i32 %3, 1, !dbg !1167
  br i1 %cmp6, label %if.then, label %if.end, !dbg !1167

if.then:                                          ; preds = %lor.lhs.false, %entry
  call void @gmx_sumi(i32 1, i32* %nc, %struct.t_commrec* %cr) #7, !dbg !1168
  call void @llvm.dbg.value(metadata !{i32* %nc}, i64 0, metadata !712), !dbg !1169
  %.pre = load i32* %nc, align 4, !dbg !1169, !tbaa !1035
  br label %if.end, !dbg !1168

if.end:                                           ; preds = %if.then, %lor.lhs.false
  %4 = phi i32 [ %.pre, %if.then ], [ %add, %lor.lhs.false ]
  call void @llvm.dbg.value(metadata !{i32* %nc}, i64 0, metadata !712), !dbg !1169
  ret i32 %4, !dbg !1169
}
