define float @analyse_diff(%struct.__sFILE* %log, i8* %label, i32 %natom, [3 x float]* nocapture readonly %ffour, [3 x float]* nocapture readonly %fpppm, float* nocapture readonly %phi_f, float* nocapture readonly %phi_p, float* nocapture readonly %phi_sr, i8* %fcorr, i8* %pcorr, i8* nocapture readnone %ftotcorr, i8* %ptotcorr) #1 {
  %1 = getelementptr inbounds [3 x float]* %ffour, i64 0, i64 0
  %2 = load float* %1, align 4, !tbaa !2
  %3 = getelementptr inbounds [3 x float]* %fpppm, i64 0, i64 0
  %4 = load float* %3, align 4, !tbaa !2
  %5 = fsub float %2, %4
  %fabsf = tail call float @fabsf(float %5) #5
  %6 = load float* %phi_f, align 4, !tbaa !2
  %7 = load float* %phi_p, align 4, !tbaa !2
  %8 = fsub float %6, %7
  %fabsf1 = tail call float @fabsf(float %8) #5
  %9 = icmp sgt i32 %natom, 0
  br i1 %9, label %.lr.ph17, label %30

.lr.ph17:                                         ; preds = %0
  %10 = add i32 %natom, -1
  br label %11

; <label>:11                                      ; preds = %._crit_edge39, %.lr.ph17
  %12 = phi float [ %7, %.lr.ph17 ], [ %.pre41, %._crit_edge39 ]
  %13 = phi float [ %6, %.lr.ph17 ], [ %.pre, %._crit_edge39 ]
  %indvars.iv35 = phi i64 [ 0, %.lr.ph17 ], [ %indvars.iv.next36, %._crit_edge39 ]
  %pmax.014 = phi float [ %fabsf1, %.lr.ph17 ], [ %28, %._crit_edge39 ]
  %fmax.013 = phi float [ %fabsf, %.lr.ph17 ], [ %24, %._crit_edge39 ]
  %p2sum.012 = phi float [ 0.000000e+00, %.lr.ph17 ], [ %29, %._crit_edge39 ]
  %f2sum.011 = phi float [ 0.000000e+00, %.lr.ph17 ], [ %26, %._crit_edge39 ]
  %14 = fsub float %13, %12
  %fabsf2 = tail call float @fabsf(float %14) #5
  %15 = fcmp ogt float %fabsf2, %pmax.014
  %16 = fmul float %fabsf2, %fabsf2
  br label %17

; <label>:17                                      ; preds = %17, %11
  %indvars.iv32 = phi i64 [ 0, %11 ], [ %indvars.iv.next33, %17 ]
  %fmax.19 = phi float [ %fmax.013, %11 ], [ %24, %17 ]
  %f2sum.18 = phi float [ %f2sum.011, %11 ], [ %26, %17 ]
  %18 = getelementptr inbounds [3 x float]* %ffour, i64 %indvars.iv35, i64 %indvars.iv32
  %19 = load float* %18, align 4, !tbaa !2
  %20 = getelementptr inbounds [3 x float]* %fpppm, i64 %indvars.iv35, i64 %indvars.iv32
  %21 = load float* %20, align 4, !tbaa !2
  %22 = fsub float %19, %21
  %fabsf3 = tail call float @fabsf(float %22) #5
  %23 = fcmp ogt float %fabsf3, %fmax.19
  %24 = select i1 %23, float %fabsf3, float %fmax.19
  %25 = fmul float %fabsf3, %fabsf3
  %26 = fadd float %f2sum.18, %25
  %indvars.iv.next33 = add nuw nsw i64 %indvars.iv32, 1
  %exitcond34 = icmp eq i64 %indvars.iv.next33, 3
  br i1 %exitcond34, label %27, label %17

; <label>:27                                      ; preds = %17
  %28 = select i1 %15, float %fabsf2, float %pmax.014
  %29 = fadd float %p2sum.012, %16
  %indvars.iv.next36 = add nuw nsw i64 %indvars.iv35, 1
  %lftr.wideiv37 = trunc i64 %indvars.iv35 to i32
  %exitcond38 = icmp eq i32 %lftr.wideiv37, %10
  br i1 %exitcond38, label %._crit_edge18, label %._crit_edge39

._crit_edge39:                                    ; preds = %27
  %.phi.trans.insert = getelementptr inbounds float* %phi_f, i64 %indvars.iv.next36
  %.pre = load float* %.phi.trans.insert, align 4, !tbaa !2
  %.phi.trans.insert40 = getelementptr inbounds float* %phi_p, i64 %indvars.iv.next36
  %.pre41 = load float* %.phi.trans.insert40, align 4, !tbaa !2
  br label %11

._crit_edge18:                                    ; preds = %27
  %phitmp = fpext float %26 to double
  br label %30

; <label>:30                                      ; preds = %._crit_edge18, %0
  %pmax.0.lcssa = phi float [ %28, %._crit_edge18 ], [ %fabsf1, %0 ]
  %fmax.0.lcssa = phi float [ %24, %._crit_edge18 ], [ %fabsf, %0 ]
  %p2sum.0.lcssa = phi float [ %29, %._crit_edge18 ], [ 0.000000e+00, %0 ]
  %f2sum.0.lcssa = phi double [ %phitmp, %._crit_edge18 ], [ 0.000000e+00, %0 ]
  %31 = sitofp i32 %natom to double
  %32 = fmul double %31, 3.000000e+00
  %33 = fdiv double %f2sum.0.lcssa, %32
  %34 = tail call double @sqrt(double %33) #9
  %35 = fptrunc double %34 to float
  %36 = icmp eq %struct.__sFILE* %log, null
  br i1 %36, label %49, label %37

; <label>:37                                      ; preds = %30
  %38 = tail call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %log, i8* getelementptr inbounds ([57 x i8]* @.str28, i64 0, i64 0), i8* %label) #8
  %39 = tail call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %log, i8* getelementptr inbounds ([15 x i8]* @.str29, i64 0, i64 0), i8* getelementptr inbounds ([7 x i8]* @.str30, i64 0, i64 0), i8* getelementptr inbounds ([8 x i8]* @.str31, i64 0, i64 0), i8* getelementptr inbounds ([4 x i8]* @.str32, i64 0, i64 0)) #8
  %40 = fpext float %fmax.0.lcssa to double
  %41 = fpext float %35 to double
  %42 = tail call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %log, i8* getelementptr inbounds ([23 x i8]* @.str33, i64 0, i64 0), i8* getelementptr inbounds ([6 x i8]* @.str34, i64 0, i64 0), double %40, double %41) #8
  %43 = fpext float %pmax.0.lcssa to double
  %44 = sitofp i32 %natom to float
  %45 = fdiv float %p2sum.0.lcssa, %44
  %46 = fpext float %45 to double
  %47 = tail call double @sqrt(double %46) #9
  %48 = tail call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %log, i8* getelementptr inbounds ([23 x i8]* @.str33, i64 0, i64 0), i8* getelementptr inbounds ([10 x i8]* @.str35, i64 0, i64 0), double %43, double %47) #8
  br label %49

; <label>:49                                      ; preds = %30, %37
  %50 = icmp eq i8* %fcorr, null
  br i1 %50, label %63, label %51

; <label>:51                                      ; preds = %49
  %52 = tail call %struct.__sFILE* @xvgropen(i8* %fcorr, i8* getelementptr inbounds ([21 x i8]* @.str36, i64 0, i64 0), i8* getelementptr inbounds ([11 x i8]* @.str37, i64 0, i64 0), i8* getelementptr inbounds ([11 x i8]* @.str38, i64 0, i64 0)) #8
  br i1 %9, label %.preheader.lr.ph, label %._crit_edge7

.preheader.lr.ph:                                 ; preds = %51
  %53 = add i32 %natom, -1
  br label %.preheader

.preheader:                                       ; preds = %62, %.preheader.lr.ph
  %indvars.iv28 = phi i64 [ 0, %.preheader.lr.ph ], [ %indvars.iv.next29, %62 ]
  br label %54

; <label>:54                                      ; preds = %54, %.preheader
  %indvars.iv25 = phi i64 [ 0, %.preheader ], [ %indvars.iv.next26, %54 ]
  %55 = getelementptr inbounds [3 x float]* %ffour, i64 %indvars.iv28, i64 %indvars.iv25
  %56 = load float* %55, align 4, !tbaa !2
  %57 = fpext float %56 to double
  %58 = getelementptr inbounds [3 x float]* %fpppm, i64 %indvars.iv28, i64 %indvars.iv25
  %59 = load float* %58, align 4, !tbaa !2
  %60 = fpext float %59 to double
  %61 = tail call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %52, i8* getelementptr inbounds ([16 x i8]* @.str39, i64 0, i64 0), double %57, double %60) #8
  %indvars.iv.next26 = add nuw nsw i64 %indvars.iv25, 1
  %exitcond27 = icmp eq i64 %indvars.iv.next26, 3
  br i1 %exitcond27, label %62, label %54

; <label>:62                                      ; preds = %54
  %indvars.iv.next29 = add nuw nsw i64 %indvars.iv28, 1
  %lftr.wideiv30 = trunc i64 %indvars.iv28 to i32
  %exitcond31 = icmp eq i32 %lftr.wideiv30, %53
  br i1 %exitcond31, label %._crit_edge7, label %.preheader

._crit_edge7:                                     ; preds = %62, %51
  tail call void @ffclose(%struct.__sFILE* %52) #8
  tail call void @do_view(i8* %fcorr, i8* null) #8
  br label %63

; <label>:63                                      ; preds = %49, %._crit_edge7
  %fp.0 = phi %struct.__sFILE* [ %52, %._crit_edge7 ], [ null, %49 ]
  %64 = icmp ne i8* %pcorr, null
  br i1 %64, label %65, label %67

; <label>:65                                      ; preds = %63
  %66 = tail call %struct.__sFILE* @xvgropen(i8* %pcorr, i8* getelementptr inbounds ([25 x i8]* @.str40, i64 0, i64 0), i8* getelementptr inbounds ([9 x i8]* @.str41, i64 0, i64 0), i8* getelementptr inbounds ([9 x i8]* @.str42, i64 0, i64 0)) #8
  br label %67

; <label>:67                                      ; preds = %65, %63
  %fp.1 = phi %struct.__sFILE* [ %66, %65 ], [ %fp.0, %63 ]
  %68 = icmp ne i8* %ptotcorr, null
  br i1 %68, label %69, label %71

; <label>:69                                      ; preds = %67
  %70 = tail call %struct.__sFILE* @xvgropen(i8* %ptotcorr, i8* getelementptr inbounds ([28 x i8]* @.str43, i64 0, i64 0), i8* getelementptr inbounds ([9 x i8]* @.str41, i64 0, i64 0), i8* getelementptr inbounds ([9 x i8]* @.str42, i64 0, i64 0)) #8
  br label %71

; <label>:71                                      ; preds = %69, %67
  %gp.0 = phi %struct.__sFILE* [ %70, %69 ], [ null, %67 ]
  br i1 %9, label %.lr.ph, label %._crit_edge

.lr.ph:                                           ; preds = %71
  %72 = add i32 %natom, -1
  br label %73

; <label>:73                                      ; preds = %95, %.lr.ph
  %indvars.iv = phi i64 [ 0, %.lr.ph ], [ %indvars.iv.next, %95 ]
  br i1 %64, label %74, label %82

; <label>:74                                      ; preds = %73
  %75 = getelementptr inbounds float* %phi_f, i64 %indvars.iv
  %76 = load float* %75, align 4, !tbaa !2
  %77 = fpext float %76 to double
  %78 = getelementptr inbounds float* %phi_p, i64 %indvars.iv
  %79 = load float* %78, align 4, !tbaa !2
  %80 = fpext float %79 to double
  %81 = tail call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %fp.1, i8* getelementptr inbounds ([16 x i8]* @.str39, i64 0, i64 0), double %77, double %80) #8
  br label %82

; <label>:82                                      ; preds = %74, %73
  br i1 %68, label %83, label %95

; <label>:83                                      ; preds = %82
  %84 = getelementptr inbounds float* %phi_f, i64 %indvars.iv
  %85 = load float* %84, align 4, !tbaa !2
  %86 = getelementptr inbounds float* %phi_sr, i64 %indvars.iv
  %87 = load float* %86, align 4, !tbaa !2
  %88 = fadd float %85, %87
  %89 = fpext float %88 to double
  %90 = getelementptr inbounds float* %phi_p, i64 %indvars.iv
  %91 = load float* %90, align 4, !tbaa !2
  %92 = fadd float %87, %91
  %93 = fpext float %92 to double
  %94 = tail call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %gp.0, i8* getelementptr inbounds ([16 x i8]* @.str39, i64 0, i64 0), double %89, double %93) #8
  br label %95

; <label>:95                                      ; preds = %82, %83
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %lftr.wideiv = trunc i64 %indvars.iv to i32
  %exitcond = icmp eq i32 %lftr.wideiv, %72
  br i1 %exitcond, label %._crit_edge, label %73

._crit_edge:                                      ; preds = %95, %71
  br i1 %64, label %96, label %97

; <label>:96                                      ; preds = %._crit_edge
  tail call void @ffclose(%struct.__sFILE* %fp.1) #8
  tail call void @do_view(i8* %pcorr, i8* null) #8
  br label %97

; <label>:97                                      ; preds = %96, %._crit_edge
  br i1 %68, label %98, label %99

; <label>:98                                      ; preds = %97
  tail call void @ffclose(%struct.__sFILE* %gp.0) #8
  tail call void @do_view(i8* %ptotcorr, i8* null) #8
  br label %99

; <label>:99                                      ; preds = %98, %97
  ret float %35
}
