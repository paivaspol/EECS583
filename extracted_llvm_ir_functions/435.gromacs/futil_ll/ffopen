define %struct.__sFILE* @ffopen(i8* %file, i8* %mode) #2 {
  %buf = alloca [256 x i8], align 16
  tail call void @llvm.dbg.value(metadata i8* %file, i64 0, metadata !148, metadata !235), !dbg !378
  tail call void @llvm.dbg.value(metadata i8* %mode, i64 0, metadata !149, metadata !235), !dbg !379
  tail call void @llvm.dbg.value(metadata %struct.__sFILE* null, i64 0, metadata !150, metadata !235), !dbg !380
  %1 = getelementptr inbounds [256 x i8]* %buf, i64 0, i64 0, !dbg !381
  call void @llvm.lifetime.start(i64 256, i8* %1) #6, !dbg !381
  tail call void @llvm.dbg.declare(metadata [256 x i8]* %buf, metadata !151, metadata !235), !dbg !382
  tail call void @llvm.dbg.value(metadata i8* null, i64 0, metadata !153, metadata !235), !dbg !383
  %2 = load i8* %mode, align 1, !dbg !384, !tbaa !348
  %3 = icmp eq i8 %2, 114, !dbg !385
  %4 = call i8* @__strcpy_chk(i8* %1, i8* %file, i64 256) #8, !dbg !386
  %5 = call i32 @fexist(i8* %1) #9, !dbg !387
  %6 = icmp eq i32 %5, 0, !dbg !387
  %or.cond = and i1 %3, %6, !dbg !389
  br i1 %or.cond, label %14, label %7, !dbg !389

; <label>:7                                       ; preds = %0
  %8 = call %struct.__sFILE* @"\01_fopen"(i8* %1, i8* %mode) #8, !dbg !390
  call void @llvm.dbg.value(metadata %struct.__sFILE* %8, i64 0, metadata !150, metadata !235), !dbg !380
  %9 = icmp eq %struct.__sFILE* %8, null, !dbg !393
  br i1 %9, label %10, label %11, !dbg !394

; <label>:10                                      ; preds = %7
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([18 x i8]* @.str6, i64 0, i64 0), i8* %1) #8, !dbg !395
  br label %11, !dbg !395

; <label>:11                                      ; preds = %10, %7
  call void @_where(i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 297) #8, !dbg !396
  call void @llvm.dbg.value(metadata i8* null, i64 0, metadata !153, metadata !235), !dbg !383
  %.b = load i1* @bUnbuffered, align 1
  br i1 %.b, label %12, label %13, !dbg !397

; <label>:12                                      ; preds = %11
  call void @setbuf(%struct.__sFILE* %8, i8* null) #8, !dbg !399
  br label %13, !dbg !399

; <label>:13                                      ; preds = %12, %11
  call void @_where(i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 320) #8, !dbg !402
  br label %27, !dbg !403

; <label>:14                                      ; preds = %0
  %15 = call i32 (i8*, i32, i64, i8*, ...)* @__sprintf_chk(i8* %1, i32 0, i64 256, i8* getelementptr inbounds ([5 x i8]* @.str16, i64 0, i64 0), i8* %file) #8, !dbg !404
  %16 = call i32 @fexist(i8* %1) #9, !dbg !406
  %17 = icmp eq i32 %16, 0, !dbg !406
  br i1 %17, label %20, label %18, !dbg !408

; <label>:18                                      ; preds = %14
  %19 = call %struct.__sFILE* @uncompress(i8* %1, i8* %mode) #9, !dbg !409
  call void @llvm.dbg.value(metadata %struct.__sFILE* %19, i64 0, metadata !150, metadata !235), !dbg !380
  br label %27, !dbg !411

; <label>:20                                      ; preds = %14
  %21 = call i32 (i8*, i32, i64, i8*, ...)* @__sprintf_chk(i8* %1, i32 0, i64 256, i8* getelementptr inbounds ([6 x i8]* @.str17, i64 0, i64 0), i8* %file) #8, !dbg !412
  %22 = call i32 @fexist(i8* %1) #9, !dbg !414
  %23 = icmp eq i32 %22, 0, !dbg !414
  br i1 %23, label %26, label %24, !dbg !416

; <label>:24                                      ; preds = %20
  %25 = call %struct.__sFILE* @gunzip(i8* %1, i8* %mode) #9, !dbg !417
  call void @llvm.dbg.value(metadata %struct.__sFILE* %25, i64 0, metadata !150, metadata !235), !dbg !380
  br label %27, !dbg !419

; <label>:26                                      ; preds = %20
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([18 x i8]* @.str18, i64 0, i64 0), i8* %file) #8, !dbg !420
  br label %27

; <label>:27                                      ; preds = %18, %26, %24, %13
  %ff.0 = phi %struct.__sFILE* [ %19, %18 ], [ %25, %24 ], [ null, %26 ], [ %8, %13 ]
  call void @llvm.lifetime.end(i64 256, i8* %1) #6, !dbg !421
  ret %struct.__sFILE* %ff.0, !dbg !421
}
