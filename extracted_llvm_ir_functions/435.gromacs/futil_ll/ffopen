define %struct.__sFILE* @ffopen(i8* %file, i8* %mode) #1 {
  %buf = alloca [256 x i8], align 16
  %1 = getelementptr inbounds [256 x i8]* %buf, i64 0, i64 0
  call void @llvm.lifetime.start(i64 256, i8* %1) #5
  %2 = load i8* %mode, align 1, !tbaa !9
  %3 = icmp eq i8 %2, 114
  %4 = call i8* @__strcpy_chk(i8* %1, i8* %file, i64 256) #8
  %5 = call i32 @fexist(i8* %1) #9
  %6 = icmp eq i32 %5, 0
  %or.cond = and i1 %3, %6
  br i1 %or.cond, label %14, label %7

; <label>:7                                       ; preds = %0
  %8 = call %struct.__sFILE* @"\01_fopen"(i8* %1, i8* %mode) #8
  %9 = icmp eq %struct.__sFILE* %8, null
  br i1 %9, label %10, label %11

; <label>:10                                      ; preds = %7
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([18 x i8]* @.str6, i64 0, i64 0), i8* %1) #8
  br label %11

; <label>:11                                      ; preds = %10, %7
  call void @_where(i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 297) #8
  %.b = load i1* @bUnbuffered, align 1
  br i1 %.b, label %12, label %13

; <label>:12                                      ; preds = %11
  call void @setbuf(%struct.__sFILE* %8, i8* null) #8
  br label %13

; <label>:13                                      ; preds = %12, %11
  call void @_where(i8* getelementptr inbounds ([65 x i8]* @.str1, i64 0, i64 0), i32 320) #8
  br label %27

; <label>:14                                      ; preds = %0
  %15 = call i32 (i8*, i32, i64, i8*, ...)* @__sprintf_chk(i8* %1, i32 0, i64 256, i8* getelementptr inbounds ([5 x i8]* @.str16, i64 0, i64 0), i8* %file) #8
  %16 = call i32 @fexist(i8* %1) #9
  %17 = icmp eq i32 %16, 0
  br i1 %17, label %20, label %18

; <label>:18                                      ; preds = %14
  %19 = call %struct.__sFILE* @uncompress(i8* %1, i8* %mode) #9
  br label %27

; <label>:20                                      ; preds = %14
  %21 = call i32 (i8*, i32, i64, i8*, ...)* @__sprintf_chk(i8* %1, i32 0, i64 256, i8* getelementptr inbounds ([6 x i8]* @.str17, i64 0, i64 0), i8* %file) #8
  %22 = call i32 @fexist(i8* %1) #9
  %23 = icmp eq i32 %22, 0
  br i1 %23, label %26, label %24

; <label>:24                                      ; preds = %20
  %25 = call %struct.__sFILE* @gunzip(i8* %1, i8* %mode) #9
  br label %27

; <label>:26                                      ; preds = %20
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([18 x i8]* @.str18, i64 0, i64 0), i8* %file) #8
  br label %27

; <label>:27                                      ; preds = %18, %26, %24, %13
  %ff.0 = phi %struct.__sFILE* [ %19, %18 ], [ %25, %24 ], [ null, %26 ], [ %8, %13 ]
  call void @llvm.lifetime.end(i64 256, i8* %1) #5
  ret %struct.__sFILE* %ff.0
}
