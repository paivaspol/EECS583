define float @pdihs(i32 %nbonds, i32* nocapture %forceatoms, %union.t_iparams* nocapture %forceparams, [3 x float]* nocapture %x, [3 x float]* nocapture %f, %struct.t_forcerec* nocapture %fr, %struct.t_graph* nocapture %g, [3 x float]* nocapture %box, float %lambda, float* nocapture %dvdlambda, %struct.t_mdatoms* nocapture %md, i32 %ngrp, float* nocapture %egnb, float* nocapture %egcoul, %struct.t_fcdata* nocapture %fcd) #0 {
entry:
  %r_ij = alloca [3 x float], align 4
  %r_kj = alloca [3 x float], align 4
  %r_kl = alloca [3 x float], align 4
  %m = alloca [3 x float], align 4
  %n = alloca [3 x float], align 4
  %cos_phi = alloca float, align 4
  %sign = alloca float, align 4
  call void @llvm.dbg.value(metadata !{i32 %nbonds}, i64 0, metadata !849), !dbg !2353
  call void @llvm.dbg.value(metadata !{i32* %forceatoms}, i64 0, metadata !850), !dbg !2354
  call void @llvm.dbg.value(metadata !{%union.t_iparams* %forceparams}, i64 0, metadata !851), !dbg !2354
  call void @llvm.dbg.value(metadata !{[3 x float]* %x}, i64 0, metadata !852), !dbg !2355
  call void @llvm.dbg.value(metadata !{[3 x float]* %f}, i64 0, metadata !853), !dbg !2355
  call void @llvm.dbg.value(metadata !{%struct.t_forcerec* %fr}, i64 0, metadata !854), !dbg !2355
  call void @llvm.dbg.value(metadata !{%struct.t_graph* %g}, i64 0, metadata !855), !dbg !2355
  call void @llvm.dbg.value(metadata !{[3 x float]* %box}, i64 0, metadata !856), !dbg !2356
  call void @llvm.dbg.value(metadata !{float %lambda}, i64 0, metadata !857), !dbg !2356
  call void @llvm.dbg.value(metadata !{float* %dvdlambda}, i64 0, metadata !858), !dbg !2356
  call void @llvm.dbg.value(metadata !{%struct.t_mdatoms* %md}, i64 0, metadata !859), !dbg !2357
  call void @llvm.dbg.value(metadata !{i32 %ngrp}, i64 0, metadata !860), !dbg !2357
  call void @llvm.dbg.value(metadata !{float* %egnb}, i64 0, metadata !861), !dbg !2357
  call void @llvm.dbg.value(metadata !{float* %egcoul}, i64 0, metadata !862), !dbg !2357
  call void @llvm.dbg.value(metadata !{%struct.t_fcdata* %fcd}, i64 0, metadata !863), !dbg !2358
  call void @llvm.dbg.declare(metadata !{[3 x float]* %r_ij}, metadata !870), !dbg !2359
  call void @llvm.dbg.declare(metadata !{[3 x float]* %r_kj}, metadata !871), !dbg !2359
  call void @llvm.dbg.declare(metadata !{[3 x float]* %r_kl}, metadata !872), !dbg !2359
  call void @llvm.dbg.declare(metadata !{[3 x float]* %m}, metadata !873), !dbg !2359
  call void @llvm.dbg.declare(metadata !{[3 x float]* %n}, metadata !874), !dbg !2359
  call void @llvm.dbg.declare(metadata !{float* %cos_phi}, metadata !876), !dbg !2360
  call void @llvm.dbg.declare(metadata !{float* %sign}, metadata !877), !dbg !2360
  call void @llvm.dbg.value(metadata !1354, i64 0, metadata !880), !dbg !2361
  call void @llvm.dbg.value(metadata !57, i64 0, metadata !864), !dbg !2362
  %cmp76 = icmp sgt i32 %nbonds, 0, !dbg !2362
  br i1 %cmp76, label %for.body.lr.ph, label %for.end, !dbg !2362

for.body.lr.ph:                                   ; preds = %entry
  %arraydecay24 = getelementptr inbounds [3 x float]* %r_ij, i64 0, i64 0, !dbg !2364
  %arraydecay25 = getelementptr inbounds [3 x float]* %r_kj, i64 0, i64 0, !dbg !2364
  %arraydecay26 = getelementptr inbounds [3 x float]* %r_kl, i64 0, i64 0, !dbg !2364
  %arraydecay27 = getelementptr inbounds [3 x float]* %m, i64 0, i64 0, !dbg !2364
  %arraydecay28 = getelementptr inbounds [3 x float]* %n, i64 0, i64 0, !dbg !2364
  %conv1.i = fsub float 1.000000e+00, %lambda, !dbg !2366
  br label %for.body, !dbg !2362

for.body:                                         ; preds = %for.body.lr.ph, %for.body
  %indvars.iv = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next, %for.body ]
  %vtot.078 = phi float [ 0.000000e+00, %for.body.lr.ph ], [ %add44, %for.body ]
  %0 = add nsw i64 %indvars.iv, 1, !dbg !2368
  %arrayidx = getelementptr inbounds i32* %forceatoms, i64 %indvars.iv, !dbg !2368
  %1 = load i32* %arrayidx, align 4, !dbg !2368, !tbaa !1334
  call void @llvm.dbg.value(metadata !{i32 %1}, i64 0, metadata !865), !dbg !2368
  %2 = add nsw i64 %indvars.iv, 2, !dbg !2369
  %arrayidx3 = getelementptr inbounds i32* %forceatoms, i64 %0, !dbg !2369
  %3 = load i32* %arrayidx3, align 4, !dbg !2369, !tbaa !1334
  call void @llvm.dbg.value(metadata !{i32 %3}, i64 0, metadata !866), !dbg !2369
  %4 = add nsw i64 %indvars.iv, 3, !dbg !2370
  %arrayidx6 = getelementptr inbounds i32* %forceatoms, i64 %2, !dbg !2370
  %5 = load i32* %arrayidx6, align 4, !dbg !2370, !tbaa !1334
  call void @llvm.dbg.value(metadata !{i32 %5}, i64 0, metadata !867), !dbg !2370
  %6 = add nsw i64 %indvars.iv, 4, !dbg !2371
  %arrayidx9 = getelementptr inbounds i32* %forceatoms, i64 %4, !dbg !2371
  %7 = load i32* %arrayidx9, align 4, !dbg !2371, !tbaa !1334
  call void @llvm.dbg.value(metadata !{i32 %7}, i64 0, metadata !868), !dbg !2371
  %indvars.iv.next = add i64 %indvars.iv, 5, !dbg !2362
  %arrayidx12 = getelementptr inbounds i32* %forceatoms, i64 %6, !dbg !2372
  %8 = load i32* %arrayidx12, align 4, !dbg !2372, !tbaa !1334
  call void @llvm.dbg.value(metadata !{i32 %8}, i64 0, metadata !869), !dbg !2372
  %idxprom13 = sext i32 %3 to i64, !dbg !2364
  %arraydecay = getelementptr inbounds [3 x float]* %x, i64 %idxprom13, i64 0, !dbg !2364
  %idxprom15 = sext i32 %5 to i64, !dbg !2364
  %arraydecay17 = getelementptr inbounds [3 x float]* %x, i64 %idxprom15, i64 0, !dbg !2364
  %idxprom18 = sext i32 %7 to i64, !dbg !2364
  %arraydecay20 = getelementptr inbounds [3 x float]* %x, i64 %idxprom18, i64 0, !dbg !2364
  %idxprom21 = sext i32 %8 to i64, !dbg !2364
  %arraydecay23 = getelementptr inbounds [3 x float]* %x, i64 %idxprom21, i64 0, !dbg !2364
  %call = call float @dih_angle([3 x float]* undef, float* %arraydecay, float* %arraydecay17, float* %arraydecay20, float* %arraydecay23, float* %arraydecay24, float* %arraydecay25, float* %arraydecay26, float* %arraydecay27, float* %arraydecay28, float* %cos_phi, float* %sign) #8, !dbg !2364
  call void @llvm.dbg.value(metadata !{float %call}, i64 0, metadata !875), !dbg !2364
  %idxprom29 = sext i32 %1 to i64, !dbg !2367
  %9 = getelementptr inbounds %union.t_iparams* %forceparams, i64 %idxprom29, i32 0, i32 1, !dbg !2367
  %10 = load float* %9, align 4, !dbg !2367, !tbaa !1309
  %11 = getelementptr inbounds %union.t_iparams* %forceparams, i64 %idxprom29, i32 0, i32 4, !dbg !2367
  %12 = load float* %11, align 4, !dbg !2367, !tbaa !1309
  %phiA = getelementptr inbounds %union.t_iparams* %forceparams, i64 %idxprom29, i32 0, i32 0, !dbg !2367
  %13 = load float* %phiA, align 4, !dbg !2367, !tbaa !1309
  %14 = getelementptr inbounds %union.t_iparams* %forceparams, i64 %idxprom29, i32 0, i32 3, !dbg !2367
  %15 = load float* %14, align 4, !dbg !2367, !tbaa !1309
  %mult = getelementptr inbounds %union.t_iparams* %forceparams, i64 %idxprom29, i32 0, i32 2, !dbg !2367
  %16 = bitcast float* %mult to i32*, !dbg !2367
  %17 = load i32* %16, align 4, !dbg !2367, !tbaa !1334
  call void @llvm.dbg.value(metadata !{float %10}, i64 0, metadata !2373) #5, !dbg !2374
  call void @llvm.dbg.value(metadata !{float %12}, i64 0, metadata !2375) #5, !dbg !2374
  call void @llvm.dbg.value(metadata !{float %13}, i64 0, metadata !2376) #5, !dbg !2374
  call void @llvm.dbg.value(metadata !{float %15}, i64 0, metadata !2377) #5, !dbg !2374
  call void @llvm.dbg.value(metadata !{i32 %17}, i64 0, metadata !2378) #5, !dbg !2374
  call void @llvm.dbg.value(metadata !{float %call}, i64 0, metadata !2379) #5, !dbg !2380
  call void @llvm.dbg.value(metadata !{float %lambda}, i64 0, metadata !2381) #5, !dbg !2380
  call void @llvm.dbg.value(metadata !{float %conv1.i}, i64 0, metadata !2382) #5, !dbg !2366
  %mul.i = fmul float %conv1.i, %13, !dbg !2383
  %mul2.i = fmul float %15, %lambda, !dbg !2383
  %add.i = fadd float %mul.i, %mul2.i, !dbg !2383
  %conv3.i = fpext float %add.i to double, !dbg !2383
  %mul4.i = fmul double %conv3.i, 0x3F91DF46A2529D39, !dbg !2383
  %conv5.i = fptrunc double %mul4.i to float, !dbg !2383
  call void @llvm.dbg.value(metadata !{float %conv5.i}, i64 0, metadata !2384) #5, !dbg !2383
  %mul6.i = fmul float %conv1.i, %10, !dbg !2385
  %mul7.i = fmul float %12, %lambda, !dbg !2385
  %add8.i = fadd float %mul6.i, %mul7.i, !dbg !2385
  call void @llvm.dbg.value(metadata !{float %add8.i}, i64 0, metadata !2386) #5, !dbg !2385
  %conv9.i = sitofp i32 %17 to float, !dbg !2387
  %mul10.i = fmul float %call, %conv9.i, !dbg !2387
  %sub11.i = fsub float %mul10.i, %conv5.i, !dbg !2387
  call void @llvm.dbg.value(metadata !{float %sub11.i}, i64 0, metadata !2388) #5, !dbg !2387
  %conv12.i = fpext float %sub11.i to double, !dbg !2389
  %call.i = call double @sin(double %conv12.i) #6, !dbg !2389
  %conv13.i = fptrunc double %call.i to float, !dbg !2389
  call void @llvm.dbg.value(metadata !{float %conv13.i}, i64 0, metadata !2390) #5, !dbg !2389
  %18 = fmul float %add8.i, %conv9.i, !dbg !2391
  %19 = fmul float %18, %conv13.i, !dbg !2391
  %mul17.i = fsub float -0.000000e+00, %19, !dbg !2391
  call void @llvm.dbg.value(metadata !{float %mul17.i}, i64 0, metadata !2392) #5, !dbg !2391
  %call19.i = call double @cos(double %conv12.i) #6, !dbg !2393
  %add20.i = fadd double %call19.i, 1.000000e+00, !dbg !2393
  %conv21.i = fptrunc double %add20.i to float, !dbg !2393
  call void @llvm.dbg.value(metadata !{float %conv21.i}, i64 0, metadata !2394) #5, !dbg !2393
  %mul22.i = fmul float %add8.i, %conv21.i, !dbg !2395
  call void @llvm.dbg.value(metadata !{float %mul22.i}, i64 0, metadata !2396) #5, !dbg !2395
  %sub23.i = fsub float %12, %10, !dbg !2397
  %mul24.i = fmul float %sub23.i, %conv21.i, !dbg !2397
  %sub25.i = fsub float %13, %15, !dbg !2397
  %mul26.i = fmul float %add8.i, %sub25.i, !dbg !2397
  %mul27.i = fmul float %mul26.i, %conv13.i, !dbg !2397
  %sub28.i = fsub float %mul24.i, %mul27.i, !dbg !2397
  call void @llvm.dbg.value(metadata !{float %sub28.i}, i64 0, metadata !2398) #5, !dbg !2397
  call void @llvm.dbg.value(metadata !{float %mul22.i}, i64 0, metadata !879), !dbg !2399
  call void @llvm.dbg.value(metadata !{float %mul22.i}, i64 0, metadata !2400), !dbg !2380
  call void @llvm.dbg.value(metadata !{float %mul22.i}, i64 0, metadata !879), !dbg !2401
  call void @llvm.dbg.value(metadata !{float %mul17.i}, i64 0, metadata !878), !dbg !2402
  call void @llvm.dbg.value(metadata !{float %mul17.i}, i64 0, metadata !2403), !dbg !2380
  call void @llvm.dbg.value(metadata !{float %mul17.i}, i64 0, metadata !878), !dbg !2404
  %20 = load float* %dvdlambda, align 4, !dbg !2367, !tbaa !1309
  %add = fadd float %20, %sub28.i, !dbg !2367
  store float %add, float* %dvdlambda, align 4, !dbg !2367, !tbaa !1309
  %add44 = fadd float %vtot.078, %mul22.i, !dbg !2401
  call void @llvm.dbg.value(metadata !{float %add44}, i64 0, metadata !880), !dbg !2401
  call void @do_dih_fup(i32 %3, i32 %5, i32 %7, i32 %8, float %mul17.i, float* %arraydecay24, float* %arraydecay25, float* %arraydecay26, float* %arraydecay27, float* %arraydecay28, [3 x float]* %f, %struct.t_forcerec* %fr, %struct.t_graph* %g, [3 x float]* undef) #8, !dbg !2404
  %21 = trunc i64 %indvars.iv.next to i32, !dbg !2362
  %cmp = icmp slt i32 %21, %nbonds, !dbg !2362
  br i1 %cmp, label %for.body, label %for.end, !dbg !2362

for.end:                                          ; preds = %for.body, %entry
  %vtot.0.lcssa = phi float [ 0.000000e+00, %entry ], [ %add44, %for.body ]
  ret float %vtot.0.lcssa, !dbg !2405
}
