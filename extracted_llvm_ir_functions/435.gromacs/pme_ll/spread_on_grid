define %struct.t_fftgrid* @spread_on_grid(%struct.__sFILE* nocapture readnone %logfile, i32 %homenr, i32 %pme_order, [3 x float]* nocapture readonly %x, float* nocapture readonly %charge, [3 x float]* nocapture readonly %box, i32 %bGatherOnly) #1 {
  %nx = alloca i32, align 4
  %ny = alloca i32, align 4
  %nz = alloca i32, align 4
  %la2 = alloca i32, align 4
  %la12 = alloca i32, align 4
  %ptr = alloca float*, align 8
  tail call void @llvm.dbg.value(metadata %struct.__sFILE* %logfile, i64 0, metadata !593, metadata !785), !dbg !1868
  tail call void @llvm.dbg.value(metadata i32 %homenr, i64 0, metadata !594, metadata !785), !dbg !1869
  tail call void @llvm.dbg.value(metadata i32 %pme_order, i64 0, metadata !595, metadata !785), !dbg !1870
  tail call void @llvm.dbg.value(metadata [3 x float]* %x, i64 0, metadata !596, metadata !785), !dbg !1871
  tail call void @llvm.dbg.value(metadata float* %charge, i64 0, metadata !597, metadata !785), !dbg !1872
  tail call void @llvm.dbg.value(metadata [3 x float]* %box, i64 0, metadata !598, metadata !785), !dbg !1873
  tail call void @llvm.dbg.value(metadata i32 %bGatherOnly, i64 0, metadata !599, metadata !785), !dbg !1874
  %1 = load %struct.t_fftgrid** @grid, align 8, !dbg !1875, !tbaa !803
  tail call void @llvm.dbg.value(metadata i32* %nx, i64 0, metadata !600, metadata !785), !dbg !1876
  tail call void @llvm.dbg.value(metadata i32* %ny, i64 0, metadata !601, metadata !785), !dbg !1877
  tail call void @llvm.dbg.value(metadata i32* %nz, i64 0, metadata !602, metadata !785), !dbg !1878
  tail call void @llvm.dbg.value(metadata i32* %la2, i64 0, metadata !603, metadata !785), !dbg !1879
  tail call void @llvm.dbg.value(metadata i32* %la12, i64 0, metadata !604, metadata !785), !dbg !1880
  tail call void @llvm.dbg.value(metadata float** %ptr, i64 0, metadata !605, metadata !785), !dbg !1881
  call void @unpack_fftgrid(%struct.t_fftgrid* %1, i32* %nx, i32* %ny, i32* %nz, i32* %la2, i32* %la12, i32 1, float** %ptr) #7, !dbg !1882
  call void @calc_recipbox([3 x float]* %box, [3 x float]* getelementptr inbounds ([3 x [3 x float]]* @recipbox, i64 0, i64 0)) #9, !dbg !1883
  %2 = icmp eq i32 %bGatherOnly, 0, !dbg !1884
  br i1 %2, label %3, label %18, !dbg !1886

; <label>:3                                       ; preds = %0
  %4 = load [3 x float]** @fractx, align 8, !dbg !1887, !tbaa !803
  %5 = load [3 x i32]** @idx, align 8, !dbg !1889, !tbaa !803
  call void @llvm.dbg.value(metadata i32* %nx, i64 0, metadata !600, metadata !785), !dbg !1876
  %6 = load i32* %nx, align 4, !dbg !1890, !tbaa !943
  call void @llvm.dbg.value(metadata i32* %ny, i64 0, metadata !601, metadata !785), !dbg !1877
  %7 = load i32* %ny, align 4, !dbg !1891, !tbaa !943
  call void @llvm.dbg.value(metadata i32* %nz, i64 0, metadata !602, metadata !785), !dbg !1878
  %8 = load i32* %nz, align 4, !dbg !1892, !tbaa !943
  %9 = load i32** @nnx, align 8, !dbg !1893, !tbaa !803
  %10 = load i32** @nny, align 8, !dbg !1894, !tbaa !803
  %11 = load i32** @nnz, align 8, !dbg !1895, !tbaa !803
  call void @calc_idx(i32 %homenr, [3 x float]* getelementptr inbounds ([3 x [3 x float]]* @recipbox, i64 0, i64 0), [3 x float]* %x, [3 x float]* %4, [3 x i32]* %5, i32 %6, i32 %7, i32 %8, i32* %9, i32* %10, i32* %11) #9, !dbg !1896
  call void @llvm.dbg.value(metadata i32* %nx, i64 0, metadata !600, metadata !785), !dbg !1876
  call void @llvm.dbg.value(metadata i32* %ny, i64 0, metadata !601, metadata !785), !dbg !1877
  call void @llvm.dbg.value(metadata i32* %nz, i64 0, metadata !602, metadata !785), !dbg !1878
  %12 = load [3 x float]** @fractx, align 8, !dbg !1897, !tbaa !803
  call void @make_bsplines(float** getelementptr inbounds ([3 x float*]* @theta, i64 0, i64 0), float** getelementptr inbounds ([3 x float*]* @dtheta, i64 0, i64 0), i32 %pme_order, i32 undef, i32 undef, i32 undef, [3 x float]* %12, [3 x i32]* undef, float* %charge, i32 %homenr) #9, !dbg !1898
  %13 = load %struct.t_fftgrid** @grid, align 8, !dbg !1899, !tbaa !803
  %14 = load [3 x i32]** @idx, align 8, !dbg !1900, !tbaa !803
  %15 = load i32** @nnx, align 8, !dbg !1901, !tbaa !803
  %16 = load i32** @nny, align 8, !dbg !1902, !tbaa !803
  %17 = load i32** @nnz, align 8, !dbg !1903, !tbaa !803
  call void @spread_q_bsplines(%struct.t_fftgrid* %13, [3 x i32]* %14, float* %charge, float** getelementptr inbounds ([3 x float*]* @theta, i64 0, i64 0), i32 %homenr, i32 %pme_order, i32* %15, i32* %16, i32* %17) #9, !dbg !1904
  br label %18, !dbg !1905

; <label>:18                                      ; preds = %0, %3
  %19 = load %struct.t_fftgrid** @grid, align 8, !dbg !1906, !tbaa !803
  ret %struct.t_fftgrid* %19, !dbg !1907
}
