define void @write_xpm_map3(%struct._IO_FILE* nocapture %out, i32 %n_x, i32 %n_y, i32* nocapture %nlevels, float %lo, float %mid, float %hi, <2 x float> %rlo.coerce0, float %rlo.coerce1, <2 x float> %rmid.coerce0, float %rmid.coerce1, %struct.t_rgb* byval nocapture align 8 %rhi) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %out}, i64 0, metadata !316), !dbg !826
  tail call void @llvm.dbg.value(metadata !{i32 %n_x}, i64 0, metadata !317), !dbg !826
  tail call void @llvm.dbg.value(metadata !{i32 %n_y}, i64 0, metadata !318), !dbg !826
  tail call void @llvm.dbg.value(metadata !{i32* %nlevels}, i64 0, metadata !319), !dbg !826
  tail call void @llvm.dbg.value(metadata !{float %lo}, i64 0, metadata !320), !dbg !827
  tail call void @llvm.dbg.value(metadata !{float %mid}, i64 0, metadata !321), !dbg !827
  tail call void @llvm.dbg.value(metadata !{float %hi}, i64 0, metadata !322), !dbg !827
  tail call void @llvm.dbg.declare(metadata !543, metadata !323), !dbg !828
  tail call void @llvm.dbg.declare(metadata !543, metadata !324), !dbg !828
  tail call void @llvm.dbg.declare(metadata !{%struct.t_rgb* %rhi}, metadata !325), !dbg !828
  %0 = load i32* %nlevels, align 4, !dbg !829, !tbaa !507
  %conv = sext i32 %0 to i64, !dbg !829
  %call = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #11, !dbg !829
  %mul = mul i64 %call, %call, !dbg !829
  %cmp = icmp ugt i64 %conv, %mul, !dbg !829
  br i1 %cmp, label %if.then, label %if.else, !dbg !829

if.then:                                          ; preds = %entry
  %1 = load %struct._IO_FILE** @stderr, align 8, !dbg !830, !tbaa !463
  %conv7 = trunc i64 %mul to i32, !dbg !832
  %call8 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %1, i8* getelementptr inbounds ([56 x i8]* @.str62, i64 0, i64 0), i32 %0, i32 %conv7) #9, !dbg !832
  %call9 = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #11, !dbg !833
  %mul11 = mul i64 %call9, %call9, !dbg !833
  %conv12 = trunc i64 %mul11 to i32, !dbg !833
  store i32 %conv12, i32* %nlevels, align 4, !dbg !833, !tbaa !507
  br label %if.end17, !dbg !834

if.else:                                          ; preds = %entry
  %cmp13 = icmp slt i32 %0, 2, !dbg !835
  br i1 %cmp13, label %if.then15, label %if.end17, !dbg !835

if.then15:                                        ; preds = %if.else
  %2 = load %struct._IO_FILE** @stderr, align 8, !dbg !836, !tbaa !463
  %call16 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %2, i8* getelementptr inbounds ([57 x i8]* @.str63, i64 0, i64 0), i32 %0) #9, !dbg !836
  store i32 2, i32* %nlevels, align 4, !dbg !838, !tbaa !507
  br label %if.end17, !dbg !839

if.end17:                                         ; preds = %if.else, %if.then15, %if.then
  %cmp18 = fcmp ogt float %mid, %lo, !dbg !840
  %cmp20 = fcmp olt float %mid, %hi, !dbg !840
  %or.cond = and i1 %cmp18, %cmp20, !dbg !840
  br i1 %or.cond, label %if.end26, label %if.then22, !dbg !840

if.then22:                                        ; preds = %if.end17
  %conv23 = fpext float %lo to double, !dbg !841
  %conv24 = fpext float %mid to double, !dbg !841
  %conv25 = fpext float %hi to double, !dbg !841
  tail call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([25 x i8]* @.str64, i64 0, i64 0), double %conv23, double %conv24, double %conv25) #9, !dbg !841
  br label %if.end26, !dbg !841

if.end26:                                         ; preds = %if.end17, %if.then22
  %3 = tail call i64 @fwrite(i8* getelementptr inbounds ([32 x i8]* @.str65, i64 0, i64 0), i64 31, i64 1, %struct._IO_FILE* %out), !dbg !842
  %4 = load i32* %nlevels, align 4, !dbg !843, !tbaa !507
  %conv28 = sext i32 %4 to i64, !dbg !843
  %call29 = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #11, !dbg !844
  %cmp30 = icmp ule i64 %conv28, %call29, !dbg !844
  %cond = select i1 %cmp30, i32 1, i32 2, !dbg !844
  %call32 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %out, i8* getelementptr inbounds ([18 x i8]* @.str66, i64 0, i64 0), i32 %n_x, i32 %n_y, i32 %4, i32 %cond) #9, !dbg !844
  %5 = load i32* %nlevels, align 4, !dbg !845, !tbaa !507
  tail call void @llvm.dbg.value(metadata !{i32 %5}, i64 0, metadata !846), !dbg !847
  tail call void @llvm.dbg.value(metadata !{float %lo}, i64 0, metadata !848), !dbg !847
  tail call void @llvm.dbg.value(metadata !{float %mid}, i64 0, metadata !849), !dbg !847
  tail call void @llvm.dbg.value(metadata !{float %hi}, i64 0, metadata !850), !dbg !847
  %sub.i = fsub float %mid, %lo, !dbg !851
  %sub1.i = fsub float %hi, %lo, !dbg !851
  %div.i = fdiv float %sub.i, %sub1.i, !dbg !851
  %sub2.i = add nsw i32 %5, -1, !dbg !851
  %conv.i = sitofp i32 %sub2.i to float, !dbg !851
  %mul.i = fmul float %div.i, %conv.i, !dbg !851
  %cmp.i = fcmp olt float %mul.i, 1.000000e+00, !dbg !851
  %cond.i = select i1 %cmp.i, float 1.000000e+00, float %mul.i, !dbg !851
  %cmp12.not.i = fcmp uge float %cond.i, %conv.i, !dbg !851
  %brmerge.i = or i1 %cmp12.not.i, %cmp.i, !dbg !851
  %conv.mux.i = select i1 %cmp12.not.i, float %conv.i, float 1.000000e+00, !dbg !851
  %cond37.i = select i1 %brmerge.i, float %conv.mux.i, float %mul.i, !dbg !851
  %conv38.i = fptosi float %cond37.i to i32, !dbg !851
  tail call void @llvm.dbg.value(metadata !{i32 %conv38.i}, i64 0, metadata !328), !dbg !845
  %conv34 = sitofp i32 %conv38.i to float, !dbg !852
  tail call void @llvm.dbg.value(metadata !{float %conv34}, i64 0, metadata !332), !dbg !852
  %sub = sub nsw i32 %5, %conv38.i, !dbg !853
  %conv35 = sitofp i32 %sub to float, !dbg !853
  tail call void @llvm.dbg.value(metadata !{float %conv35}, i64 0, metadata !333), !dbg !853
  tail call void @llvm.dbg.value(metadata !18, i64 0, metadata !326), !dbg !854
  %cmp36250 = icmp sgt i32 %conv38.i, 0, !dbg !854
  br i1 %cmp36250, label %for.body.lr.ph, label %for.cond95.preheader, !dbg !854

for.body.lr.ph:                                   ; preds = %if.end26
  %rlo.sroa.0.0.vec.extract = extractelement <2 x float> %rlo.coerce0, i32 0, !dbg !856
  %rmid.sroa.0.0.vec.extract = extractelement <2 x float> %rmid.coerce0, i32 0, !dbg !856
  %sub43 = fsub float %rmid.sroa.0.0.vec.extract, %rlo.sroa.0.0.vec.extract, !dbg !856
  %rlo.sroa.0.4.vec.extract = extractelement <2 x float> %rlo.coerce0, i32 1, !dbg !858
  %rmid.sroa.0.4.vec.extract = extractelement <2 x float> %rmid.coerce0, i32 1, !dbg !858
  %sub49 = fsub float %rmid.sroa.0.4.vec.extract, %rlo.sroa.0.4.vec.extract, !dbg !858
  %sub57 = fsub float %rmid.coerce1, %rlo.coerce1, !dbg !859
  br label %for.body, !dbg !854

for.cond95.preheader:                             ; preds = %cond.end, %if.end26
  %6 = phi i32 [ %5, %if.end26 ], [ %.pre, %cond.end ]
  %cmp96248 = icmp slt i32 %conv38.i, %6, !dbg !860
  br i1 %cmp96248, label %for.body98.lr.ph, label %for.end168, !dbg !860

for.body98.lr.ph:                                 ; preds = %for.cond95.preheader
  %rmid.sroa.0.0.vec.extract204 = extractelement <2 x float> %rmid.coerce0, i32 0, !dbg !862
  %r102 = getelementptr inbounds %struct.t_rgb* %rhi, i64 0, i32 0, !dbg !862
  %7 = load float* %r102, align 8, !dbg !862, !tbaa !519
  %sub104 = fsub float %7, %rmid.sroa.0.0.vec.extract204, !dbg !862
  %rmid.sroa.0.4.vec.extract208 = extractelement <2 x float> %rmid.coerce0, i32 1, !dbg !864
  %g110 = getelementptr inbounds %struct.t_rgb* %rhi, i64 0, i32 1, !dbg !864
  %8 = load float* %g110, align 4, !dbg !864, !tbaa !519
  %sub112 = fsub float %8, %rmid.sroa.0.4.vec.extract208, !dbg !864
  %b118 = getelementptr inbounds %struct.t_rgb* %rhi, i64 0, i32 2, !dbg !865
  %9 = load float* %b118, align 8, !dbg !865, !tbaa !519
  %sub120 = fsub float %9, %rmid.coerce1, !dbg !865
  %10 = sext i32 %conv38.i to i64
  br label %for.body98, !dbg !860

for.body:                                         ; preds = %cond.end, %for.body.lr.ph
  %11 = phi i32 [ %5, %for.body.lr.ph ], [ %.pre, %cond.end ]
  %indvars.iv253 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next254, %cond.end ]
  %12 = trunc i64 %indvars.iv253 to i32, !dbg !866
  %sub38 = sub nsw i32 %conv38.i, %12, !dbg !866
  tail call void @llvm.dbg.value(metadata !{i32 %sub38}, i64 0, metadata !327), !dbg !866
  %conv40 = sitofp i32 %12 to float, !dbg !856
  %mul44 = fmul float %sub43, %conv40, !dbg !856
  %div = fdiv float %mul44, %conv34, !dbg !856
  %add = fadd float %rlo.sroa.0.0.vec.extract, %div, !dbg !856
  tail call void @llvm.dbg.value(metadata !{float %add}, i64 0, metadata !329), !dbg !856
  %mul50 = fmul float %sub49, %conv40, !dbg !858
  %div51 = fdiv float %mul50, %conv34, !dbg !858
  %add52 = fadd float %rlo.sroa.0.4.vec.extract, %div51, !dbg !858
  tail call void @llvm.dbg.value(metadata !{float %add52}, i64 0, metadata !330), !dbg !858
  %mul58 = fmul float %sub57, %conv40, !dbg !859
  %div59 = fdiv float %mul58, %conv34, !dbg !859
  %add60 = fadd float %div59, %rlo.coerce1, !dbg !859
  tail call void @llvm.dbg.value(metadata !{float %add60}, i64 0, metadata !331), !dbg !859
  %call62 = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #11, !dbg !867
  %rem = urem i64 %indvars.iv253, %call62, !dbg !867
  %arrayidx = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %rem, !dbg !867
  %13 = load i8* %arrayidx, align 1, !dbg !867, !tbaa !464
  %conv63 = sext i8 %13 to i32, !dbg !867
  %conv64 = sext i32 %11 to i64, !dbg !867
  %cmp66 = icmp ugt i64 %conv64, %call62, !dbg !868
  br i1 %cmp66, label %cond.false, label %cond.end, !dbg !868

cond.false:                                       ; preds = %for.body
  %div70 = udiv i64 %indvars.iv253, %call62, !dbg !868
  %arrayidx71 = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %div70, !dbg !868
  %14 = load i8* %arrayidx71, align 1, !dbg !868, !tbaa !464
  %conv72 = sext i8 %14 to i32, !dbg !868
  br label %cond.end, !dbg !868

cond.end:                                         ; preds = %for.body, %cond.false
  %cond73 = phi i32 [ %conv72, %cond.false ], [ 32, %for.body ], !dbg !868
  %mul74 = fmul float %add, 2.550000e+02, !dbg !868
  %conv75 = fpext float %mul74 to double, !dbg !868
  %add76 = fadd double %conv75, 5.000000e-01, !dbg !868
  %conv77 = fptosi double %add76 to i32, !dbg !868
  %mul78 = fmul float %add52, 2.550000e+02, !dbg !868
  %conv79 = fpext float %mul78 to double, !dbg !868
  %add80 = fadd double %conv79, 5.000000e-01, !dbg !868
  %conv81 = fptosi double %add80 to i32, !dbg !868
  %mul82 = fmul float %add60, 2.550000e+02, !dbg !868
  %conv83 = fpext float %mul82 to double, !dbg !868
  %add84 = fadd double %conv83, 5.000000e-01, !dbg !868
  %conv85 = fptosi double %add84 to i32, !dbg !868
  %conv86 = sitofp i32 %sub38 to float, !dbg !868
  %mul87 = fmul float %conv86, %lo, !dbg !868
  %mul89 = fmul float %conv40, %mid, !dbg !868
  %add90 = fadd float %mul89, %mul87, !dbg !868
  %div92 = fdiv float %add90, %conv34, !dbg !868
  %conv93 = fpext float %div92 to double, !dbg !868
  %call94 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %out, i8* getelementptr inbounds ([39 x i8]* @.str67, i64 0, i64 0), i32 %conv63, i32 %cond73, i32 %conv77, i32 %conv81, i32 %conv85, double %conv93) #9, !dbg !868
  %indvars.iv.next254 = add i64 %indvars.iv253, 1, !dbg !854
  %lftr.wideiv = trunc i64 %indvars.iv.next254 to i32, !dbg !854
  %exitcond = icmp eq i32 %lftr.wideiv, %conv38.i, !dbg !854
  %.pre = load i32* %nlevels, align 4, !dbg !860, !tbaa !507
  br i1 %exitcond, label %for.cond95.preheader, label %for.body, !dbg !854

for.body98:                                       ; preds = %for.body98.lr.ph, %cond.end142
  %indvars.iv = phi i64 [ %10, %for.body98.lr.ph ], [ %indvars.iv.next, %cond.end142 ]
  %15 = phi i32 [ %6, %for.body98.lr.ph ], [ %20, %cond.end142 ]
  %16 = trunc i64 %indvars.iv to i32, !dbg !869
  %sub99 = sub nsw i32 %15, %16, !dbg !869
  tail call void @llvm.dbg.value(metadata !{i32 %sub99}, i64 0, metadata !327), !dbg !869
  %conv101 = sitofp i32 %16 to float, !dbg !862
  %mul105 = fmul float %conv101, %sub104, !dbg !862
  %div106 = fdiv float %mul105, %conv35, !dbg !862
  %add107 = fadd float %rmid.sroa.0.0.vec.extract204, %div106, !dbg !862
  tail call void @llvm.dbg.value(metadata !{float %add107}, i64 0, metadata !329), !dbg !862
  %mul113 = fmul float %conv101, %sub112, !dbg !864
  %div114 = fdiv float %mul113, %conv35, !dbg !864
  %add115 = fadd float %rmid.sroa.0.4.vec.extract208, %div114, !dbg !864
  tail call void @llvm.dbg.value(metadata !{float %add115}, i64 0, metadata !330), !dbg !864
  %mul121 = fmul float %conv101, %sub120, !dbg !865
  %div122 = fdiv float %mul121, %conv35, !dbg !865
  %add123 = fadd float %div122, %rmid.coerce1, !dbg !865
  tail call void @llvm.dbg.value(metadata !{float %add123}, i64 0, metadata !331), !dbg !865
  %17 = add nsw i64 %indvars.iv, %10, !dbg !870
  %call126 = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #11, !dbg !871
  %rem127 = urem i64 %17, %call126, !dbg !871
  %arrayidx128 = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %rem127, !dbg !871
  %18 = load i8* %arrayidx128, align 1, !dbg !871, !tbaa !464
  %conv129 = sext i8 %18 to i32, !dbg !871
  %conv130 = sext i32 %15 to i64, !dbg !871
  %cmp132 = icmp ugt i64 %conv130, %call126, !dbg !872
  br i1 %cmp132, label %cond.false135, label %cond.end142, !dbg !872

cond.false135:                                    ; preds = %for.body98
  %div139 = udiv i64 %17, %call126, !dbg !872
  %arrayidx140 = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %div139, !dbg !872
  %19 = load i8* %arrayidx140, align 1, !dbg !872, !tbaa !464
  %conv141 = sext i8 %19 to i32, !dbg !872
  br label %cond.end142, !dbg !872

cond.end142:                                      ; preds = %for.body98, %cond.false135
  %cond143 = phi i32 [ %conv141, %cond.false135 ], [ 32, %for.body98 ], !dbg !872
  %mul144 = fmul float %add107, 2.550000e+02, !dbg !872
  %conv145 = fpext float %mul144 to double, !dbg !872
  %add146 = fadd double %conv145, 5.000000e-01, !dbg !872
  %conv147 = fptosi double %add146 to i32, !dbg !872
  %mul148 = fmul float %add115, 2.550000e+02, !dbg !872
  %conv149 = fpext float %mul148 to double, !dbg !872
  %add150 = fadd double %conv149, 5.000000e-01, !dbg !872
  %conv151 = fptosi double %add150 to i32, !dbg !872
  %mul152 = fmul float %add123, 2.550000e+02, !dbg !872
  %conv153 = fpext float %mul152 to double, !dbg !872
  %add154 = fadd double %conv153, 5.000000e-01, !dbg !872
  %conv155 = fptosi double %add154 to i32, !dbg !872
  %conv156 = sitofp i32 %sub99 to float, !dbg !872
  %mul157 = fmul float %conv156, %mid, !dbg !872
  %mul159 = fmul float %conv101, %hi, !dbg !872
  %add160 = fadd float %mul159, %mul157, !dbg !872
  %sub161 = sub nsw i32 %15, %conv38.i, !dbg !872
  %conv162 = sitofp i32 %sub161 to float, !dbg !872
  %div163 = fdiv float %add160, %conv162, !dbg !872
  %conv164 = fpext float %div163 to double, !dbg !872
  %call165 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %out, i8* getelementptr inbounds ([39 x i8]* @.str67, i64 0, i64 0), i32 %conv129, i32 %cond143, i32 %conv147, i32 %conv151, i32 %conv155, double %conv164) #9, !dbg !872
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !860
  %20 = load i32* %nlevels, align 4, !dbg !860, !tbaa !507
  %21 = trunc i64 %indvars.iv.next to i32, !dbg !860
  %cmp96 = icmp slt i32 %21, %20, !dbg !860
  br i1 %cmp96, label %for.body98, label %for.end168, !dbg !860

for.end168:                                       ; preds = %cond.end142, %for.cond95.preheader
  ret void, !dbg !873
}
