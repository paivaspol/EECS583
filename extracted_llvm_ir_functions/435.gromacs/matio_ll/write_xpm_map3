define void @write_xpm_map3(%struct._IO_FILE* nocapture %out, i32 %n_x, i32 %n_y, i32* nocapture %nlevels, float %lo, float %mid, float %hi, <2 x float> %rlo.coerce0, float %rlo.coerce1, <2 x float> %rmid.coerce0, float %rmid.coerce1, %struct.t_rgb* byval nocapture align 8 %rhi) #0 {
entry:
  %0 = load i32* %nlevels, align 4, !tbaa !3
  %conv = sext i32 %0 to i64
  %call = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #10
  %mul = mul i64 %call, %call
  %cmp = icmp ugt i64 %conv, %mul
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  %1 = load %struct._IO_FILE** @stderr, align 8, !tbaa !0
  %conv7 = trunc i64 %mul to i32
  %call8 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %1, i8* getelementptr inbounds ([56 x i8]* @.str62, i64 0, i64 0), i32 %0, i32 %conv7) #8
  %call9 = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #10
  %mul11 = mul i64 %call9, %call9
  %conv12 = trunc i64 %mul11 to i32
  store i32 %conv12, i32* %nlevels, align 4, !tbaa !3
  br label %if.end17

if.else:                                          ; preds = %entry
  %cmp13 = icmp slt i32 %0, 2
  br i1 %cmp13, label %if.then15, label %if.end17

if.then15:                                        ; preds = %if.else
  %2 = load %struct._IO_FILE** @stderr, align 8, !tbaa !0
  %call16 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %2, i8* getelementptr inbounds ([57 x i8]* @.str63, i64 0, i64 0), i32 %0) #8
  store i32 2, i32* %nlevels, align 4, !tbaa !3
  br label %if.end17

if.end17:                                         ; preds = %if.else, %if.then15, %if.then
  %cmp18 = fcmp ogt float %mid, %lo
  %cmp20 = fcmp olt float %mid, %hi
  %or.cond = and i1 %cmp18, %cmp20
  br i1 %or.cond, label %if.end26, label %if.then22

if.then22:                                        ; preds = %if.end17
  %conv23 = fpext float %lo to double
  %conv24 = fpext float %mid to double
  %conv25 = fpext float %hi to double
  tail call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([25 x i8]* @.str64, i64 0, i64 0), double %conv23, double %conv24, double %conv25) #8
  br label %if.end26

if.end26:                                         ; preds = %if.end17, %if.then22
  %3 = tail call i64 @fwrite(i8* getelementptr inbounds ([32 x i8]* @.str65, i64 0, i64 0), i64 31, i64 1, %struct._IO_FILE* %out)
  %4 = load i32* %nlevels, align 4, !tbaa !3
  %conv28 = sext i32 %4 to i64
  %call29 = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #10
  %cmp30 = icmp ule i64 %conv28, %call29
  %cond = select i1 %cmp30, i32 1, i32 2
  %call32 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %out, i8* getelementptr inbounds ([18 x i8]* @.str66, i64 0, i64 0), i32 %n_x, i32 %n_y, i32 %4, i32 %cond) #8
  %5 = load i32* %nlevels, align 4, !tbaa !3
  %sub.i = fsub float %mid, %lo
  %sub1.i = fsub float %hi, %lo
  %div.i = fdiv float %sub.i, %sub1.i
  %sub2.i = add nsw i32 %5, -1
  %conv.i = sitofp i32 %sub2.i to float
  %mul.i = fmul float %div.i, %conv.i
  %cmp.i = fcmp olt float %mul.i, 1.000000e+00
  %cond.i = select i1 %cmp.i, float 1.000000e+00, float %mul.i
  %cmp12.not.i = fcmp uge float %cond.i, %conv.i
  %brmerge.i = or i1 %cmp12.not.i, %cmp.i
  %conv.mux.i = select i1 %cmp12.not.i, float %conv.i, float 1.000000e+00
  %cond37.i = select i1 %brmerge.i, float %conv.mux.i, float %mul.i
  %conv38.i = fptosi float %cond37.i to i32
  %conv34 = sitofp i32 %conv38.i to float
  %sub = sub nsw i32 %5, %conv38.i
  %conv35 = sitofp i32 %sub to float
  %cmp36250 = icmp sgt i32 %conv38.i, 0
  br i1 %cmp36250, label %for.body.lr.ph, label %for.cond95.preheader

for.body.lr.ph:                                   ; preds = %if.end26
  %rlo.sroa.0.0.vec.extract = extractelement <2 x float> %rlo.coerce0, i32 0
  %rmid.sroa.0.0.vec.extract = extractelement <2 x float> %rmid.coerce0, i32 0
  %sub43 = fsub float %rmid.sroa.0.0.vec.extract, %rlo.sroa.0.0.vec.extract
  %rlo.sroa.0.4.vec.extract = extractelement <2 x float> %rlo.coerce0, i32 1
  %rmid.sroa.0.4.vec.extract = extractelement <2 x float> %rmid.coerce0, i32 1
  %sub49 = fsub float %rmid.sroa.0.4.vec.extract, %rlo.sroa.0.4.vec.extract
  %sub57 = fsub float %rmid.coerce1, %rlo.coerce1
  br label %for.body

for.cond95.preheader:                             ; preds = %cond.end, %if.end26
  %6 = phi i32 [ %5, %if.end26 ], [ %.pre, %cond.end ]
  %cmp96248 = icmp slt i32 %conv38.i, %6
  br i1 %cmp96248, label %for.body98.lr.ph, label %for.end168

for.body98.lr.ph:                                 ; preds = %for.cond95.preheader
  %rmid.sroa.0.0.vec.extract204 = extractelement <2 x float> %rmid.coerce0, i32 0
  %r102 = getelementptr inbounds %struct.t_rgb* %rhi, i64 0, i32 0
  %7 = load float* %r102, align 8, !tbaa !5
  %sub104 = fsub float %7, %rmid.sroa.0.0.vec.extract204
  %rmid.sroa.0.4.vec.extract208 = extractelement <2 x float> %rmid.coerce0, i32 1
  %g110 = getelementptr inbounds %struct.t_rgb* %rhi, i64 0, i32 1
  %8 = load float* %g110, align 4, !tbaa !5
  %sub112 = fsub float %8, %rmid.sroa.0.4.vec.extract208
  %b118 = getelementptr inbounds %struct.t_rgb* %rhi, i64 0, i32 2
  %9 = load float* %b118, align 8, !tbaa !5
  %sub120 = fsub float %9, %rmid.coerce1
  %10 = sext i32 %conv38.i to i64
  br label %for.body98

for.body:                                         ; preds = %cond.end, %for.body.lr.ph
  %11 = phi i32 [ %5, %for.body.lr.ph ], [ %.pre, %cond.end ]
  %indvars.iv253 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next254, %cond.end ]
  %12 = trunc i64 %indvars.iv253 to i32
  %sub38 = sub nsw i32 %conv38.i, %12
  %conv40 = sitofp i32 %12 to float
  %mul44 = fmul float %sub43, %conv40
  %div = fdiv float %mul44, %conv34
  %add = fadd float %rlo.sroa.0.0.vec.extract, %div
  %mul50 = fmul float %sub49, %conv40
  %div51 = fdiv float %mul50, %conv34
  %add52 = fadd float %rlo.sroa.0.4.vec.extract, %div51
  %mul58 = fmul float %sub57, %conv40
  %div59 = fdiv float %mul58, %conv34
  %add60 = fadd float %div59, %rlo.coerce1
  %call62 = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #10
  %rem = urem i64 %indvars.iv253, %call62
  %arrayidx = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %rem
  %13 = load i8* %arrayidx, align 1, !tbaa !1
  %conv63 = sext i8 %13 to i32
  %conv64 = sext i32 %11 to i64
  %cmp66 = icmp ugt i64 %conv64, %call62
  br i1 %cmp66, label %cond.false, label %cond.end

cond.false:                                       ; preds = %for.body
  %div70 = udiv i64 %indvars.iv253, %call62
  %arrayidx71 = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %div70
  %14 = load i8* %arrayidx71, align 1, !tbaa !1
  %conv72 = sext i8 %14 to i32
  br label %cond.end

cond.end:                                         ; preds = %for.body, %cond.false
  %cond73 = phi i32 [ %conv72, %cond.false ], [ 32, %for.body ]
  %mul74 = fmul float %add, 2.550000e+02
  %conv75 = fpext float %mul74 to double
  %add76 = fadd double %conv75, 5.000000e-01
  %conv77 = fptosi double %add76 to i32
  %mul78 = fmul float %add52, 2.550000e+02
  %conv79 = fpext float %mul78 to double
  %add80 = fadd double %conv79, 5.000000e-01
  %conv81 = fptosi double %add80 to i32
  %mul82 = fmul float %add60, 2.550000e+02
  %conv83 = fpext float %mul82 to double
  %add84 = fadd double %conv83, 5.000000e-01
  %conv85 = fptosi double %add84 to i32
  %conv86 = sitofp i32 %sub38 to float
  %mul87 = fmul float %conv86, %lo
  %mul89 = fmul float %conv40, %mid
  %add90 = fadd float %mul89, %mul87
  %div92 = fdiv float %add90, %conv34
  %conv93 = fpext float %div92 to double
  %call94 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %out, i8* getelementptr inbounds ([39 x i8]* @.str67, i64 0, i64 0), i32 %conv63, i32 %cond73, i32 %conv77, i32 %conv81, i32 %conv85, double %conv93) #8
  %indvars.iv.next254 = add i64 %indvars.iv253, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next254 to i32
  %exitcond = icmp eq i32 %lftr.wideiv, %conv38.i
  %.pre = load i32* %nlevels, align 4, !tbaa !3
  br i1 %exitcond, label %for.cond95.preheader, label %for.body

for.body98:                                       ; preds = %for.body98.lr.ph, %cond.end142
  %indvars.iv = phi i64 [ %10, %for.body98.lr.ph ], [ %indvars.iv.next, %cond.end142 ]
  %15 = phi i32 [ %6, %for.body98.lr.ph ], [ %20, %cond.end142 ]
  %16 = trunc i64 %indvars.iv to i32
  %sub99 = sub nsw i32 %15, %16
  %conv101 = sitofp i32 %16 to float
  %mul105 = fmul float %conv101, %sub104
  %div106 = fdiv float %mul105, %conv35
  %add107 = fadd float %rmid.sroa.0.0.vec.extract204, %div106
  %mul113 = fmul float %conv101, %sub112
  %div114 = fdiv float %mul113, %conv35
  %add115 = fadd float %rmid.sroa.0.4.vec.extract208, %div114
  %mul121 = fmul float %conv101, %sub120
  %div122 = fdiv float %mul121, %conv35
  %add123 = fadd float %div122, %rmid.coerce1
  %17 = add nsw i64 %indvars.iv, %10
  %call126 = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #10
  %rem127 = urem i64 %17, %call126
  %arrayidx128 = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %rem127
  %18 = load i8* %arrayidx128, align 1, !tbaa !1
  %conv129 = sext i8 %18 to i32
  %conv130 = sext i32 %15 to i64
  %cmp132 = icmp ugt i64 %conv130, %call126
  br i1 %cmp132, label %cond.false135, label %cond.end142

cond.false135:                                    ; preds = %for.body98
  %div139 = udiv i64 %17, %call126
  %arrayidx140 = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %div139
  %19 = load i8* %arrayidx140, align 1, !tbaa !1
  %conv141 = sext i8 %19 to i32
  br label %cond.end142

cond.end142:                                      ; preds = %for.body98, %cond.false135
  %cond143 = phi i32 [ %conv141, %cond.false135 ], [ 32, %for.body98 ]
  %mul144 = fmul float %add107, 2.550000e+02
  %conv145 = fpext float %mul144 to double
  %add146 = fadd double %conv145, 5.000000e-01
  %conv147 = fptosi double %add146 to i32
  %mul148 = fmul float %add115, 2.550000e+02
  %conv149 = fpext float %mul148 to double
  %add150 = fadd double %conv149, 5.000000e-01
  %conv151 = fptosi double %add150 to i32
  %mul152 = fmul float %add123, 2.550000e+02
  %conv153 = fpext float %mul152 to double
  %add154 = fadd double %conv153, 5.000000e-01
  %conv155 = fptosi double %add154 to i32
  %conv156 = sitofp i32 %sub99 to float
  %mul157 = fmul float %conv156, %mid
  %mul159 = fmul float %conv101, %hi
  %add160 = fadd float %mul159, %mul157
  %sub161 = sub nsw i32 %15, %conv38.i
  %conv162 = sitofp i32 %sub161 to float
  %div163 = fdiv float %add160, %conv162
  %conv164 = fpext float %div163 to double
  %call165 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %out, i8* getelementptr inbounds ([39 x i8]* @.str67, i64 0, i64 0), i32 %conv129, i32 %cond143, i32 %conv147, i32 %conv151, i32 %conv155, double %conv164) #8
  %indvars.iv.next = add i64 %indvars.iv, 1
  %20 = load i32* %nlevels, align 4, !tbaa !3
  %21 = trunc i64 %indvars.iv.next to i32
  %cmp96 = icmp slt i32 %21, %20
  br i1 %cmp96, label %for.body98, label %for.end168

for.end168:                                       ; preds = %cond.end142, %for.cond95.preheader
  ret void
}
