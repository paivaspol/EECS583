define void @write_xpm_data(%struct.__sFILE* nocapture %out, i32 %n_x, i32 %n_y, float** nocapture readonly %matrix, float %lo, float %hi, i32 %nlevels) #3 {
  %1 = add nsw i32 %nlevels, -1
  %2 = sitofp i32 %1 to float
  %3 = fsub float %hi, %lo
  %4 = fdiv float %2, %3
  %5 = icmp sgt i32 %n_y, 0
  br i1 %5, label %.lr.ph7, label %._crit_edge8

.lr.ph7:                                          ; preds = %0
  %6 = sdiv i32 %n_y, 100
  %7 = add nsw i32 %6, 1
  %8 = icmp sgt i32 %n_x, 0
  %9 = sext i32 %nlevels to i64
  %10 = add i32 %n_x, -1
  %11 = sext i32 %n_y to i64
  br label %12

; <label>:12                                      ; preds = %.lr.ph7, %.backedge
  %indvars.iv9 = phi i64 [ %11, %.lr.ph7 ], [ %indvars.iv.next10, %.backedge ]
  %j.05.in = phi i32 [ %n_y, %.lr.ph7 ], [ %j.05, %.backedge ]
  %indvars.iv.next10 = add nsw i64 %indvars.iv9, -1
  %j.05 = add nsw i32 %j.05.in, -1
  %13 = trunc i64 %indvars.iv.next10 to i32
  %14 = srem i32 %13, %7
  %15 = icmp eq i32 %14, 0
  br i1 %15, label %16, label %23

; <label>:16                                      ; preds = %12
  %17 = load %struct.__sFILE** @__stderrp, align 8, !tbaa !14
  %18 = sub nsw i64 %11, %indvars.iv.next10
  %19 = mul nsw i64 %18, 100
  %20 = trunc i64 %19 to i32
  %21 = sdiv i32 %20, %n_y
  %22 = tail call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %17, i8* getelementptr inbounds ([10 x i8]* @.str42, i64 0, i64 0), i32 %21) #10
  br label %23

; <label>:23                                      ; preds = %16, %12
  %fputc1 = tail call i32 @fputc(i32 34, %struct.__sFILE* %out)
  br i1 %8, label %.lr.ph, label %._crit_edge

.lr.ph:                                           ; preds = %23, %52
  %indvars.iv = phi i64 [ %indvars.iv.next, %52 ], [ 0, %23 ]
  %24 = getelementptr inbounds float** %matrix, i64 %indvars.iv
  %25 = load float** %24, align 8, !tbaa !14
  %26 = getelementptr inbounds float* %25, i64 %indvars.iv.next10
  %27 = load float* %26, align 4, !tbaa !35
  %28 = fsub float %27, %lo
  %29 = fmul float %4, %28
  %30 = fpext float %29 to double
  %31 = fadd double %30, 5.000000e-01
  %32 = fptosi double %31 to i32
  %33 = icmp slt i32 %32, 0
  %. = select i1 %33, i32 0, i32 %32
  %34 = icmp slt i32 %., %nlevels
  %.. = select i1 %34, i32 %., i32 %1
  %35 = tail call i64 @strlen(i8* getelementptr inbounds ([89 x i8]* @mapper, i64 0, i64 0)) #10
  %36 = icmp ugt i64 %9, %35
  %37 = sext i32 %.. to i64
  br i1 %36, label %42, label %38

; <label>:38                                      ; preds = %.lr.ph
  %39 = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %37
  %40 = load i8* %39, align 1, !tbaa !13
  %41 = sext i8 %40 to i32
  %fputc = tail call i32 @fputc(i32 %41, %struct.__sFILE* %out)
  br label %52

; <label>:42                                      ; preds = %.lr.ph
  %43 = urem i64 %37, %35
  %44 = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %43
  %45 = load i8* %44, align 1, !tbaa !13
  %46 = sext i8 %45 to i32
  %47 = udiv i64 %37, %35
  %48 = getelementptr inbounds [89 x i8]* @mapper, i64 0, i64 %47
  %49 = load i8* %48, align 1, !tbaa !13
  %50 = sext i8 %49 to i32
  %51 = tail call i32 (%struct.__sFILE*, i8*, ...)* @fprintf(%struct.__sFILE* %out, i8* getelementptr inbounds ([5 x i8]* @.str73, i64 0, i64 0), i32 %46, i32 %50) #10
  br label %52

; <label>:52                                      ; preds = %38, %42
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %lftr.wideiv = trunc i64 %indvars.iv to i32
  %exitcond = icmp eq i32 %lftr.wideiv, %10
  br i1 %exitcond, label %._crit_edge, label %.lr.ph

._crit_edge:                                      ; preds = %52, %23
  %53 = icmp sgt i32 %j.05.in, 1
  br i1 %53, label %54, label %57

; <label>:54                                      ; preds = %._crit_edge
  %55 = tail call i64 @fwrite(i8* getelementptr inbounds ([4 x i8]* @.str74, i64 0, i64 0), i64 3, i64 1, %struct.__sFILE* %out)
  br label %.backedge

.backedge:                                        ; preds = %54, %57
  %56 = icmp sgt i64 %indvars.iv9, 1
  br i1 %56, label %12, label %._crit_edge8

; <label>:57                                      ; preds = %._crit_edge
  %58 = tail call i64 @fwrite(i8* getelementptr inbounds ([3 x i8]* @.str75, i64 0, i64 0), i64 2, i64 1, %struct.__sFILE* %out)
  br label %.backedge

._crit_edge8:                                     ; preds = %.backedge, %0
  ret void
}
