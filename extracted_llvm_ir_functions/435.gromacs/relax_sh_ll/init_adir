define internal fastcc void @init_adir(%struct.__sFILE* %log, %struct.t_topology* %top, %struct.t_inputrec* %ir, i32 %step, %struct.t_mdatoms* %md, i32 %start, i32 %end, [3 x float]* %x_old, [3 x float]* nocapture readonly %x_init, [3 x float]* %x, [3 x float]* nocapture readonly %f, [3 x float]* %acc_dir, [3 x float]* %box, float %lambda, float* %dvdlambda, %struct.t_nrnb* %nrnb) #4 {
  tail call void @llvm.dbg.value(metadata %struct.__sFILE* %log, i64 0, metadata !1039, metadata !1196), !dbg !2123
  tail call void @llvm.dbg.value(metadata %struct.t_topology* %top, i64 0, metadata !1040, metadata !1196), !dbg !2124
  tail call void @llvm.dbg.value(metadata %struct.t_inputrec* %ir, i64 0, metadata !1041, metadata !1196), !dbg !2125
  tail call void @llvm.dbg.value(metadata i32 %step, i64 0, metadata !1042, metadata !1196), !dbg !2126
  tail call void @llvm.dbg.value(metadata %struct.t_mdatoms* %md, i64 0, metadata !1043, metadata !1196), !dbg !2127
  tail call void @llvm.dbg.value(metadata i32 %start, i64 0, metadata !1044, metadata !1196), !dbg !2128
  tail call void @llvm.dbg.value(metadata i32 %end, i64 0, metadata !1045, metadata !1196), !dbg !2129
  tail call void @llvm.dbg.value(metadata [3 x float]* %x_old, i64 0, metadata !1046, metadata !1196), !dbg !2130
  tail call void @llvm.dbg.value(metadata [3 x float]* %x_init, i64 0, metadata !1047, metadata !1196), !dbg !2131
  tail call void @llvm.dbg.value(metadata [3 x float]* %x, i64 0, metadata !1048, metadata !1196), !dbg !2132
  tail call void @llvm.dbg.value(metadata [3 x float]* %f, i64 0, metadata !1049, metadata !1196), !dbg !2133
  tail call void @llvm.dbg.value(metadata [3 x float]* %acc_dir, i64 0, metadata !1050, metadata !1196), !dbg !2134
  tail call void @llvm.dbg.value(metadata [3 x float]* %box, i64 0, metadata !1051, metadata !1196), !dbg !2135
  tail call void @llvm.dbg.value(metadata float %lambda, i64 0, metadata !1052, metadata !1196), !dbg !2136
  tail call void @llvm.dbg.value(metadata float* %dvdlambda, i64 0, metadata !1053, metadata !1196), !dbg !2137
  tail call void @llvm.dbg.value(metadata %struct.t_nrnb* %nrnb, i64 0, metadata !1054, metadata !1196), !dbg !2138
  %1 = load [3 x float]** @init_adir.xnew, align 8, !dbg !2139, !tbaa !1460
  %2 = icmp eq [3 x float]* %1, null, !dbg !2141
  br i1 %2, label %3, label %8, !dbg !2142

; <label>:3                                       ; preds = %0
  %4 = sub nsw i32 %end, %start, !dbg !2143
  %5 = tail call i8* @save_calloc(i8* getelementptr inbounds ([6 x i8]* @.str17, i64 0, i64 0), i8* getelementptr inbounds ([68 x i8]* @.str1, i64 0, i64 0), i32 247, i32 %4, i32 12) #8, !dbg !2143
  store i8* %5, i8** bitcast ([3 x float]** @init_adir.xnold to i8**), align 8, !dbg !2143, !tbaa !1460
  %6 = tail call i8* @save_calloc(i8* getelementptr inbounds ([5 x i8]* @.str18, i64 0, i64 0), i8* getelementptr inbounds ([68 x i8]* @.str1, i64 0, i64 0), i32 248, i32 %4, i32 12) #8, !dbg !2145
  store i8* %6, i8** bitcast ([3 x float]** @init_adir.xnew to i8**), align 8, !dbg !2145, !tbaa !1460
  %7 = bitcast i8* %6 to [3 x float]*
  br label %8, !dbg !2146

; <label>:8                                       ; preds = %3, %0
  %9 = phi [3 x float]* [ %7, %3 ], [ %1, %0 ]
  %10 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 13, !dbg !2147
  %11 = load i16** %10, align 8, !dbg !2147, !tbaa !2148
  tail call void @llvm.dbg.value(metadata i16* %11, i64 0, metadata !1063, metadata !1196), !dbg !2149
  %12 = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 15, !dbg !2150
  %13 = load float* %12, align 4, !dbg !2150, !tbaa !2151
  tail call void @llvm.dbg.value(metadata float %13, i64 0, metadata !1059, metadata !1196), !dbg !2152
  tail call void @llvm.dbg.value(metadata i32 %start, i64 0, metadata !1061, metadata !1196), !dbg !2153
  %14 = icmp sgt i32 %end, %start, !dbg !2154
  br i1 %14, label %.lr.ph, label %._crit_edge18, !dbg !2157

._crit_edge18:                                    ; preds = %8
  %.pre = load [3 x float]** @init_adir.xnold, align 8, !dbg !2158, !tbaa !1460
  %.pre21 = sext i32 %start to i64, !dbg !2159
  br label %._crit_edge7, !dbg !2157

.lr.ph:                                           ; preds = %8
  %15 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 5, !dbg !2160
  %16 = load float** %15, align 8, !dbg !2160, !tbaa !2162
  %17 = load [3 x float]** @init_adir.xnold, align 8, !dbg !2163, !tbaa !1460
  %18 = fpext float %13 to double, !dbg !2169
  %19 = sext i32 %start to i64
  %20 = add i32 %end, -1, !dbg !2157
  br label %21, !dbg !2157

; <label>:21                                      ; preds = %63, %.lr.ph
  %indvars.iv14 = phi i64 [ %19, %.lr.ph ], [ %indvars.iv.next15, %63 ]
  %22 = getelementptr inbounds float* %16, i64 %indvars.iv14, !dbg !2170
  %23 = load float* %22, align 4, !dbg !2170, !tbaa !1324
  %24 = fmul float %13, %23, !dbg !2171
  %25 = fpext float %24 to double, !dbg !2170
  tail call void @llvm.dbg.value(metadata double %25, i64 0, metadata !1055, metadata !1196), !dbg !2172
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1062, metadata !1196), !dbg !2173
  %26 = getelementptr inbounds i16* %11, i64 %indvars.iv14, !dbg !2174
  %27 = load i16* %26, align 2, !dbg !2174, !tbaa !2175
  %28 = add nsw i64 %indvars.iv14, %19, !dbg !2176
  br label %29, !dbg !2177

; <label>:29                                      ; preds = %62, %21
  %indvars.iv11 = phi i64 [ 0, %21 ], [ %indvars.iv.next12, %62 ]
  switch i16 %27, label %30 [
    i16 4, label %53
    i16 2, label %53
  ], !dbg !2178

; <label>:30                                      ; preds = %29
  %31 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv14, i64 %indvars.iv11, !dbg !2179
  %32 = load float* %31, align 4, !dbg !2179, !tbaa !1324
  %33 = getelementptr inbounds [3 x float]* %x_init, i64 %indvars.iv14, i64 %indvars.iv11, !dbg !2180
  %34 = load float* %33, align 4, !dbg !2180, !tbaa !1324
  %35 = getelementptr inbounds [3 x float]* %x_old, i64 %indvars.iv14, i64 %indvars.iv11, !dbg !2181
  %36 = load float* %35, align 4, !dbg !2181, !tbaa !1324
  %37 = fsub float %34, %36, !dbg !2182
  %38 = fsub float %32, %37, !dbg !2183
  %39 = getelementptr inbounds [3 x float]* %17, i64 %28, i64 %indvars.iv11, !dbg !2163
  store float %38, float* %39, align 4, !dbg !2184, !tbaa !1324
  %40 = load float* %31, align 4, !dbg !2185, !tbaa !1324
  %41 = fmul float %40, 2.000000e+00, !dbg !2186
  %42 = load float* %35, align 4, !dbg !2187, !tbaa !1324
  %43 = fsub float %41, %42, !dbg !2188
  %44 = fpext float %43 to double, !dbg !2189
  %45 = getelementptr inbounds [3 x float]* %f, i64 %indvars.iv14, i64 %indvars.iv11, !dbg !2190
  %46 = load float* %45, align 4, !dbg !2190, !tbaa !1324
  %47 = fpext float %46 to double, !dbg !2190
  %48 = fmul double %25, %47, !dbg !2191
  %49 = fmul double %18, %48, !dbg !2192
  %50 = fadd double %44, %49, !dbg !2193
  %51 = fptrunc double %50 to float, !dbg !2189
  %52 = getelementptr inbounds [3 x float]* %9, i64 %28, i64 %indvars.iv11, !dbg !2194
  store float %51, float* %52, align 4, !dbg !2195, !tbaa !1324
  br label %62, !dbg !2196

; <label>:53                                      ; preds = %29, %29
  %54 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv14, i64 %indvars.iv11, !dbg !2197
  %55 = bitcast float* %54 to i32*, !dbg !2197
  %56 = load i32* %55, align 4, !dbg !2197, !tbaa !1324
  %57 = getelementptr inbounds [3 x float]* %17, i64 %28, i64 %indvars.iv11, !dbg !2199
  %58 = bitcast float* %57 to i32*, !dbg !2200
  store i32 %56, i32* %58, align 4, !dbg !2200, !tbaa !1324
  %59 = load i32* %55, align 4, !dbg !2201, !tbaa !1324
  %60 = getelementptr inbounds [3 x float]* %9, i64 %28, i64 %indvars.iv11, !dbg !2202
  %61 = bitcast float* %60 to i32*, !dbg !2203
  store i32 %59, i32* %61, align 4, !dbg !2203, !tbaa !1324
  br label %62

; <label>:62                                      ; preds = %30, %53
  %indvars.iv.next12 = add nuw nsw i64 %indvars.iv11, 1, !dbg !2177
  %exitcond13 = icmp eq i64 %indvars.iv.next12, 3, !dbg !2177
  br i1 %exitcond13, label %63, label %29, !dbg !2177

; <label>:63                                      ; preds = %62
  %indvars.iv.next15 = add nsw i64 %indvars.iv14, 1, !dbg !2157
  %lftr.wideiv16 = trunc i64 %indvars.iv14 to i32, !dbg !2157
  %exitcond17 = icmp eq i32 %lftr.wideiv16, %20, !dbg !2157
  br i1 %exitcond17, label %._crit_edge7, label %21, !dbg !2157

._crit_edge7:                                     ; preds = %63, %._crit_edge18
  %.pre-phi = phi i64 [ %.pre21, %._crit_edge18 ], [ %19, %63 ], !dbg !2159
  %64 = phi [3 x float]* [ %.pre, %._crit_edge18 ], [ %17, %63 ]
  %65 = sub nsw i64 0, %.pre-phi, !dbg !2159
  %66 = getelementptr inbounds [3 x float]* %64, i64 %65, !dbg !2159
  %67 = tail call i32 @constrain(%struct.__sFILE* %log, %struct.t_topology* %top, %struct.t_inputrec* %ir, i32 %step, %struct.t_mdatoms* %md, i32 %start, i32 %end, [3 x float]* %x, [3 x float]* %66, [3 x float]* null, [3 x float]* %box, float %lambda, float* %dvdlambda, %struct.t_nrnb* %nrnb, i32 1) #8, !dbg !2204
  %68 = load [3 x float]** @init_adir.xnew, align 8, !dbg !2205, !tbaa !1460
  %69 = getelementptr inbounds [3 x float]* %68, i64 %65, !dbg !2206
  %70 = tail call i32 @constrain(%struct.__sFILE* %log, %struct.t_topology* %top, %struct.t_inputrec* %ir, i32 %step, %struct.t_mdatoms* %md, i32 %start, i32 %end, [3 x float]* %x, [3 x float]* %69, [3 x float]* null, [3 x float]* %box, float %lambda, float* %dvdlambda, %struct.t_nrnb* %nrnb, i32 1) #8, !dbg !2207
  tail call void @llvm.dbg.value(metadata i32 %start, i64 0, metadata !1061, metadata !1196), !dbg !2153
  br i1 %14, label %.preheader.lr.ph, label %._crit_edge19, !dbg !2208

._crit_edge19:                                    ; preds = %._crit_edge7
  %.pre20 = load [3 x float]** @init_adir.xnew, align 8, !dbg !2210, !tbaa !1460
  br label %._crit_edge, !dbg !2208

.preheader.lr.ph:                                 ; preds = %._crit_edge7
  %71 = load [3 x float]** @init_adir.xnold, align 8, !dbg !2211, !tbaa !1460
  %72 = load [3 x float]** @init_adir.xnew, align 8, !dbg !2216, !tbaa !1460
  %73 = fmul float %13, %13, !dbg !2217
  %74 = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 5, !dbg !2219
  %75 = load float** %74, align 8, !dbg !2219, !tbaa !2162
  %76 = add i32 %end, -1, !dbg !2208
  br label %.preheader, !dbg !2208

.preheader:                                       ; preds = %97, %.preheader.lr.ph
  %indvars.iv8 = phi i64 [ %.pre-phi, %.preheader.lr.ph ], [ %indvars.iv.next9, %97 ]
  %77 = getelementptr inbounds float* %75, i64 %indvars.iv8, !dbg !2220
  %78 = sub nsw i64 %indvars.iv8, %.pre-phi, !dbg !2221
  br label %79, !dbg !2222

; <label>:79                                      ; preds = %79, %.preheader
  %indvars.iv = phi i64 [ 0, %.preheader ], [ %indvars.iv.next, %79 ]
  %80 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv8, i64 %indvars.iv, !dbg !2223
  %81 = load float* %80, align 4, !dbg !2223, !tbaa !1324
  %82 = fmul float %81, 2.000000e+00, !dbg !2224
  %83 = getelementptr inbounds [3 x float]* %71, i64 %indvars.iv8, i64 %indvars.iv, !dbg !2211
  %84 = load float* %83, align 4, !dbg !2211, !tbaa !1324
  %85 = fsub float %82, %84, !dbg !2225
  %86 = getelementptr inbounds [3 x float]* %72, i64 %indvars.iv8, i64 %indvars.iv, !dbg !2216
  %87 = load float* %86, align 4, !dbg !2216, !tbaa !1324
  %88 = fsub float %85, %87, !dbg !2226
  %89 = fsub float -0.000000e+00, %88, !dbg !2227
  tail call void @llvm.dbg.value(metadata float %13, i64 0, metadata !1070, metadata !1196), !dbg !2228
  %90 = fdiv float %89, %73, !dbg !2229
  %91 = getelementptr inbounds [3 x float]* %f, i64 %indvars.iv8, i64 %indvars.iv, !dbg !2230
  %92 = load float* %91, align 4, !dbg !2230, !tbaa !1324
  %93 = load float* %77, align 4, !dbg !2220, !tbaa !1324
  %94 = fmul float %92, %93, !dbg !2231
  %95 = fsub float %90, %94, !dbg !2232
  %96 = getelementptr inbounds [3 x float]* %72, i64 %78, i64 %indvars.iv, !dbg !2233
  store float %95, float* %96, align 4, !dbg !2234, !tbaa !1324
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1, !dbg !2222
  %exitcond = icmp eq i64 %indvars.iv.next, 3, !dbg !2222
  br i1 %exitcond, label %97, label %79, !dbg !2222

; <label>:97                                      ; preds = %79
  %98 = getelementptr inbounds [3 x float]* %acc_dir, i64 %indvars.iv8, i64 0, !dbg !2235
  tail call void @llvm.dbg.value(metadata float* %98, i64 0, metadata !1026, metadata !1196), !dbg !2236
  store float 0.000000e+00, float* %98, align 4, !dbg !2238, !tbaa !1324
  %99 = getelementptr inbounds [3 x float]* %acc_dir, i64 %indvars.iv8, i64 1, !dbg !2239
  store float 0.000000e+00, float* %99, align 4, !dbg !2240, !tbaa !1324
  %100 = getelementptr inbounds [3 x float]* %acc_dir, i64 %indvars.iv8, i64 2, !dbg !2241
  store float 0.000000e+00, float* %100, align 4, !dbg !2242, !tbaa !1324
  %indvars.iv.next9 = add nsw i64 %indvars.iv8, 1, !dbg !2208
  %lftr.wideiv = trunc i64 %indvars.iv8 to i32, !dbg !2208
  %exitcond10 = icmp eq i32 %lftr.wideiv, %76, !dbg !2208
  br i1 %exitcond10, label %._crit_edge, label %.preheader, !dbg !2208

._crit_edge:                                      ; preds = %97, %._crit_edge19
  %101 = phi [3 x float]* [ %.pre20, %._crit_edge19 ], [ %72, %97 ]
  %102 = tail call i32 @constrain(%struct.__sFILE* %log, %struct.t_topology* %top, %struct.t_inputrec* %ir, i32 %step, %struct.t_mdatoms* %md, i32 %start, i32 %end, [3 x float]* %x_old, [3 x float]* %101, [3 x float]* %acc_dir, [3 x float]* %box, float %lambda, float* %dvdlambda, %struct.t_nrnb* %nrnb, i32 0) #8, !dbg !2243
  ret void, !dbg !2244
}
