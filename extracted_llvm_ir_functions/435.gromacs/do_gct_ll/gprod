define void @gprod(%struct.t_commrec* nocapture readonly %cr, i32 %n, float* nocapture %f) #4 {
  %1 = load i32* @gprod.nbuf, align 4, !tbaa !24
  %2 = icmp slt i32 %1, %n
  br i1 %2, label %3, label %.preheader1

; <label>:3                                       ; preds = %0
  store i32 %n, i32* @gprod.nbuf, align 4, !tbaa !24
  %4 = load i8** bitcast ([2 x float*]* @gprod.buf to i8**), align 16, !tbaa !18
  %5 = shl i32 %n, 2
  %6 = tail call i8* @save_realloc(i8* getelementptr inbounds ([9 x i8]* @.str4, i64 0, i64 0), i8* getelementptr inbounds ([66 x i8]* @.str1, i64 0, i64 0), i32 292, i8* %4, i32 %5) #9
  store i8* %6, i8** bitcast ([2 x float*]* @gprod.buf to i8**), align 16, !tbaa !18
  %7 = load i8** bitcast (float** getelementptr inbounds ([2 x float*]* @gprod.buf, i64 0, i64 1) to i8**), align 8, !tbaa !18
  %8 = load i32* @gprod.nbuf, align 4, !tbaa !24
  %9 = shl i32 %8, 2
  %10 = tail call i8* @save_realloc(i8* getelementptr inbounds ([10 x i8]* @.str5, i64 0, i64 0), i8* getelementptr inbounds ([66 x i8]* @.str1, i64 0, i64 0), i32 293, i8* %7, i32 %9) #9
  store i8* %10, i8** bitcast (float** getelementptr inbounds ([2 x float*]* @gprod.buf, i64 0, i64 1) to i8**), align 8, !tbaa !18
  br label %.preheader1

.preheader1:                                      ; preds = %3, %0
  %11 = icmp sgt i32 %n, 0
  br i1 %11, label %.lr.ph8, label %.preheader

.lr.ph8:                                          ; preds = %.preheader1
  %12 = load float** getelementptr inbounds ([2 x float*]* @gprod.buf, i64 0, i64 0), align 16, !tbaa !18
  %13 = add i32 %n, -1
  br label %21

.preheader:                                       ; preds = %21, %.preheader1
  %14 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 1
  %15 = load i32* %14, align 4, !tbaa !22
  %16 = icmp sgt i32 %15, 1
  br i1 %16, label %.lr.ph5, label %._crit_edge6

.lr.ph5:                                          ; preds = %.preheader
  %17 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 2
  %18 = shl i32 %n, 2
  %19 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 3
  %20 = add i32 %n, -1
  br label %27

; <label>:21                                      ; preds = %21, %.lr.ph8
  %indvars.iv9 = phi i64 [ 0, %.lr.ph8 ], [ %indvars.iv.next10, %21 ]
  %22 = getelementptr inbounds float* %f, i64 %indvars.iv9
  %23 = bitcast float* %22 to i32*
  %24 = load i32* %23, align 4, !tbaa !14
  %25 = getelementptr inbounds float* %12, i64 %indvars.iv9
  %26 = bitcast float* %25 to i32*
  store i32 %24, i32* %26, align 4, !tbaa !14
  %indvars.iv.next10 = add nuw nsw i64 %indvars.iv9, 1
  %lftr.wideiv11 = trunc i64 %indvars.iv9 to i32
  %exitcond12 = icmp eq i32 %lftr.wideiv11, %13
  br i1 %exitcond12, label %.preheader, label %21

; <label>:27                                      ; preds = %.lr.ph5, %._crit_edge
  %cur.04 = phi i32 [ 0, %.lr.ph5 ], [ %34, %._crit_edge ]
  %i.03 = phi i32 [ 0, %.lr.ph5 ], [ %48, %._crit_edge ]
  %28 = load i32* %17, align 4, !tbaa !25
  %29 = sext i32 %cur.04 to i64
  %30 = getelementptr inbounds [2 x float*]* @gprod.buf, i64 0, i64 %29
  %31 = bitcast float** %30 to i8**
  %32 = load i8** %31, align 8, !tbaa !18
  tail call void @gmx_tx(i32 %28, i8* %32, i32 %18) #9
  %33 = load i32* %19, align 4, !tbaa !26
  %34 = sub nsw i32 1, %cur.04
  %35 = sext i32 %34 to i64
  %36 = getelementptr inbounds [2 x float*]* @gprod.buf, i64 0, i64 %35
  %37 = bitcast float** %36 to i8**
  %38 = load i8** %37, align 8, !tbaa !18
  tail call void @gmx_rx(i32 %33, i8* %38, i32 %18) #9
  %39 = load i32* %17, align 4, !tbaa !25
  %40 = load i32* %19, align 4, !tbaa !26
  tail call void @gmx_wait(i32 %39, i32 %40) #9
  br i1 %11, label %.lr.ph, label %._crit_edge

.lr.ph:                                           ; preds = %27
  %41 = load float** %36, align 8, !tbaa !18
  br label %42

; <label>:42                                      ; preds = %42, %.lr.ph
  %indvars.iv = phi i64 [ 0, %.lr.ph ], [ %indvars.iv.next, %42 ]
  %43 = getelementptr inbounds float* %41, i64 %indvars.iv
  %44 = load float* %43, align 4, !tbaa !14
  %45 = getelementptr inbounds float* %f, i64 %indvars.iv
  %46 = load float* %45, align 4, !tbaa !14
  %47 = fmul float %44, %46
  store float %47, float* %45, align 4, !tbaa !14
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %lftr.wideiv = trunc i64 %indvars.iv to i32
  %exitcond = icmp eq i32 %lftr.wideiv, %20
  br i1 %exitcond, label %._crit_edge, label %42

._crit_edge:                                      ; preds = %42, %27
  %48 = add nuw nsw i32 %i.03, 1
  %49 = load i32* %14, align 4, !tbaa !22
  %50 = add nsw i32 %49, -1
  %51 = icmp slt i32 %48, %50
  br i1 %51, label %27, label %._crit_edge6

._crit_edge6:                                     ; preds = %._crit_edge, %.preheader
  ret void
}
