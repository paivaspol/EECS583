define i32 @write_traj(%struct._IO_FILE* %log, %struct.t_commrec* nocapture %cr, i8* %traj, %struct.t_nsborder* %nsb, i32 %step, float %t, float %lambda, %struct.t_nrnb* nocapture %nrnb, i32 %natoms, [3 x float]* %xx, [3 x float]* %vv, [3 x float]* %ff, [3 x float]* %box) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %log}, i64 0, metadata !436), !dbg !637
  tail call void @llvm.dbg.value(metadata !{%struct.t_commrec* %cr}, i64 0, metadata !437), !dbg !637
  tail call void @llvm.dbg.value(metadata !{i8* %traj}, i64 0, metadata !438), !dbg !638
  tail call void @llvm.dbg.value(metadata !{%struct.t_nsborder* %nsb}, i64 0, metadata !439), !dbg !638
  tail call void @llvm.dbg.value(metadata !{i32 %step}, i64 0, metadata !440), !dbg !639
  tail call void @llvm.dbg.value(metadata !{float %t}, i64 0, metadata !441), !dbg !639
  tail call void @llvm.dbg.value(metadata !{float %lambda}, i64 0, metadata !442), !dbg !639
  tail call void @llvm.dbg.value(metadata !{%struct.t_nrnb* %nrnb}, i64 0, metadata !443), !dbg !639
  tail call void @llvm.dbg.value(metadata !{i32 %natoms}, i64 0, metadata !444), !dbg !640
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %xx}, i64 0, metadata !445), !dbg !640
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %vv}, i64 0, metadata !446), !dbg !640
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %ff}, i64 0, metadata !447), !dbg !640
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %box}, i64 0, metadata !448), !dbg !640
  %0 = load i32* @write_traj.fp, align 4, !dbg !641, !tbaa !557
  %cmp = icmp eq i32 %0, -1, !dbg !641
  br i1 %cmp, label %land.lhs.true, label %if.end, !dbg !641

land.lhs.true:                                    ; preds = %entry
  %nodeid = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 0, !dbg !641
  %1 = load i32* %nodeid, align 4, !dbg !641, !tbaa !557
  %cmp1 = icmp eq i32 %1, 0, !dbg !641
  br i1 %cmp1, label %land.lhs.true2, label %if.end, !dbg !641

land.lhs.true2:                                   ; preds = %land.lhs.true
  %threadid = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 4, !dbg !641
  %2 = load i32* %threadid, align 4, !dbg !641, !tbaa !557
  %cmp3 = icmp eq i32 %2, 0, !dbg !641
  br i1 %cmp3, label %if.then, label %if.end, !dbg !641

if.then:                                          ; preds = %land.lhs.true2
  %call = tail call i32 @open_trn(i8* %traj, i8* getelementptr inbounds ([2 x i8]* @.str2, i64 0, i64 0)) #6, !dbg !642
  store i32 %call, i32* @write_traj.fp, align 4, !dbg !642, !tbaa !557
  br label %if.end, !dbg !644

if.end:                                           ; preds = %if.then, %land.lhs.true2, %land.lhs.true, %entry
  %nnodes = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 1, !dbg !645
  %3 = load i32* %nnodes, align 4, !dbg !645, !tbaa !557
  %cmp4 = icmp sgt i32 %3, 1, !dbg !645
  br i1 %cmp4, label %if.then5, label %if.end10, !dbg !645

if.then5:                                         ; preds = %if.end
  %left = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 2, !dbg !646
  %4 = load i32* %left, align 4, !dbg !646, !tbaa !557
  %right = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 3, !dbg !646
  %5 = load i32* %right, align 4, !dbg !646, !tbaa !557
  tail call fastcc void @moveit(%struct._IO_FILE* %log, i32 %4, i32 %5, i8* getelementptr inbounds ([3 x i8]* @.str3, i64 0, i64 0), [3 x float]* %xx, %struct.t_nsborder* %nsb) #7, !dbg !646
  %6 = load i32* %left, align 4, !dbg !648, !tbaa !557
  %7 = load i32* %right, align 4, !dbg !648, !tbaa !557
  tail call fastcc void @moveit(%struct._IO_FILE* %log, i32 %6, i32 %7, i8* getelementptr inbounds ([3 x i8]* @.str4, i64 0, i64 0), [3 x float]* %vv, %struct.t_nsborder* %nsb) #7, !dbg !648
  %8 = load i32* %left, align 4, !dbg !649, !tbaa !557
  %9 = load i32* %right, align 4, !dbg !649, !tbaa !557
  tail call fastcc void @moveit(%struct._IO_FILE* %log, i32 %8, i32 %9, i8* getelementptr inbounds ([3 x i8]* @.str5, i64 0, i64 0), [3 x float]* %ff, %struct.t_nsborder* %nsb) #7, !dbg !649
  br label %if.end10, !dbg !650

if.end10:                                         ; preds = %if.then5, %if.end
  %tobool = icmp eq [3 x float]* %xx, null, !dbg !651
  %tobool11 = icmp eq [3 x float]* %vv, null, !dbg !651
  %or.cond = and i1 %tobool, %tobool11, !dbg !651
  %tobool13 = icmp eq [3 x float]* %ff, null, !dbg !651
  %or.cond42 = and i1 %or.cond, %tobool13, !dbg !651
  br i1 %or.cond42, label %if.end21, label %land.lhs.true14, !dbg !651

land.lhs.true14:                                  ; preds = %if.end10
  %nodeid15 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 0, !dbg !651
  %10 = load i32* %nodeid15, align 4, !dbg !651, !tbaa !557
  %cmp16 = icmp eq i32 %10, 0, !dbg !651
  br i1 %cmp16, label %land.lhs.true17, label %if.end21, !dbg !651

land.lhs.true17:                                  ; preds = %land.lhs.true14
  %threadid18 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 4, !dbg !651
  %11 = load i32* %threadid18, align 4, !dbg !651, !tbaa !557
  %cmp19 = icmp eq i32 %11, 0, !dbg !651
  br i1 %cmp19, label %if.then20, label %if.end21, !dbg !651

if.then20:                                        ; preds = %land.lhs.true17
  %12 = load i32* @write_traj.fp, align 4, !dbg !652, !tbaa !557
  tail call void @fwrite_trn(i32 %12, i32 %step, float %t, float %lambda, [3 x float]* %box, i32 %natoms, [3 x float]* %xx, [3 x float]* %vv, [3 x float]* %ff) #6, !dbg !652
  %13 = load i32* @write_traj.fp, align 4, !dbg !654, !tbaa !557
  tail call void @gmx_fio_flush(i32 %13) #6, !dbg !654
  br label %if.end21, !dbg !655

if.end21:                                         ; preds = %land.lhs.true17, %land.lhs.true14, %if.end10, %if.then20
  %14 = load i32* @write_traj.fp, align 4, !dbg !656, !tbaa !557
  ret i32 %14, !dbg !656
}
