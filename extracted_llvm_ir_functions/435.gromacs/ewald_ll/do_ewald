define float @do_ewald(%struct.__sFILE* nocapture %log, i32 %bVerbose, %struct.t_inputrec* nocapture readonly %ir, [3 x float]* nocapture readonly %x, [3 x float]* nocapture %f, float* nocapture readonly %charge, float* nocapture readonly %box, %struct.t_commrec* readonly %cr, %struct.t_nsborder* nocapture readonly %nsb, [3 x float]* nocapture %lrvir, float %ewaldcoeff) #2 {
  %lll = alloca [3 x float], align 4
  tail call void @llvm.dbg.value(metadata %struct.__sFILE* %log, i64 0, metadata !232, metadata !331), !dbg !338
  tail call void @llvm.dbg.value(metadata i32 %bVerbose, i64 0, metadata !233, metadata !331), !dbg !339
  tail call void @llvm.dbg.value(metadata %struct.t_inputrec* %ir, i64 0, metadata !234, metadata !331), !dbg !340
  tail call void @llvm.dbg.value(metadata [3 x float]* %x, i64 0, metadata !235, metadata !331), !dbg !341
  tail call void @llvm.dbg.value(metadata [3 x float]* %f, i64 0, metadata !236, metadata !331), !dbg !342
  tail call void @llvm.dbg.value(metadata float* %charge, i64 0, metadata !237, metadata !331), !dbg !343
  tail call void @llvm.dbg.value(metadata float* %box, i64 0, metadata !238, metadata !331), !dbg !344
  tail call void @llvm.dbg.value(metadata %struct.t_commrec* %cr, i64 0, metadata !239, metadata !331), !dbg !345
  tail call void @llvm.dbg.value(metadata %struct.t_nsborder* %nsb, i64 0, metadata !240, metadata !331), !dbg !346
  tail call void @llvm.dbg.value(metadata [3 x float]* %lrvir, i64 0, metadata !241, metadata !331), !dbg !347
  tail call void @llvm.dbg.value(metadata float %ewaldcoeff, i64 0, metadata !242, metadata !331), !dbg !348
  %1 = fmul float %ewaldcoeff, 4.000000e+00, !dbg !349
  %2 = fmul float %1, %ewaldcoeff, !dbg !350
  %3 = fdiv float -1.000000e+00, %2, !dbg !351
  tail call void @llvm.dbg.value(metadata float %3, i64 0, metadata !243, metadata !331), !dbg !352
  tail call void @llvm.dbg.declare(metadata [3 x float]* %lll, metadata !245, metadata !331), !dbg !353
  %.b = load i1* @do_ewald.bFirst, align 1
  br i1 %.b, label %._crit_edge89, label %4, !dbg !354

._crit_edge89:                                    ; preds = %0
  %.pre = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 0, !dbg !355
  br label %58, !dbg !354

; <label>:4                                       ; preds = %0
  %5 = icmp eq i32 %bVerbose, 0, !dbg !356
  br i1 %5, label %8, label %6, !dbg !360

; <label>:6                                       ; preds = %4
  %7 = tail call i64 @fwrite(i8* getelementptr inbounds ([46 x i8]* @.str, i64 0, i64 0), i64 45, i64 1, %struct.__sFILE* %log), !dbg !361
  br label %8, !dbg !361

; <label>:8                                       ; preds = %4, %6
  %9 = icmp eq %struct.t_commrec* %cr, null, !dbg !362
  br i1 %9, label %19, label %10, !dbg !364

; <label>:10                                      ; preds = %8
  %11 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 1, !dbg !365
  %12 = load i32* %11, align 4, !dbg !365, !tbaa !368
  %13 = icmp sgt i32 %12, 1, !dbg !373
  br i1 %13, label %18, label %14, !dbg !374

; <label>:14                                      ; preds = %10
  %15 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 5, !dbg !375
  %16 = load i32* %15, align 4, !dbg !375, !tbaa !376
  %17 = icmp sgt i32 %16, 1, !dbg !377
  br i1 %17, label %18, label %19, !dbg !378

; <label>:18                                      ; preds = %14, %10
  tail call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([37 x i8]* @.str1, i64 0, i64 0)) #8, !dbg !379
  br label %19, !dbg !379

; <label>:19                                      ; preds = %8, %14, %18
  %20 = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 17, !dbg !380
  %21 = load i32* %20, align 4, !dbg !380, !tbaa !381
  %22 = add nsw i32 %21, 1, !dbg !386
  store i32 %22, i32* @do_ewald.nx, align 4, !dbg !387, !tbaa !388
  %23 = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 18, !dbg !389
  %24 = load i32* %23, align 4, !dbg !389, !tbaa !390
  %25 = add nsw i32 %24, 1, !dbg !391
  store i32 %25, i32* @do_ewald.ny, align 4, !dbg !392, !tbaa !388
  %26 = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 19, !dbg !393
  %27 = load i32* %26, align 4, !dbg !393, !tbaa !394
  %28 = add nsw i32 %27, 1, !dbg !395
  store i32 %28, i32* @do_ewald.nz, align 4, !dbg !396, !tbaa !388
  %29 = icmp sgt i32 %25, %28, !dbg !397
  %30 = select i1 %29, i32 %25, i32 %28, !dbg !397
  %31 = icmp sgt i32 %22, %30, !dbg !397
  %. = select i1 %31, i32 %22, i32 %30, !dbg !397
  store i32 %., i32* @do_ewald.kmax, align 4, !dbg !398, !tbaa !388
  %32 = tail call i8* @save_calloc(i8* getelementptr inbounds ([4 x i8]* @.str2, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str3, i64 0, i64 0), i32 124, i32 %., i32 8) #8, !dbg !399
  store i8* %32, i8** bitcast ([3 x %struct.t_complex]*** @do_ewald.eir to i8**), align 8, !dbg !399, !tbaa !400
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !251, metadata !331), !dbg !401
  %33 = load i32* @do_ewald.kmax, align 4, !dbg !402, !tbaa !388
  %34 = icmp sgt i32 %33, 0, !dbg !405
  %35 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 0, !dbg !406
  %36 = load i32* %35, align 4, !dbg !406, !tbaa !407
  %37 = sext i32 %36 to i64, !dbg !406
  %38 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %37, !dbg !406
  %39 = load i32* %38, align 4, !dbg !406, !tbaa !388
  br i1 %34, label %.lr.ph58, label %._crit_edge59, !dbg !409

.lr.ph58:                                         ; preds = %19, %.lr.ph58
  %indvars.iv87 = phi i64 [ %indvars.iv.next88, %.lr.ph58 ], [ 0, %19 ]
  %40 = phi i32 [ %51, %.lr.ph58 ], [ %39, %19 ]
  %41 = tail call i8* @save_calloc(i8* getelementptr inbounds ([7 x i8]* @.str4, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str3, i64 0, i64 0), i32 126, i32 %40, i32 24) #8, !dbg !406
  %42 = load [3 x %struct.t_complex]*** @do_ewald.eir, align 8, !dbg !406, !tbaa !400
  %43 = getelementptr inbounds [3 x %struct.t_complex]** %42, i64 %indvars.iv87, !dbg !406
  %44 = bitcast [3 x %struct.t_complex]** %43 to i8**, !dbg !406
  store i8* %41, i8** %44, align 8, !dbg !406, !tbaa !400
  %indvars.iv.next88 = add nuw nsw i64 %indvars.iv87, 1, !dbg !409
  %45 = load i32* @do_ewald.kmax, align 4, !dbg !402, !tbaa !388
  %46 = sext i32 %45 to i64, !dbg !405
  %47 = icmp slt i64 %indvars.iv.next88, %46, !dbg !405
  %48 = load i32* %35, align 4, !dbg !406, !tbaa !407
  %49 = sext i32 %48 to i64, !dbg !406
  %50 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %49, !dbg !406
  %51 = load i32* %50, align 4, !dbg !406, !tbaa !388
  br i1 %47, label %.lr.ph58, label %._crit_edge59, !dbg !409

._crit_edge59:                                    ; preds = %.lr.ph58, %19
  %.lcssa13 = phi i32 [ %39, %19 ], [ %51, %.lr.ph58 ]
  %52 = tail call i8* @save_calloc(i8* getelementptr inbounds ([7 x i8]* @.str5, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str3, i64 0, i64 0), i32 127, i32 %.lcssa13, i32 8) #8, !dbg !410
  store i8* %52, i8** bitcast (%struct.t_complex** @do_ewald.tab_xy to i8**), align 8, !dbg !410, !tbaa !400
  %53 = load i32* %35, align 4, !dbg !411, !tbaa !407
  %54 = sext i32 %53 to i64, !dbg !411
  %55 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %54, !dbg !411
  %56 = load i32* %55, align 4, !dbg !411, !tbaa !388
  %57 = tail call i8* @save_calloc(i8* getelementptr inbounds ([9 x i8]* @.str6, i64 0, i64 0), i8* getelementptr inbounds ([65 x i8]* @.str3, i64 0, i64 0), i32 128, i32 %56, i32 8) #8, !dbg !411
  store i8* %57, i8** bitcast (%struct.t_complex** @do_ewald.tab_qxyz to i8**), align 8, !dbg !411, !tbaa !400
  store i1 true, i1* @do_ewald.bFirst, align 1
  br label %58, !dbg !412

; <label>:58                                      ; preds = %._crit_edge89, %._crit_edge59
  %.pre-phi = phi i32* [ %.pre, %._crit_edge89 ], [ %35, %._crit_edge59 ], !dbg !355
  tail call void @llvm.dbg.value(metadata [3 x float]* %lrvir, i64 0, metadata !266, metadata !331) #7, !dbg !413
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !267, metadata !331) #7, !dbg !415
  %59 = bitcast [3 x float]* %lrvir to i8*, !dbg !416
  tail call void @llvm.memset.p0i8.i64(i8* %59, i8 0, i64 36, i32 4, i1 false) #7, !dbg !417
  %60 = getelementptr inbounds [3 x float]* %lll, i64 0, i64 0, !dbg !418
  tail call void @llvm.dbg.value(metadata float* %box, i64 0, metadata !274, metadata !331), !dbg !419
  tail call void @llvm.dbg.value(metadata float* %60, i64 0, metadata !275, metadata !331), !dbg !421
  %61 = load float* %box, align 4, !dbg !422, !tbaa !423
  %62 = fpext float %61 to double, !dbg !422
  %63 = fdiv double 0x401921FB54442D18, %62, !dbg !424
  %64 = fptrunc double %63 to float, !dbg !425
  store float %64, float* %60, align 4, !dbg !426, !tbaa !423
  %65 = getelementptr inbounds float* %box, i64 1, !dbg !427
  %66 = load float* %65, align 4, !dbg !427, !tbaa !423
  %67 = fpext float %66 to double, !dbg !427
  %68 = fdiv double 0x401921FB54442D18, %67, !dbg !428
  %69 = fptrunc double %68 to float, !dbg !429
  %70 = getelementptr inbounds [3 x float]* %lll, i64 0, i64 1, !dbg !430
  store float %69, float* %70, align 4, !dbg !431, !tbaa !423
  %71 = getelementptr inbounds float* %box, i64 2, !dbg !432
  %72 = load float* %71, align 4, !dbg !432, !tbaa !423
  %73 = fpext float %72 to double, !dbg !432
  %74 = fdiv double 0x401921FB54442D18, %73, !dbg !433
  %75 = fptrunc double %74 to float, !dbg !434
  %76 = getelementptr inbounds [3 x float]* %lll, i64 0, i64 2, !dbg !435
  store float %75, float* %76, align 4, !dbg !436, !tbaa !423
  %77 = load i32* %.pre-phi, align 4, !dbg !355, !tbaa !407
  %78 = sext i32 %77 to i64, !dbg !355
  %79 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %78, !dbg !355
  %80 = load i32* %79, align 4, !dbg !355, !tbaa !388
  %81 = load i32* @do_ewald.kmax, align 4, !dbg !437, !tbaa !388
  %82 = load [3 x %struct.t_complex]*** @do_ewald.eir, align 8, !dbg !438, !tbaa !400
  tail call void @llvm.dbg.value(metadata i32 %80, i64 0, metadata !290, metadata !331) #7, !dbg !439
  tail call void @llvm.dbg.value(metadata [3 x float]* %x, i64 0, metadata !291, metadata !331) #7, !dbg !441
  tail call void @llvm.dbg.value(metadata i32 %81, i64 0, metadata !292, metadata !331) #7, !dbg !442
  tail call void @llvm.dbg.value(metadata [3 x %struct.t_complex]** %82, i64 0, metadata !293, metadata !331) #7, !dbg !443
  tail call void @llvm.dbg.value(metadata float* %60, i64 0, metadata !294, metadata !331) #7, !dbg !444
  %83 = icmp slt i32 %81, 1, !dbg !445
  br i1 %83, label %89, label %.preheader4.i, !dbg !447

.preheader4.i:                                    ; preds = %58
  %84 = icmp sgt i32 %80, 0, !dbg !448
  br i1 %84, label %.preheader3.lr.ph.i, label %tabulate_eir.exit.preheader, !dbg !451

.preheader3.lr.ph.i:                              ; preds = %.preheader4.i
  %85 = getelementptr inbounds [3 x %struct.t_complex]** %82, i64 1, !dbg !452
  %86 = icmp sgt i32 %81, 2, !dbg !457
  %87 = add i32 %81, -1, !dbg !451
  %88 = add i32 %80, -1, !dbg !451
  br label %.preheader3.i, !dbg !451

; <label>:89                                      ; preds = %58
  %90 = tail call i32 (i8*, ...)* @printf(i8* getelementptr inbounds ([20 x i8]* @.str7, i64 0, i64 0), i32 %81) #8, !dbg !460
  tail call void @exit(i32 1) #9, !dbg !462
  unreachable, !dbg !462

.preheader3.i:                                    ; preds = %._crit_edge.i, %.preheader3.lr.ph.i
  %indvars.iv20.i = phi i64 [ 0, %.preheader3.lr.ph.i ], [ %indvars.iv.next21.i, %._crit_edge.i ], !dbg !463
  %91 = load [3 x %struct.t_complex]** %82, align 8, !dbg !464, !tbaa !400
  br label %93, !dbg !468

.preheader2.i:                                    ; preds = %93
  %92 = load [3 x %struct.t_complex]** %85, align 8, !dbg !452, !tbaa !400
  br label %96, !dbg !469

; <label>:93                                      ; preds = %93, %.preheader3.i
  %indvars.iv.i = phi i64 [ 0, %.preheader3.i ], [ %indvars.iv.next.i, %93 ], !dbg !463
  %94 = getelementptr inbounds [3 x %struct.t_complex]* %91, i64 %indvars.iv20.i, i64 %indvars.iv.i, i32 0, !dbg !470
  store float 1.000000e+00, float* %94, align 4, !dbg !471, !tbaa !472
  %95 = getelementptr inbounds [3 x %struct.t_complex]* %91, i64 %indvars.iv20.i, i64 %indvars.iv.i, i32 1, !dbg !474
  store float 0.000000e+00, float* %95, align 4, !dbg !475, !tbaa !476
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1, !dbg !468
  %exitcond.i = icmp eq i64 %indvars.iv.next.i, 3, !dbg !468
  br i1 %exitcond.i, label %.preheader2.i, label %93, !dbg !468

.preheader1.i:                                    ; preds = %96
  br i1 %86, label %.preheader.i, label %._crit_edge.i, !dbg !477

; <label>:96                                      ; preds = %96, %.preheader2.i
  %indvars.iv11.i = phi i64 [ 0, %.preheader2.i ], [ %indvars.iv.next12.i, %96 ], !dbg !463
  %97 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv20.i, i64 %indvars.iv11.i, !dbg !478
  %98 = load float* %97, align 4, !dbg !478, !tbaa !423
  %99 = getelementptr inbounds [3 x float]* %lll, i64 0, i64 %indvars.iv11.i, !dbg !479
  %100 = load float* %99, align 4, !dbg !479, !tbaa !423
  %101 = fmul float %98, %100, !dbg !480
  %102 = fpext float %101 to double, !dbg !478
  %103 = tail call double @cos(double %102) #10, !dbg !481
  %104 = fptrunc double %103 to float, !dbg !481
  %105 = getelementptr inbounds [3 x %struct.t_complex]* %92, i64 %indvars.iv20.i, i64 %indvars.iv11.i, i32 0, !dbg !482
  store float %104, float* %105, align 4, !dbg !483, !tbaa !472
  %106 = load float* %97, align 4, !dbg !484, !tbaa !423
  %107 = fmul float %106, %100, !dbg !485
  %108 = fpext float %107 to double, !dbg !484
  %109 = tail call double @sin(double %108) #10, !dbg !486
  %110 = fptrunc double %109 to float, !dbg !486
  %111 = getelementptr inbounds [3 x %struct.t_complex]* %92, i64 %indvars.iv20.i, i64 %indvars.iv11.i, i32 1, !dbg !487
  store float %110, float* %111, align 4, !dbg !488, !tbaa !476
  %indvars.iv.next12.i = add nuw nsw i64 %indvars.iv11.i, 1, !dbg !469
  %exitcond13.i = icmp eq i64 %indvars.iv.next12.i, 3, !dbg !469
  br i1 %exitcond13.i, label %.preheader1.i, label %96, !dbg !469

.preheader.i:                                     ; preds = %.preheader1.i, %139
  %indvars.iv17.i = phi i64 [ %indvars.iv.next18.i, %139 ], [ 2, %.preheader1.i ], !dbg !463
  %112 = getelementptr inbounds [3 x %struct.t_complex]** %82, i64 %indvars.iv17.i, !dbg !489
  %113 = add nsw i64 %indvars.iv17.i, -1, !dbg !492
  %114 = getelementptr inbounds [3 x %struct.t_complex]** %82, i64 %113, !dbg !493
  br label %115, !dbg !494

; <label>:115                                     ; preds = %115, %.preheader.i
  %indvars.iv14.i = phi i64 [ 0, %.preheader.i ], [ %indvars.iv.next15.i, %115 ], !dbg !463
  %116 = load [3 x %struct.t_complex]** %112, align 8, !dbg !489, !tbaa !400
  %117 = getelementptr inbounds [3 x %struct.t_complex]* %116, i64 %indvars.iv20.i, i64 %indvars.iv14.i, !dbg !489
  %118 = load [3 x %struct.t_complex]** %114, align 8, !dbg !493, !tbaa !400
  %119 = getelementptr inbounds [3 x %struct.t_complex]* %118, i64 %indvars.iv20.i, i64 %indvars.iv14.i, !dbg !493
  %120 = load [3 x %struct.t_complex]** %85, align 8, !dbg !495, !tbaa !400
  %121 = getelementptr inbounds [3 x %struct.t_complex]* %120, i64 %indvars.iv20.i, i64 %indvars.iv14.i, !dbg !495
  %122 = bitcast %struct.t_complex* %119 to <2 x float>*, !dbg !496
  %123 = load <2 x float>* %122, align 1, !dbg !496
  %124 = bitcast %struct.t_complex* %121 to <2 x float>*, !dbg !496
  %125 = load <2 x float>* %124, align 1, !dbg !496
  tail call void @llvm.dbg.value(metadata <2 x float> %123, i64 0, metadata !302, metadata !331) #7, !dbg !497
  tail call void @llvm.dbg.value(metadata <2 x float> %125, i64 0, metadata !303, metadata !331) #7, !dbg !499
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !302, metadata !331) #7, !dbg !497
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !303, metadata !331) #7, !dbg !499
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !304, metadata !331) #7, !dbg !500
  %126 = extractelement <2 x float> %123, i32 0, !dbg !501
  %127 = extractelement <2 x float> %125, i32 0, !dbg !502
  %128 = fmul float %126, %127, !dbg !503
  %129 = extractelement <2 x float> %123, i32 1, !dbg !504
  %130 = extractelement <2 x float> %125, i32 1, !dbg !505
  %131 = fmul float %129, %130, !dbg !506
  %132 = fsub float %128, %131, !dbg !507
  tail call void @llvm.dbg.value(metadata float %132, i64 0, metadata !304, metadata !508) #7, !dbg !500
  %133 = fmul float %126, %130, !dbg !509
  %134 = fmul float %129, %127, !dbg !510
  %135 = fadd float %133, %134, !dbg !511
  tail call void @llvm.dbg.value(metadata float %135, i64 0, metadata !304, metadata !512) #7, !dbg !500
  %136 = insertelement <2 x float> undef, float %132, i32 0, !dbg !513
  %137 = insertelement <2 x float> %136, float %135, i32 1, !dbg !513
  %138 = bitcast %struct.t_complex* %117 to <2 x float>*, !dbg !496
  store <2 x float> %137, <2 x float>* %138, align 4, !dbg !496
  %indvars.iv.next15.i = add nuw nsw i64 %indvars.iv14.i, 1, !dbg !494
  %exitcond16.i = icmp eq i64 %indvars.iv.next15.i, 3, !dbg !494
  br i1 %exitcond16.i, label %139, label %115, !dbg !494

; <label>:139                                     ; preds = %115
  %indvars.iv.next18.i = add nuw nsw i64 %indvars.iv17.i, 1, !dbg !477
  %lftr.wideiv = trunc i64 %indvars.iv17.i to i32, !dbg !477
  %exitcond = icmp eq i32 %lftr.wideiv, %87, !dbg !477
  br i1 %exitcond, label %._crit_edge.i, label %.preheader.i, !dbg !477

._crit_edge.i:                                    ; preds = %139, %.preheader1.i
  %indvars.iv.next21.i = add nuw nsw i64 %indvars.iv20.i, 1, !dbg !451
  %lftr.wideiv85 = trunc i64 %indvars.iv20.i to i32, !dbg !451
  %exitcond86 = icmp eq i32 %lftr.wideiv85, %88, !dbg !451
  br i1 %exitcond86, label %tabulate_eir.exit.preheader, label %.preheader3.i, !dbg !451

tabulate_eir.exit.preheader:                      ; preds = %._crit_edge.i, %.preheader4.i
  %140 = load i32* @do_ewald.nx, align 4, !dbg !514, !tbaa !388
  %141 = icmp sgt i32 %140, 0, !dbg !517
  br i1 %141, label %.lr.ph54, label %tabulate_eir.exit._crit_edge, !dbg !518

.lr.ph54:                                         ; preds = %tabulate_eir.exit.preheader
  %142 = load float* %60, align 4, !dbg !519, !tbaa !423
  %143 = fpext float %3 to double, !dbg !521
  %144 = getelementptr inbounds [3 x float]* %lrvir, i64 0, i64 0, !dbg !528
  %145 = getelementptr inbounds [3 x float]* %lrvir, i64 0, i64 1, !dbg !529
  %146 = getelementptr inbounds [3 x float]* %lrvir, i64 0, i64 2, !dbg !530
  %147 = getelementptr inbounds [3 x float]* %lrvir, i64 1, i64 1, !dbg !531
  %148 = getelementptr inbounds [3 x float]* %lrvir, i64 1, i64 2, !dbg !532
  %149 = getelementptr inbounds [3 x float]* %lrvir, i64 2, i64 2, !dbg !533
  br label %150, !dbg !518

; <label>:150                                     ; preds = %.lr.ph54, %tabulate_eir.exit
  %indvars.iv83 = phi i64 [ 0, %.lr.ph54 ], [ %indvars.iv.next84, %tabulate_eir.exit ]
  %energy.053 = phi float [ 0.000000e+00, %.lr.ph54 ], [ %energy.1.lcssa, %tabulate_eir.exit ]
  %lowiy.052 = phi i32 [ 0, %.lr.ph54 ], [ %lowiy.1.lcssa, %tabulate_eir.exit ]
  %lowiz.051 = phi i32 [ 1, %.lr.ph54 ], [ %lowiz.1.lcssa, %tabulate_eir.exit ]
  %151 = trunc i64 %indvars.iv83 to i32, !dbg !534
  %152 = sitofp i32 %151 to float, !dbg !534
  %153 = fmul float %152, %142, !dbg !535
  tail call void @llvm.dbg.value(metadata float %153, i64 0, metadata !257, metadata !331), !dbg !536
  tail call void @llvm.dbg.value(metadata i32 %lowiy.1.lcssa, i64 0, metadata !249, metadata !331), !dbg !537
  %154 = load i32* @do_ewald.ny, align 4, !dbg !538, !tbaa !388
  %155 = icmp slt i32 %lowiy.052, %154, !dbg !539
  br i1 %155, label %.lr.ph44, label %tabulate_eir.exit, !dbg !540

.lr.ph44:                                         ; preds = %150
  %156 = fmul float %153, %153, !dbg !541
  %157 = sext i32 %lowiy.052 to i64
  br label %158, !dbg !540

; <label>:158                                     ; preds = %.lr.ph44, %407
  %indvars.iv81 = phi i64 [ %157, %.lr.ph44 ], [ %indvars.iv.next82, %407 ]
  %energy.142 = phi float [ %energy.053, %.lr.ph44 ], [ %energy.2.lcssa, %407 ]
  %lowiz.141 = phi i32 [ %lowiz.051, %.lr.ph44 ], [ %lowiz.2.lcssa, %407 ]
  %159 = trunc i64 %indvars.iv81 to i32, !dbg !542
  %160 = sitofp i32 %159 to float, !dbg !542
  %161 = fmul float %160, %69, !dbg !543
  tail call void @llvm.dbg.value(metadata float %161, i64 0, metadata !258, metadata !331), !dbg !544
  %162 = icmp sgt i64 %indvars.iv81, -1, !dbg !545
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !251, metadata !331), !dbg !401
  %163 = load i32* %.pre-phi, align 4, !dbg !547, !tbaa !407
  %164 = sext i32 %163 to i64, !dbg !547
  %165 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %164, !dbg !547
  %166 = load i32* %165, align 4, !dbg !547, !tbaa !388
  %167 = icmp sgt i32 %166, 0, !dbg !550
  br i1 %162, label %.preheader10, label %.preheader11, !dbg !551

.preheader11:                                     ; preds = %158
  br i1 %167, label %.lr.ph16, label %.preheader9, !dbg !552

.lr.ph16:                                         ; preds = %.preheader11
  %168 = sub nsw i64 0, %indvars.iv81, !dbg !554
  br label %207, !dbg !552

.preheader10:                                     ; preds = %158
  br i1 %167, label %.lr.ph18, label %.preheader9, !dbg !556

.preheader9:                                      ; preds = %207, %.lr.ph18, %.preheader11, %.preheader10
  %169 = phi i32 [ %163, %.preheader10 ], [ %163, %.preheader11 ], [ %201, %.lr.ph18 ], [ %234, %207 ]
  %170 = load i32* @do_ewald.nz, align 4, !dbg !557, !tbaa !388
  %171 = icmp slt i32 %lowiz.141, %170, !dbg !558
  br i1 %171, label %.lr.ph35, label %407, !dbg !559

.lr.ph35:                                         ; preds = %.preheader9
  %172 = fmul float %161, %161, !dbg !560
  %173 = fadd float %156, %172, !dbg !561
  %174 = sext i32 %lowiz.141 to i64
  br label %240, !dbg !559

.lr.ph18:                                         ; preds = %.preheader10, %.lr.ph18
  %indvars.iv69 = phi i64 [ %indvars.iv.next70, %.lr.ph18 ], [ 0, %.preheader10 ]
  %175 = load %struct.t_complex** @do_ewald.tab_xy, align 8, !dbg !562, !tbaa !400
  %176 = getelementptr inbounds %struct.t_complex* %175, i64 %indvars.iv69, !dbg !562
  %177 = load [3 x %struct.t_complex]*** @do_ewald.eir, align 8, !dbg !563, !tbaa !400
  %178 = getelementptr inbounds [3 x %struct.t_complex]** %177, i64 %indvars.iv83, !dbg !563
  %179 = load [3 x %struct.t_complex]** %178, align 8, !dbg !563, !tbaa !400
  %180 = getelementptr inbounds [3 x %struct.t_complex]* %179, i64 %indvars.iv69, i64 0, !dbg !563
  %181 = getelementptr inbounds [3 x %struct.t_complex]** %177, i64 %indvars.iv81, !dbg !564
  %182 = load [3 x %struct.t_complex]** %181, align 8, !dbg !564, !tbaa !400
  %183 = getelementptr inbounds [3 x %struct.t_complex]* %182, i64 %indvars.iv69, i64 1, !dbg !564
  %184 = bitcast %struct.t_complex* %180 to <2 x float>*, !dbg !565
  %185 = load <2 x float>* %184, align 1, !dbg !565
  %186 = bitcast %struct.t_complex* %183 to <2 x float>*, !dbg !565
  %187 = load <2 x float>* %186, align 1, !dbg !565
  tail call void @llvm.dbg.value(metadata <2 x float> %185, i64 0, metadata !302, metadata !331), !dbg !566
  tail call void @llvm.dbg.value(metadata <2 x float> %187, i64 0, metadata !303, metadata !331), !dbg !568
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !302, metadata !331), !dbg !566
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !303, metadata !331), !dbg !568
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !304, metadata !331), !dbg !569
  %188 = extractelement <2 x float> %185, i32 0, !dbg !570
  %189 = extractelement <2 x float> %187, i32 0, !dbg !571
  %190 = fmul float %188, %189, !dbg !572
  %191 = extractelement <2 x float> %185, i32 1, !dbg !573
  %192 = extractelement <2 x float> %187, i32 1, !dbg !574
  %193 = fmul float %191, %192, !dbg !575
  %194 = fsub float %190, %193, !dbg !576
  tail call void @llvm.dbg.value(metadata float %194, i64 0, metadata !304, metadata !508), !dbg !569
  %195 = fmul float %188, %192, !dbg !577
  %196 = fmul float %191, %189, !dbg !578
  %197 = fadd float %195, %196, !dbg !579
  tail call void @llvm.dbg.value(metadata float %197, i64 0, metadata !304, metadata !512), !dbg !569
  %198 = insertelement <2 x float> undef, float %194, i32 0, !dbg !580
  %199 = insertelement <2 x float> %198, float %197, i32 1, !dbg !580
  %200 = bitcast %struct.t_complex* %176 to <2 x float>*, !dbg !565
  store <2 x float> %199, <2 x float>* %200, align 4, !dbg !565
  %indvars.iv.next70 = add nuw nsw i64 %indvars.iv69, 1, !dbg !556
  %201 = load i32* %.pre-phi, align 4, !dbg !547, !tbaa !407
  %202 = sext i32 %201 to i64, !dbg !547
  %203 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %202, !dbg !547
  %204 = load i32* %203, align 4, !dbg !547, !tbaa !388
  %205 = sext i32 %204 to i64, !dbg !550
  %206 = icmp slt i64 %indvars.iv.next70, %205, !dbg !550
  br i1 %206, label %.lr.ph18, label %.preheader9, !dbg !556

; <label>:207                                     ; preds = %.lr.ph16, %207
  %indvars.iv67 = phi i64 [ 0, %.lr.ph16 ], [ %indvars.iv.next68, %207 ]
  %208 = load %struct.t_complex** @do_ewald.tab_xy, align 8, !dbg !581, !tbaa !400
  %209 = getelementptr inbounds %struct.t_complex* %208, i64 %indvars.iv67, !dbg !581
  %210 = load [3 x %struct.t_complex]*** @do_ewald.eir, align 8, !dbg !582, !tbaa !400
  %211 = getelementptr inbounds [3 x %struct.t_complex]** %210, i64 %indvars.iv83, !dbg !582
  %212 = load [3 x %struct.t_complex]** %211, align 8, !dbg !582, !tbaa !400
  %213 = getelementptr inbounds [3 x %struct.t_complex]* %212, i64 %indvars.iv67, i64 0, !dbg !582
  %214 = getelementptr inbounds [3 x %struct.t_complex]** %210, i64 %168, !dbg !583
  %215 = load [3 x %struct.t_complex]** %214, align 8, !dbg !583, !tbaa !400
  %216 = getelementptr inbounds [3 x %struct.t_complex]* %215, i64 %indvars.iv67, i64 1, !dbg !583
  %217 = bitcast %struct.t_complex* %213 to <2 x float>*, !dbg !584
  %218 = load <2 x float>* %217, align 1, !dbg !584
  %219 = bitcast %struct.t_complex* %216 to <2 x float>*, !dbg !584
  %220 = load <2 x float>* %219, align 1, !dbg !584
  tail call void @llvm.dbg.value(metadata <2 x float> %218, i64 0, metadata !307, metadata !331), !dbg !585
  tail call void @llvm.dbg.value(metadata <2 x float> %220, i64 0, metadata !308, metadata !331), !dbg !587
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !307, metadata !331), !dbg !585
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !308, metadata !331), !dbg !587
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !309, metadata !331), !dbg !588
  %221 = extractelement <2 x float> %218, i32 0, !dbg !589
  %222 = extractelement <2 x float> %220, i32 0, !dbg !590
  %223 = fmul float %221, %222, !dbg !591
  %224 = extractelement <2 x float> %218, i32 1, !dbg !592
  %225 = extractelement <2 x float> %220, i32 1, !dbg !593
  %226 = fmul float %224, %225, !dbg !594
  %227 = fadd float %223, %226, !dbg !595
  tail call void @llvm.dbg.value(metadata float %227, i64 0, metadata !309, metadata !508), !dbg !588
  %228 = fmul float %224, %222, !dbg !596
  %229 = fmul float %221, %225, !dbg !597
  %230 = fsub float %228, %229, !dbg !598
  tail call void @llvm.dbg.value(metadata float %230, i64 0, metadata !309, metadata !512), !dbg !588
  %231 = insertelement <2 x float> undef, float %227, i32 0, !dbg !599
  %232 = insertelement <2 x float> %231, float %230, i32 1, !dbg !599
  %233 = bitcast %struct.t_complex* %209 to <2 x float>*, !dbg !584
  store <2 x float> %232, <2 x float>* %233, align 4, !dbg !584
  %indvars.iv.next68 = add nuw nsw i64 %indvars.iv67, 1, !dbg !552
  %234 = load i32* %.pre-phi, align 4, !dbg !600, !tbaa !407
  %235 = sext i32 %234 to i64, !dbg !600
  %236 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %235, !dbg !600
  %237 = load i32* %236, align 4, !dbg !600, !tbaa !388
  %238 = sext i32 %237 to i64, !dbg !601
  %239 = icmp slt i64 %indvars.iv.next68, %238, !dbg !601
  br i1 %239, label %207, label %.preheader9, !dbg !552

; <label>:240                                     ; preds = %.lr.ph35, %._crit_edge32
  %241 = phi i32 [ %169, %.lr.ph35 ], [ %265, %._crit_edge32 ]
  %indvars.iv79 = phi i64 [ %174, %.lr.ph35 ], [ %indvars.iv.next80, %._crit_edge32 ]
  %energy.234 = phi float [ %energy.142, %.lr.ph35 ], [ %357, %._crit_edge32 ]
  %242 = trunc i64 %indvars.iv79 to i32, !dbg !602
  %243 = sitofp i32 %242 to float, !dbg !602
  %244 = fmul float %243, %75, !dbg !603
  tail call void @llvm.dbg.value(metadata float %244, i64 0, metadata !259, metadata !331), !dbg !604
  %245 = fmul float %244, %244, !dbg !605
  %246 = fadd float %173, %245, !dbg !606
  tail call void @llvm.dbg.value(metadata float %246, i64 0, metadata !260, metadata !331), !dbg !607
  %247 = fmul float %3, %246, !dbg !608
  %248 = fpext float %247 to double, !dbg !609
  %249 = tail call double @exp(double %248) #10, !dbg !610
  %250 = fpext float %246 to double, !dbg !611
  %251 = fdiv double %249, %250, !dbg !612
  %252 = fptrunc double %251 to float, !dbg !610
  tail call void @llvm.dbg.value(metadata float %252, i64 0, metadata !255, metadata !331), !dbg !613
  %253 = fpext float %252 to double, !dbg !614
  %254 = fmul double %253, 2.000000e+00, !dbg !615
  %255 = fdiv double 1.000000e+00, %250, !dbg !616
  %256 = fsub double %255, %143, !dbg !617
  %257 = fmul double %256, %254, !dbg !618
  %258 = fptrunc double %257 to float, !dbg !619
  tail call void @llvm.dbg.value(metadata float %258, i64 0, metadata !256, metadata !331), !dbg !620
  %259 = icmp sgt i64 %indvars.iv79, -1, !dbg !621
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !251, metadata !331), !dbg !401
  %260 = sext i32 %241 to i64, !dbg !623
  %261 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %260, !dbg !623
  %262 = load i32* %261, align 4, !dbg !623, !tbaa !388
  %263 = icmp sgt i32 %262, 0, !dbg !626
  br i1 %259, label %.preheader6, label %.preheader7, !dbg !627

.preheader7:                                      ; preds = %240
  br i1 %263, label %.lr.ph20, label %.preheader, !dbg !628

.lr.ph20:                                         ; preds = %.preheader7
  %264 = sub nsw i64 0, %indvars.iv79, !dbg !630
  br label %307, !dbg !628

.preheader6:                                      ; preds = %240
  br i1 %263, label %.lr.ph22, label %.preheader, !dbg !632

.preheader:                                       ; preds = %307, %.lr.ph22, %.preheader7, %.preheader6
  %265 = phi i32 [ %241, %.preheader6 ], [ %241, %.preheader7 ], [ %301, %.lr.ph22 ], [ %337, %307 ]
  %266 = sext i32 %265 to i64, !dbg !633
  %267 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %266, !dbg !633
  %268 = load i32* %267, align 4, !dbg !633, !tbaa !388
  %269 = icmp sgt i32 %268, 0, !dbg !636
  br i1 %269, label %.lr.ph26, label %._crit_edge27, !dbg !637

.lr.ph26:                                         ; preds = %.preheader
  %270 = load %struct.t_complex** @do_ewald.tab_qxyz, align 8, !dbg !638, !tbaa !400
  %271 = sext i32 %268 to i64, !dbg !637
  br label %343, !dbg !637

.lr.ph22:                                         ; preds = %.preheader6, %.lr.ph22
  %indvars.iv73 = phi i64 [ %indvars.iv.next74, %.lr.ph22 ], [ 0, %.preheader6 ]
  %272 = load %struct.t_complex** @do_ewald.tab_qxyz, align 8, !dbg !640, !tbaa !400
  %273 = getelementptr inbounds %struct.t_complex* %272, i64 %indvars.iv73, !dbg !640
  %274 = getelementptr inbounds float* %charge, i64 %indvars.iv73, !dbg !641
  %275 = load float* %274, align 4, !dbg !641, !tbaa !423
  %276 = load %struct.t_complex** @do_ewald.tab_xy, align 8, !dbg !642, !tbaa !400
  %277 = getelementptr inbounds %struct.t_complex* %276, i64 %indvars.iv73, !dbg !642
  %278 = load [3 x %struct.t_complex]*** @do_ewald.eir, align 8, !dbg !643, !tbaa !400
  %279 = getelementptr inbounds [3 x %struct.t_complex]** %278, i64 %indvars.iv79, !dbg !643
  %280 = load [3 x %struct.t_complex]** %279, align 8, !dbg !643, !tbaa !400
  %281 = getelementptr inbounds [3 x %struct.t_complex]* %280, i64 %indvars.iv73, i64 2, !dbg !643
  %282 = bitcast %struct.t_complex* %277 to <2 x float>*, !dbg !644
  %283 = load <2 x float>* %282, align 1, !dbg !644
  %284 = bitcast %struct.t_complex* %281 to <2 x float>*, !dbg !644
  %285 = load <2 x float>* %284, align 1, !dbg !644
  tail call void @llvm.dbg.value(metadata <2 x float> %283, i64 0, metadata !302, metadata !331), !dbg !645
  tail call void @llvm.dbg.value(metadata <2 x float> %285, i64 0, metadata !303, metadata !331), !dbg !647
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !302, metadata !331), !dbg !645
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !303, metadata !331), !dbg !647
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !304, metadata !331), !dbg !648
  %286 = extractelement <2 x float> %283, i32 0, !dbg !649
  %287 = extractelement <2 x float> %285, i32 0, !dbg !650
  %288 = fmul float %286, %287, !dbg !651
  %289 = extractelement <2 x float> %283, i32 1, !dbg !652
  %290 = extractelement <2 x float> %285, i32 1, !dbg !653
  %291 = fmul float %289, %290, !dbg !654
  %292 = fsub float %288, %291, !dbg !655
  tail call void @llvm.dbg.value(metadata float %292, i64 0, metadata !304, metadata !508), !dbg !648
  %293 = fmul float %286, %290, !dbg !656
  %294 = fmul float %289, %287, !dbg !657
  %295 = fadd float %293, %294, !dbg !658
  tail call void @llvm.dbg.value(metadata float %295, i64 0, metadata !304, metadata !512), !dbg !648
  tail call void @llvm.dbg.value(metadata float %275, i64 0, metadata !314, metadata !331), !dbg !659
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !315, metadata !331), !dbg !661
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !316, metadata !331), !dbg !662
  %296 = fmul float %275, %292, !dbg !663
  tail call void @llvm.dbg.value(metadata float %296, i64 0, metadata !316, metadata !508), !dbg !662
  %297 = fmul float %275, %295, !dbg !664
  tail call void @llvm.dbg.value(metadata float %297, i64 0, metadata !316, metadata !512), !dbg !662
  %298 = insertelement <2 x float> undef, float %296, i32 0, !dbg !665
  %299 = insertelement <2 x float> %298, float %297, i32 1, !dbg !665
  %300 = bitcast %struct.t_complex* %273 to <2 x float>*, !dbg !666
  store <2 x float> %299, <2 x float>* %300, align 4, !dbg !666
  %indvars.iv.next74 = add nuw nsw i64 %indvars.iv73, 1, !dbg !632
  %301 = load i32* %.pre-phi, align 4, !dbg !623, !tbaa !407
  %302 = sext i32 %301 to i64, !dbg !623
  %303 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %302, !dbg !623
  %304 = load i32* %303, align 4, !dbg !623, !tbaa !388
  %305 = sext i32 %304 to i64, !dbg !626
  %306 = icmp slt i64 %indvars.iv.next74, %305, !dbg !626
  br i1 %306, label %.lr.ph22, label %.preheader, !dbg !632

; <label>:307                                     ; preds = %.lr.ph20, %307
  %indvars.iv71 = phi i64 [ 0, %.lr.ph20 ], [ %indvars.iv.next72, %307 ]
  %308 = load %struct.t_complex** @do_ewald.tab_qxyz, align 8, !dbg !667, !tbaa !400
  %309 = getelementptr inbounds %struct.t_complex* %308, i64 %indvars.iv71, !dbg !667
  %310 = getelementptr inbounds float* %charge, i64 %indvars.iv71, !dbg !668
  %311 = load float* %310, align 4, !dbg !668, !tbaa !423
  %312 = load %struct.t_complex** @do_ewald.tab_xy, align 8, !dbg !669, !tbaa !400
  %313 = getelementptr inbounds %struct.t_complex* %312, i64 %indvars.iv71, !dbg !669
  %314 = load [3 x %struct.t_complex]*** @do_ewald.eir, align 8, !dbg !670, !tbaa !400
  %315 = getelementptr inbounds [3 x %struct.t_complex]** %314, i64 %264, !dbg !670
  %316 = load [3 x %struct.t_complex]** %315, align 8, !dbg !670, !tbaa !400
  %317 = getelementptr inbounds [3 x %struct.t_complex]* %316, i64 %indvars.iv71, i64 2, !dbg !670
  %318 = bitcast %struct.t_complex* %313 to <2 x float>*, !dbg !671
  %319 = load <2 x float>* %318, align 1, !dbg !671
  %320 = bitcast %struct.t_complex* %317 to <2 x float>*, !dbg !671
  %321 = load <2 x float>* %320, align 1, !dbg !671
  tail call void @llvm.dbg.value(metadata <2 x float> %319, i64 0, metadata !307, metadata !331), !dbg !672
  tail call void @llvm.dbg.value(metadata <2 x float> %321, i64 0, metadata !308, metadata !331), !dbg !674
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !307, metadata !331), !dbg !672
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !308, metadata !331), !dbg !674
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !309, metadata !331), !dbg !675
  %322 = extractelement <2 x float> %319, i32 0, !dbg !676
  %323 = extractelement <2 x float> %321, i32 0, !dbg !677
  %324 = fmul float %322, %323, !dbg !678
  %325 = extractelement <2 x float> %319, i32 1, !dbg !679
  %326 = extractelement <2 x float> %321, i32 1, !dbg !680
  %327 = fmul float %325, %326, !dbg !681
  %328 = fadd float %324, %327, !dbg !682
  tail call void @llvm.dbg.value(metadata float %328, i64 0, metadata !309, metadata !508), !dbg !675
  %329 = fmul float %325, %323, !dbg !683
  %330 = fmul float %322, %326, !dbg !684
  %331 = fsub float %329, %330, !dbg !685
  tail call void @llvm.dbg.value(metadata float %331, i64 0, metadata !309, metadata !512), !dbg !675
  tail call void @llvm.dbg.value(metadata float %311, i64 0, metadata !314, metadata !331), !dbg !686
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !315, metadata !331), !dbg !688
  tail call void @llvm.dbg.declare(metadata %struct.t_complex* undef, metadata !316, metadata !331), !dbg !689
  %332 = fmul float %311, %328, !dbg !690
  tail call void @llvm.dbg.value(metadata float %332, i64 0, metadata !316, metadata !508), !dbg !689
  %333 = fmul float %311, %331, !dbg !691
  tail call void @llvm.dbg.value(metadata float %333, i64 0, metadata !316, metadata !512), !dbg !689
  %334 = insertelement <2 x float> undef, float %332, i32 0, !dbg !692
  %335 = insertelement <2 x float> %334, float %333, i32 1, !dbg !692
  %336 = bitcast %struct.t_complex* %309 to <2 x float>*, !dbg !693
  store <2 x float> %335, <2 x float>* %336, align 4, !dbg !693
  %indvars.iv.next72 = add nuw nsw i64 %indvars.iv71, 1, !dbg !628
  %337 = load i32* %.pre-phi, align 4, !dbg !694, !tbaa !407
  %338 = sext i32 %337 to i64, !dbg !694
  %339 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %338, !dbg !694
  %340 = load i32* %339, align 4, !dbg !694, !tbaa !388
  %341 = sext i32 %340 to i64, !dbg !695
  %342 = icmp slt i64 %indvars.iv.next72, %341, !dbg !695
  br i1 %342, label %307, label %.preheader, !dbg !628

; <label>:343                                     ; preds = %.lr.ph26, %343
  %indvars.iv75 = phi i64 [ 0, %.lr.ph26 ], [ %indvars.iv.next76, %343 ]
  %344 = phi <2 x float> [ zeroinitializer, %.lr.ph26 ], [ %348, %343 ]
  %345 = getelementptr inbounds %struct.t_complex* %270, i64 %indvars.iv75, i32 0, !dbg !696
  tail call void @llvm.dbg.value(metadata float undef, i64 0, metadata !253, metadata !331), !dbg !697
  %346 = bitcast float* %345 to <2 x float>*, !dbg !696
  %347 = load <2 x float>* %346, align 4, !dbg !696, !tbaa !423
  %348 = fadd <2 x float> %344, %347, !dbg !698
  tail call void @llvm.dbg.value(metadata float undef, i64 0, metadata !254, metadata !331), !dbg !699
  %indvars.iv.next76 = add nuw nsw i64 %indvars.iv75, 1, !dbg !637
  %349 = icmp slt i64 %indvars.iv.next76, %271, !dbg !636
  br i1 %349, label %343, label %._crit_edge27, !dbg !637

._crit_edge27:                                    ; preds = %343, %.preheader
  %350 = phi <2 x float> [ zeroinitializer, %.preheader ], [ %348, %343 ]
  %351 = extractelement <2 x float> %350, i32 0, !dbg !700
  %352 = fmul float %351, %351, !dbg !700
  %353 = extractelement <2 x float> %350, i32 1, !dbg !701
  %354 = fmul float %353, %353, !dbg !701
  %355 = fadd float %354, %352, !dbg !702
  %356 = fmul float %252, %355, !dbg !703
  %357 = fadd float %energy.234, %356, !dbg !704
  tail call void @llvm.dbg.value(metadata float %357, i64 0, metadata !244, metadata !331), !dbg !705
  %358 = fmul float %258, %355, !dbg !706
  tail call void @llvm.dbg.value(metadata float %358, i64 0, metadata !252, metadata !331), !dbg !707
  %359 = fmul float %153, %358, !dbg !708
  %360 = fmul float %153, %359, !dbg !709
  %361 = load float* %144, align 4, !dbg !710, !tbaa !423
  %362 = fsub float %361, %360, !dbg !710
  store float %362, float* %144, align 4, !dbg !710, !tbaa !423
  %363 = fmul float %161, %359, !dbg !711
  %364 = load float* %145, align 4, !dbg !712, !tbaa !423
  %365 = fsub float %364, %363, !dbg !712
  store float %365, float* %145, align 4, !dbg !712, !tbaa !423
  %366 = fmul float %244, %359, !dbg !713
  %367 = load float* %146, align 4, !dbg !714, !tbaa !423
  %368 = fsub float %367, %366, !dbg !714
  store float %368, float* %146, align 4, !dbg !714, !tbaa !423
  %369 = fmul float %161, %358, !dbg !715
  %370 = fmul float %161, %369, !dbg !716
  %371 = load float* %147, align 4, !dbg !717, !tbaa !423
  %372 = fsub float %371, %370, !dbg !717
  store float %372, float* %147, align 4, !dbg !717, !tbaa !423
  %373 = fmul float %244, %369, !dbg !718
  %374 = load float* %148, align 4, !dbg !719, !tbaa !423
  %375 = fsub float %374, %373, !dbg !719
  store float %375, float* %148, align 4, !dbg !719, !tbaa !423
  %376 = fmul float %244, %358, !dbg !720
  %377 = fmul float %244, %376, !dbg !721
  %378 = load float* %149, align 4, !dbg !722, !tbaa !423
  %379 = fsub float %378, %377, !dbg !722
  store float %379, float* %149, align 4, !dbg !722, !tbaa !423
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !251, metadata !331), !dbg !401
  br i1 %269, label %.lr.ph31, label %._crit_edge32, !dbg !723

.lr.ph31:                                         ; preds = %._crit_edge27
  %380 = load %struct.t_complex** @do_ewald.tab_qxyz, align 8, !dbg !725, !tbaa !400
  %381 = sext i32 %268 to i64, !dbg !723
  br label %382, !dbg !723

; <label>:382                                     ; preds = %.lr.ph31, %382
  %indvars.iv77 = phi i64 [ 0, %.lr.ph31 ], [ %indvars.iv.next78, %382 ]
  %383 = getelementptr inbounds %struct.t_complex* %380, i64 %indvars.iv77, i32 1, !dbg !728
  %384 = load float* %383, align 4, !dbg !728, !tbaa !476
  %385 = fmul float %351, %384, !dbg !729
  %386 = getelementptr inbounds %struct.t_complex* %380, i64 %indvars.iv77, i32 0, !dbg !730
  %387 = load float* %386, align 4, !dbg !730, !tbaa !472
  %388 = fmul float %353, %387, !dbg !731
  %389 = fsub float %385, %388, !dbg !732
  %390 = fmul float %252, %389, !dbg !733
  tail call void @llvm.dbg.value(metadata float %390, i64 0, metadata !252, metadata !331), !dbg !707
  %391 = fmul float %153, %390, !dbg !734
  %392 = getelementptr inbounds [3 x float]* %f, i64 %indvars.iv77, i64 0, !dbg !735
  %393 = load float* %392, align 4, !dbg !736, !tbaa !423
  %394 = fadd float %393, %391, !dbg !736
  store float %394, float* %392, align 4, !dbg !736, !tbaa !423
  %395 = fmul float %161, %390, !dbg !737
  %396 = getelementptr inbounds [3 x float]* %f, i64 %indvars.iv77, i64 1, !dbg !738
  %397 = load float* %396, align 4, !dbg !739, !tbaa !423
  %398 = fadd float %397, %395, !dbg !739
  store float %398, float* %396, align 4, !dbg !739, !tbaa !423
  %399 = fmul float %244, %390, !dbg !740
  %400 = getelementptr inbounds [3 x float]* %f, i64 %indvars.iv77, i64 2, !dbg !741
  %401 = load float* %400, align 4, !dbg !742, !tbaa !423
  %402 = fadd float %401, %399, !dbg !742
  store float %402, float* %400, align 4, !dbg !742, !tbaa !423
  %indvars.iv.next78 = add nuw nsw i64 %indvars.iv77, 1, !dbg !723
  %403 = icmp slt i64 %indvars.iv.next78, %381, !dbg !743
  br i1 %403, label %382, label %._crit_edge32, !dbg !723

._crit_edge32:                                    ; preds = %382, %._crit_edge27
  %indvars.iv.next80 = add nsw i64 %indvars.iv79, 1, !dbg !559
  %404 = sext i32 %170 to i64, !dbg !558
  %405 = icmp slt i64 %indvars.iv.next80, %404, !dbg !558
  br i1 %405, label %240, label %._crit_edge36, !dbg !559

._crit_edge36:                                    ; preds = %._crit_edge32
  %406 = sub nsw i32 1, %170, !dbg !744
  br label %407, !dbg !559

; <label>:407                                     ; preds = %._crit_edge36, %.preheader9
  %energy.2.lcssa = phi float [ %357, %._crit_edge36 ], [ %energy.142, %.preheader9 ]
  %lowiz.2.lcssa = phi i32 [ %406, %._crit_edge36 ], [ %lowiz.141, %.preheader9 ]
  %indvars.iv.next82 = add nsw i64 %indvars.iv81, 1, !dbg !540
  %408 = sext i32 %154 to i64, !dbg !539
  %409 = icmp slt i64 %indvars.iv.next82, %408, !dbg !539
  br i1 %409, label %158, label %._crit_edge45, !dbg !540

._crit_edge45:                                    ; preds = %407
  %410 = sub nsw i32 1, %154, !dbg !745
  br label %tabulate_eir.exit, !dbg !540

tabulate_eir.exit:                                ; preds = %._crit_edge45, %150
  %energy.1.lcssa = phi float [ %energy.2.lcssa, %._crit_edge45 ], [ %energy.053, %150 ]
  %lowiy.1.lcssa = phi i32 [ %410, %._crit_edge45 ], [ %lowiy.052, %150 ]
  %lowiz.1.lcssa = phi i32 [ %lowiz.2.lcssa, %._crit_edge45 ], [ %lowiz.051, %150 ]
  %indvars.iv.next84 = add nuw nsw i64 %indvars.iv83, 1, !dbg !518
  %411 = sext i32 %140 to i64, !dbg !517
  %412 = icmp slt i64 %indvars.iv.next84, %411, !dbg !517
  br i1 %412, label %150, label %tabulate_eir.exit._crit_edge, !dbg !518

tabulate_eir.exit._crit_edge:                     ; preds = %tabulate_eir.exit, %tabulate_eir.exit.preheader
  %energy.0.lcssa = phi float [ 0.000000e+00, %tabulate_eir.exit.preheader ], [ %energy.1.lcssa, %tabulate_eir.exit ]
  %413 = load float* %box, align 4, !dbg !746, !tbaa !423
  %414 = load float* %65, align 4, !dbg !747, !tbaa !423
  %415 = fmul float %413, %414, !dbg !748
  %416 = load float* %71, align 4, !dbg !749, !tbaa !423
  %417 = fmul float %415, %416, !dbg !750
  %418 = fpext float %417 to double, !dbg !751
  %419 = fdiv double 0x402921FB54442D18, %418, !dbg !752
  %420 = fmul double %419, 3.320636e+02, !dbg !753
  %421 = fmul double %420, 4.184000e+00, !dbg !754
  %422 = fmul double %421, 1.000000e-01, !dbg !754
  %423 = fptrunc double %422 to float, !dbg !755
  tail call void @llvm.dbg.value(metadata float %423, i64 0, metadata !252, metadata !331), !dbg !707
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !251, metadata !331), !dbg !401
  %424 = load i32* %.pre-phi, align 4, !dbg !756, !tbaa !407
  %425 = sext i32 %424 to i64, !dbg !756
  %426 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %425, !dbg !756
  %427 = load i32* %426, align 4, !dbg !756, !tbaa !388
  %428 = icmp sgt i32 %427, 0, !dbg !759
  br i1 %428, label %.lr.ph, label %._crit_edge, !dbg !760

.lr.ph:                                           ; preds = %tabulate_eir.exit._crit_edge
  %429 = fmul float %423, 2.000000e+00, !dbg !761
  %430 = sext i32 %427 to i64, !dbg !760
  br label %431, !dbg !760

; <label>:431                                     ; preds = %.lr.ph, %431
  %indvars.iv = phi i64 [ 0, %.lr.ph ], [ %indvars.iv.next, %431 ]
  %432 = getelementptr inbounds [3 x float]* %f, i64 %indvars.iv, i64 0, !dbg !763
  %433 = load float* %432, align 4, !dbg !764, !tbaa !423
  %434 = fmul float %429, %433, !dbg !764
  store float %434, float* %432, align 4, !dbg !764, !tbaa !423
  %435 = getelementptr inbounds [3 x float]* %f, i64 %indvars.iv, i64 1, !dbg !765
  %436 = load float* %435, align 4, !dbg !766, !tbaa !423
  %437 = fmul float %429, %436, !dbg !766
  store float %437, float* %435, align 4, !dbg !766, !tbaa !423
  %438 = getelementptr inbounds [3 x float]* %f, i64 %indvars.iv, i64 2, !dbg !767
  %439 = load float* %438, align 4, !dbg !768, !tbaa !423
  %440 = fmul float %429, %439, !dbg !768
  store float %440, float* %438, align 4, !dbg !768, !tbaa !423
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1, !dbg !760
  %441 = icmp slt i64 %indvars.iv.next, %430, !dbg !759
  br i1 %441, label %431, label %._crit_edge, !dbg !760

._crit_edge:                                      ; preds = %431, %tabulate_eir.exit._crit_edge
  %442 = fpext float %423 to double, !dbg !769
  %443 = fmul double %442, -5.000000e-01, !dbg !770
  %444 = getelementptr inbounds [3 x float]* %lrvir, i64 0, i64 0, !dbg !771
  %445 = load float* %444, align 4, !dbg !771, !tbaa !423
  %446 = fadd float %energy.0.lcssa, %445, !dbg !772
  %447 = fpext float %446 to double, !dbg !773
  %448 = fmul double %443, %447, !dbg !774
  %449 = fptrunc double %448 to float, !dbg !775
  store float %449, float* %444, align 4, !dbg !776, !tbaa !423
  %450 = getelementptr inbounds [3 x float]* %lrvir, i64 0, i64 1, !dbg !777
  %451 = load float* %450, align 4, !dbg !777, !tbaa !423
  %452 = fpext float %451 to double, !dbg !778
  %453 = fmul double %443, %452, !dbg !779
  %454 = fptrunc double %453 to float, !dbg !780
  store float %454, float* %450, align 4, !dbg !781, !tbaa !423
  %455 = getelementptr inbounds [3 x float]* %lrvir, i64 0, i64 2, !dbg !782
  %456 = load float* %455, align 4, !dbg !782, !tbaa !423
  %457 = fpext float %456 to double, !dbg !783
  %458 = fmul double %443, %457, !dbg !784
  %459 = fptrunc double %458 to float, !dbg !785
  store float %459, float* %455, align 4, !dbg !786, !tbaa !423
  %460 = getelementptr inbounds [3 x float]* %lrvir, i64 1, i64 1, !dbg !787
  %461 = load float* %460, align 4, !dbg !787, !tbaa !423
  %462 = fadd float %energy.0.lcssa, %461, !dbg !788
  %463 = fpext float %462 to double, !dbg !789
  %464 = fmul double %443, %463, !dbg !790
  %465 = fptrunc double %464 to float, !dbg !791
  store float %465, float* %460, align 4, !dbg !792, !tbaa !423
  %466 = getelementptr inbounds [3 x float]* %lrvir, i64 1, i64 2, !dbg !793
  %467 = load float* %466, align 4, !dbg !793, !tbaa !423
  %468 = fpext float %467 to double, !dbg !794
  %469 = fmul double %443, %468, !dbg !795
  %470 = fptrunc double %469 to float, !dbg !796
  store float %470, float* %466, align 4, !dbg !797, !tbaa !423
  %471 = getelementptr inbounds [3 x float]* %lrvir, i64 2, i64 2, !dbg !798
  %472 = load float* %471, align 4, !dbg !798, !tbaa !423
  %473 = fadd float %energy.0.lcssa, %472, !dbg !799
  %474 = fpext float %473 to double, !dbg !800
  %475 = fmul double %443, %474, !dbg !801
  %476 = fptrunc double %475 to float, !dbg !802
  store float %476, float* %471, align 4, !dbg !803, !tbaa !423
  %477 = getelementptr inbounds [3 x float]* %lrvir, i64 1, i64 0, !dbg !804
  store float %454, float* %477, align 4, !dbg !804, !tbaa !423
  %478 = getelementptr inbounds [3 x float]* %lrvir, i64 2, i64 0, !dbg !805
  store float %459, float* %478, align 4, !dbg !805, !tbaa !423
  %479 = getelementptr inbounds [3 x float]* %lrvir, i64 2, i64 1, !dbg !806
  store float %470, float* %479, align 4, !dbg !807, !tbaa !423
  %480 = fmul float %energy.0.lcssa, %423, !dbg !808
  tail call void @llvm.dbg.value(metadata float %480, i64 0, metadata !244, metadata !331), !dbg !705
  ret float %480, !dbg !809
}
