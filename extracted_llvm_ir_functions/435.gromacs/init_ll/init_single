define void @init_single(%struct.__sFILE* %log, %struct.t_parm* %parm, i8* %tpxfile, %struct.t_topology* %top, [3 x float]** nocapture %x, [3 x float]** nocapture %v, %struct.t_mdatoms** nocapture %mdatoms, %struct.t_nsborder* %nsb) #4 {
  %step = alloca i32, align 4
  %natoms = alloca i32, align 4
  %t = alloca float, align 4
  %lambda = alloca float, align 4
  %1 = tail call i8* @save_calloc(i8* getelementptr inbounds ([4 x i8]* @.str1, i64 0, i64 0), i8* getelementptr inbounds ([64 x i8]* @.str2, i64 0, i64 0), i32 110, i32 1, i32 40) #8
  %2 = bitcast i8* %1 to %struct.t_tpxheader*
  tail call void @read_tpxheader(i8* %tpxfile, %struct.t_tpxheader* %2) #8
  %3 = getelementptr inbounds i8* %1, i64 24
  %4 = bitcast i8* %3 to i32*
  %5 = load i32* %4, align 4, !tbaa !10
  %6 = tail call i8* @save_calloc(i8* getelementptr inbounds ([3 x i8]* @.str3, i64 0, i64 0), i8* getelementptr inbounds ([64 x i8]* @.str2, i64 0, i64 0), i32 113, i32 %5, i32 12) #8
  %7 = bitcast [3 x float]** %x to i8**
  store i8* %6, i8** %7, align 8, !tbaa !12
  %8 = load i32* %4, align 4, !tbaa !10
  %9 = tail call i8* @save_calloc(i8* getelementptr inbounds ([3 x i8]* @.str4, i64 0, i64 0), i8* getelementptr inbounds ([64 x i8]* @.str2, i64 0, i64 0), i32 114, i32 %8, i32 12) #8
  %10 = bitcast [3 x float]** %v to i8**
  store i8* %9, i8** %10, align 8, !tbaa !12
  tail call void @save_free(i8* getelementptr inbounds ([4 x i8]* @.str1, i64 0, i64 0), i8* getelementptr inbounds ([64 x i8]* @.str2, i64 0, i64 0), i32 116, i8* %1) #8
  %11 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0
  %12 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 1, i64 0
  %13 = load [3 x float]** %x, align 8, !tbaa !12
  %14 = load [3 x float]** %v, align 8, !tbaa !12
  call void @read_tpx(i8* %tpxfile, i32* %step, float* %t, float* %lambda, %struct.t_inputrec* %11, [3 x float]* %12, i32* %natoms, [3 x float]* %13, [3 x float]* %14, [3 x float]* null, %struct.t_topology* %top) #8
  call void @check_nnodes_top(i8* %tpxfile, %struct.t_topology* %top, i32 1) #9
  %15 = getelementptr inbounds %struct.t_topology* %top, i64 0, i32 2
  %16 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 80, i32 8
  %17 = load [3 x i32]** %16, align 8, !tbaa !14
  %18 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 0
  %19 = load i32* %18, align 4, !tbaa !18
  %20 = icmp eq i32 %19, 3
  %21 = zext i1 %20 to i32
  %22 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 15
  %23 = load float* %22, align 4, !tbaa !19
  %24 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 69
  %25 = load float* %24, align 4, !tbaa !20
  %26 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 80, i32 6
  %27 = load float** %26, align 8, !tbaa !21
  %28 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 46
  %29 = load i32* %28, align 4, !tbaa !22
  %30 = icmp ne i32 %29, 0
  %31 = zext i1 %30 to i32
  %32 = call %struct.t_mdatoms* @atoms2md(%struct.__sFILE* %log, %struct.t_atoms* %15, [3 x i32]* %17, i32 %21, float %23, float %25, float* %27, i32 %31, i32 0) #8
  store %struct.t_mdatoms* %32, %struct.t_mdatoms** %mdatoms, align 8, !tbaa !12
  %33 = icmp eq %struct.__sFILE* %log, null
  br i1 %33, label %.critedge, label %34

; <label>:34                                      ; preds = %0
  call void @pr_inputrec(%struct.__sFILE* %log, i32 0, i8* getelementptr inbounds ([17 x i8]* @.str5, i64 0, i64 0), %struct.t_inputrec* %11) #8
  %35 = getelementptr inbounds %struct.t_topology* %top, i64 0, i32 3, i64 0
  call void @calc_nsb(%struct.__sFILE* %log, %struct.t_block* %35, i32 1, %struct.t_nsborder* %nsb, i32 0) #8
  call void @print_nsb(%struct.__sFILE* %log, i8* getelementptr inbounds ([23 x i8]* @.str6, i64 0, i64 0), %struct.t_nsborder* %nsb) #8
  br label %37

.critedge:                                        ; preds = %0
  %36 = getelementptr inbounds %struct.t_topology* %top, i64 0, i32 3, i64 0
  call void @calc_nsb(%struct.__sFILE* null, %struct.t_block* %36, i32 1, %struct.t_nsborder* %nsb, i32 0) #8
  br label %37

; <label>:37                                      ; preds = %.critedge, %34
  ret void
}
