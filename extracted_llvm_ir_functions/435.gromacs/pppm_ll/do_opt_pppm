define float @do_opt_pppm(%struct._IO_FILE* nocapture %log, i32 %bVerbose, %struct.t_inputrec* nocapture %ir, i32 %natoms, [3 x float]* nocapture %x, [3 x float]* nocapture %f, float* nocapture %charge, float* %box, float* nocapture %phi, %struct.t_commrec* %cr, %struct.t_nrnb* nocapture %nrnb, float* nocapture %beta, %struct.t_fftgrid* %grid, i32 %bOld) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %log}, i64 0, metadata !581), !dbg !1020
  tail call void @llvm.dbg.value(metadata !{i32 %bVerbose}, i64 0, metadata !582), !dbg !1020
  tail call void @llvm.dbg.value(metadata !{%struct.t_inputrec* %ir}, i64 0, metadata !583), !dbg !1021
  tail call void @llvm.dbg.value(metadata !{i32 %natoms}, i64 0, metadata !584), !dbg !1021
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %x}, i64 0, metadata !585), !dbg !1022
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %f}, i64 0, metadata !586), !dbg !1022
  tail call void @llvm.dbg.value(metadata !{float* %charge}, i64 0, metadata !587), !dbg !1023
  tail call void @llvm.dbg.value(metadata !{float* %box}, i64 0, metadata !588), !dbg !1023
  tail call void @llvm.dbg.value(metadata !{float* %phi}, i64 0, metadata !589), !dbg !1024
  tail call void @llvm.dbg.value(metadata !{%struct.t_commrec* %cr}, i64 0, metadata !590), !dbg !1024
  tail call void @llvm.dbg.value(metadata !{%struct.t_nrnb* %nrnb}, i64 0, metadata !591), !dbg !1025
  tail call void @llvm.dbg.value(metadata !{float* %beta}, i64 0, metadata !592), !dbg !1025
  tail call void @llvm.dbg.value(metadata !{%struct.t_fftgrid* %grid}, i64 0, metadata !593), !dbg !1026
  tail call void @llvm.dbg.value(metadata !{i32 %bOld}, i64 0, metadata !594), !dbg !1026
  tail call void @llvm.dbg.value(metadata !827, i64 0, metadata !599), !dbg !1027
  %0 = tail call i64 @fwrite(i8* getelementptr inbounds ([26 x i8]* @.str8, i64 0, i64 0), i64 25, i64 1, %struct._IO_FILE* %log), !dbg !1028
  %nkx = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 17, !dbg !1029
  %1 = load i32* %nkx, align 4, !dbg !1029, !tbaa !699
  tail call void @llvm.dbg.value(metadata !{i32 %1}, i64 0, metadata !596), !dbg !1029
  %nky = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 18, !dbg !1030
  %2 = load i32* %nky, align 4, !dbg !1030, !tbaa !699
  tail call void @llvm.dbg.value(metadata !{i32 %2}, i64 0, metadata !597), !dbg !1030
  %nkz = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 19, !dbg !1031
  %3 = load i32* %nkz, align 4, !dbg !1031, !tbaa !699
  tail call void @llvm.dbg.value(metadata !{i32 %3}, i64 0, metadata !598), !dbg !1031
  %call1 = tail call float*** @mk_rgrid(i32 %1, i32 %2, i32 %3) #5, !dbg !1032
  tail call void @llvm.dbg.value(metadata !{float*** %call1}, i64 0, metadata !595), !dbg !1032
  %rcoulomb_switch = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 37, !dbg !1033
  %4 = load float* %rcoulomb_switch, align 4, !dbg !1033, !tbaa !684
  %rcoulomb = getelementptr inbounds %struct.t_inputrec* %ir, i64 0, i32 38, !dbg !1033
  %5 = load float* %rcoulomb, align 4, !dbg !1033, !tbaa !684
  tail call void @mk_ghat(%struct._IO_FILE* null, i32 %1, i32 %2, i32 %3, float*** %call1, float* %box, float %4, float %5, i32 1, i32 %bOld) #5, !dbg !1033
  tail call void @clear_fftgrid(%struct.t_fftgrid* %grid) #5, !dbg !1034
  tail call void @spread_q(%struct._IO_FILE* %log, i32 undef, i32 0, i32 %natoms, [3 x float]* %x, float* %charge, float* %box, %struct.t_fftgrid* %grid, %struct.t_nrnb* %nrnb) #6, !dbg !1035
  tail call void @solve_pppm(%struct._IO_FILE* undef, %struct.t_commrec* %cr, %struct.t_fftgrid* %grid, float*** %call1, float* undef, i32 %bVerbose, %struct.t_nrnb* %nrnb) #6, !dbg !1036
  %call2 = tail call fastcc float @gather_f(%struct._IO_FILE* %log, i32 0, i32 %natoms, [3 x float]* %x, [3 x float]* %f, float* %charge, float* %box, float* %phi, %struct.t_fftgrid* %grid, float* %beta, %struct.t_nrnb* %nrnb) #6, !dbg !1037
  tail call void @llvm.dbg.value(metadata !{float %call2}, i64 0, metadata !599), !dbg !1037
  tail call void @free_rgrid(float*** %call1, i32 %1, i32 %2) #5, !dbg !1038
  ret float %call2, !dbg !1039
}
