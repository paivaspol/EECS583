define void @calc_weights(i32 %iatom, i32 %nx, i32 %ny, i32 %nz, float* nocapture %x, float* nocapture %box, float* nocapture %invh, i32* nocapture %ixyz, float* nocapture %WXYZ) #0 {
entry:
  %wxyz = alloca [3 x [3 x float]], align 16
  %nxyz = alloca [3 x i32], align 4
  call void @llvm.dbg.value(metadata !{i32 %iatom}, i64 0, metadata !163), !dbg !690
  call void @llvm.dbg.value(metadata !{i32 %nx}, i64 0, metadata !164), !dbg !690
  call void @llvm.dbg.value(metadata !{i32 %ny}, i64 0, metadata !165), !dbg !690
  call void @llvm.dbg.value(metadata !{i32 %nz}, i64 0, metadata !166), !dbg !690
  call void @llvm.dbg.value(metadata !{float* %x}, i64 0, metadata !167), !dbg !691
  call void @llvm.dbg.value(metadata !{float* %box}, i64 0, metadata !168), !dbg !691
  call void @llvm.dbg.value(metadata !{float* %invh}, i64 0, metadata !169), !dbg !691
  call void @llvm.dbg.value(metadata !{i32* %ixyz}, i64 0, metadata !170), !dbg !691
  call void @llvm.dbg.value(metadata !{float* %WXYZ}, i64 0, metadata !171), !dbg !691
  call void @llvm.dbg.value(metadata !692, i64 0, metadata !172), !dbg !693
  %0 = bitcast [3 x [3 x float]]* %wxyz to i8*, !dbg !694
  call void @llvm.lifetime.start(i64 36, i8* %0) #2, !dbg !694
  call void @llvm.dbg.declare(metadata !{[3 x [3 x float]]* %wxyz}, metadata !174), !dbg !694
  call void @llvm.dbg.declare(metadata !{[3 x i32]* %nxyz}, metadata !182), !dbg !695
  call void @llvm.dbg.value(metadata !696, i64 0, metadata !181), !dbg !697
  %arrayidx = getelementptr inbounds [3 x i32]* %nxyz, i64 0, i64 0, !dbg !698
  store i32 %nx, i32* %arrayidx, align 4, !dbg !698, !tbaa !699
  %arrayidx1 = getelementptr inbounds [3 x i32]* %nxyz, i64 0, i64 1, !dbg !700
  store i32 %ny, i32* %arrayidx1, align 4, !dbg !700, !tbaa !699
  %arrayidx2 = getelementptr inbounds [3 x i32]* %nxyz, i64 0, i64 2, !dbg !701
  store i32 %nz, i32* %arrayidx2, align 4, !dbg !701, !tbaa !699
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !189), !dbg !702
  br label %for.body, !dbg !702

for.body:                                         ; preds = %if.end31.for.body_crit_edge, %entry
  %1 = phi i32 [ %nx, %entry ], [ %.pre, %if.end31.for.body_crit_edge ]
  %indvars.iv161 = phi i64 [ 0, %entry ], [ %indvars.iv.next162, %if.end31.for.body_crit_edge ]
  %arrayidx3 = getelementptr inbounds float* %x, i64 %indvars.iv161, !dbg !704
  %2 = load float* %arrayidx3, align 4, !dbg !704, !tbaa !684
  %arrayidx5 = getelementptr inbounds float* %invh, i64 %indvars.iv161, !dbg !704
  %3 = load float* %arrayidx5, align 4, !dbg !704, !tbaa !684
  %mul = fmul float %2, %3, !dbg !704
  call void @llvm.dbg.value(metadata !{float %mul}, i64 0, metadata !180), !dbg !704
  %conv = fpext float %mul to double, !dbg !706
  %add = fadd double %conv, 5.000000e-01, !dbg !706
  %conv6 = fptosi double %add to i32, !dbg !706
  call void @llvm.dbg.value(metadata !{i32 %conv6}, i64 0, metadata !186), !dbg !706
  call void @llvm.dbg.value(metadata !{i32 %1}, i64 0, metadata !190), !dbg !707
  %cmp9 = icmp slt i32 %conv6, 0, !dbg !708
  br i1 %cmp9, label %if.then, label %if.else, !dbg !708

if.then:                                          ; preds = %for.body
  %conv11 = sitofp i32 %1 to float, !dbg !709
  %add12 = fadd float %mul, %conv11, !dbg !709
  call void @llvm.dbg.value(metadata !{float %add12}, i64 0, metadata !180), !dbg !709
  %add13 = add nsw i32 %conv6, %1, !dbg !711
  call void @llvm.dbg.value(metadata !{i32 %add13}, i64 0, metadata !186), !dbg !711
  br label %if.end19, !dbg !712

if.else:                                          ; preds = %for.body
  %cmp14 = icmp slt i32 %conv6, %1, !dbg !713
  br i1 %cmp14, label %lor.lhs.false, label %if.then16, !dbg !713

if.then16:                                        ; preds = %if.else
  %conv17 = sitofp i32 %1 to float, !dbg !714
  %sub = fsub float %mul, %conv17, !dbg !714
  call void @llvm.dbg.value(metadata !{float %sub}, i64 0, metadata !180), !dbg !714
  %sub18 = sub nsw i32 %conv6, %1, !dbg !716
  call void @llvm.dbg.value(metadata !{i32 %sub18}, i64 0, metadata !186), !dbg !716
  br label %if.end19, !dbg !717

if.end19:                                         ; preds = %if.then16, %if.then
  %it.0 = phi i32 [ %add13, %if.then ], [ %sub18, %if.then16 ]
  %ttt.0 = phi float [ %add12, %if.then ], [ %sub, %if.then16 ]
  %cmp20 = icmp slt i32 %it.0, 0, !dbg !718
  br i1 %cmp20, label %if.then26, label %lor.lhs.false, !dbg !718

lor.lhs.false:                                    ; preds = %if.else, %if.end19
  %ttt.0143 = phi float [ %ttt.0, %if.end19 ], [ %mul, %if.else ]
  %it.0140 = phi i32 [ %it.0, %if.end19 ], [ %conv6, %if.else ]
  %cmp24 = icmp slt i32 %it.0140, %1, !dbg !718
  br i1 %cmp24, label %if.end31, label %if.then26, !dbg !718

if.then26:                                        ; preds = %lor.lhs.false, %if.end19
  %ttt.0144 = phi float [ %ttt.0143, %lor.lhs.false ], [ %ttt.0, %if.end19 ]
  %it.0141 = phi i32 [ %it.0140, %lor.lhs.false ], [ %it.0, %if.end19 ]
  %conv29 = fpext float %2 to double, !dbg !719
  %conv30 = fpext float %ttt.0144 to double, !dbg !719
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([34 x i8]* @.str, i64 0, i64 0), i32 %iatom, i32 %it.0141, double %conv29, double %conv30) #5, !dbg !719
  br label %if.end31, !dbg !719

if.end31:                                         ; preds = %lor.lhs.false, %if.then26
  %ttt.0145 = phi float [ %ttt.0143, %lor.lhs.false ], [ %ttt.0144, %if.then26 ]
  %it.0142 = phi i32 [ %it.0140, %lor.lhs.false ], [ %it.0141, %if.then26 ]
  %arrayidx33 = getelementptr inbounds i32* %ixyz, i64 %indvars.iv161, !dbg !720
  store i32 %it.0142, i32* %arrayidx33, align 4, !dbg !720, !tbaa !699
  %conv36 = sitofp i32 %it.0142 to float, !dbg !721
  %sub37 = fsub float %ttt.0145, %conv36, !dbg !721
  call void @llvm.dbg.value(metadata !{float %sub37}, i64 0, metadata !179), !dbg !721
  %sub38 = fsub float 5.000000e-01, %sub37, !dbg !722
  tail call void @llvm.dbg.value(metadata !{float %sub38}, i64 0, metadata !723), !dbg !724
  %mul.i = fmul float %sub38, %sub38, !dbg !725
  %arrayidx41 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 %indvars.iv161, i64 0, !dbg !722
  store float %mul.i, float* %arrayidx41, align 4, !dbg !722, !tbaa !684
  tail call void @llvm.dbg.value(metadata !{float %sub37}, i64 0, metadata !727), !dbg !729
  %mul.i138 = fmul float %sub37, %sub37, !dbg !730
  %conv43 = fpext float %mul.i138 to double, !dbg !728
  %mul44 = fmul double %conv43, 2.000000e+00, !dbg !728
  %sub45 = fsub double 1.500000e+00, %mul44, !dbg !728
  %conv46 = fptrunc double %sub45 to float, !dbg !728
  %arrayidx49 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 %indvars.iv161, i64 1, !dbg !728
  store float %conv46, float* %arrayidx49, align 4, !dbg !728, !tbaa !684
  %add50 = fadd float %sub37, 5.000000e-01, !dbg !731
  tail call void @llvm.dbg.value(metadata !{float %add50}, i64 0, metadata !732), !dbg !733
  %mul.i137 = fmul float %add50, %add50, !dbg !734
  %arrayidx54 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 %indvars.iv161, i64 2, !dbg !731
  store float %mul.i137, float* %arrayidx54, align 4, !dbg !731, !tbaa !684
  %indvars.iv.next162 = add i64 %indvars.iv161, 1, !dbg !702
  %lftr.wideiv163 = trunc i64 %indvars.iv.next162 to i32, !dbg !702
  %exitcond164 = icmp eq i32 %lftr.wideiv163, 3, !dbg !702
  br i1 %exitcond164, label %for.end, label %if.end31.for.body_crit_edge, !dbg !702

if.end31.for.body_crit_edge:                      ; preds = %if.end31
  %arrayidx8.phi.trans.insert = getelementptr inbounds [3 x i32]* %nxyz, i64 0, i64 %indvars.iv.next162
  %.pre = load i32* %arrayidx8.phi.trans.insert, align 4, !dbg !707, !tbaa !699
  br label %for.body, !dbg !702

for.end:                                          ; preds = %if.end31
  %arrayidx56 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 2, i64 0, !dbg !735
  %4 = load float* %arrayidx56, align 8, !dbg !735, !tbaa !684
  call void @llvm.dbg.value(metadata !{float %4}, i64 0, metadata !193), !dbg !735
  %arrayidx58 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 2, i64 1, !dbg !736
  %5 = load float* %arrayidx58, align 4, !dbg !736, !tbaa !684
  call void @llvm.dbg.value(metadata !{float %5}, i64 0, metadata !194), !dbg !736
  %arrayidx60 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 2, i64 2, !dbg !737
  %6 = load float* %arrayidx60, align 8, !dbg !737, !tbaa !684
  call void @llvm.dbg.value(metadata !{float %6}, i64 0, metadata !195), !dbg !737
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !189), !dbg !738
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !187), !dbg !738
  br label %for.body64, !dbg !738

for.body64:                                       ; preds = %for.inc92, %for.end
  %indvars.iv157 = phi i64 [ 0, %for.end ], [ %indvars.iv.next158, %for.inc92 ], !dbg !738
  %indvars.iv155 = phi i64 [ 0, %for.end ], [ %indvars.iv.next156, %for.inc92 ]
  %arrayidx67 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 0, i64 %indvars.iv155, !dbg !740
  %7 = load float* %arrayidx67, align 4, !dbg !740, !tbaa !684
  %mul68 = fmul float %7, 1.250000e-01, !dbg !740
  call void @llvm.dbg.value(metadata !{float %mul68}, i64 0, metadata !191), !dbg !740
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !188), !dbg !742
  br label %for.body72, !dbg !742

for.body72:                                       ; preds = %for.body72, %for.body64
  %indvars.iv151 = phi i64 [ %indvars.iv157, %for.body64 ], [ %indvars.iv.next152, %for.body72 ], !dbg !742
  %indvars.iv = phi i64 [ 0, %for.body64 ], [ %indvars.iv.next, %for.body72 ]
  %arrayidx75 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 1, i64 %indvars.iv, !dbg !744
  %8 = load float* %arrayidx75, align 4, !dbg !744, !tbaa !684
  %mul76 = fmul float %mul68, %8, !dbg !744
  call void @llvm.dbg.value(metadata !{float %mul76}, i64 0, metadata !192), !dbg !744
  %mul77 = fmul float %4, %mul76, !dbg !746
  %arrayidx79 = getelementptr inbounds float* %WXYZ, i64 %indvars.iv151, !dbg !746
  store float %mul77, float* %arrayidx79, align 4, !dbg !746, !tbaa !684
  %mul80 = fmul float %5, %mul76, !dbg !747
  %9 = add nsw i64 %indvars.iv151, 1, !dbg !747
  %arrayidx83 = getelementptr inbounds float* %WXYZ, i64 %9, !dbg !747
  store float %mul80, float* %arrayidx83, align 4, !dbg !747, !tbaa !684
  %mul84 = fmul float %6, %mul76, !dbg !748
  %10 = add nsw i64 %indvars.iv151, 2, !dbg !748
  %arrayidx87 = getelementptr inbounds float* %WXYZ, i64 %10, !dbg !748
  store float %mul84, float* %arrayidx87, align 4, !dbg !748, !tbaa !684
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !742
  %indvars.iv.next152 = add i64 %indvars.iv151, 3, !dbg !742
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32, !dbg !742
  %exitcond = icmp eq i32 %lftr.wideiv, 3, !dbg !742
  br i1 %exitcond, label %for.inc92, label %for.body72, !dbg !742

for.inc92:                                        ; preds = %for.body72
  %indvars.iv.next158 = add i64 %indvars.iv157, 9, !dbg !738
  %indvars.iv.next156 = add i64 %indvars.iv155, 1, !dbg !738
  %lftr.wideiv159 = trunc i64 %indvars.iv.next156 to i32, !dbg !738
  %exitcond160 = icmp eq i32 %lftr.wideiv159, 3, !dbg !738
  br i1 %exitcond160, label %for.end94, label %for.body64, !dbg !738

for.end94:                                        ; preds = %for.inc92
  call void @llvm.lifetime.end(i64 36, i8* %0) #2, !dbg !749
  ret void, !dbg !749
}
