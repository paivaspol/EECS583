define void @calc_weights(i32 %iatom, i32 %nx, i32 %ny, i32 %nz, float* nocapture %x, float* nocapture %box, float* nocapture %invh, i32* nocapture %ixyz, float* nocapture %WXYZ) #0 {
entry:
  %wxyz = alloca [3 x [3 x float]], align 16
  %nxyz = alloca [3 x i32], align 4
  %0 = bitcast [3 x [3 x float]]* %wxyz to i8*
  call void @llvm.lifetime.start(i64 36, i8* %0) #1
  %arrayidx = getelementptr inbounds [3 x i32]* %nxyz, i64 0, i64 0
  store i32 %nx, i32* %arrayidx, align 4, !tbaa !3
  %arrayidx1 = getelementptr inbounds [3 x i32]* %nxyz, i64 0, i64 1
  store i32 %ny, i32* %arrayidx1, align 4, !tbaa !3
  %arrayidx2 = getelementptr inbounds [3 x i32]* %nxyz, i64 0, i64 2
  store i32 %nz, i32* %arrayidx2, align 4, !tbaa !3
  br label %for.body

for.body:                                         ; preds = %if.end31.for.body_crit_edge, %entry
  %1 = phi i32 [ %nx, %entry ], [ %.pre, %if.end31.for.body_crit_edge ]
  %indvars.iv161 = phi i64 [ 0, %entry ], [ %indvars.iv.next162, %if.end31.for.body_crit_edge ]
  %arrayidx3 = getelementptr inbounds float* %x, i64 %indvars.iv161
  %2 = load float* %arrayidx3, align 4, !tbaa !0
  %arrayidx5 = getelementptr inbounds float* %invh, i64 %indvars.iv161
  %3 = load float* %arrayidx5, align 4, !tbaa !0
  %mul = fmul float %2, %3
  %conv = fpext float %mul to double
  %add = fadd double %conv, 5.000000e-01
  %conv6 = fptosi double %add to i32
  %cmp9 = icmp slt i32 %conv6, 0
  br i1 %cmp9, label %if.then, label %if.else

if.then:                                          ; preds = %for.body
  %conv11 = sitofp i32 %1 to float
  %add12 = fadd float %mul, %conv11
  %add13 = add nsw i32 %conv6, %1
  br label %if.end19

if.else:                                          ; preds = %for.body
  %cmp14 = icmp slt i32 %conv6, %1
  br i1 %cmp14, label %lor.lhs.false, label %if.then16

if.then16:                                        ; preds = %if.else
  %conv17 = sitofp i32 %1 to float
  %sub = fsub float %mul, %conv17
  %sub18 = sub nsw i32 %conv6, %1
  br label %if.end19

if.end19:                                         ; preds = %if.then16, %if.then
  %it.0 = phi i32 [ %add13, %if.then ], [ %sub18, %if.then16 ]
  %ttt.0 = phi float [ %add12, %if.then ], [ %sub, %if.then16 ]
  %cmp20 = icmp slt i32 %it.0, 0
  br i1 %cmp20, label %if.then26, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.else, %if.end19
  %ttt.0143 = phi float [ %ttt.0, %if.end19 ], [ %mul, %if.else ]
  %it.0140 = phi i32 [ %it.0, %if.end19 ], [ %conv6, %if.else ]
  %cmp24 = icmp slt i32 %it.0140, %1
  br i1 %cmp24, label %if.end31, label %if.then26

if.then26:                                        ; preds = %lor.lhs.false, %if.end19
  %ttt.0144 = phi float [ %ttt.0143, %lor.lhs.false ], [ %ttt.0, %if.end19 ]
  %it.0141 = phi i32 [ %it.0140, %lor.lhs.false ], [ %it.0, %if.end19 ]
  %conv29 = fpext float %2 to double
  %conv30 = fpext float %ttt.0144 to double
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([34 x i8]* @.str, i64 0, i64 0), i32 %iatom, i32 %it.0141, double %conv29, double %conv30) #4
  br label %if.end31

if.end31:                                         ; preds = %lor.lhs.false, %if.then26
  %ttt.0145 = phi float [ %ttt.0143, %lor.lhs.false ], [ %ttt.0144, %if.then26 ]
  %it.0142 = phi i32 [ %it.0140, %lor.lhs.false ], [ %it.0141, %if.then26 ]
  %arrayidx33 = getelementptr inbounds i32* %ixyz, i64 %indvars.iv161
  store i32 %it.0142, i32* %arrayidx33, align 4, !tbaa !3
  %conv36 = sitofp i32 %it.0142 to float
  %sub37 = fsub float %ttt.0145, %conv36
  %sub38 = fsub float 5.000000e-01, %sub37
  %mul.i = fmul float %sub38, %sub38
  %arrayidx41 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 %indvars.iv161, i64 0
  store float %mul.i, float* %arrayidx41, align 4, !tbaa !0
  %mul.i138 = fmul float %sub37, %sub37
  %conv43 = fpext float %mul.i138 to double
  %mul44 = fmul double %conv43, 2.000000e+00
  %sub45 = fsub double 1.500000e+00, %mul44
  %conv46 = fptrunc double %sub45 to float
  %arrayidx49 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 %indvars.iv161, i64 1
  store float %conv46, float* %arrayidx49, align 4, !tbaa !0
  %add50 = fadd float %sub37, 5.000000e-01
  %mul.i137 = fmul float %add50, %add50
  %arrayidx54 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 %indvars.iv161, i64 2
  store float %mul.i137, float* %arrayidx54, align 4, !tbaa !0
  %indvars.iv.next162 = add i64 %indvars.iv161, 1
  %lftr.wideiv163 = trunc i64 %indvars.iv.next162 to i32
  %exitcond164 = icmp eq i32 %lftr.wideiv163, 3
  br i1 %exitcond164, label %for.end, label %if.end31.for.body_crit_edge

if.end31.for.body_crit_edge:                      ; preds = %if.end31
  %arrayidx8.phi.trans.insert = getelementptr inbounds [3 x i32]* %nxyz, i64 0, i64 %indvars.iv.next162
  %.pre = load i32* %arrayidx8.phi.trans.insert, align 4, !tbaa !3
  br label %for.body

for.end:                                          ; preds = %if.end31
  %arrayidx56 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 2, i64 0
  %4 = load float* %arrayidx56, align 8, !tbaa !0
  %arrayidx58 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 2, i64 1
  %5 = load float* %arrayidx58, align 4, !tbaa !0
  %arrayidx60 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 2, i64 2
  %6 = load float* %arrayidx60, align 8, !tbaa !0
  br label %for.body64

for.body64:                                       ; preds = %for.inc92, %for.end
  %indvars.iv157 = phi i64 [ 0, %for.end ], [ %indvars.iv.next158, %for.inc92 ]
  %indvars.iv155 = phi i64 [ 0, %for.end ], [ %indvars.iv.next156, %for.inc92 ]
  %arrayidx67 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 0, i64 %indvars.iv155
  %7 = load float* %arrayidx67, align 4, !tbaa !0
  %mul68 = fmul float %7, 1.250000e-01
  br label %for.body72

for.body72:                                       ; preds = %for.body72, %for.body64
  %indvars.iv151 = phi i64 [ %indvars.iv157, %for.body64 ], [ %indvars.iv.next152, %for.body72 ]
  %indvars.iv = phi i64 [ 0, %for.body64 ], [ %indvars.iv.next, %for.body72 ]
  %arrayidx75 = getelementptr inbounds [3 x [3 x float]]* %wxyz, i64 0, i64 1, i64 %indvars.iv
  %8 = load float* %arrayidx75, align 4, !tbaa !0
  %mul76 = fmul float %mul68, %8
  %mul77 = fmul float %4, %mul76
  %arrayidx79 = getelementptr inbounds float* %WXYZ, i64 %indvars.iv151
  store float %mul77, float* %arrayidx79, align 4, !tbaa !0
  %mul80 = fmul float %5, %mul76
  %9 = add nsw i64 %indvars.iv151, 1
  %arrayidx83 = getelementptr inbounds float* %WXYZ, i64 %9
  store float %mul80, float* %arrayidx83, align 4, !tbaa !0
  %mul84 = fmul float %6, %mul76
  %10 = add nsw i64 %indvars.iv151, 2
  %arrayidx87 = getelementptr inbounds float* %WXYZ, i64 %10
  store float %mul84, float* %arrayidx87, align 4, !tbaa !0
  %indvars.iv.next = add i64 %indvars.iv, 1
  %indvars.iv.next152 = add i64 %indvars.iv151, 3
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32
  %exitcond = icmp eq i32 %lftr.wideiv, 3
  br i1 %exitcond, label %for.inc92, label %for.body72

for.inc92:                                        ; preds = %for.body72
  %indvars.iv.next158 = add i64 %indvars.iv157, 9
  %indvars.iv.next156 = add i64 %indvars.iv155, 1
  %lftr.wideiv159 = trunc i64 %indvars.iv.next156 to i32
  %exitcond160 = icmp eq i32 %lftr.wideiv159, 3
  br i1 %exitcond160, label %for.end94, label %for.body64

for.end94:                                        ; preds = %for.inc92
  call void @llvm.lifetime.end(i64 36, i8* %0) #1
  ret void
}
