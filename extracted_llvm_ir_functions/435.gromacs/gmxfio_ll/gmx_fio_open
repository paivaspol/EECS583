define i32 @gmx_fio_open(i8* %fn, i8* %mode) #1 {
  %newmode = alloca [5 x i8], align 2
  %1 = tail call i32 @fn2ftp(i8* %fn) #9
  %2 = icmp eq i32 %1, 27
  br i1 %2, label %3, label %6

; <label>:3                                       ; preds = %0
  %4 = getelementptr inbounds [5 x i8]* %newmode, i64 0, i64 0
  %5 = call i8* @__strcpy_chk(i8* %4, i8* %mode, i64 5) #9
  br label %15

; <label>:6                                       ; preds = %0
  %7 = load i8* %mode, align 1, !tbaa !14
  switch i8 %7, label %14 [
    i8 114, label %8
    i8 119, label %10
    i8 97, label %12
  ]

; <label>:8                                       ; preds = %6
  %9 = bitcast [5 x i8]* %newmode to i16*
  store i16 114, i16* %9, align 2
  br label %15

; <label>:10                                      ; preds = %6
  %11 = bitcast [5 x i8]* %newmode to i16*
  store i16 119, i16* %11, align 2
  br label %15

; <label>:12                                      ; preds = %6
  %13 = bitcast [5 x i8]* %newmode to i16*
  store i16 97, i16* %13, align 2
  br label %15

; <label>:14                                      ; preds = %6
  tail call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([43 x i8]* @.str19, i64 0, i64 0), i8* %mode) #9
  br label %15

; <label>:15                                      ; preds = %8, %12, %14, %10, %3
  %16 = call i32 @fn2ftp(i8* %fn) #9
  %17 = call i8* @ftp2ftype(i32 %16) #9
  %18 = call i32 @strncmp(i8* %17, i8* getelementptr inbounds ([6 x i8]* @.str20, i64 0, i64 0), i64 5) #9
  %19 = icmp eq i32 %18, 0
  br i1 %19, label %.preheader, label %20

; <label>:20                                      ; preds = %15
  %21 = getelementptr inbounds [5 x i8]* %newmode, i64 0, i64 0
  %22 = call i8* @strchr(i8* %21, i32 98) #9
  %23 = icmp eq i8* %22, null
  br i1 %23, label %24, label %.preheader

; <label>:24                                      ; preds = %20
  %25 = call i8* @strchr(i8* %21, i32 66) #9
  %26 = icmp eq i8* %25, null
  br i1 %26, label %27, label %.preheader

; <label>:27                                      ; preds = %24
  %28 = call i8* @__strcat_chk(i8* %21, i8* getelementptr inbounds ([2 x i8]* @.str21, i64 0, i64 0), i64 5) #9
  br label %.preheader

.preheader:                                       ; preds = %15, %20, %24, %27
  %29 = load i32* @nFIO, align 4, !tbaa !2
  %30 = icmp sgt i32 %29, 0
  br i1 %30, label %.lr.ph, label %.loopexit

.lr.ph:                                           ; preds = %.preheader
  %31 = load %struct.t_fileio** @FIO, align 8, !tbaa !15
  %32 = sext i32 %29 to i64
  br label %33

; <label>:33                                      ; preds = %.lr.ph, %40
  %indvars.iv = phi i64 [ 0, %.lr.ph ], [ %indvars.iv.next, %40 ]
  %34 = getelementptr inbounds %struct.t_fileio* %31, i64 %indvars.iv, i32 1
  %35 = load i32* %34, align 4, !tbaa !16
  %36 = icmp eq i32 %35, 0
  br i1 %36, label %37, label %40

; <label>:37                                      ; preds = %33
  %38 = trunc i64 %indvars.iv to i32
  %39 = getelementptr inbounds %struct.t_fileio* %31, i64 %indvars.iv
  br label %.loopexit

; <label>:40                                      ; preds = %33
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1
  %41 = icmp slt i64 %indvars.iv.next, %32
  br i1 %41, label %33, label %..loopexit_crit_edge

..loopexit_crit_edge:                             ; preds = %40
  %42 = trunc i64 %indvars.iv.next to i32
  br label %.loopexit

.loopexit:                                        ; preds = %.preheader, %..loopexit_crit_edge, %37
  %i.02 = phi i32 [ %38, %37 ], [ %42, %..loopexit_crit_edge ], [ 0, %.preheader ]
  %nfio.0 = phi i32 [ %38, %37 ], [ 0, %..loopexit_crit_edge ], [ 0, %.preheader ]
  %fio.0 = phi %struct.t_fileio* [ %39, %37 ], [ null, %..loopexit_crit_edge ], [ null, %.preheader ]
  %43 = icmp eq i32 %i.02, %29
  br i1 %43, label %44, label %54

; <label>:44                                      ; preds = %.loopexit
  %45 = add nsw i32 %29, 1
  store i32 %45, i32* @nFIO, align 4, !tbaa !2
  %46 = load i8** bitcast (%struct.t_fileio** @FIO to i8**), align 8, !tbaa !15
  %47 = mul i32 %45, 48
  %48 = call i8* @save_realloc(i8* getelementptr inbounds ([4 x i8]* @.str22, i64 0, i64 0), i8* getelementptr inbounds ([66 x i8]* @.str15, i64 0, i64 0), i32 676, i8* %46, i32 %47) #9
  %49 = bitcast i8* %48 to %struct.t_fileio*
  store i8* %48, i8** bitcast (%struct.t_fileio** @FIO to i8**), align 8, !tbaa !15
  %50 = load i32* @nFIO, align 4, !tbaa !2
  %51 = add nsw i32 %50, -1
  %52 = sext i32 %51 to i64
  %53 = getelementptr inbounds %struct.t_fileio* %49, i64 %52
  br label %54

; <label>:54                                      ; preds = %44, %.loopexit
  %nfio.1 = phi i32 [ %51, %44 ], [ %nfio.0, %.loopexit ]
  %fio.1 = phi %struct.t_fileio* [ %53, %44 ], [ %fio.0, %.loopexit ]
  %55 = getelementptr inbounds [5 x i8]* %newmode, i64 0, i64 0
  %56 = load i8* %55, align 2, !tbaa !14
  %57 = icmp eq i8 %56, 114
  %58 = zext i1 %57 to i32
  %59 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 7
  %60 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 8
  %61 = icmp eq i8* %fn, null
  %62 = bitcast %struct.__sFILE** %59 to i8*
  call void @llvm.memset.p0i8.i64(i8* %62, i8 0, i64 16, i32 8, i1 false)
  br i1 %61, label %91, label %63

; <label>:63                                      ; preds = %54
  %64 = call i32 @fn2ftp(i8* %fn) #9
  %65 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 0
  store i32 %64, i32* %65, align 4, !tbaa !18
  %66 = call i8* @strdup(i8* %fn) #9
  %67 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 6
  store i8* %66, i8** %67, align 8, !tbaa !19
  %68 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 5
  store i32 0, i32* %68, align 4, !tbaa !20
  %69 = load i32* %65, align 4, !tbaa !18
  br label %70

; <label>:70                                      ; preds = %70, %63
  %indvars.iv.i = phi i64 [ 0, %63 ], [ %indvars.iv.next.i, %70 ]
  %bResult.02.i = phi i32 [ 0, %63 ], [ %.bResult.0.i, %70 ]
  %71 = getelementptr inbounds [4 x i32]* @ftpXDR, i64 0, i64 %indvars.iv.i
  %72 = load i32* %71, align 4, !tbaa !2
  %73 = icmp eq i32 %72, %69
  %.bResult.0.i = select i1 %73, i32 1, i32 %bResult.02.i
  %indvars.iv.next.i = add nuw nsw i64 %indvars.iv.i, 1
  %exitcond = icmp eq i64 %indvars.iv.next.i, 4
  br i1 %exitcond, label %in_ftpset.exit, label %70

in_ftpset.exit:                                   ; preds = %70
  %74 = icmp eq i32 %.bResult.0.i, 0
  br i1 %74, label %89, label %75

; <label>:75                                      ; preds = %in_ftpset.exit
  %76 = load i8* %55, align 2, !tbaa !14
  %77 = icmp eq i8 %76, 119
  br i1 %77, label %82, label %78

; <label>:78                                      ; preds = %75
  %79 = call i32 @fexist(i8* %fn) #9
  %80 = icmp eq i32 %79, 0
  br i1 %80, label %81, label %82

; <label>:81                                      ; preds = %78
  call void (i32, i8*, ...)* @fatal_error(i32 0, i8* getelementptr inbounds ([18 x i8]* @.str23, i64 0, i64 0), i8* %fn) #9
  br label %82

; <label>:82                                      ; preds = %78, %81, %75
  %83 = call i8* @save_calloc(i8* getelementptr inbounds ([9 x i8]* @.str24, i64 0, i64 0), i8* getelementptr inbounds ([66 x i8]* @.str15, i64 0, i64 0), i32 711, i32 1, i32 48) #9
  %84 = bitcast i8* %83 to %struct.XDR*
  %85 = bitcast %struct.XDR** %60 to i8**
  store i8* %83, i8** %85, align 8, !tbaa !21
  %86 = call i32 @xdropen(%struct.XDR* %84, i8* %fn, i8* %55) #9
  %87 = icmp eq i32 %86, 0
  br i1 %87, label %88, label %99

; <label>:88                                      ; preds = %82
  call void (i32, i8*, ...)* @fatal_error(i32 -1, i8* getelementptr inbounds ([18 x i8]* @.str25, i64 0, i64 0), i8* %fn) #9
  br label %99

; <label>:89                                      ; preds = %in_ftpset.exit
  %90 = call %struct.__sFILE* @ffopen(i8* %fn, i8* %55) #9
  store %struct.__sFILE* %90, %struct.__sFILE** %59, align 8, !tbaa !22
  br label %99

; <label>:91                                      ; preds = %54
  %92 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 0
  store i32 27, i32* %92, align 4, !tbaa !18
  %93 = load %struct.__sFILE** @__stdinp, align 8, !tbaa !15
  %94 = load %struct.__sFILE** @__stdoutp, align 8, !tbaa !15
  %95 = select i1 %57, %struct.__sFILE* %93, %struct.__sFILE* %94
  store %struct.__sFILE* %95, %struct.__sFILE** %59, align 8, !tbaa !22
  %96 = call i8* @strdup(i8* getelementptr inbounds ([6 x i8]* @.str26, i64 0, i64 0)) #9
  %97 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 6
  store i8* %96, i8** %97, align 8, !tbaa !19
  %98 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 5
  store i32 1, i32* %98, align 4, !tbaa !20
  br label %99

; <label>:99                                      ; preds = %82, %89, %88, %91
  %100 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 2
  store i32 %58, i32* %100, align 4, !tbaa !23
  %101 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 3
  store i32 0, i32* %101, align 4, !tbaa !24
  %102 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 4
  store i32 0, i32* %102, align 4, !tbaa !25
  %103 = getelementptr inbounds %struct.t_fileio* %fio.1, i64 0, i32 1
  store i32 1, i32* %103, align 4, !tbaa !16
  ret i32 %nfio.1
}
