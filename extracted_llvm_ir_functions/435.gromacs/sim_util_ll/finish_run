define void @finish_run(%struct._IO_FILE* %log, %struct.t_commrec* nocapture %cr, i8* nocapture %confout, %struct.t_nsborder* nocapture %nsb, %struct.t_topology* nocapture %top, %struct.t_parm* nocapture %parm, %struct.t_nrnb* %nrnb, double %nodetime, double %realtime, i32 %step, i32 %bWriteStat) #0 {
entry:
  %ntot = alloca %struct.t_nrnb, align 8
  %0 = bitcast %struct.t_nrnb* %ntot to i8*
  call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %log}, i64 0, metadata !1277), !dbg !1923
  call void @llvm.dbg.value(metadata !{%struct.t_commrec* %cr}, i64 0, metadata !1278), !dbg !1923
  call void @llvm.dbg.value(metadata !{i8* %confout}, i64 0, metadata !1279), !dbg !1923
  call void @llvm.dbg.value(metadata !{%struct.t_nsborder* %nsb}, i64 0, metadata !1280), !dbg !1924
  call void @llvm.dbg.value(metadata !{%struct.t_topology* %top}, i64 0, metadata !1281), !dbg !1924
  call void @llvm.dbg.value(metadata !{%struct.t_parm* %parm}, i64 0, metadata !1282), !dbg !1924
  call void @llvm.dbg.value(metadata !{%struct.t_nrnb* %nrnb}, i64 0, metadata !1283), !dbg !1925
  call void @llvm.dbg.value(metadata !{double %nodetime}, i64 0, metadata !1284), !dbg !1925
  call void @llvm.dbg.value(metadata !{double %realtime}, i64 0, metadata !1285), !dbg !1925
  call void @llvm.dbg.value(metadata !{i32 %step}, i64 0, metadata !1286), !dbg !1925
  call void @llvm.dbg.value(metadata !{i32 %bWriteStat}, i64 0, metadata !1287), !dbg !1926
  call void @llvm.lifetime.start(i64 1032, i8* %0) #2, !dbg !1927
  call void @llvm.dbg.declare(metadata !{%struct.t_nrnb* %ntot}, metadata !1290), !dbg !1927
  call void @llvm.dbg.value(metadata !332, i64 0, metadata !1288), !dbg !1928
  call void @llvm.memset.p0i8.i64(i8* %0, i8 0, i64 1032, i32 8, i1 false), !dbg !1930
  %nnodes = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 1, !dbg !1931
  %1 = load i32* %nnodes, align 4, !dbg !1931, !tbaa !1504
  %cmp273 = icmp sgt i32 %1, 0, !dbg !1931
  br i1 %cmp273, label %for.cond4.preheader, label %for.end20, !dbg !1931

for.cond4.preheader:                              ; preds = %entry, %for.inc18
  %indvars.iv76 = phi i64 [ %indvars.iv.next77, %for.inc18 ], [ 0, %entry ]
  br label %for.body6, !dbg !1933

for.body6:                                        ; preds = %for.body6, %for.cond4.preheader
  %indvars.iv = phi i64 [ 0, %for.cond4.preheader ], [ %indvars.iv.next, %for.body6 ]
  %arrayidx11 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %indvars.iv76, i32 0, i64 %indvars.iv, !dbg !1935
  %2 = load double* %arrayidx11, align 8, !dbg !1935, !tbaa !1563
  %arrayidx14 = getelementptr inbounds %struct.t_nrnb* %ntot, i64 0, i32 0, i64 %indvars.iv, !dbg !1935
  %3 = load double* %arrayidx14, align 8, !dbg !1935, !tbaa !1563
  %add = fadd double %2, %3, !dbg !1935
  store double %add, double* %arrayidx14, align 8, !dbg !1935, !tbaa !1563
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !1933
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32, !dbg !1933
  %exitcond = icmp eq i32 %lftr.wideiv, 129, !dbg !1933
  br i1 %exitcond, label %for.inc18, label %for.body6, !dbg !1933

for.inc18:                                        ; preds = %for.body6
  %indvars.iv.next77 = add i64 %indvars.iv76, 1, !dbg !1931
  %4 = trunc i64 %indvars.iv.next77 to i32, !dbg !1931
  %cmp2 = icmp slt i32 %4, %1, !dbg !1931
  br i1 %cmp2, label %for.cond4.preheader, label %for.end20, !dbg !1931

for.end20:                                        ; preds = %for.inc18, %entry
  call void @llvm.dbg.value(metadata !1697, i64 0, metadata !1291), !dbg !1936
  %tobool = icmp eq i32 %bWriteStat, 0, !dbg !1937
  br i1 %tobool, label %for.end20.if.end31_crit_edge, label %if.then, !dbg !1937

for.end20.if.end31_crit_edge:                     ; preds = %for.end20
  %nodeid32.pre = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 0, !dbg !1938
  br label %if.end31, !dbg !1937

if.then:                                          ; preds = %for.end20
  %nsteps = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 1, !dbg !1939
  %5 = load i32* %nsteps, align 4, !dbg !1939, !tbaa !1504
  %conv = sitofp i32 %5 to float, !dbg !1939
  %delta_t = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 15, !dbg !1939
  %6 = load float* %delta_t, align 4, !dbg !1939, !tbaa !1510
  %mul = fmul float %conv, %6, !dbg !1939
  call void @llvm.dbg.value(metadata !{float %mul}, i64 0, metadata !1291), !dbg !1939
  %nodeid = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 0, !dbg !1941
  %7 = load i32* %nodeid, align 4, !dbg !1941, !tbaa !1504
  %cmp22 = icmp eq i32 %7, 0, !dbg !1941
  br i1 %cmp22, label %land.lhs.true, label %if.else, !dbg !1941

land.lhs.true:                                    ; preds = %if.then
  %threadid = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 4, !dbg !1941
  %8 = load i32* %threadid, align 4, !dbg !1941, !tbaa !1504
  %cmp24 = icmp eq i32 %8, 0, !dbg !1941
  br i1 %cmp24, label %if.then26, label %if.else, !dbg !1941

if.then26:                                        ; preds = %land.lhs.true
  %9 = load %struct._IO_FILE** @stderr, align 8, !dbg !1942, !tbaa !1554
  %10 = call i64 @fwrite(i8* getelementptr inbounds ([3 x i8]* @.str19, i64 0, i64 0), i64 2, i64 1, %struct._IO_FILE* %9), !dbg !1942
  %11 = load %struct._IO_FILE** @stderr, align 8, !dbg !1944, !tbaa !1554
  %12 = load i32* %nnodes, align 4, !dbg !1944, !tbaa !1504
  call void @print_perf(%struct._IO_FILE* %11, double %nodetime, double %realtime, float %mul, %struct.t_nrnb* %ntot, i32 %12) #7, !dbg !1944
  br label %if.end31, !dbg !1945

if.else:                                          ; preds = %land.lhs.true, %if.then
  %nodeid28 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 0, !dbg !1946
  %13 = load i32* %nodeid28, align 4, !dbg !1946, !tbaa !1504
  %idxprom29 = sext i32 %13 to i64, !dbg !1946
  %arrayidx30 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom29, !dbg !1946
  call void @print_nrnb(%struct._IO_FILE* %log, %struct.t_nrnb* %arrayidx30) #7, !dbg !1946
  br label %if.end31

if.end31:                                         ; preds = %for.end20.if.end31_crit_edge, %if.then26, %if.else
  %nodeid32.pre-phi = phi i32* [ %nodeid32.pre, %for.end20.if.end31_crit_edge ], [ %nodeid, %if.then26 ], [ %nodeid, %if.else ], !dbg !1938
  %runtime.0 = phi float [ 0.000000e+00, %for.end20.if.end31_crit_edge ], [ %mul, %if.then26 ], [ %mul, %if.else ]
  %14 = load i32* %nodeid32.pre-phi, align 4, !dbg !1938, !tbaa !1504
  %cmp33 = icmp eq i32 %14, 0, !dbg !1938
  br i1 %cmp33, label %land.lhs.true35, label %if.end47, !dbg !1938

land.lhs.true35:                                  ; preds = %if.end31
  %threadid36 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 4, !dbg !1938
  %15 = load i32* %threadid36, align 4, !dbg !1938, !tbaa !1504
  %cmp37 = icmp eq i32 %15, 0, !dbg !1938
  br i1 %cmp37, label %if.then39, label %if.end47, !dbg !1938

if.then39:                                        ; preds = %land.lhs.true35
  %16 = load i32* %nnodes, align 4, !dbg !1947, !tbaa !1504
  call void @print_perf(%struct._IO_FILE* %log, double %nodetime, double %realtime, float %runtime.0, %struct.t_nrnb* %ntot, i32 %16) #7, !dbg !1947
  %17 = load i32* %nnodes, align 4, !dbg !1949, !tbaa !1504
  %cmp42 = icmp sgt i32 %17, 1, !dbg !1949
  br i1 %cmp42, label %if.then44, label %if.end47, !dbg !1949

if.then44:                                        ; preds = %if.then39
  call void @pr_load(%struct._IO_FILE* %log, i32 %17, %struct.t_nrnb* %nrnb) #7, !dbg !1950
  br label %if.end47, !dbg !1950

if.end47:                                         ; preds = %if.then39, %if.then44, %land.lhs.true35, %if.end31
  call void @llvm.lifetime.end(i64 1032, i8* %0) #2, !dbg !1951
  ret void, !dbg !1951
}
