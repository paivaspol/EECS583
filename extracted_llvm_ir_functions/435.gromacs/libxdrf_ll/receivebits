define internal fastcc i32 @receivebits(i32* nocapture %buf, i32 %num_of_bits) #4 {
  %1 = shl i32 1, %num_of_bits
  %2 = add nsw i32 %1, -1
  %3 = getelementptr inbounds i32* %buf, i64 3
  %4 = bitcast i32* %3 to i8*
  %5 = load i32* %buf, align 4, !tbaa !23
  %6 = getelementptr inbounds i32* %buf, i64 1
  %7 = load i32* %6, align 4, !tbaa !23
  %8 = getelementptr inbounds i32* %buf, i64 2
  %9 = load i32* %8, align 4, !tbaa !23
  %10 = icmp sgt i32 %num_of_bits, 7
  br i1 %10, label %.lr.ph, label %29

.lr.ph:                                           ; preds = %0
  %11 = sext i32 %5 to i64
  %12 = add i32 %num_of_bits, -8
  %13 = lshr i32 %12, 3
  %14 = shl nuw i32 %13, 3
  %15 = add i32 %5, %13
  br label %16

; <label>:16                                      ; preds = %.lr.ph, %16
  %indvars.iv = phi i64 [ %11, %.lr.ph ], [ %indvars.iv.next, %16 ]
  %.04 = phi i32 [ %num_of_bits, %.lr.ph ], [ %23, %16 ]
  %lastbyte.02 = phi i32 [ %9, %.lr.ph ], [ %21, %16 ]
  %num.01 = phi i32 [ 0, %.lr.ph ], [ %25, %16 ]
  %17 = shl i32 %lastbyte.02, 8
  %indvars.iv.next = add nsw i64 %indvars.iv, 1
  %18 = getelementptr inbounds i8* %4, i64 %indvars.iv
  %19 = load i8* %18, align 1, !tbaa !17
  %20 = zext i8 %19 to i32
  %21 = or i32 %20, %17
  %22 = lshr i32 %21, %7
  %23 = add nsw i32 %.04, -8
  %24 = shl i32 %22, %23
  %25 = or i32 %24, %num.01
  %26 = icmp sgt i32 %23, 7
  br i1 %26, label %16, label %._crit_edge

._crit_edge:                                      ; preds = %16
  %27 = sub i32 %12, %14
  %28 = add i32 %15, 1
  br label %29

; <label>:29                                      ; preds = %._crit_edge, %0
  %.0.lcssa = phi i32 [ %27, %._crit_edge ], [ %num_of_bits, %0 ]
  %cnt.0.lcssa = phi i32 [ %28, %._crit_edge ], [ %5, %0 ]
  %lastbyte.0.lcssa = phi i32 [ %21, %._crit_edge ], [ %9, %0 ]
  %num.0.lcssa = phi i32 [ %25, %._crit_edge ], [ 0, %0 ]
  %30 = icmp sgt i32 %.0.lcssa, 0
  br i1 %30, label %31, label %49

; <label>:31                                      ; preds = %29
  %32 = icmp ult i32 %7, %.0.lcssa
  br i1 %32, label %33, label %42

; <label>:33                                      ; preds = %31
  %34 = add i32 %7, 8
  %35 = shl i32 %lastbyte.0.lcssa, 8
  %36 = add nsw i32 %cnt.0.lcssa, 1
  %37 = sext i32 %cnt.0.lcssa to i64
  %38 = getelementptr inbounds i8* %4, i64 %37
  %39 = load i8* %38, align 1, !tbaa !17
  %40 = zext i8 %39 to i32
  %41 = or i32 %40, %35
  br label %42

; <label>:42                                      ; preds = %33, %31
  %lastbits.0 = phi i32 [ %34, %33 ], [ %7, %31 ]
  %lastbyte.1 = phi i32 [ %41, %33 ], [ %lastbyte.0.lcssa, %31 ]
  %cnt.1 = phi i32 [ %36, %33 ], [ %cnt.0.lcssa, %31 ]
  %43 = sub i32 %lastbits.0, %.0.lcssa
  %44 = lshr i32 %lastbyte.1, %43
  %45 = shl i32 1, %.0.lcssa
  %46 = add nsw i32 %45, -1
  %47 = and i32 %44, %46
  %48 = or i32 %47, %num.0.lcssa
  br label %49

; <label>:49                                      ; preds = %42, %29
  %num.1 = phi i32 [ %48, %42 ], [ %num.0.lcssa, %29 ]
  %lastbits.1 = phi i32 [ %43, %42 ], [ %7, %29 ]
  %lastbyte.2 = phi i32 [ %lastbyte.1, %42 ], [ %lastbyte.0.lcssa, %29 ]
  %cnt.2 = phi i32 [ %cnt.1, %42 ], [ %cnt.0.lcssa, %29 ]
  %50 = and i32 %num.1, %2
  store i32 %cnt.2, i32* %buf, align 4, !tbaa !23
  store i32 %lastbits.1, i32* %6, align 4, !tbaa !23
  store i32 %lastbyte.2, i32* %8, align 4, !tbaa !23
  ret i32 %50
}
