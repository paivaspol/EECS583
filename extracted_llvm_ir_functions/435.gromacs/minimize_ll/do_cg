define i64 @do_cg(%struct._IO_FILE* %log, i32 %nfile, %struct.t_filenm* %fnm, %struct.t_parm* %parm, %struct.t_topology* %top, %struct.t_groups* %grps, %struct.t_nsborder* %nsb, [3 x float]* %x, [3 x float]* nocapture %grad, [3 x float]* %buf, %struct.t_mdatoms* %mdatoms, [3 x float]* nocapture %ekin, float* %ener, %struct.t_fcdata* %fcd, %struct.t_nrnb* %nrnb, i32 %bVerbose, i32 %bDummies, %struct.t_comm_dummies* %dummycomm, %struct.t_commrec* %cr, %struct.t_commrec* %mcr, %struct.t_graph* %graph, %struct.t_forcerec* %fr, float* %box_size) #0 {
entry:
  %gpa = alloca double, align 8
  %gpb = alloca double, align 8
  %lambda = alloca float, align 4
  %vcm = alloca %struct.t_vcm*, align 8
  %mynrnb = alloca %struct.t_nrnb, align 8
  %bLR = alloca i32, align 4
  %bLJLR = alloca i32, align 4
  %bBHAM = alloca i32, align 4
  %b14 = alloca i32, align 4
  %mu_tot = alloca [3 x float], align 4
  %force_vir = alloca [3 x [3 x float]], align 16
  %shake_vir = alloca [3 x [3 x float]], align 16
  %pme_vir = alloca [3 x [3 x float]], align 16
  %nfmax = alloca i32, align 4
  %start = alloca i32, align 4
  %end = alloca i32, align 4
  %terminate = alloca float, align 4
  %0 = bitcast %struct.t_nrnb* %mynrnb to i8*
  call void @llvm.lifetime.start(i64 1032, i8* %0) #1
  %1 = bitcast [3 x [3 x float]]* %force_vir to i8*
  call void @llvm.lifetime.start(i64 36, i8* %1) #1
  %2 = bitcast [3 x [3 x float]]* %shake_vir to i8*
  call void @llvm.lifetime.start(i64 36, i8* %2) #1
  %3 = bitcast [3 x [3 x float]]* %pme_vir to i8*
  call void @llvm.lifetime.start(i64 36, i8* %3) #1
  %ir = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0
  %nstcgsteep = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 63
  %4 = load i32* %nstcgsteep, align 4, !tbaa !0
  store float 0.000000e+00, float* %terminate, align 4, !tbaa !3
  %arraydecay = getelementptr inbounds [3 x float]* %mu_tot, i64 0, i64 0
  call fastcc void @init_em(%struct._IO_FILE* %log, i8* getelementptr inbounds ([20 x i8]* @.str, i64 0, i64 0), %struct.t_parm* %parm, float* %lambda, %struct.t_nrnb* %mynrnb, float* %arraydecay, float* %box_size, %struct.t_forcerec* %fr, %struct.t_mdatoms* %mdatoms, %struct.t_topology* %top, %struct.t_nsborder* %nsb, %struct.t_commrec* %cr, %struct.t_vcm** %vcm, i32* %start, i32* %end) #4
  %nodeid = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 0
  %5 = load i32* %nodeid, align 4, !tbaa !0
  %call = call i64 @print_date_and_time(%struct._IO_FILE* %log, i32 %5, i8* getelementptr inbounds ([28 x i8]* @.str1, i64 0, i64 0)) #5
  %natoms = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 3
  %6 = load i32* %natoms, align 4, !tbaa !0
  %call1 = call i8* @save_calloc(i8* getelementptr inbounds ([2 x i8]* @.str2, i64 0, i64 0), i8* getelementptr inbounds ([56 x i8]* @.str3, i64 0, i64 0), i32 220, i32 %6, i32 12) #5
  %7 = bitcast i8* %call1 to [3 x float]*
  %8 = load i32* %natoms, align 4, !tbaa !0
  %call3 = call i8* @save_calloc(i8* getelementptr inbounds ([2 x i8]* @.str4, i64 0, i64 0), i8* getelementptr inbounds ([56 x i8]* @.str3, i64 0, i64 0), i32 221, i32 %8, i32 12) #5
  %9 = bitcast i8* %call3 to [3 x float]*
  %10 = load i32* %natoms, align 4, !tbaa !0
  %call5 = call i8* @save_calloc(i8* getelementptr inbounds ([7 x i8]* @.str5, i64 0, i64 0), i8* getelementptr inbounds ([56 x i8]* @.str3, i64 0, i64 0), i32 222, i32 %10, i32 12) #5
  %11 = bitcast i8* %call5 to [3 x float]*
  call void @set_pot_bools(%struct.t_inputrec* %ir, %struct.t_topology* %top, i32* %bLR, i32* %bLJLR, i32* %bBHAM, i32* %b14) #5
  %12 = load i32* %nodeid, align 4, !tbaa !0
  %cmp = icmp eq i32 %12, 0
  br i1 %cmp, label %land.lhs.true, label %if.end

land.lhs.true:                                    ; preds = %entry
  %threadid = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 4
  %13 = load i32* %threadid, align 4, !tbaa !0
  %cmp8 = icmp eq i32 %13, 0
  br i1 %cmp8, label %if.then, label %if.end

if.then:                                          ; preds = %land.lhs.true
  %call9 = call i8* @ftp2fn(i32 8, i32 %nfile, %struct.t_filenm* %fnm) #5
  %call10 = call i32 @open_enx(i8* %call9, i8* getelementptr inbounds ([2 x i8]* @.str6, i64 0, i64 0)) #5
  br label %if.end

if.end:                                           ; preds = %entry, %land.lhs.true, %if.then
  %fp_ene.0 = phi i32 [ %call10, %if.then ], [ -1, %land.lhs.true ], [ -1, %entry ]
  %atoms = getelementptr inbounds %struct.t_topology* %top, i64 0, i32 2
  %idef = getelementptr inbounds %struct.t_topology* %top, i64 0, i32 1
  %14 = load i32* %bLR, align 4, !tbaa !0
  %15 = load i32* %bLJLR, align 4, !tbaa !0
  %16 = load i32* %bBHAM, align 4, !tbaa !0
  %17 = load i32* %b14, align 4, !tbaa !0
  %efep = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 46
  %18 = load i32* %efep, align 4, !tbaa !0
  %cmp12 = icmp ne i32 %18, 0
  %conv = zext i1 %cmp12 to i32
  %epc = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 28
  %19 = load i32* %epc, align 4, !tbaa !0
  %eDispCorr = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 43
  %20 = load i32* %eDispCorr, align 4, !tbaa !0
  %arrayidx16 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 32, i64 1, i64 0
  %21 = load float* %arrayidx16, align 4, !tbaa !3
  %fabsf = call float @fabsf(float %21) #6
  %22 = fpext float %fabsf to double
  %cmp19 = fcmp ogt double %22, 1.200000e-38
  br i1 %cmp19, label %lor.end, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.end
  %arrayidx24 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 32, i64 2, i64 0
  %23 = load float* %arrayidx24, align 4, !tbaa !3
  %fabsf1002 = call float @fabsf(float %23) #6
  %24 = fpext float %fabsf1002 to double
  %cmp27 = fcmp ogt double %24, 1.200000e-38
  br i1 %cmp27, label %lor.end, label %lor.rhs

lor.rhs:                                          ; preds = %lor.lhs.false
  %arrayidx32 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 32, i64 2, i64 1
  %25 = load float* %arrayidx32, align 4, !tbaa !3
  %fabsf1003 = call float @fabsf(float %25) #6
  %26 = fpext float %fabsf1003 to double
  %cmp35 = fcmp ogt double %26, 1.200000e-38
  br label %lor.end

lor.end:                                          ; preds = %lor.rhs, %lor.lhs.false, %if.end
  %27 = phi i1 [ true, %lor.lhs.false ], [ true, %if.end ], [ %cmp35, %lor.rhs ]
  %lor.ext = zext i1 %27 to i32
  %etc = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 27
  %28 = load i32* %etc, align 4, !tbaa !0
  %cmp38 = icmp eq i32 %28, 2
  %conv39 = zext i1 %cmp38 to i32
  %call40 = call %struct.t_mdebin* @init_mdebin(i32 %fp_ene.0, %struct.t_groups* %grps, %struct.t_atoms* %atoms, %struct.t_idef* %idef, i32 %14, i32 %15, i32 %16, i32 %17, i32 %conv, i32 %19, i32 %20, i32 %lor.ext, i32 %conv39, %struct.t_commrec* %cr) #5
  %arraydecay41 = getelementptr inbounds [3 x [3 x float]]* %force_vir, i64 0, i64 0
  call void @llvm.memset.p0i8.i64(i8* %1, i8 0, i64 36, i32 16, i1 false) #1
  %arraydecay42 = getelementptr inbounds [3 x [3 x float]]* %shake_vir, i64 0, i64 0
  call void @llvm.memset.p0i8.i64(i8* %2, i8 0, i64 36, i32 16, i1 false) #1
  %ePBC = getelementptr inbounds %struct.t_forcerec* %fr, i64 0, i32 0
  %29 = load i32* %ePBC, align 4, !tbaa !0
  %cmp43 = icmp eq i32 %29, 1
  br i1 %cmp43, label %if.end46, label %if.then45

if.then45:                                        ; preds = %lor.end
  call void @do_pbc_first(%struct._IO_FILE* %log, %struct.t_parm* %parm, float* %box_size, %struct.t_forcerec* %fr, %struct.t_graph* %graph, [3 x float]* %x) #5
  br label %if.end46

if.end46:                                         ; preds = %lor.end, %if.then45
  %nsteps = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 1
  %30 = load i32* %nsteps, align 4, !tbaa !0
  %31 = load i32* %nodeid, align 4, !tbaa !0
  %cmp49 = icmp eq i32 %31, 0
  br i1 %cmp49, label %land.lhs.true51, label %if.end57

land.lhs.true51:                                  ; preds = %if.end46
  %threadid52 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 4
  %32 = load i32* %threadid52, align 4, !tbaa !0
  %cmp53 = icmp eq i32 %32, 0
  br i1 %cmp53, label %if.then55, label %if.end57

if.then55:                                        ; preds = %land.lhs.true51
  %33 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %em_tol = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 60
  %34 = load float* %em_tol, align 4, !tbaa !3
  call fastcc void @sp_header(%struct._IO_FILE* %33, i8* getelementptr inbounds ([20 x i8]* @.str, i64 0, i64 0), float %34, i32 %30) #4
  br label %if.end57

if.end57:                                         ; preds = %if.then55, %land.lhs.true51, %if.end46
  %em_tol59 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 60
  %35 = load float* %em_tol59, align 4, !tbaa !3
  call fastcc void @sp_header(%struct._IO_FILE* %log, i8* getelementptr inbounds ([20 x i8]* @.str, i64 0, i64 0), float %35, i32 %30) #4
  %tobool = icmp ne i32 %bDummies, 0
  br i1 %tobool, label %if.then60, label %if.end65

if.then60:                                        ; preds = %if.end57
  %36 = load i32* %nodeid, align 4, !tbaa !0
  %idxprom = sext i32 %36 to i64
  %arrayidx62 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom
  %arraydecay64 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 1, i64 0
  call void @construct_dummies(%struct._IO_FILE* %log, [3 x float]* %x, %struct.t_nrnb* %arrayidx62, float 1.000000e+00, [3 x float]* null, %struct.t_idef* %idef, %struct.t_graph* %graph, %struct.t_commrec* %cr, [3 x float]* %arraydecay64, %struct.t_comm_dummies* %dummycomm) #5
  br label %if.end65

if.end65:                                         ; preds = %if.then60, %if.end57
  %arraydecay67 = getelementptr inbounds [3 x [3 x float]]* %pme_vir, i64 0, i64 0
  %37 = load i32* %nodeid, align 4, !tbaa !0
  %idxprom69 = sext i32 %37 to i64
  %arrayidx70 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom69
  %tobool71 = icmp ne i32 %bVerbose, 0
  br i1 %tobool71, label %land.rhs, label %land.end

land.rhs:                                         ; preds = %if.end65
  %nnodes = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 1
  %38 = load i32* %nnodes, align 4, !tbaa !0
  %cmp72 = icmp sgt i32 %38, 1
  br i1 %cmp72, label %land.end, label %lor.rhs74

lor.rhs74:                                        ; preds = %land.rhs
  %nthreads = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 5
  %39 = load i32* %nthreads, align 4, !tbaa !0
  %phitmp1006 = icmp slt i32 %39, 2
  br label %land.end

land.end:                                         ; preds = %land.rhs, %lor.rhs74, %if.end65
  %40 = phi i1 [ false, %if.end65 ], [ false, %land.rhs ], [ %phitmp1006, %lor.rhs74 ]
  %land.ext = zext i1 %40 to i32
  %41 = load float* %lambda, align 4, !tbaa !3
  call void @do_force(%struct._IO_FILE* %log, %struct.t_commrec* %cr, %struct.t_commrec* %mcr, %struct.t_parm* %parm, %struct.t_nsborder* %nsb, [3 x float]* %arraydecay41, [3 x float]* %arraydecay67, i32 0, %struct.t_nrnb* %arrayidx70, %struct.t_topology* %top, %struct.t_groups* %grps, [3 x float]* %x, [3 x float]* %buf, [3 x float]* %9, [3 x float]* %buf, %struct.t_mdatoms* %mdatoms, float* %ener, %struct.t_fcdata* %fcd, i32 %land.ext, float %41, %struct.t_graph* %graph, i32 1, i32 0, %struct.t_forcerec* %fr, float* %arraydecay, i32 0) #5
  call void @_where(i8* getelementptr inbounds ([56 x i8]* @.str3, i64 0, i64 0), i32 265) #5
  br i1 %tobool, label %if.then81, label %if.end86

if.then81:                                        ; preds = %land.end
  %42 = load i32* %nodeid, align 4, !tbaa !0
  %idxprom83 = sext i32 %42 to i64
  %arrayidx84 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom83
  call void @spread_dummy_f(%struct._IO_FILE* %log, [3 x float]* %x, [3 x float]* %9, %struct.t_nrnb* %arrayidx84, %struct.t_idef* %idef, %struct.t_comm_dummies* %dummycomm, %struct.t_commrec* %cr) #5
  br label %if.end86

if.end86:                                         ; preds = %if.then81, %land.end
  %opts = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 80
  call void @sum_epot(%struct.t_grpopts* %opts, %struct.t_groups* %grps, float* %ener) #5
  call void @_where(i8* getelementptr inbounds ([56 x i8]* @.str3, i64 0, i64 0), i32 273) #5
  call void @llvm.memset.p0i8.i64(i8* %1, i8 0, i64 36, i32 16, i1 false) #1
  call void @_where(i8* getelementptr inbounds ([56 x i8]* @.str3, i64 0, i64 0), i32 277) #5
  %nnodes89 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 1
  %43 = load i32* %nnodes89, align 4, !tbaa !0
  %cmp90 = icmp sgt i32 %43, 1
  br i1 %cmp90, label %if.then96, label %lor.lhs.false92

lor.lhs.false92:                                  ; preds = %if.end86
  %nthreads93 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 5
  %44 = load i32* %nthreads93, align 4, !tbaa !0
  %cmp94 = icmp sgt i32 %44, 1
  br i1 %cmp94, label %if.then96, label %if.end101

if.then96:                                        ; preds = %lor.lhs.false92, %if.end86
  %45 = load %struct.t_vcm** %vcm, align 8, !tbaa !4
  call void @global_stat(%struct._IO_FILE* %log, %struct.t_commrec* %cr, float* %ener, [3 x float]* %arraydecay41, [3 x float]* %arraydecay42, %struct.t_grpopts* %opts, %struct.t_groups* %grps, %struct.t_nrnb* %mynrnb, %struct.t_nrnb* %nrnb, %struct.t_vcm* %45, float* %terminate) #5
  br label %if.end101

if.end101:                                        ; preds = %if.then96, %lor.lhs.false92
  call void @_where(i8* getelementptr inbounds ([56 x i8]* @.str3, i64 0, i64 0), i32 283) #5
  %46 = load i32* %nodeid, align 4, !tbaa !0
  %cmp103 = icmp eq i32 %46, 0
  br i1 %cmp103, label %land.lhs.true105, label %if.end125

land.lhs.true105:                                 ; preds = %if.end101
  %threadid106 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 4
  %47 = load i32* %threadid106, align 4, !tbaa !0
  %cmp107 = icmp eq i32 %47, 0
  br i1 %cmp107, label %if.then109, label %if.end125

if.then109:                                       ; preds = %land.lhs.true105
  %tmass = getelementptr inbounds %struct.t_mdatoms* %mdatoms, i64 0, i32 0
  %48 = load float* %tmass, align 4, !tbaa !3
  %arraydecay112 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 1, i64 0
  %arraydecay115 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 3, i64 0
  %arraydecay116 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 4, i64 0
  %49 = load i32* %etc, align 4, !tbaa !0
  %cmp120 = icmp eq i32 %49, 2
  %conv121 = zext i1 %cmp120 to i32
  call void @upd_mdebin(%struct.t_mdebin* %call40, %struct._IO_FILE* null, float %48, i32 0, float 0.000000e+00, float* %ener, [3 x float]* %arraydecay112, [3 x float]* %arraydecay42, [3 x float]* %arraydecay41, [3 x float]* %arraydecay115, [3 x float]* %arraydecay116, %struct.t_groups* %grps, float* %arraydecay, i32 %conv121) #5
  call void @print_ebin_header(%struct._IO_FILE* %log, i32 0, float 0.000000e+00, float %41, float 0.000000e+00) #5
  call void @print_ebin(i32 %fp_ene.0, i32 1, i32 0, i32 0, %struct._IO_FILE* %log, i32 0, float 0.000000e+00, i32 0, i32 1, %struct.t_mdebin* %call40, %struct.t_fcdata* %fcd, %struct.t_atoms* %atoms) #5
  br label %if.end125

if.end125:                                        ; preds = %if.then109, %land.lhs.true105, %if.end101
  call void @_where(i8* getelementptr inbounds ([56 x i8]* @.str3, i64 0, i64 0), i32 296) #5
  %arrayidx126 = getelementptr inbounds float* %ener, i64 37
  %50 = load float* %arrayidx126, align 4, !tbaa !3
  %51 = load i32* %start, align 4, !tbaa !0
  %52 = load i32* %end, align 4, !tbaa !0
  %call129 = call fastcc float @f_norm(%struct.t_commrec* %cr, %struct.t_grpopts* %opts, %struct.t_mdatoms* %mdatoms, i32 %51, i32 %52, [3 x float]* %9) #4
  %53 = load i32* %nodeid, align 4, !tbaa !0
  %cmp131 = icmp eq i32 %53, 0
  %threadid134 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 4
  br i1 %cmp131, label %land.lhs.true133, label %for.cond.preheader

land.lhs.true133:                                 ; preds = %if.end125
  %54 = load i32* %threadid134, align 4, !tbaa !0
  %cmp135 = icmp eq i32 %54, 0
  br i1 %cmp135, label %if.then137, label %for.cond.preheader

if.then137:                                       ; preds = %land.lhs.true133
  %55 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %conv138 = fpext float %call129 to double
  %call139 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %55, i8* getelementptr inbounds ([31 x i8]* @.str7, i64 0, i64 0), double %conv138) #5
  %56 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %fputc = call i32 @fputc(i32 10, %struct._IO_FILE* %56)
  br label %for.cond.preheader

for.cond.preheader:                               ; preds = %if.end125, %land.lhs.true133, %if.then137
  %not.cmp144 = icmp slt i32 %30, 1
  %cmp1551008 = icmp slt i32 %51, %52
  %em_stepsize = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 59
  %nstlist = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 3
  %arraydecay251 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 1, i64 0
  %nthreads264 = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 5
  %57 = load %struct.t_vcm** %vcm, align 8, !tbaa !4
  %tobool484 = icmp eq i32 %4, 0
  %left = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 2
  %right = getelementptr inbounds %struct.t_commrec* %cr, i64 0, i32 3
  %nnodes507 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 1
  %tmass524 = getelementptr inbounds %struct.t_mdatoms* %mdatoms, i64 0, i32 0
  %arraydecay531 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 3, i64 0
  %arraydecay533 = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 4, i64 0
  %cFREEZE = getelementptr inbounds %struct.t_mdatoms* %mdatoms, i64 0, i32 17
  %nFreeze = getelementptr inbounds %struct.t_parm* %parm, i64 0, i32 0, i32 80, i32 8
  %58 = sext i32 %51 to i64
  br label %lor.rhs143

lor.rhs143:                                       ; preds = %if.end542, %for.cond.preheader
  %count.01056 = phi i32 [ 1, %for.cond.preheader ], [ %inc548, %if.end542 ]
  %EpotA.01055 = phi float [ %50, %for.cond.preheader ], [ %116, %if.end542 ]
  %bDone.01054 = phi i32 [ 0, %for.cond.preheader ], [ %conv546, %if.end542 ]
  %beta.01053 = phi float [ 0.000000e+00, %for.cond.preheader ], [ %beta.1, %if.end542 ]
  %fnorm_old.01052 = phi float [ %call129, %for.cond.preheader ], [ %call467, %if.end542 ]
  %phitmp = icmp ne i32 %count.01056, %30
  %phitmp. = or i1 %phitmp, %not.cmp144
  br i1 %phitmp., label %for.body, label %for.end549

for.body:                                         ; preds = %lor.rhs143
  store double 0.000000e+00, double* %gpa, align 8, !tbaa !5
  br i1 %cmp1551008, label %for.body157.lr.ph, label %for.end198

for.body157.lr.ph:                                ; preds = %for.body
  %59 = load i16** %cFREEZE, align 8, !tbaa !4
  %60 = load [3 x i32]** %nFreeze, align 8, !tbaa !4
  br label %for.body157

for.body157:                                      ; preds = %for.body157.lr.ph, %for.inc196
  %61 = phi double [ 0.000000e+00, %for.body157.lr.ph ], [ %68, %for.inc196 ]
  %indvars.iv1057 = phi i64 [ %58, %for.body157.lr.ph ], [ %indvars.iv.next1058, %for.inc196 ]
  %arrayidx159 = getelementptr inbounds i16* %59, i64 %indvars.iv1057
  %62 = load i16* %arrayidx159, align 2, !tbaa !6
  %idxprom166 = zext i16 %62 to i64
  br label %for.body164

for.body164:                                      ; preds = %for.inc, %for.body157
  %63 = phi double [ %61, %for.body157 ], [ %68, %for.inc ]
  %indvars.iv = phi i64 [ 0, %for.body157 ], [ %indvars.iv.next, %for.inc ]
  %arrayidx170 = getelementptr inbounds [3 x i32]* %60, i64 %idxprom166, i64 %indvars.iv
  %64 = load i32* %arrayidx170, align 4, !tbaa !0
  %tobool171 = icmp eq i32 %64, 0
  br i1 %tobool171, label %if.then172, label %for.inc

if.then172:                                       ; preds = %for.body164
  %arrayidx176 = getelementptr inbounds [3 x float]* %9, i64 %indvars.iv1057, i64 %indvars.iv
  %65 = load float* %arrayidx176, align 4, !tbaa !3
  %arrayidx180 = getelementptr inbounds [3 x float]* %7, i64 %indvars.iv1057, i64 %indvars.iv
  %66 = load float* %arrayidx180, align 4, !tbaa !3
  %mul = fmul float %beta.01053, %66
  %add = fadd float %65, %mul
  store float %add, float* %arrayidx180, align 4, !tbaa !3
  %67 = load float* %arrayidx176, align 4, !tbaa !3
  %mul193 = fmul float %add, %67
  %conv194 = fpext float %mul193 to double
  %sub = fsub double %63, %conv194
  store double %sub, double* %gpa, align 8, !tbaa !5
  br label %for.inc

for.inc:                                          ; preds = %for.body164, %if.then172
  %68 = phi double [ %63, %for.body164 ], [ %sub, %if.then172 ]
  %indvars.iv.next = add i64 %indvars.iv, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32
  %exitcond = icmp eq i32 %lftr.wideiv, 3
  br i1 %exitcond, label %for.inc196, label %for.body164

for.inc196:                                       ; preds = %for.inc
  %indvars.iv.next1058 = add i64 %indvars.iv1057, 1
  %69 = trunc i64 %indvars.iv.next1058 to i32
  %cmp155 = icmp slt i32 %69, %52
  br i1 %cmp155, label %for.body157, label %for.end198

for.end198:                                       ; preds = %for.inc196, %for.body
  %70 = load i32* %nnodes89, align 4, !tbaa !0
  %cmp200 = icmp sgt i32 %70, 1
  br i1 %cmp200, label %if.then206, label %lor.lhs.false202

lor.lhs.false202:                                 ; preds = %for.end198
  %71 = load i32* %nthreads264, align 4, !tbaa !0
  %cmp204 = icmp sgt i32 %71, 1
  br i1 %cmp204, label %if.then206, label %while.body.lr.ph

if.then206:                                       ; preds = %lor.lhs.false202, %for.end198
  call void @gmx_sumd(i32 1, double* %gpa, %struct.t_commrec* %cr) #5
  br label %while.body.lr.ph

while.body.lr.ph:                                 ; preds = %lor.lhs.false202, %if.then206
  %call210 = call fastcc float @f_norm(%struct.t_commrec* %cr, %struct.t_grpopts* %opts, %struct.t_mdatoms* %mdatoms, i32 %51, i32 %52, [3 x float]* %7) #4
  %72 = load float* %em_stepsize, align 4, !tbaa !3
  %div = fdiv float %72, %call210
  br label %while.body

while.body:                                       ; preds = %if.else344, %while.body.lr.ph
  %EpotA.11026 = phi float [ %EpotA.01055, %while.body.lr.ph ], [ %91, %if.else344 ]
  %a.01025 = phi float [ 0.000000e+00, %while.body.lr.ph ], [ %b.01024, %if.else344 ]
  %b.01024 = phi float [ %div, %while.body.lr.ph ], [ %add345, %if.else344 ]
  br i1 %cmp1551008, label %for.cond217.preheader, label %for.end240

for.cond217.preheader:                            ; preds = %while.body, %for.inc238
  %indvars.iv1063 = phi i64 [ %indvars.iv.next1064, %for.inc238 ], [ %58, %while.body ]
  br label %for.body220

for.body220:                                      ; preds = %for.body220, %for.cond217.preheader
  %indvars.iv1059 = phi i64 [ 0, %for.cond217.preheader ], [ %indvars.iv.next1060, %for.body220 ]
  %arrayidx224 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv1063, i64 %indvars.iv1059
  %73 = load float* %arrayidx224, align 4, !tbaa !3
  %arrayidx228 = getelementptr inbounds [3 x float]* %7, i64 %indvars.iv1063, i64 %indvars.iv1059
  %74 = load float* %arrayidx228, align 4, !tbaa !3
  %mul229 = fmul float %b.01024, %74
  %add230 = fadd float %73, %mul229
  %arrayidx234 = getelementptr inbounds [3 x float]* %11, i64 %indvars.iv1063, i64 %indvars.iv1059
  store float %add230, float* %arrayidx234, align 4, !tbaa !3
  %indvars.iv.next1060 = add i64 %indvars.iv1059, 1
  %lftr.wideiv1061 = trunc i64 %indvars.iv.next1060 to i32
  %exitcond1062 = icmp eq i32 %lftr.wideiv1061, 3
  br i1 %exitcond1062, label %for.inc238, label %for.body220

for.inc238:                                       ; preds = %for.body220
  %indvars.iv.next1064 = add i64 %indvars.iv1063, 1
  %75 = trunc i64 %indvars.iv.next1064 to i32
  %cmp214 = icmp slt i32 %75, %52
  br i1 %cmp214, label %for.cond217.preheader, label %for.end240

for.end240:                                       ; preds = %for.inc238, %while.body
  %76 = load i32* %nstlist, align 4, !tbaa !0
  %cmp242 = icmp sgt i32 %76, 0
  %conv243 = zext i1 %cmp242 to i32
  br i1 %tobool, label %if.then245, label %if.end252

if.then245:                                       ; preds = %for.end240
  %77 = load i32* %nodeid, align 4, !tbaa !0
  %idxprom247 = sext i32 %77 to i64
  %arrayidx248 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom247
  call void @construct_dummies(%struct._IO_FILE* %log, [3 x float]* %11, %struct.t_nrnb* %arrayidx248, float 1.000000e+00, [3 x float]* null, %struct.t_idef* %idef, %struct.t_graph* %graph, %struct.t_commrec* %cr, [3 x float]* %arraydecay251, %struct.t_comm_dummies* %dummycomm) #5
  br label %if.end252

if.end252:                                        ; preds = %if.then245, %for.end240
  %78 = load i32* %nodeid, align 4, !tbaa !0
  %idxprom256 = sext i32 %78 to i64
  %arrayidx257 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom256
  br i1 %tobool71, label %land.rhs259, label %land.end270

land.rhs259:                                      ; preds = %if.end252
  %79 = load i32* %nnodes89, align 4, !tbaa !0
  %cmp261 = icmp sgt i32 %79, 1
  br i1 %cmp261, label %land.end270, label %lor.rhs263

lor.rhs263:                                       ; preds = %land.rhs259
  %80 = load i32* %nthreads264, align 4, !tbaa !0
  %phitmp1005 = icmp slt i32 %80, 2
  br label %land.end270

land.end270:                                      ; preds = %land.rhs259, %lor.rhs263, %if.end252
  %81 = phi i1 [ false, %if.end252 ], [ false, %land.rhs259 ], [ %phitmp1005, %lor.rhs263 ]
  %land.ext271 = zext i1 %81 to i32
  call void @do_force(%struct._IO_FILE* %log, %struct.t_commrec* %cr, %struct.t_commrec* %mcr, %struct.t_parm* %parm, %struct.t_nsborder* %nsb, [3 x float]* %arraydecay41, [3 x float]* %arraydecay67, i32 %count.01056, %struct.t_nrnb* %arrayidx257, %struct.t_topology* %top, %struct.t_groups* %grps, [3 x float]* %11, [3 x float]* %buf, [3 x float]* %9, [3 x float]* %buf, %struct.t_mdatoms* %mdatoms, float* %ener, %struct.t_fcdata* %fcd, i32 %land.ext271, float %41, %struct.t_graph* %graph, i32 %conv243, i32 0, %struct.t_forcerec* %fr, float* %arraydecay, i32 0) #5
  br i1 %tobool, label %if.then274, label %if.end279

if.then274:                                       ; preds = %land.end270
  %82 = load i32* %nodeid, align 4, !tbaa !0
  %idxprom276 = sext i32 %82 to i64
  %arrayidx277 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom276
  call void @spread_dummy_f(%struct._IO_FILE* %log, [3 x float]* %11, [3 x float]* %9, %struct.t_nrnb* %arrayidx277, %struct.t_idef* %idef, %struct.t_comm_dummies* %dummycomm, %struct.t_commrec* %cr) #5
  br label %if.end279

if.end279:                                        ; preds = %if.then274, %land.end270
  call void @sum_epot(%struct.t_grpopts* %opts, %struct.t_groups* %grps, float* %ener) #5
  call void @_where(i8* getelementptr inbounds ([56 x i8]* @.str3, i64 0, i64 0), i32 371) #5
  %83 = load i32* %nstlist, align 4, !tbaa !0
  %cmp284 = icmp sgt i32 %83, 0
  %conv285 = zext i1 %cmp284 to i32
  store double 0.000000e+00, double* %gpb, align 8, !tbaa !5
  br i1 %cmp1551008, label %for.cond290.preheader, label %for.end310

for.cond290.preheader:                            ; preds = %if.end279, %for.inc308
  %indvars.iv1069 = phi i64 [ %indvars.iv.next1070, %for.inc308 ], [ %58, %if.end279 ]
  %sub304.lcssa1018 = phi double [ %sub304, %for.inc308 ], [ 0.000000e+00, %if.end279 ]
  br label %for.body293

for.body293:                                      ; preds = %for.body293, %for.cond290.preheader
  %indvars.iv1065 = phi i64 [ 0, %for.cond290.preheader ], [ %indvars.iv.next1066, %for.body293 ]
  %sub3041014 = phi double [ %sub304.lcssa1018, %for.cond290.preheader ], [ %sub304, %for.body293 ]
  %arrayidx297 = getelementptr inbounds [3 x float]* %7, i64 %indvars.iv1069, i64 %indvars.iv1065
  %84 = load float* %arrayidx297, align 4, !tbaa !3
  %arrayidx301 = getelementptr inbounds [3 x float]* %9, i64 %indvars.iv1069, i64 %indvars.iv1065
  %85 = load float* %arrayidx301, align 4, !tbaa !3
  %mul302 = fmul float %84, %85
  %conv303 = fpext float %mul302 to double
  %sub304 = fsub double %sub3041014, %conv303
  %indvars.iv.next1066 = add i64 %indvars.iv1065, 1
  %lftr.wideiv1067 = trunc i64 %indvars.iv.next1066 to i32
  %exitcond1068 = icmp eq i32 %lftr.wideiv1067, 3
  br i1 %exitcond1068, label %for.inc308, label %for.body293

for.inc308:                                       ; preds = %for.body293
  %indvars.iv.next1070 = add i64 %indvars.iv1069, 1
  %86 = trunc i64 %indvars.iv.next1070 to i32
  %cmp287 = icmp slt i32 %86, %52
  br i1 %cmp287, label %for.cond290.preheader, label %for.cond286.for.end310_crit_edge

for.cond286.for.end310_crit_edge:                 ; preds = %for.inc308
  store double %sub304, double* %gpb, align 8, !tbaa !5
  br label %for.end310

for.end310:                                       ; preds = %for.cond286.for.end310_crit_edge, %if.end279
  %87 = load i32* %nnodes89, align 4, !tbaa !0
  %cmp312 = icmp sgt i32 %87, 1
  br i1 %cmp312, label %if.then318, label %lor.lhs.false314

lor.lhs.false314:                                 ; preds = %for.end310
  %88 = load i32* %nthreads264, align 4, !tbaa !0
  %cmp316 = icmp sgt i32 %88, 1
  br i1 %cmp316, label %if.then318, label %if.end319

if.then318:                                       ; preds = %lor.lhs.false314, %for.end310
  call void @gmx_sumd(i32 1, double* %gpb, %struct.t_commrec* %cr) #5
  br label %if.end319

if.end319:                                        ; preds = %if.then318, %lor.lhs.false314
  call void @sum_epot(%struct.t_grpopts* %opts, %struct.t_groups* %grps, float* %ener) #5
  call void @llvm.memset.p0i8.i64(i8* %1, i8 0, i64 36, i32 16, i1 false) #1
  call void @llvm.memset.p0i8.i64(i8* %2, i8 0, i64 36, i32 16, i1 false) #1
  %89 = load i32* %nnodes89, align 4, !tbaa !0
  %cmp325 = icmp sgt i32 %89, 1
  br i1 %cmp325, label %if.then331, label %lor.lhs.false327

lor.lhs.false327:                                 ; preds = %if.end319
  %90 = load i32* %nthreads264, align 4, !tbaa !0
  %cmp329 = icmp sgt i32 %90, 1
  br i1 %cmp329, label %if.then331, label %if.end336

if.then331:                                       ; preds = %lor.lhs.false327, %if.end319
  call void @global_stat(%struct._IO_FILE* %log, %struct.t_commrec* %cr, float* %ener, [3 x float]* %arraydecay41, [3 x float]* %arraydecay42, %struct.t_grpopts* %opts, %struct.t_groups* %grps, %struct.t_nrnb* %mynrnb, %struct.t_nrnb* %nrnb, %struct.t_vcm* %57, float* %terminate) #5
  br label %if.end336

if.end336:                                        ; preds = %if.then331, %lor.lhs.false327
  %91 = load float* %arrayidx126, align 4, !tbaa !3
  %92 = load double* %gpb, align 8, !tbaa !5
  %cmp338 = fcmp ult double %92, 0.000000e+00
  %cmp341 = fcmp ult float %91, %EpotA.11026
  %or.cond = and i1 %cmp338, %cmp341
  br i1 %or.cond, label %if.else344, label %while.end

if.else344:                                       ; preds = %if.end336
  store double %92, double* %gpa, align 8, !tbaa !5
  %add345 = fadd float %b.01024, %b.01024
  br label %while.body

while.end:                                        ; preds = %if.end336
  %.pre = load double* %gpa, align 8, !tbaa !5
  %sub348 = fsub float %EpotA.11026, %91
  %conv349 = fpext float %sub348 to double
  %mul350 = fmul double %conv349, 3.000000e+00
  %sub351 = fsub float %b.01024, %a.01025
  %conv352 = fpext float %sub351 to double
  %div353 = fdiv double %mul350, %conv352
  %add354 = fadd double %div353, %.pre
  %add355 = fadd double %add354, %92
  %conv356 = fptrunc double %add355 to float
  %mul357 = fmul float %conv356, %conv356
  %conv358 = fpext float %mul357 to double
  %mul359 = fmul double %.pre, %92
  %sub360 = fsub double %conv358, %mul359
  %conv361 = fptrunc double %sub360 to float
  %conv362 = fpext float %conv361 to double
  %cmp363 = fcmp olt float %conv361, 0.000000e+00
  br i1 %cmp363, label %if.then365, label %if.end380

if.then365:                                       ; preds = %while.end
  %93 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %call367 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %93, i8* getelementptr inbounds ([21 x i8]* @.str9, i64 0, i64 0), double %conv362) #5
  %94 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %conv368 = fpext float %conv356 to double
  %call369 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %94, i8* getelementptr inbounds ([12 x i8]* @.str10, i64 0, i64 0), double %conv368) #5
  %95 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %96 = load double* %gpa, align 8, !tbaa !5
  %97 = load double* %gpb, align 8, !tbaa !5
  %call370 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %95, i8* getelementptr inbounds ([28 x i8]* @.str11, i64 0, i64 0), double %96, double %97) #5
  %98 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %conv371 = fpext float %a.01025 to double
  %conv372 = fpext float %b.01024 to double
  %call373 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %98, i8* getelementptr inbounds ([24 x i8]* @.str12, i64 0, i64 0), double %conv371, double %conv372) #5
  %99 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %conv374 = fpext float %EpotA.11026 to double
  %conv375 = fpext float %91 to double
  %call376 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %99, i8* getelementptr inbounds ([32 x i8]* @.str13, i64 0, i64 0), double %conv374, double %conv375) #5
  %100 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %call378 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %100, i8* getelementptr inbounds ([43 x i8]* @.str14, i64 0, i64 0), double %conv362) #5
  %101 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %102 = call i64 @fwrite(i8* getelementptr inbounds ([26 x i8]* @.str15, i64 0, i64 0), i64 25, i64 1, %struct._IO_FILE* %101)
  br label %for.end549

if.end380:                                        ; preds = %while.end
  %conv383 = call float @sqrtf(float %conv361) #3
  %conv384 = fpext float %b.01024 to double
  %103 = load double* %gpb, align 8, !tbaa !5
  %conv385 = fpext float %conv383 to double
  %add386 = fadd double %103, %conv385
  %conv387 = fpext float %conv356 to double
  %sub388 = fsub double %add386, %conv387
  %mul391 = fmul double %conv352, %sub388
  %104 = load double* %gpa, align 8, !tbaa !5
  %sub392 = fsub double %103, %104
  %mul394 = fmul double %conv385, 2.000000e+00
  %add395 = fadd double %mul394, %sub392
  %div396 = fdiv double %mul391, %add395
  %sub397 = fsub double %conv384, %div396
  %conv398 = fptrunc double %sub397 to float
  br i1 %cmp1551008, label %for.cond403.preheader, label %for.end426

for.cond403.preheader:                            ; preds = %if.end380, %for.inc424
  %indvars.iv1081 = phi i64 [ %indvars.iv.next1082, %for.inc424 ], [ %58, %if.end380 ]
  br label %for.body406

for.body406:                                      ; preds = %for.body406, %for.cond403.preheader
  %indvars.iv1077 = phi i64 [ 0, %for.cond403.preheader ], [ %indvars.iv.next1078, %for.body406 ]
  %arrayidx410 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv1081, i64 %indvars.iv1077
  %105 = load float* %arrayidx410, align 4, !tbaa !3
  %arrayidx414 = getelementptr inbounds [3 x float]* %7, i64 %indvars.iv1081, i64 %indvars.iv1077
  %106 = load float* %arrayidx414, align 4, !tbaa !3
  %mul415 = fmul float %conv398, %106
  %add416 = fadd float %105, %mul415
  %arrayidx420 = getelementptr inbounds [3 x float]* %11, i64 %indvars.iv1081, i64 %indvars.iv1077
  store float %add416, float* %arrayidx420, align 4, !tbaa !3
  %indvars.iv.next1078 = add i64 %indvars.iv1077, 1
  %lftr.wideiv1079 = trunc i64 %indvars.iv.next1078 to i32
  %exitcond1080 = icmp eq i32 %lftr.wideiv1079, 3
  br i1 %exitcond1080, label %for.inc424, label %for.body406

for.inc424:                                       ; preds = %for.body406
  %indvars.iv.next1082 = add i64 %indvars.iv1081, 1
  %107 = trunc i64 %indvars.iv.next1082 to i32
  %cmp400 = icmp slt i32 %107, %52
  br i1 %cmp400, label %for.cond403.preheader, label %for.end426

for.end426:                                       ; preds = %for.inc424, %if.end380
  br i1 %tobool, label %if.then428, label %if.end435

if.then428:                                       ; preds = %for.end426
  %108 = load i32* %nodeid, align 4, !tbaa !0
  %idxprom430 = sext i32 %108 to i64
  %arrayidx431 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom430
  call void @construct_dummies(%struct._IO_FILE* %log, [3 x float]* %11, %struct.t_nrnb* %arrayidx431, float 1.000000e+00, [3 x float]* null, %struct.t_idef* %idef, %struct.t_graph* %graph, %struct.t_commrec* %cr, [3 x float]* %arraydecay251, %struct.t_comm_dummies* %dummycomm) #5
  br label %if.end435

if.end435:                                        ; preds = %if.then428, %for.end426
  %109 = load i32* %nodeid, align 4, !tbaa !0
  %idxprom439 = sext i32 %109 to i64
  %arrayidx440 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom439
  br i1 %tobool71, label %land.rhs442, label %land.end453

land.rhs442:                                      ; preds = %if.end435
  %110 = load i32* %nnodes89, align 4, !tbaa !0
  %cmp444 = icmp sgt i32 %110, 1
  br i1 %cmp444, label %land.end453, label %lor.rhs446

lor.rhs446:                                       ; preds = %land.rhs442
  %111 = load i32* %nthreads264, align 4, !tbaa !0
  %phitmp1004 = icmp slt i32 %111, 2
  br label %land.end453

land.end453:                                      ; preds = %land.rhs442, %lor.rhs446, %if.end435
  %112 = phi i1 [ false, %if.end435 ], [ false, %land.rhs442 ], [ %phitmp1004, %lor.rhs446 ]
  %land.ext454 = zext i1 %112 to i32
  call void @do_force(%struct._IO_FILE* %log, %struct.t_commrec* %cr, %struct.t_commrec* %mcr, %struct.t_parm* %parm, %struct.t_nsborder* %nsb, [3 x float]* %arraydecay41, [3 x float]* %arraydecay67, i32 %count.01056, %struct.t_nrnb* %arrayidx440, %struct.t_topology* %top, %struct.t_groups* %grps, [3 x float]* %11, [3 x float]* %buf, [3 x float]* %9, [3 x float]* %buf, %struct.t_mdatoms* %mdatoms, float* %ener, %struct.t_fcdata* %fcd, i32 %land.ext454, float %41, %struct.t_graph* %graph, i32 %conv285, i32 0, %struct.t_forcerec* %fr, float* %arraydecay, i32 0) #5
  br i1 %tobool, label %if.then457, label %if.end462

if.then457:                                       ; preds = %land.end453
  %113 = load i32* %nodeid, align 4, !tbaa !0
  %idxprom459 = sext i32 %113 to i64
  %arrayidx460 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 %idxprom459
  call void @spread_dummy_f(%struct._IO_FILE* %log, [3 x float]* %11, [3 x float]* %9, %struct.t_nrnb* %arrayidx460, %struct.t_idef* %idef, %struct.t_comm_dummies* %dummycomm, %struct.t_commrec* %cr) #5
  br label %if.end462

if.end462:                                        ; preds = %if.then457, %land.end453
  call void @sum_epot(%struct.t_grpopts* %opts, %struct.t_groups* %grps, float* %ener) #5
  %call467 = call fastcc float @f_norm(%struct.t_commrec* %cr, %struct.t_grpopts* %opts, %struct.t_mdatoms* %mdatoms, i32 %51, i32 %52, [3 x float]* %9) #4
  call void @llvm.memset.p0i8.i64(i8* %1, i8 0, i64 36, i32 16, i1 false) #1
  call void @llvm.memset.p0i8.i64(i8* %2, i8 0, i64 36, i32 16, i1 false) #1
  %114 = load i32* %nnodes89, align 4, !tbaa !0
  %cmp471 = icmp sgt i32 %114, 1
  br i1 %cmp471, label %if.then477, label %lor.lhs.false473

lor.lhs.false473:                                 ; preds = %if.end462
  %115 = load i32* %nthreads264, align 4, !tbaa !0
  %cmp475 = icmp sgt i32 %115, 1
  br i1 %cmp475, label %if.then477, label %if.end482

if.then477:                                       ; preds = %lor.lhs.false473, %if.end462
  call void @global_stat(%struct._IO_FILE* %log, %struct.t_commrec* %cr, float* %ener, [3 x float]* %arraydecay41, [3 x float]* %arraydecay42, %struct.t_grpopts* %opts, %struct.t_groups* %grps, %struct.t_nrnb* %mynrnb, %struct.t_nrnb* %nrnb, %struct.t_vcm* %57, float* %terminate) #5
  br label %if.end482

if.end482:                                        ; preds = %if.then477, %lor.lhs.false473
  %116 = load float* %arrayidx126, align 4, !tbaa !3
  br i1 %tobool484, label %if.else489, label %land.lhs.true485

land.lhs.true485:                                 ; preds = %if.end482
  %rem = srem i32 %count.01056, %4
  %cmp486 = icmp eq i32 %rem, 0
  br i1 %cmp486, label %if.end493, label %if.else489

if.else489:                                       ; preds = %if.end482, %land.lhs.true485
  %mul490 = fmul float %call467, %call467
  %mul491 = fmul float %fnorm_old.01052, %fnorm_old.01052
  %div492 = fdiv float %mul490, %mul491
  br label %if.end493

if.end493:                                        ; preds = %land.lhs.true485, %if.else489
  %beta.1 = phi float [ %div492, %if.else489 ], [ 0.000000e+00, %land.lhs.true485 ]
  br i1 %cmp1551008, label %for.body497, label %for.end506

for.body497:                                      ; preds = %if.end493, %for.body497
  %indvars.iv1083 = phi i64 [ %indvars.iv.next1084, %for.body497 ], [ %58, %if.end493 ]
  %arraydecay500 = getelementptr inbounds [3 x float]* %11, i64 %indvars.iv1083, i64 0
  %arraydecay503 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv1083, i64 0
  %117 = load float* %arraydecay500, align 4, !tbaa !3
  store float %117, float* %arraydecay503, align 4, !tbaa !3
  %arrayidx2.i = getelementptr inbounds [3 x float]* %11, i64 %indvars.iv1083, i64 1
  %118 = load float* %arrayidx2.i, align 4, !tbaa !3
  %arrayidx3.i = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv1083, i64 1
  store float %118, float* %arrayidx3.i, align 4, !tbaa !3
  %arrayidx4.i = getelementptr inbounds [3 x float]* %11, i64 %indvars.iv1083, i64 2
  %119 = load float* %arrayidx4.i, align 4, !tbaa !3
  %arrayidx5.i = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv1083, i64 2
  store float %119, float* %arrayidx5.i, align 4, !tbaa !3
  %indvars.iv.next1084 = add i64 %indvars.iv1083, 1
  %120 = trunc i64 %indvars.iv.next1084 to i32
  %cmp495 = icmp slt i32 %120, %52
  br i1 %cmp495, label %for.body497, label %for.end506

for.end506:                                       ; preds = %for.body497, %if.end493
  %121 = load i32* %left, align 4, !tbaa !0
  %122 = load i32* %right, align 4, !tbaa !0
  %123 = load i32* %nnodes507, align 4, !tbaa !0
  %call510 = call fastcc float @f_max(i32 %121, i32 %122, i32 %123, %struct.t_grpopts* %opts, %struct.t_mdatoms* %mdatoms, i32 %51, i32 %52, [3 x float]* %9, i32* %nfmax) #4
  br i1 %tobool71, label %land.lhs.true512, label %if.end542

land.lhs.true512:                                 ; preds = %for.end506
  %124 = load i32* %nodeid, align 4, !tbaa !0
  %cmp514 = icmp eq i32 %124, 0
  br i1 %cmp514, label %land.lhs.true516, label %if.end542

land.lhs.true516:                                 ; preds = %land.lhs.true512
  %125 = load i32* %threadid134, align 4, !tbaa !0
  %cmp518 = icmp eq i32 %125, 0
  br i1 %cmp518, label %if.then520, label %if.end542

if.then520:                                       ; preds = %land.lhs.true516
  %126 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %conv521 = fpext float %116 to double
  %conv522 = fpext float %call510 to double
  %127 = load i32* %nfmax, align 4, !tbaa !0
  %call523 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %126, i8* getelementptr inbounds ([53 x i8]* @.str16, i64 0, i64 0), i32 %count.01056, double %conv521, double %conv522, i32 %127) #5
  %128 = load float* %tmass524, align 4, !tbaa !3
  %conv525 = sitofp i32 %count.01056 to float
  %129 = load i32* %etc, align 4, !tbaa !0
  %cmp537 = icmp eq i32 %129, 2
  %conv538 = zext i1 %cmp537 to i32
  call void @upd_mdebin(%struct.t_mdebin* %call40, %struct._IO_FILE* null, float %128, i32 %count.01056, float %conv525, float* %ener, [3 x float]* %arraydecay251, [3 x float]* %arraydecay42, [3 x float]* %arraydecay41, [3 x float]* %arraydecay531, [3 x float]* %arraydecay533, %struct.t_groups* %grps, float* %arraydecay, i32 %conv538) #5
  call void @print_ebin_header(%struct._IO_FILE* %log, i32 %count.01056, float %conv525, float %41, float 0.000000e+00) #5
  call void @print_ebin(i32 %fp_ene.0, i32 1, i32 0, i32 0, %struct._IO_FILE* %log, i32 %count.01056, float %conv525, i32 0, i32 1, %struct.t_mdebin* %call40, %struct.t_fcdata* %fcd, %struct.t_atoms* %atoms) #5
  br label %if.end542

if.end542:                                        ; preds = %if.then520, %land.lhs.true516, %land.lhs.true512, %for.end506
  %130 = load float* %em_tol59, align 4, !tbaa !3
  %cmp545 = fcmp olt float %call510, %130
  %conv546 = zext i1 %cmp545 to i32
  %inc548 = add nsw i32 %count.01056, 1
  br i1 %cmp545, label %for.end549, label %lor.rhs143

for.end549:                                       ; preds = %lor.rhs143, %if.end542, %if.then365
  %count.01051 = phi i32 [ %count.01056, %if.then365 ], [ %30, %lor.rhs143 ], [ %inc548, %if.end542 ]
  %bDone.01048 = phi i32 [ %bDone.01054, %if.then365 ], [ %bDone.01054, %lor.rhs143 ], [ %conv546, %if.end542 ]
  %EpotA.3 = phi float [ %EpotA.11026, %if.then365 ], [ %EpotA.01055, %lor.rhs143 ], [ %116, %if.end542 ]
  %131 = load i32* %nodeid, align 4, !tbaa !0
  %cmp551 = icmp eq i32 %131, 0
  br i1 %cmp551, label %land.lhs.true553, label %if.end559

land.lhs.true553:                                 ; preds = %for.end549
  %132 = load i32* %threadid134, align 4, !tbaa !0
  %cmp555 = icmp eq i32 %132, 0
  br i1 %cmp555, label %if.then557, label %if.end559

if.then557:                                       ; preds = %land.lhs.true553
  %133 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %134 = call i64 @fwrite(i8* getelementptr inbounds ([37 x i8]* @.str17, i64 0, i64 0), i64 36, i64 1, %struct._IO_FILE* %133)
  br label %if.end559

if.end559:                                        ; preds = %if.then557, %land.lhs.true553, %for.end549
  %call560 = call i8* @ftp2fn(i32 3, i32 %nfile, %struct.t_filenm* %fnm) #5
  %conv561 = sitofp i32 %count.01051 to float
  %135 = load i32* %natoms, align 4, !tbaa !0
  %call565 = call i32 @write_traj(%struct._IO_FILE* %log, %struct.t_commrec* %cr, i8* %call560, %struct.t_nsborder* %nsb, i32 %count.01051, float %conv561, float %41, %struct.t_nrnb* %nrnb, i32 %135, [3 x float]* %x, [3 x float]* null, [3 x float]* %9, [3 x float]* %arraydecay251) #5
  %136 = load i32* %nodeid, align 4, !tbaa !0
  %cmp567 = icmp eq i32 %136, 0
  br i1 %cmp567, label %land.lhs.true569, label %if.end578

land.lhs.true569:                                 ; preds = %if.end559
  %137 = load i32* %threadid134, align 4, !tbaa !0
  %cmp571 = icmp eq i32 %137, 0
  br i1 %cmp571, label %if.then573, label %if.end578

if.then573:                                       ; preds = %land.lhs.true569
  %call574 = call i8* @ftp2fn(i32 12, i32 %nfile, %struct.t_filenm* %fnm) #5
  %name = getelementptr inbounds %struct.t_topology* %top, i64 0, i32 0
  %138 = load i8*** %name, align 8, !tbaa !4
  %139 = load i8** %138, align 8, !tbaa !4
  call void @write_sto_conf(i8* %call574, i8* %139, %struct.t_atoms* %atoms, [3 x float]* %x, [3 x float]* null, [3 x float]* %arraydecay251) #5
  br label %if.end578

if.end578:                                        ; preds = %if.then573, %land.lhs.true569, %if.end559
  %140 = load i32* %left, align 4, !tbaa !0
  %141 = load i32* %right, align 4, !tbaa !0
  %142 = load i32* %nnodes507, align 4, !tbaa !0
  %call584 = call fastcc float @f_max(i32 %140, i32 %141, i32 %142, %struct.t_grpopts* %opts, %struct.t_mdatoms* %mdatoms, i32 %51, i32 %52, [3 x float]* %9, i32* %nfmax) #4
  %143 = load i32* %nodeid, align 4, !tbaa !0
  %cmp586 = icmp eq i32 %143, 0
  br i1 %cmp586, label %land.lhs.true588, label %if.end597

land.lhs.true588:                                 ; preds = %if.end578
  %144 = load i32* %threadid134, align 4, !tbaa !0
  %cmp590 = icmp eq i32 %144, 0
  br i1 %cmp590, label %if.then592, label %if.end597

if.then592:                                       ; preds = %land.lhs.true588
  %145 = load %struct._IO_FILE** @stderr, align 8, !tbaa !4
  %146 = load float* %em_tol59, align 4, !tbaa !3
  call fastcc void @print_converged(%struct._IO_FILE* %145, i8* getelementptr inbounds ([20 x i8]* @.str, i64 0, i64 0), float %146, i32 %count.01051, i32 %bDone.01048, i32 %30, float %EpotA.3, float %call584) #4
  %147 = load float* %em_tol59, align 4, !tbaa !3
  call fastcc void @print_converged(%struct._IO_FILE* %log, i8* getelementptr inbounds ([20 x i8]* @.str, i64 0, i64 0), float %147, i32 %count.01051, i32 %bDone.01048, i32 %30, float %EpotA.3, float %call584) #4
  call void @close_enx(i32 %fp_ene.0) #5
  br label %if.end597

if.end597:                                        ; preds = %if.then592, %land.lhs.true588, %if.end578
  store i32 %count.01051, i32* %nsteps, align 4, !tbaa !0
  call void @llvm.lifetime.end(i64 36, i8* %3) #1
  call void @llvm.lifetime.end(i64 36, i8* %2) #1
  call void @llvm.lifetime.end(i64 36, i8* %1) #1
  call void @llvm.lifetime.end(i64 1032, i8* %0) #1
  ret i64 %call
}
