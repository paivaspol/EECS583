define void @init_grid(%struct._IO_FILE* %log, %struct.t_grid* nocapture %grid, i32 %delta, [3 x float]* nocapture %box, float %rlistlong, i32 %ncg) #0 {
entry:
  %cx = alloca [3 x i32], align 4
  %conv = sitofp i32 %delta to float
  br label %for.body

for.body:                                         ; preds = %for.body, %entry
  %indvars.iv = phi i64 [ 0, %entry ], [ %indvars.iv.next, %for.body ]
  %arrayidx2 = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv, i64 %indvars.iv
  %0 = load float* %arrayidx2, align 4, !tbaa !0
  %mul = fmul float %conv, %0
  %div = fdiv float %mul, %rlistlong
  %conv3 = fptosi float %div to i32
  %arrayidx5 = getelementptr inbounds [3 x i32]* %cx, i64 0, i64 %indvars.iv
  store i32 %conv3, i32* %arrayidx5, align 4, !tbaa !3
  %indvars.iv.next = add i64 %indvars.iv, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32
  %exitcond = icmp eq i32 %lftr.wideiv, 3
  br i1 %exitcond, label %for.end, label %for.body

for.end:                                          ; preds = %for.body
  %nr = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 0
  store i32 %ncg, i32* %nr, align 4, !tbaa !3
  %arrayidx6 = getelementptr inbounds [3 x i32]* %cx, i64 0, i64 0
  %1 = load i32* %arrayidx6, align 4, !tbaa !3
  %nrx = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 1
  store i32 %1, i32* %nrx, align 4, !tbaa !3
  %arrayidx7 = getelementptr inbounds [3 x i32]* %cx, i64 0, i64 1
  %2 = load i32* %arrayidx7, align 4, !tbaa !3
  %nry = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 2
  store i32 %2, i32* %nry, align 4, !tbaa !3
  %arrayidx8 = getelementptr inbounds [3 x i32]* %cx, i64 0, i64 2
  %3 = load i32* %arrayidx8, align 4, !tbaa !3
  %nrz = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 3
  store i32 %3, i32* %nrz, align 4, !tbaa !3
  %mul11 = mul nsw i32 %2, %1
  %mul13 = mul nsw i32 %mul11, %3
  %ncells = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 4
  store i32 %mul13, i32* %ncells, align 4, !tbaa !3
  %mul15 = shl nsw i32 %mul13, 1
  %maxcells = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 5
  store i32 %mul15, i32* %maxcells, align 4, !tbaa !3
  %delta16 = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 6
  store i32 %delta, i32* %delta16, align 4, !tbaa !3
  %gmax = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 7
  store i32 0, i32* %gmax, align 4, !tbaa !3
  %add = add nsw i32 %ncg, 1
  %call = call i8* @save_calloc(i8* getelementptr inbounds ([17 x i8]* @.str, i64 0, i64 0), i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 74, i32 %add, i32 4) #5
  %4 = bitcast i8* %call to i32*
  %cell_index = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 8
  store i32* %4, i32** %cell_index, align 8, !tbaa !4
  %5 = load i32* %nr, align 4, !tbaa !3
  %add19 = add nsw i32 %5, 1
  %call20 = call i8* @save_calloc(i8* getelementptr inbounds ([8 x i8]* @.str2, i64 0, i64 0), i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 75, i32 %add19, i32 4) #5
  %6 = bitcast i8* %call20 to i32*
  %a = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 11
  store i32* %6, i32** %a, align 8, !tbaa !4
  %7 = load i32* %maxcells, align 4, !tbaa !3
  %call22 = call i8* @save_calloc(i8* getelementptr inbounds ([12 x i8]* @.str3, i64 0, i64 0), i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 76, i32 %7, i32 4) #5
  %8 = bitcast i8* %call22 to i32*
  %index = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 9
  store i32* %8, i32** %index, align 8, !tbaa !4
  %9 = load i32* %maxcells, align 4, !tbaa !3
  %call24 = call i8* @save_calloc(i8* getelementptr inbounds ([10 x i8]* @.str4, i64 0, i64 0), i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 77, i32 %9, i32 4) #5
  %10 = bitcast i8* %call24 to i32*
  %nra = getelementptr inbounds %struct.t_grid* %grid, i64 0, i32 10
  store i32* %10, i32** %nra, align 8, !tbaa !4
  %tobool = icmp eq %struct._IO_FILE* %log, null
  br i1 %tobool, label %if.end, label %if.then

if.then:                                          ; preds = %for.end
  %11 = load i32* %nrx, align 4, !tbaa !3
  %12 = load i32* %nry, align 4, !tbaa !3
  %13 = load i32* %nrz, align 4, !tbaa !3
  %call28 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %log, i8* getelementptr inbounds ([26 x i8]* @.str5, i64 0, i64 0), i32 %11, i32 %12, i32 %13) #5
  br label %if.end

if.end:                                           ; preds = %for.end, %if.then
  %14 = load %struct._IO_FILE** @debug, align 8, !tbaa !4
  %tobool29 = icmp eq %struct._IO_FILE* %14, null
  br i1 %tobool29, label %if.end32, label %if.then30

if.then30:                                        ; preds = %if.end
  %15 = call i64 @fwrite(i8* getelementptr inbounds ([48 x i8]* @.str6, i64 0, i64 0), i64 47, i64 1, %struct._IO_FILE* %14)
  br label %if.end32

if.end32:                                         ; preds = %if.end, %if.then30
  ret void
}
