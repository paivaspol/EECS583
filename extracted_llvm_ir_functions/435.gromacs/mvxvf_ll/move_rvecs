define void @move_rvecs(%struct._IO_FILE* nocapture %log, i32 %bForward, i32 %bSum, i32 %left, i32 %right, [3 x float]* %vecs, [3 x float]* %buf, i32 %shift, %struct.t_nsborder* %nsb, %struct.t_nrnb* nocapture %nrnb) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %log}, i64 0, metadata !237), !dbg !316
  tail call void @llvm.dbg.value(metadata !{i32 %bForward}, i64 0, metadata !238), !dbg !316
  tail call void @llvm.dbg.value(metadata !{i32 %bSum}, i64 0, metadata !239), !dbg !316
  tail call void @llvm.dbg.value(metadata !{i32 %left}, i64 0, metadata !240), !dbg !317
  tail call void @llvm.dbg.value(metadata !{i32 %right}, i64 0, metadata !241), !dbg !317
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %vecs}, i64 0, metadata !242), !dbg !317
  tail call void @llvm.dbg.value(metadata !{[3 x float]* %buf}, i64 0, metadata !243), !dbg !317
  tail call void @llvm.dbg.value(metadata !{i32 %shift}, i64 0, metadata !244), !dbg !318
  tail call void @llvm.dbg.value(metadata !{%struct.t_nsborder* %nsb}, i64 0, metadata !245), !dbg !318
  tail call void @llvm.dbg.value(metadata !{%struct.t_nrnb* %nrnb}, i64 0, metadata !246), !dbg !318
  tail call void @llvm.dbg.value(metadata !319, i64 0, metadata !249), !dbg !320
  tail call void @llvm.dbg.value(metadata !321, i64 0, metadata !250), !dbg !320
  %tobool = icmp ne i32 %bSum, 0, !dbg !322
  %nodeid = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 0, !dbg !323
  %0 = load i32* %nodeid, align 4, !dbg !323, !tbaa !324
  br i1 %tobool, label %if.then, label %for.cond.preheader, !dbg !322

if.then:                                          ; preds = %entry
  %shift1 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 5, !dbg !323
  %1 = load i32* %shift1, align 4, !dbg !323, !tbaa !324
  %add = add nsw i32 %1, %0, !dbg !323
  %nnodes = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 1, !dbg !323
  %2 = load i32* %nnodes, align 4, !dbg !323, !tbaa !324
  %rem = srem i32 %add, %2, !dbg !323
  tail call void @llvm.dbg.value(metadata !{i32 %rem}, i64 0, metadata !251), !dbg !323
  br label %for.cond.preheader, !dbg !323

for.cond.preheader:                               ; preds = %entry, %if.then
  %cur.1.ph = phi i32 [ %rem, %if.then ], [ %0, %entry ]
  %cmp285 = icmp sgt i32 %shift, 0, !dbg !327
  br i1 %cmp285, label %for.body.lr.ph, label %if.end199, !dbg !327

for.body.lr.ph:                                   ; preds = %for.cond.preheader
  %tobool5 = icmp eq i32 %bForward, 0, !dbg !329
  %nnodes21 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 1, !dbg !332
  %tobool40 = icmp ne i32 %bForward, 0, !dbg !334
  br label %for.body, !dbg !327

for.body:                                         ; preds = %for.inc192, %for.body.lr.ph
  %nsum.0290 = phi i32 [ 0, %for.body.lr.ph ], [ %nsum.1, %for.inc192 ]
  %cur.1289 = phi i32 [ %cur.1.ph, %for.body.lr.ph ], [ %cur.2, %for.inc192 ]
  %j1.0288 = phi i32 [ 391, %for.body.lr.ph ], [ %j1.2, %for.inc192 ]
  %j0.0287 = phi i32 [ 137, %for.body.lr.ph ], [ %j0.2, %for.inc192 ]
  %i.0286 = phi i32 [ 0, %for.body.lr.ph ], [ %inc193, %for.inc192 ]
  br i1 %tobool, label %if.then4, label %if.end39, !dbg !335

if.then4:                                         ; preds = %for.body
  br i1 %tobool5, label %if.else19, label %if.then6, !dbg !329

if.then6:                                         ; preds = %if.then4
  %sub = add nsw i32 %cur.1289, -1, !dbg !336
  %3 = load i32* %nnodes21, align 4, !dbg !336, !tbaa !324
  %add8 = add nsw i32 %sub, %3, !dbg !336
  %rem10 = srem i32 %add8, %3, !dbg !336
  %idxprom = sext i32 %rem10 to i64, !dbg !336
  %arrayidx = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 8, i64 %idxprom, !dbg !336
  %4 = load i32* %arrayidx, align 4, !dbg !336, !tbaa !324
  tail call void @llvm.dbg.value(metadata !{i32 %4}, i64 0, metadata !249), !dbg !336
  %arrayidx17 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %idxprom, !dbg !338
  %5 = load i32* %arrayidx17, align 4, !dbg !338, !tbaa !324
  %add18 = add nsw i32 %5, %4, !dbg !338
  tail call void @llvm.dbg.value(metadata !{i32 %add18}, i64 0, metadata !250), !dbg !338
  br label %if.end33, !dbg !339

if.else19:                                        ; preds = %if.then4
  %add20 = add nsw i32 %cur.1289, 1, !dbg !332
  %6 = load i32* %nnodes21, align 4, !dbg !332, !tbaa !324
  %rem22 = srem i32 %add20, %6, !dbg !332
  %idxprom23 = sext i32 %rem22 to i64, !dbg !332
  %arrayidx25 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 8, i64 %idxprom23, !dbg !332
  %7 = load i32* %arrayidx25, align 4, !dbg !332, !tbaa !324
  tail call void @llvm.dbg.value(metadata !{i32 %7}, i64 0, metadata !249), !dbg !332
  %arrayidx31 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %idxprom23, !dbg !340
  %8 = load i32* %arrayidx31, align 4, !dbg !340, !tbaa !324
  %add32 = add nsw i32 %8, %7, !dbg !340
  tail call void @llvm.dbg.value(metadata !{i32 %add32}, i64 0, metadata !250), !dbg !340
  br label %if.end33

if.end33:                                         ; preds = %if.else19, %if.then6
  %j0.1 = phi i32 [ %4, %if.then6 ], [ %7, %if.else19 ]
  %j1.1 = phi i32 [ %add18, %if.then6 ], [ %add32, %if.else19 ]
  tail call void @llvm.dbg.value(metadata !{i32 %j0.1}, i64 0, metadata !248), !dbg !341
  %cmp35281 = icmp slt i32 %j0.1, %j1.1, !dbg !341
  br i1 %cmp35281, label %for.body36.lr.ph, label %if.end39, !dbg !341

for.body36.lr.ph:                                 ; preds = %if.end33
  %9 = sext i32 %j0.1 to i64
  br label %for.body36, !dbg !341

for.body36:                                       ; preds = %for.body36.lr.ph, %for.body36
  %indvars.iv = phi i64 [ %9, %for.body36.lr.ph ], [ %indvars.iv.next, %for.body36 ]
  %arraydecay = getelementptr inbounds [3 x float]* %buf, i64 %indvars.iv, i64 0, !dbg !343
  tail call void @llvm.dbg.value(metadata !{float* %arraydecay}, i64 0, metadata !345), !dbg !346
  store float 0.000000e+00, float* %arraydecay, align 4, !dbg !347, !tbaa !348
  %arrayidx1.i = getelementptr inbounds [3 x float]* %buf, i64 %indvars.iv, i64 1, !dbg !349
  store float 0.000000e+00, float* %arrayidx1.i, align 4, !dbg !349, !tbaa !348
  %arrayidx2.i = getelementptr inbounds [3 x float]* %buf, i64 %indvars.iv, i64 2, !dbg !350
  store float 0.000000e+00, float* %arrayidx2.i, align 4, !dbg !350, !tbaa !348
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !341
  %10 = trunc i64 %indvars.iv.next to i32, !dbg !341
  %cmp35 = icmp slt i32 %10, %j1.1, !dbg !341
  br i1 %cmp35, label %for.body36, label %if.end39, !dbg !341

if.end39:                                         ; preds = %if.end33, %for.body36, %for.body
  %j0.2 = phi i32 [ %j0.0287, %for.body ], [ %j0.1, %for.body36 ], [ %j0.1, %if.end33 ]
  %j1.2 = phi i32 [ %j1.0288, %for.body ], [ %j1.1, %for.body36 ], [ %j1.1, %if.end33 ]
  %idxprom44 = sext i32 %cur.1289 to i64, !dbg !351
  %arrayidx46 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 8, i64 %idxprom44, !dbg !351
  %11 = load i32* %arrayidx46, align 4, !dbg !351, !tbaa !324
  %idxprom47 = sext i32 %11 to i64, !dbg !351
  %arraydecay49 = getelementptr inbounds [3 x float]* %vecs, i64 %idxprom47, i64 0, !dbg !351
  %arrayidx52 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %idxprom44, !dbg !351
  %12 = load i32* %arrayidx52, align 4, !dbg !351, !tbaa !324
  %mul = mul nsw i32 %12, 3, !dbg !351
  br i1 %tobool40, label %if.then41, label %if.else105, !dbg !334

if.then41:                                        ; preds = %if.end39
  %sub53 = add nsw i32 %cur.1289, -1, !dbg !351
  %13 = load i32* %nnodes21, align 4, !dbg !351, !tbaa !324
  %add55 = add nsw i32 %sub53, %13, !dbg !351
  %rem57 = srem i32 %add55, %13, !dbg !351
  %idxprom58 = sext i32 %rem57 to i64, !dbg !351
  %arrayidx60 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 8, i64 %idxprom58, !dbg !351
  %14 = load i32* %arrayidx60, align 4, !dbg !351, !tbaa !324
  %idxprom61 = sext i32 %14 to i64, !dbg !351
  br i1 %tobool, label %if.then43, label %if.else73, !dbg !353

if.then43:                                        ; preds = %if.then41
  %arraydecay63 = getelementptr inbounds [3 x float]* %buf, i64 %idxprom61, i64 0, !dbg !351
  %arrayidx71 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %idxprom58, !dbg !351
  %15 = load i32* %arrayidx71, align 4, !dbg !351, !tbaa !324
  %mul72 = mul nsw i32 %15, 3, !dbg !351
  tail call void @gmx_tx_rx_real(i32 %right, float* %arraydecay49, i32 %mul, i32 %left, float* %arraydecay63, i32 %mul72) #3, !dbg !351
  br label %if.end104, !dbg !351

if.else73:                                        ; preds = %if.then41
  %arraydecay94 = getelementptr inbounds [3 x float]* %vecs, i64 %idxprom61, i64 0, !dbg !354
  %arrayidx102 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %idxprom58, !dbg !354
  %16 = load i32* %arrayidx102, align 4, !dbg !354, !tbaa !324
  %mul103 = mul nsw i32 %16, 3, !dbg !354
  tail call void @gmx_tx_rx_real(i32 %right, float* %arraydecay49, i32 %mul, i32 %left, float* %arraydecay94, i32 %mul103) #3, !dbg !354
  br label %if.end104

if.end104:                                        ; preds = %if.else73, %if.then43
  tail call void @gmx_wait(i32 %right, i32 %left) #3, !dbg !355
  br label %if.end162, !dbg !356

if.else105:                                       ; preds = %if.end39
  %add118 = add nsw i32 %cur.1289, 1, !dbg !357
  %17 = load i32* %nnodes21, align 4, !dbg !357, !tbaa !324
  %rem120 = srem i32 %add118, %17, !dbg !357
  %idxprom121 = sext i32 %rem120 to i64, !dbg !357
  %arrayidx123 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 8, i64 %idxprom121, !dbg !357
  %18 = load i32* %arrayidx123, align 4, !dbg !357, !tbaa !324
  %idxprom124 = sext i32 %18 to i64, !dbg !357
  br i1 %tobool, label %if.then107, label %if.else134, !dbg !359

if.then107:                                       ; preds = %if.else105
  %arraydecay126 = getelementptr inbounds [3 x float]* %buf, i64 %idxprom124, i64 0, !dbg !357
  %arrayidx132 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %idxprom121, !dbg !357
  %19 = load i32* %arrayidx132, align 4, !dbg !357, !tbaa !324
  %mul133 = mul nsw i32 %19, 3, !dbg !357
  tail call void @gmx_tx_rx_real(i32 %left, float* %arraydecay49, i32 %mul, i32 %right, float* %arraydecay126, i32 %mul133) #3, !dbg !357
  br label %if.end161, !dbg !357

if.else134:                                       ; preds = %if.else105
  %arraydecay153 = getelementptr inbounds [3 x float]* %vecs, i64 %idxprom124, i64 0, !dbg !360
  %arrayidx159 = getelementptr inbounds %struct.t_nsborder* %nsb, i64 0, i32 7, i64 %idxprom121, !dbg !360
  %20 = load i32* %arrayidx159, align 4, !dbg !360, !tbaa !324
  %mul160 = mul nsw i32 %20, 3, !dbg !360
  tail call void @gmx_tx_rx_real(i32 %left, float* %arraydecay49, i32 %mul, i32 %right, float* %arraydecay153, i32 %mul160) #3, !dbg !360
  br label %if.end161

if.end161:                                        ; preds = %if.else134, %if.then107
  tail call void @gmx_wait(i32 %left, i32 %right) #3, !dbg !361
  br label %if.end162

if.end162:                                        ; preds = %if.end161, %if.end104
  br i1 %tobool, label %for.cond165.preheader, label %if.end179, !dbg !362

for.cond165.preheader:                            ; preds = %if.end162
  %cmp166283 = icmp slt i32 %j0.2, %j1.2, !dbg !363
  br i1 %cmp166283, label %for.body167.lr.ph, label %for.end176, !dbg !363

for.body167.lr.ph:                                ; preds = %for.cond165.preheader
  %21 = sext i32 %j0.2 to i64
  br label %for.body167, !dbg !363

for.body167:                                      ; preds = %for.body167.lr.ph, %for.body167
  %indvars.iv291 = phi i64 [ %21, %for.body167.lr.ph ], [ %indvars.iv.next292, %for.body167 ]
  %arraydecay170 = getelementptr inbounds [3 x float]* %vecs, i64 %indvars.iv291, i64 0, !dbg !366
  %arraydecay173 = getelementptr inbounds [3 x float]* %buf, i64 %indvars.iv291, i64 0, !dbg !366
  tail call void @llvm.dbg.value(metadata !{float* %arraydecay170}, i64 0, metadata !368), !dbg !369
  tail call void @llvm.dbg.value(metadata !{float* %arraydecay173}, i64 0, metadata !370), !dbg !369
  %22 = load float* %arraydecay170, align 4, !dbg !371, !tbaa !348
  %23 = load float* %arraydecay173, align 4, !dbg !371, !tbaa !348
  %add.i = fadd float %22, %23, !dbg !371
  tail call void @llvm.dbg.value(metadata !{float %add.i}, i64 0, metadata !372), !dbg !371
  %arrayidx2.i280 = getelementptr inbounds [3 x float]* %vecs, i64 %indvars.iv291, i64 1, !dbg !373
  %24 = load float* %arrayidx2.i280, align 4, !dbg !373, !tbaa !348
  %arrayidx3.i = getelementptr inbounds [3 x float]* %buf, i64 %indvars.iv291, i64 1, !dbg !373
  %25 = load float* %arrayidx3.i, align 4, !dbg !373, !tbaa !348
  %add4.i = fadd float %24, %25, !dbg !373
  tail call void @llvm.dbg.value(metadata !{float %add4.i}, i64 0, metadata !374), !dbg !373
  %arrayidx5.i = getelementptr inbounds [3 x float]* %vecs, i64 %indvars.iv291, i64 2, !dbg !375
  %26 = load float* %arrayidx5.i, align 4, !dbg !375, !tbaa !348
  %arrayidx6.i = getelementptr inbounds [3 x float]* %buf, i64 %indvars.iv291, i64 2, !dbg !375
  %27 = load float* %arrayidx6.i, align 4, !dbg !375, !tbaa !348
  %add7.i = fadd float %26, %27, !dbg !375
  tail call void @llvm.dbg.value(metadata !{float %add7.i}, i64 0, metadata !376), !dbg !375
  store float %add.i, float* %arraydecay170, align 4, !dbg !377, !tbaa !348
  store float %add4.i, float* %arrayidx2.i280, align 4, !dbg !378, !tbaa !348
  store float %add7.i, float* %arrayidx5.i, align 4, !dbg !379, !tbaa !348
  %indvars.iv.next292 = add i64 %indvars.iv291, 1, !dbg !363
  %28 = trunc i64 %indvars.iv.next292 to i32, !dbg !363
  %cmp166 = icmp slt i32 %28, %j1.2, !dbg !363
  br i1 %cmp166, label %for.body167, label %for.end176, !dbg !363

for.end176:                                       ; preds = %for.body167, %for.cond165.preheader
  %sub177 = sub i32 %nsum.0290, %j0.2, !dbg !380
  %add178 = add i32 %sub177, %j1.2, !dbg !380
  tail call void @llvm.dbg.value(metadata !{i32 %add178}, i64 0, metadata !252), !dbg !380
  br label %if.end179, !dbg !381

if.end179:                                        ; preds = %for.end176, %if.end162
  %nsum.1 = phi i32 [ %add178, %for.end176 ], [ %nsum.0290, %if.end162 ]
  br i1 %tobool40, label %if.then181, label %if.else187, !dbg !382

if.then181:                                       ; preds = %if.end179
  %sub182 = add nsw i32 %cur.1289, -1, !dbg !383
  %29 = load i32* %nnodes21, align 4, !dbg !383, !tbaa !324
  %add184 = add nsw i32 %sub182, %29, !dbg !383
  %rem186 = srem i32 %add184, %29, !dbg !383
  tail call void @llvm.dbg.value(metadata !{i32 %rem186}, i64 0, metadata !251), !dbg !383
  br label %for.inc192, !dbg !383

if.else187:                                       ; preds = %if.end179
  %add188 = add nsw i32 %cur.1289, 1, !dbg !384
  %30 = load i32* %nnodes21, align 4, !dbg !384, !tbaa !324
  %rem190 = srem i32 %add188, %30, !dbg !384
  tail call void @llvm.dbg.value(metadata !{i32 %rem190}, i64 0, metadata !251), !dbg !384
  br label %for.inc192

for.inc192:                                       ; preds = %if.then181, %if.else187
  %cur.2 = phi i32 [ %rem186, %if.then181 ], [ %rem190, %if.else187 ]
  %inc193 = add nsw i32 %i.0286, 1, !dbg !327
  tail call void @llvm.dbg.value(metadata !{i32 %inc193}, i64 0, metadata !247), !dbg !327
  %exitcond = icmp eq i32 %inc193, %shift, !dbg !327
  br i1 %exitcond, label %for.end194, label %for.body, !dbg !327

for.end194:                                       ; preds = %for.inc192
  %cmp195 = icmp sgt i32 %nsum.1, 0, !dbg !385
  br i1 %cmp195, label %if.then196, label %if.end199, !dbg !385

if.then196:                                       ; preds = %for.end194
  %conv = sitofp i32 %nsum.1 to double, !dbg !386
  %arrayidx197 = getelementptr inbounds %struct.t_nrnb* %nrnb, i64 0, i32 0, i64 91, !dbg !386
  %31 = load double* %arrayidx197, align 8, !dbg !386, !tbaa !387
  %add198 = fadd double %conv, %31, !dbg !386
  store double %add198, double* %arrayidx197, align 8, !dbg !386, !tbaa !387
  br label %if.end199, !dbg !386

if.end199:                                        ; preds = %for.cond.preheader, %if.then196, %for.end194
  ret void, !dbg !388
}
