define i32 @vec_shakef(%struct._IO_FILE* %log, i32 %natoms, float* %invmass, i32 %ncon, %union.t_iparams* nocapture %ip, i32* %iatom, float %tol, [3 x float]* nocapture %x, [3 x float]* %xp, float %omega, i32 %bFEP, float %lambda, float* %lagr) #0 {
entry:
  %ncon.addr = alloca i32, align 4
  %omega.addr = alloca float, align 4
  %maxnit = alloca i32, align 4
  %nit = alloca i32, align 4
  %error = alloca i32, align 4
  call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %log}, i64 0, metadata !437), !dbg !769
  call void @llvm.dbg.value(metadata !{i32 %natoms}, i64 0, metadata !438), !dbg !770
  call void @llvm.dbg.value(metadata !{float* %invmass}, i64 0, metadata !439), !dbg !770
  call void @llvm.dbg.value(metadata !{i32 %ncon}, i64 0, metadata !440), !dbg !770
  store i32 %ncon, i32* %ncon.addr, align 4, !tbaa !714
  call void @llvm.dbg.declare(metadata !{i32* %ncon.addr}, metadata !440), !dbg !770
  call void @llvm.dbg.value(metadata !{%union.t_iparams* %ip}, i64 0, metadata !441), !dbg !771
  call void @llvm.dbg.value(metadata !{i32* %iatom}, i64 0, metadata !442), !dbg !771
  call void @llvm.dbg.value(metadata !{float %tol}, i64 0, metadata !443), !dbg !772
  call void @llvm.dbg.value(metadata !{[3 x float]* %x}, i64 0, metadata !444), !dbg !772
  call void @llvm.dbg.value(metadata !{[3 x float]* %xp}, i64 0, metadata !445), !dbg !772
  call void @llvm.dbg.value(metadata !{float %omega}, i64 0, metadata !446), !dbg !772
  store float %omega, float* %omega.addr, align 4, !tbaa !708
  call void @llvm.dbg.declare(metadata !{float* %omega.addr}, metadata !446), !dbg !772
  call void @llvm.dbg.value(metadata !{i32 %bFEP}, i64 0, metadata !447), !dbg !773
  call void @llvm.dbg.value(metadata !{float %lambda}, i64 0, metadata !448), !dbg !773
  call void @llvm.dbg.value(metadata !{float* %lagr}, i64 0, metadata !449), !dbg !773
  call void @llvm.dbg.declare(metadata !{i32* %maxnit}, metadata !450), !dbg !774
  call void @llvm.dbg.value(metadata !775, i64 0, metadata !450), !dbg !774
  store i32 1000, i32* %maxnit, align 4, !dbg !774, !tbaa !714
  call void @llvm.dbg.declare(metadata !{i32* %nit}, metadata !451), !dbg !776
  call void @llvm.dbg.declare(metadata !{i32* %error}, metadata !461), !dbg !777
  call void @llvm.dbg.value(metadata !{i32* %ncon.addr}, i64 0, metadata !440), !dbg !778
  %0 = load i32* @vec_shakef.maxcon, align 4, !dbg !778, !tbaa !714
  %cmp = icmp slt i32 %0, %ncon, !dbg !778
  br i1 %cmp, label %if.then, label %if.end, !dbg !778

if.then:                                          ; preds = %entry
  %1 = load [3 x float]** @vec_shakef.rij, align 8, !dbg !779, !tbaa !781
  %2 = bitcast [3 x float]* %1 to i8*, !dbg !779
  %mul = mul i32 %ncon, 12, !dbg !779
  %call = call i8* @save_realloc(i8* getelementptr inbounds ([4 x i8]* @.str1, i64 0, i64 0), i8* getelementptr inbounds ([54 x i8]* @.str2, i64 0, i64 0), i32 169, i8* %2, i32 %mul) #6, !dbg !779
  %3 = bitcast i8* %call to [3 x float]*, !dbg !779
  store [3 x float]* %3, [3 x float]** @vec_shakef.rij, align 8, !dbg !779, !tbaa !781
  %4 = load float** @vec_shakef.M2, align 8, !dbg !782, !tbaa !781
  %5 = bitcast float* %4 to i8*, !dbg !782
  call void @llvm.dbg.value(metadata !{i32* %ncon.addr}, i64 0, metadata !440), !dbg !782
  %6 = load i32* %ncon.addr, align 4, !dbg !782, !tbaa !714
  %mul3 = shl i32 %6, 2, !dbg !782
  %call5 = call i8* @save_realloc(i8* getelementptr inbounds ([3 x i8]* @.str3, i64 0, i64 0), i8* getelementptr inbounds ([54 x i8]* @.str2, i64 0, i64 0), i32 170, i8* %5, i32 %mul3) #6, !dbg !782
  %7 = bitcast i8* %call5 to float*, !dbg !782
  store float* %7, float** @vec_shakef.M2, align 8, !dbg !782, !tbaa !781
  %8 = load float** @vec_shakef.tt, align 8, !dbg !783, !tbaa !781
  %9 = bitcast float* %8 to i8*, !dbg !783
  call void @llvm.dbg.value(metadata !{i32* %ncon.addr}, i64 0, metadata !440), !dbg !783
  %10 = load i32* %ncon.addr, align 4, !dbg !783, !tbaa !714
  %mul7 = shl i32 %10, 2, !dbg !783
  %call9 = call i8* @save_realloc(i8* getelementptr inbounds ([3 x i8]* @.str4, i64 0, i64 0), i8* getelementptr inbounds ([54 x i8]* @.str2, i64 0, i64 0), i32 171, i8* %9, i32 %mul7) #6, !dbg !783
  %11 = bitcast i8* %call9 to float*, !dbg !783
  store float* %11, float** @vec_shakef.tt, align 8, !dbg !783, !tbaa !781
  %12 = load float** @vec_shakef.dist2, align 8, !dbg !784, !tbaa !781
  %13 = bitcast float* %12 to i8*, !dbg !784
  call void @llvm.dbg.value(metadata !{i32* %ncon.addr}, i64 0, metadata !440), !dbg !784
  %14 = load i32* %ncon.addr, align 4, !dbg !784, !tbaa !714
  %mul11 = shl i32 %14, 2, !dbg !784
  %call13 = call i8* @save_realloc(i8* getelementptr inbounds ([6 x i8]* @.str5, i64 0, i64 0), i8* getelementptr inbounds ([54 x i8]* @.str2, i64 0, i64 0), i32 172, i8* %13, i32 %mul11) #6, !dbg !784
  %15 = bitcast i8* %call13 to float*, !dbg !784
  store float* %15, float** @vec_shakef.dist2, align 8, !dbg !784, !tbaa !781
  call void @llvm.dbg.value(metadata !{i32* %ncon.addr}, i64 0, metadata !440), !dbg !785
  %16 = load i32* %ncon.addr, align 4, !dbg !785, !tbaa !714
  store i32 %16, i32* @vec_shakef.maxcon, align 4, !dbg !785, !tbaa !714
  br label %if.end, !dbg !786

if.end:                                           ; preds = %if.then, %entry
  %17 = phi i32 [ %16, %if.then ], [ %ncon, %entry ]
  %conv15 = fsub float 1.000000e+00, %lambda, !dbg !787
  call void @llvm.dbg.value(metadata !{float %conv15}, i64 0, metadata !457), !dbg !787
  %conv18 = fmul float %tol, 2.000000e+00, !dbg !788
  call void @llvm.dbg.value(metadata !{float %conv18}, i64 0, metadata !458), !dbg !788
  call void @llvm.dbg.value(metadata !{i32* %iatom}, i64 0, metadata !456), !dbg !789
  call void @llvm.dbg.value(metadata !191, i64 0, metadata !452), !dbg !790
  call void @llvm.dbg.value(metadata !{i32* %ncon.addr}, i64 0, metadata !440), !dbg !790
  %cmp19154 = icmp sgt i32 %17, 0, !dbg !790
  br i1 %cmp19154, label %for.body.lr.ph, label %if.end.for.end_crit_edge, !dbg !790

if.end.for.end_crit_edge:                         ; preds = %if.end
  %.pre = load float** @vec_shakef.dist2, align 8, !dbg !792, !tbaa !781
  %.pre157 = load [3 x float]** @vec_shakef.rij, align 8, !dbg !792, !tbaa !781
  %.pre158 = load float** @vec_shakef.M2, align 8, !dbg !792, !tbaa !781
  %.pre159 = load float** @vec_shakef.tt, align 8, !dbg !792, !tbaa !781
  br label %for.end, !dbg !790

for.body.lr.ph:                                   ; preds = %if.end
  %18 = load [3 x float]** @vec_shakef.rij, align 8, !dbg !793, !tbaa !781
  %19 = load float** @vec_shakef.M2, align 8, !dbg !795, !tbaa !781
  %tobool = icmp eq i32 %bFEP, 0, !dbg !796
  %20 = load float** @vec_shakef.dist2, align 8, !dbg !797, !tbaa !781
  %21 = load float** @vec_shakef.tt, align 8, !dbg !798, !tbaa !781
  call void @llvm.dbg.value(metadata !{i32* %ncon.addr}, i64 0, metadata !440), !dbg !790
  br label %for.body, !dbg !790

for.body:                                         ; preds = %for.body.lr.ph, %if.end76
  %indvars.iv = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next, %if.end76 ]
  %ia.0155 = phi i32* [ %iatom, %for.body.lr.ph ], [ %add.ptr, %if.end76 ]
  %22 = load i32* %ia.0155, align 4, !dbg !799, !tbaa !714
  call void @llvm.dbg.value(metadata !{i32 %22}, i64 0, metadata !455), !dbg !799
  %arrayidx21 = getelementptr inbounds i32* %ia.0155, i64 1, !dbg !800
  %23 = load i32* %arrayidx21, align 4, !dbg !800, !tbaa !714
  call void @llvm.dbg.value(metadata !{i32 %23}, i64 0, metadata !453), !dbg !800
  %arrayidx22 = getelementptr inbounds i32* %ia.0155, i64 2, !dbg !801
  %24 = load i32* %arrayidx22, align 4, !dbg !801, !tbaa !714
  call void @llvm.dbg.value(metadata !{i32 %24}, i64 0, metadata !454), !dbg !801
  %idxprom = sext i32 %23 to i64, !dbg !802
  %arrayidx23 = getelementptr inbounds float* %invmass, i64 %idxprom, !dbg !802
  %25 = load float* %arrayidx23, align 4, !dbg !802, !tbaa !708
  %idxprom24 = sext i32 %24 to i64, !dbg !802
  %arrayidx25 = getelementptr inbounds float* %invmass, i64 %idxprom24, !dbg !802
  %26 = load float* %arrayidx25, align 4, !dbg !802, !tbaa !708
  %add = fadd float %25, %26, !dbg !802
  %mul26 = fmul float %add, 2.000000e+00, !dbg !802
  call void @llvm.dbg.value(metadata !{float %mul26}, i64 0, metadata !460), !dbg !802
  %arrayidx29 = getelementptr inbounds [3 x float]* %x, i64 %idxprom, i64 0, !dbg !793
  %27 = load float* %arrayidx29, align 4, !dbg !793, !tbaa !708
  %arrayidx32 = getelementptr inbounds [3 x float]* %x, i64 %idxprom24, i64 0, !dbg !793
  %28 = load float* %arrayidx32, align 4, !dbg !793, !tbaa !708
  %sub33 = fsub float %27, %28, !dbg !793
  %arrayidx36 = getelementptr inbounds [3 x float]* %18, i64 %indvars.iv, i64 0, !dbg !793
  store float %sub33, float* %arrayidx36, align 4, !dbg !793, !tbaa !708
  %arrayidx39 = getelementptr inbounds [3 x float]* %x, i64 %idxprom, i64 1, !dbg !803
  %29 = load float* %arrayidx39, align 4, !dbg !803, !tbaa !708
  %arrayidx42 = getelementptr inbounds [3 x float]* %x, i64 %idxprom24, i64 1, !dbg !803
  %30 = load float* %arrayidx42, align 4, !dbg !803, !tbaa !708
  %sub43 = fsub float %29, %30, !dbg !803
  %arrayidx46 = getelementptr inbounds [3 x float]* %18, i64 %indvars.iv, i64 1, !dbg !803
  store float %sub43, float* %arrayidx46, align 4, !dbg !803, !tbaa !708
  %arrayidx49 = getelementptr inbounds [3 x float]* %x, i64 %idxprom, i64 2, !dbg !804
  %31 = load float* %arrayidx49, align 4, !dbg !804, !tbaa !708
  %arrayidx52 = getelementptr inbounds [3 x float]* %x, i64 %idxprom24, i64 2, !dbg !804
  %32 = load float* %arrayidx52, align 4, !dbg !804, !tbaa !708
  %sub53 = fsub float %31, %32, !dbg !804
  %arrayidx56 = getelementptr inbounds [3 x float]* %18, i64 %indvars.iv, i64 2, !dbg !804
  store float %sub53, float* %arrayidx56, align 4, !dbg !804, !tbaa !708
  %conv58 = fdiv float 1.000000e+00, %mul26, !dbg !795
  %arrayidx60 = getelementptr inbounds float* %19, i64 %indvars.iv, !dbg !795
  store float %conv58, float* %arrayidx60, align 4, !dbg !795, !tbaa !708
  %idxprom71 = sext i32 %22 to i64, !dbg !805
  %dA74 = getelementptr inbounds %union.t_iparams* %ip, i64 %idxprom71, i32 0, i32 0, !dbg !805
  %33 = load float* %dA74, align 4, !dbg !805, !tbaa !708
  br i1 %tobool, label %if.else, label %if.then61, !dbg !796

if.then61:                                        ; preds = %for.body
  %mul64 = fmul float %conv15, %33, !dbg !806
  %34 = getelementptr inbounds %union.t_iparams* %ip, i64 %idxprom71, i32 0, i32 1, !dbg !806
  %35 = load float* %34, align 4, !dbg !806, !tbaa !708
  %mul68 = fmul float %35, %lambda, !dbg !806
  %add69 = fadd float %mul64, %mul68, !dbg !806
  tail call void @llvm.dbg.value(metadata !{float %add69}, i64 0, metadata !807), !dbg !808
  %mul.i = fmul float %add69, %add69, !dbg !809
  call void @llvm.dbg.value(metadata !{float %mul.i}, i64 0, metadata !459), !dbg !806
  br label %if.end76, !dbg !806

if.else:                                          ; preds = %for.body
  tail call void @llvm.dbg.value(metadata !{float %33}, i64 0, metadata !810), !dbg !811
  %mul.i153 = fmul float %33, %33, !dbg !812
  call void @llvm.dbg.value(metadata !{float %mul.i153}, i64 0, metadata !459), !dbg !805
  br label %if.end76

if.end76:                                         ; preds = %if.else, %if.then61
  %toler.0 = phi float [ %mul.i, %if.then61 ], [ %mul.i153, %if.else ]
  %arrayidx78 = getelementptr inbounds float* %20, i64 %indvars.iv, !dbg !797
  store float %toler.0, float* %arrayidx78, align 4, !dbg !797, !tbaa !708
  %mul79 = fmul float %conv18, %toler.0, !dbg !798
  %conv82 = fdiv float 1.000000e+00, %mul79, !dbg !798
  %arrayidx84 = getelementptr inbounds float* %21, i64 %indvars.iv, !dbg !798
  store float %conv82, float* %arrayidx84, align 4, !dbg !798, !tbaa !708
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !790
  %add.ptr = getelementptr inbounds i32* %ia.0155, i64 3, !dbg !790
  call void @llvm.dbg.value(metadata !{i32* %add.ptr}, i64 0, metadata !456), !dbg !790
  call void @llvm.dbg.value(metadata !{i32* %ncon.addr}, i64 0, metadata !440), !dbg !790
  %36 = trunc i64 %indvars.iv.next to i32, !dbg !790
  %cmp19 = icmp slt i32 %36, %17, !dbg !790
  br i1 %cmp19, label %for.body, label %for.end, !dbg !790

for.end:                                          ; preds = %if.end76, %if.end.for.end_crit_edge
  %37 = phi float* [ %.pre159, %if.end.for.end_crit_edge ], [ %21, %if.end76 ]
  %38 = phi float* [ %.pre158, %if.end.for.end_crit_edge ], [ %19, %if.end76 ]
  %39 = phi [3 x float]* [ %.pre157, %if.end.for.end_crit_edge ], [ %18, %if.end76 ]
  %40 = phi float* [ %.pre, %if.end.for.end_crit_edge ], [ %20, %if.end76 ]
  %arraydecay = getelementptr inbounds [3 x float]* %xp, i64 0, i64 0, !dbg !792
  %arraydecay87 = getelementptr inbounds [3 x float]* %39, i64 0, i64 0, !dbg !792
  call void @fshake_(i32* %iatom, i32* %ncon.addr, i32* %nit, i32* %maxnit, float* %40, float* %arraydecay, float* %arraydecay87, float* %38, float* %omega.addr, float* %invmass, float* %37, float* %lagr, i32* %error) #6, !dbg !792
  call void @llvm.dbg.value(metadata !{i32* %nit}, i64 0, metadata !451), !dbg !813
  %41 = load i32* %nit, align 4, !dbg !813, !tbaa !714
  call void @llvm.dbg.value(metadata !{i32* %maxnit}, i64 0, metadata !450), !dbg !813
  %42 = load i32* %maxnit, align 4, !dbg !813, !tbaa !714
  %cmp88 = icmp slt i32 %41, %42, !dbg !813
  br i1 %cmp88, label %if.else95, label %if.then90, !dbg !813

if.then90:                                        ; preds = %for.end
  %tobool91 = icmp eq %struct._IO_FILE* %log, null, !dbg !814
  br i1 %tobool91, label %if.end94, label %if.then92, !dbg !814

if.then92:                                        ; preds = %if.then90
  %call93 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %log, i8* getelementptr inbounds ([36 x i8]* @.str6, i64 0, i64 0), i32 %42) #6, !dbg !816
  br label %if.end94, !dbg !816

if.end94:                                         ; preds = %if.then90, %if.then92
  call void @llvm.dbg.value(metadata !191, i64 0, metadata !451), !dbg !817
  store i32 0, i32* %nit, align 4, !dbg !817, !tbaa !714
  br label %if.end117, !dbg !818

if.else95:                                        ; preds = %for.end
  call void @llvm.dbg.value(metadata !{i32* %error}, i64 0, metadata !461), !dbg !819
  %43 = load i32* %error, align 4, !dbg !819, !tbaa !714
  %cmp96 = icmp eq i32 %43, 0, !dbg !819
  br i1 %cmp96, label %if.end117, label %if.then98, !dbg !819

if.then98:                                        ; preds = %if.else95
  %tobool99 = icmp eq %struct._IO_FILE* %log, null, !dbg !820
  br i1 %tobool99, label %if.end115, label %if.then100, !dbg !820

if.then100:                                       ; preds = %if.then98
  %sub101 = add nsw i32 %43, -1, !dbg !822
  %mul103 = mul nsw i32 %sub101, 3, !dbg !822
  %add104 = add nsw i32 %mul103, 1, !dbg !822
  %idxprom105 = sext i32 %add104 to i64, !dbg !822
  %arrayidx106 = getelementptr inbounds i32* %iatom, i64 %idxprom105, !dbg !822
  %44 = load i32* %arrayidx106, align 4, !dbg !822, !tbaa !714
  %add107 = add nsw i32 %44, 1, !dbg !822
  %add110 = add nsw i32 %mul103, 2, !dbg !822
  %idxprom111 = sext i32 %add110 to i64, !dbg !822
  %arrayidx112 = getelementptr inbounds i32* %iatom, i64 %idxprom111, !dbg !822
  %45 = load i32* %arrayidx112, align 4, !dbg !822, !tbaa !714
  %add113 = add nsw i32 %45, 1, !dbg !822
  %call114 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %log, i8* getelementptr inbounds ([81 x i8]* @.str7, i64 0, i64 0), i32 %sub101, i32 %add107, i32 %add113) #6, !dbg !822
  br label %if.end115, !dbg !822

if.end115:                                        ; preds = %if.then98, %if.then100
  call void @llvm.dbg.value(metadata !191, i64 0, metadata !451), !dbg !823
  store i32 0, i32* %nit, align 4, !dbg !823, !tbaa !714
  br label %if.end117, !dbg !824

if.end117:                                        ; preds = %if.else95, %if.end115, %if.end94
  %46 = phi i32 [ %41, %if.else95 ], [ 0, %if.end115 ], [ 0, %if.end94 ]
  call void @llvm.dbg.value(metadata !{i32* %nit}, i64 0, metadata !451), !dbg !825
  ret i32 %46, !dbg !825
}
