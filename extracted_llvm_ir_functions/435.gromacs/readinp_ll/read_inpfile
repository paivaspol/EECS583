define %struct.t_inpfile* @read_inpfile(i8* %fn, i32* nocapture %ninp) #0 {
entry:
  %buf = alloca [4096 x i8], align 16
  %buf167 = getelementptr inbounds [4096 x i8]* %buf, i64 0, i64 0
  %lbuf = alloca [4096 x i8], align 16
  %lbuf166 = getelementptr inbounds [4096 x i8]* %lbuf, i64 0, i64 0
  %rbuf = alloca [4096 x i8], align 16
  call void @llvm.dbg.value(metadata !{i8* %fn}, i64 0, metadata !22), !dbg !188
  call void @llvm.dbg.value(metadata !{i32* %ninp}, i64 0, metadata !23), !dbg !188
  %0 = getelementptr inbounds [4096 x i8]* %buf, i64 0, i64 0, !dbg !189
  call void @llvm.lifetime.start(i64 4096, i8* %0) #2, !dbg !189
  call void @llvm.dbg.declare(metadata !{[4096 x i8]* %buf}, metadata !80), !dbg !189
  %1 = getelementptr inbounds [4096 x i8]* %lbuf, i64 0, i64 0, !dbg !189
  call void @llvm.lifetime.start(i64 4096, i8* %1) #2, !dbg !189
  call void @llvm.dbg.declare(metadata !{[4096 x i8]* %lbuf}, metadata !84), !dbg !189
  %2 = getelementptr inbounds [4096 x i8]* %rbuf, i64 0, i64 0, !dbg !189
  call void @llvm.lifetime.start(i64 4096, i8* %2) #2, !dbg !189
  call void @llvm.dbg.declare(metadata !{[4096 x i8]* %rbuf}, metadata !85), !dbg !189
  call void @llvm.dbg.value(metadata !190, i64 0, metadata !88), !dbg !191
  %3 = load %struct._IO_FILE** @debug, align 8, !dbg !192, !tbaa !193
  %tobool = icmp eq %struct._IO_FILE* %3, null, !dbg !192
  br i1 %tobool, label %if.end, label %if.then, !dbg !192

if.then:                                          ; preds = %entry
  %call = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %3, i8* getelementptr inbounds ([21 x i8]* @.str, i64 0, i64 0), i8* %fn) #8, !dbg !196
  br label %if.end, !dbg !196

if.end:                                           ; preds = %entry, %if.then
  store i32 1, i32* @inp_count, align 4, !dbg !197, !tbaa !198
  %call1 = call %struct._IO_FILE* @ffopen(i8* %fn, i8* getelementptr inbounds ([2 x i8]* @.str1, i64 0, i64 0)) #8, !dbg !199
  call void @llvm.dbg.value(metadata !{%struct._IO_FILE* %call1}, i64 0, metadata !24), !dbg !199
  call void @llvm.dbg.value(metadata !2, i64 0, metadata !90), !dbg !200
  call void @llvm.dbg.value(metadata !2, i64 0, metadata !89), !dbg !200
  br label %do.body, !dbg !201

do.body:                                          ; preds = %if.then28, %if.then23, %if.else83, %if.then80, %if.then52, %if.then78, %if.then50, %if.end
  %nin.0 = phi i32 [ 0, %if.end ], [ %nin.0, %if.then28 ], [ %nin.0, %if.then23 ], [ %nin.0, %if.then52 ], [ %nin.0, %if.then50 ], [ %nin.0, %if.then80 ], [ %nin.0, %if.then78 ], [ %inc84, %if.else83 ]
  %lc.0 = phi i32 [ 0, %if.end ], [ %inc, %if.then28 ], [ %inc, %if.then23 ], [ %inc, %if.then52 ], [ %inc, %if.then50 ], [ %inc, %if.then80 ], [ %inc, %if.then78 ], [ %inc, %if.else83 ]
  %inp.0 = phi %struct.t_inpfile* [ null, %if.end ], [ %inp.0, %if.then28 ], [ %inp.0, %if.then23 ], [ %inp.0, %if.then52 ], [ %inp.0, %if.then50 ], [ %inp.0, %if.then80 ], [ %inp.0, %if.then78 ], [ %17, %if.else83 ]
  %call2 = call i8* @fgets2(i8* %0, i32 4095, %struct._IO_FILE* %call1) #8, !dbg !202
  call void @llvm.dbg.value(metadata !{i8* %call2}, i64 0, metadata !86), !dbg !202
  %inc = add nsw i32 %lc.0, 1, !dbg !204
  call void @llvm.dbg.value(metadata !{i32 %inc}, i64 0, metadata !90), !dbg !204
  %tobool3 = icmp eq i8* %call2, null, !dbg !205
  br i1 %tobool3, label %do.end, label %if.then4, !dbg !205

if.then4:                                         ; preds = %do.body
  %call6 = call i8* @strchr(i8* %0, i32 59) #9, !dbg !206
  call void @llvm.dbg.value(metadata !{i8* %call6}, i64 0, metadata !87), !dbg !206
  %cmp = icmp eq i8* %call6, null, !dbg !206
  br i1 %cmp, label %if.end8, label %if.then7, !dbg !206

if.then7:                                         ; preds = %if.then4
  store i8 0, i8* %call6, align 1, !dbg !208, !tbaa !194
  br label %if.end8, !dbg !208

if.end8:                                          ; preds = %if.then4, %if.then7
  call void @trim(i8* %0) #8, !dbg !209
  call void @llvm.dbg.value(metadata !2, i64 0, metadata !92), !dbg !210
  br label %for.cond, !dbg !210

for.cond:                                         ; preds = %for.inc, %if.end8
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc ], [ 0, %if.end8 ]
  %j.0 = phi i32 [ %inc17, %for.inc ], [ 0, %if.end8 ]
  %arrayidx = getelementptr inbounds [4096 x i8]* %buf, i64 0, i64 %indvars.iv, !dbg !210
  %4 = load i8* %arrayidx, align 1, !dbg !210, !tbaa !194
  switch i8 %4, label %for.inc [
    i8 0, label %if.then23
    i8 61, label %for.cond32.loopexit
  ], !dbg !210

for.inc:                                          ; preds = %for.cond
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !210
  %inc17 = add nsw i32 %j.0, 1, !dbg !210
  call void @llvm.dbg.value(metadata !{i32 %inc17}, i64 0, metadata !92), !dbg !210
  br label %for.cond, !dbg !210

if.then23:                                        ; preds = %for.cond
  %cmp24 = icmp sgt i32 %j.0, 0, !dbg !212
  %5 = load %struct._IO_FILE** @debug, align 8, !dbg !214, !tbaa !193
  %tobool27 = icmp ne %struct._IO_FILE* %5, null, !dbg !214
  %or.cond = and i1 %cmp24, %tobool27, !dbg !212
  br i1 %or.cond, label %if.then28, label %do.body, !dbg !212

if.then28:                                        ; preds = %if.then23
  %call29 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %5, i8* getelementptr inbounds ([37 x i8]* @.str2, i64 0, i64 0), i32 %inc, i8* %fn) #8, !dbg !216
  br label %do.body, !dbg !216

for.cond32.loopexit:                              ; preds = %for.cond
  %cmp33149 = icmp sgt i32 %j.0, 0, !dbg !217
  br i1 %cmp33149, label %for.body35.lr.ph, label %for.end42, !dbg !217

for.body35.lr.ph:                                 ; preds = %for.cond32.loopexit
  %6 = add i32 %j.0, -1, !dbg !217
  %7 = zext i32 %6 to i64, !dbg !217
  %8 = add i64 %7, 1, !dbg !217
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* %lbuf166, i8* %buf167, i64 %8, i32 16, i1 false), !dbg !220
  br label %for.end42, !dbg !217

for.end42:                                        ; preds = %for.body35.lr.ph, %for.cond32.loopexit
  %idxprom36.lcssa = phi i64 [ %8, %for.body35.lr.ph ], [ 0, %for.cond32.loopexit ]
  %arrayidx44 = getelementptr inbounds [4096 x i8]* %lbuf, i64 0, i64 %idxprom36.lcssa, !dbg !221
  store i8 0, i8* %arrayidx44, align 1, !dbg !221, !tbaa !194
  call void @trim(i8* %1) #8, !dbg !222
  %9 = load i8* %1, align 16, !dbg !223, !tbaa !194
  %cmp48 = icmp eq i8 %9, 0, !dbg !223
  br i1 %cmp48, label %if.then50, label %for.cond56.preheader, !dbg !223

for.cond56.preheader:                             ; preds = %for.end42
  %i.1152 = add nsw i32 %j.0, 1, !dbg !224
  %idxprom57153 = sext i32 %i.1152 to i64, !dbg !224
  %arrayidx58154 = getelementptr inbounds [4096 x i8]* %buf, i64 0, i64 %idxprom57153, !dbg !224
  %10 = load i8* %arrayidx58154, align 1, !dbg !224, !tbaa !194
  %cmp60155 = icmp eq i8 %10, 0, !dbg !224
  br i1 %cmp60155, label %for.end70, label %for.body62, !dbg !224

if.then50:                                        ; preds = %for.end42
  %11 = load %struct._IO_FILE** @debug, align 8, !dbg !227, !tbaa !193
  %tobool51 = icmp eq %struct._IO_FILE* %11, null, !dbg !227
  br i1 %tobool51, label %do.body, label %if.then52, !dbg !227

if.then52:                                        ; preds = %if.then50
  %call53 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %11, i8* getelementptr inbounds ([53 x i8]* @.str3, i64 0, i64 0), i32 %inc, i8* %fn) #8, !dbg !229
  br label %do.body, !dbg !229

for.body62:                                       ; preds = %for.cond56.preheader, %for.body62
  %indvars.iv172 = phi i64 [ %indvars.iv.next173, %for.body62 ], [ 0, %for.cond56.preheader ], !dbg !224
  %arrayidx72159 = phi i8* [ %arrayidx72, %for.body62 ], [ %2, %for.cond56.preheader ]
  %12 = phi i8 [ %13, %for.body62 ], [ %10, %for.cond56.preheader ]
  %i.1158 = phi i32 [ %i.1, %for.body62 ], [ %i.1152, %for.cond56.preheader ]
  store i8 %12, i8* %arrayidx72159, align 1, !dbg !230, !tbaa !194
  %indvars.iv.next173 = add i64 %indvars.iv172, 1, !dbg !224
  %i.1 = add nsw i32 %i.1158, 1, !dbg !224
  %idxprom57 = sext i32 %i.1 to i64, !dbg !224
  %arrayidx58 = getelementptr inbounds [4096 x i8]* %buf, i64 0, i64 %idxprom57, !dbg !224
  %13 = load i8* %arrayidx58, align 1, !dbg !224, !tbaa !194
  %cmp60 = icmp eq i8 %13, 0, !dbg !224
  %arrayidx72 = getelementptr inbounds [4096 x i8]* %rbuf, i64 0, i64 %indvars.iv.next173, !dbg !231
  br i1 %cmp60, label %for.end70, label %for.body62, !dbg !224

for.end70:                                        ; preds = %for.body62, %for.cond56.preheader
  %arrayidx72.lcssa = phi i8* [ %2, %for.cond56.preheader ], [ %arrayidx72, %for.body62 ]
  store i8 0, i8* %arrayidx72.lcssa, align 1, !dbg !231, !tbaa !194
  call void @trim(i8* %2) #8, !dbg !232
  %14 = load i8* %2, align 16, !dbg !233, !tbaa !194
  %cmp76 = icmp eq i8 %14, 0, !dbg !233
  br i1 %cmp76, label %if.then78, label %if.else83, !dbg !233

if.then78:                                        ; preds = %for.end70
  %15 = load %struct._IO_FILE** @debug, align 8, !dbg !234, !tbaa !193
  %tobool79 = icmp eq %struct._IO_FILE* %15, null, !dbg !234
  br i1 %tobool79, label %do.body, label %if.then80, !dbg !234

if.then80:                                        ; preds = %if.then78
  %call81 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %15, i8* getelementptr inbounds ([54 x i8]* @.str4, i64 0, i64 0), i32 %inc, i8* %fn) #8, !dbg !236
  br label %do.body, !dbg !236

if.else83:                                        ; preds = %for.end70
  %16 = bitcast %struct.t_inpfile* %inp.0 to i8*, !dbg !237
  %inc84 = add nsw i32 %nin.0, 1, !dbg !237
  call void @llvm.dbg.value(metadata !{i32 %inc84}, i64 0, metadata !89), !dbg !237
  %mul = mul i32 %inc84, 24, !dbg !237
  %call87 = call i8* @save_realloc(i8* getelementptr inbounds ([4 x i8]* @.str5, i64 0, i64 0), i8* getelementptr inbounds ([55 x i8]* @.str6, i64 0, i64 0), i32 96, i8* %16, i32 %mul) #8, !dbg !237
  %17 = bitcast i8* %call87 to %struct.t_inpfile*, !dbg !237
  call void @llvm.dbg.value(metadata !{%struct.t_inpfile* %17}, i64 0, metadata !88), !dbg !237
  %idxprom88 = sext i32 %nin.0 to i64, !dbg !239
  %count = getelementptr inbounds %struct.t_inpfile* %17, i64 %idxprom88, i32 0, !dbg !239
  store i32 0, i32* %count, align 4, !dbg !239, !tbaa !198
  %bSet = getelementptr inbounds %struct.t_inpfile* %17, i64 %idxprom88, i32 1, !dbg !240
  store i32 0, i32* %bSet, align 4, !dbg !240, !tbaa !198
  %call94 = call noalias i8* @strdup(i8* %1) #8, !dbg !241
  %name = getelementptr inbounds %struct.t_inpfile* %17, i64 %idxprom88, i32 2, !dbg !241
  store i8* %call94, i8** %name, align 8, !dbg !241, !tbaa !193
  %call99 = call noalias i8* @strdup(i8* %2) #8, !dbg !242
  %value = getelementptr inbounds %struct.t_inpfile* %17, i64 %idxprom88, i32 3, !dbg !242
  store i8* %call99, i8** %value, align 8, !dbg !242, !tbaa !193
  br label %do.body

do.end:                                           ; preds = %do.body
  call void @ffclose(%struct._IO_FILE* %call1) #8, !dbg !243
  %18 = load %struct._IO_FILE** @debug, align 8, !dbg !244, !tbaa !193
  %tobool108 = icmp eq %struct._IO_FILE* %18, null, !dbg !244
  br i1 %tobool108, label %if.end111, label %if.then109, !dbg !244

if.then109:                                       ; preds = %do.end
  %call110 = call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %18, i8* getelementptr inbounds ([55 x i8]* @.str7, i64 0, i64 0), i32 %nin.0) #8, !dbg !245
  br label %if.end111, !dbg !245

if.end111:                                        ; preds = %do.end, %if.then109
  store i32 %nin.0, i32* %ninp, align 4, !dbg !246, !tbaa !198
  call void @llvm.lifetime.end(i64 4096, i8* %2) #2, !dbg !247
  call void @llvm.lifetime.end(i64 4096, i8* %1) #2, !dbg !247
  call void @llvm.lifetime.end(i64 4096, i8* %0) #2, !dbg !247
  ret %struct.t_inpfile* %inp.0, !dbg !247
}
