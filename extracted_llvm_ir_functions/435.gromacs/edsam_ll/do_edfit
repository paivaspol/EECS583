define void @do_edfit(i32 %natoms, [3 x float]* nocapture %xp, [3 x float]* nocapture %x, [3 x float]* nocapture %R) #0 {
entry:
  %irot = alloca i32, align 4
  %d = alloca [6 x double], align 16
  %0 = bitcast [6 x double]* %d to i8*
  %vh = alloca [3 x [3 x float]], align 16
  %vk = alloca [3 x [3 x float]], align 16
  %u = alloca [3 x [3 x float]], align 16
  call void @llvm.lifetime.start(i64 48, i8* %0) #3
  %1 = bitcast [3 x [3 x float]]* %vh to i8*
  call void @llvm.lifetime.start(i64 36, i8* %1) #3
  %2 = bitcast [3 x [3 x float]]* %vk to i8*
  call void @llvm.lifetime.start(i64 36, i8* %2) #3
  %3 = bitcast [3 x [3 x float]]* %u to i8*
  call void @llvm.lifetime.start(i64 36, i8* %3) #3
  %call = call i8* @save_calloc(i8* getelementptr inbounds ([6 x i8]* @.str43, i64 0, i64 0), i8* getelementptr inbounds ([53 x i8]* @.str3, i64 0, i64 0), i32 453, i32 6, i32 8) #6
  %4 = bitcast i8* %call to double**
  %call1 = call i8* @save_calloc(i8* getelementptr inbounds ([3 x i8]* @.str44, i64 0, i64 0), i8* getelementptr inbounds ([53 x i8]* @.str3, i64 0, i64 0), i32 454, i32 6, i32 8) #6
  %5 = bitcast i8* %call1 to double**
  br label %for.body

for.body:                                         ; preds = %for.body, %entry
  %indvars.iv425 = phi i64 [ 0, %entry ], [ %indvars.iv.next426, %for.body ]
  %call3 = call i8* @save_calloc(i8* getelementptr inbounds ([9 x i8]* @.str45, i64 0, i64 0), i8* getelementptr inbounds ([53 x i8]* @.str3, i64 0, i64 0), i32 456, i32 6, i32 8) #6
  %6 = bitcast i8* %call3 to double*
  %arrayidx = getelementptr inbounds double** %4, i64 %indvars.iv425
  store double* %6, double** %arrayidx, align 8, !tbaa !0
  %call4 = call i8* @save_calloc(i8* getelementptr inbounds ([6 x i8]* @.str46, i64 0, i64 0), i8* getelementptr inbounds ([53 x i8]* @.str3, i64 0, i64 0), i32 457, i32 6, i32 8) #6
  %7 = bitcast i8* %call4 to double*
  %arrayidx6 = getelementptr inbounds double** %5, i64 %indvars.iv425
  store double* %7, double** %arrayidx6, align 8, !tbaa !0
  %indvars.iv.next426 = add i64 %indvars.iv425, 1
  %lftr.wideiv427 = trunc i64 %indvars.iv.next426 to i32
  %exitcond428 = icmp eq i32 %lftr.wideiv427, 6
  br i1 %exitcond428, label %for.body9, label %for.body

for.body9:                                        ; preds = %for.body, %for.inc26
  %indvars.iv421 = phi i64 [ %indvars.iv.next422, %for.inc26 ], [ 0, %for.body ]
  %arrayidx11 = getelementptr inbounds [6 x double]* %d, i64 0, i64 %indvars.iv421
  store double 0.000000e+00, double* %arrayidx11, align 8, !tbaa !5
  %arrayidx17 = getelementptr inbounds double** %4, i64 %indvars.iv421
  %8 = load double** %arrayidx17, align 8, !tbaa !0
  %arrayidx21 = getelementptr inbounds double** %5, i64 %indvars.iv421
  %9 = load double** %arrayidx21, align 8, !tbaa !0
  br label %for.body14

for.body14:                                       ; preds = %for.body14, %for.body9
  %indvars.iv417 = phi i64 [ 0, %for.body9 ], [ %indvars.iv.next418, %for.body14 ]
  %arrayidx18 = getelementptr inbounds double* %8, i64 %indvars.iv417
  store double 0.000000e+00, double* %arrayidx18, align 8, !tbaa !5
  %arrayidx22 = getelementptr inbounds double* %9, i64 %indvars.iv417
  store double 0.000000e+00, double* %arrayidx22, align 8, !tbaa !5
  %indvars.iv.next418 = add i64 %indvars.iv417, 1
  %lftr.wideiv419 = trunc i64 %indvars.iv.next418 to i32
  %exitcond420 = icmp eq i32 %lftr.wideiv419, 6
  br i1 %exitcond420, label %for.inc26, label %for.body14

for.inc26:                                        ; preds = %for.body14
  %indvars.iv.next422 = add i64 %indvars.iv421, 1
  %lftr.wideiv423 = trunc i64 %indvars.iv.next422 to i32
  %exitcond424 = icmp eq i32 %lftr.wideiv423, 6
  br i1 %exitcond424, label %for.end28, label %for.body9

for.end28:                                        ; preds = %for.inc26
  call void @llvm.memset.p0i8.i64(i8* %3, i8 0, i64 36, i32 16, i1 false) #3
  %cmp30364 = icmp sgt i32 %natoms, 0
  br i1 %cmp30364, label %for.cond32.preheader, label %for.body70.lr.ph

for.cond32.preheader:                             ; preds = %for.end28, %for.inc60
  %indvars.iv413 = phi i64 [ %indvars.iv.next414, %for.inc60 ], [ 0, %for.end28 ]
  br label %for.body34

for.body34:                                       ; preds = %for.inc57, %for.cond32.preheader
  %indvars.iv409 = phi i64 [ 0, %for.cond32.preheader ], [ %indvars.iv.next410, %for.inc57 ]
  %arrayidx38 = getelementptr inbounds [3 x float]* %xp, i64 %indvars.iv413, i64 %indvars.iv409
  %10 = load float* %arrayidx38, align 4, !tbaa !4
  %conv = fpext float %10 to double
  br label %for.body42

for.body42:                                       ; preds = %for.body42, %for.body34
  %indvars.iv405 = phi i64 [ 0, %for.body34 ], [ %indvars.iv.next406, %for.body42 ]
  %arrayidx46 = getelementptr inbounds [3 x float]* %x, i64 %indvars.iv413, i64 %indvars.iv405
  %11 = load float* %arrayidx46, align 4, !tbaa !4
  %conv47 = fpext float %11 to double
  %mul = fmul double %conv, %conv47
  %arrayidx51 = getelementptr inbounds [3 x [3 x float]]* %u, i64 0, i64 %indvars.iv409, i64 %indvars.iv405
  %12 = load float* %arrayidx51, align 4, !tbaa !4
  %conv52 = fpext float %12 to double
  %add = fadd double %conv52, %mul
  %conv53 = fptrunc double %add to float
  store float %conv53, float* %arrayidx51, align 4, !tbaa !4
  %indvars.iv.next406 = add i64 %indvars.iv405, 1
  %lftr.wideiv407 = trunc i64 %indvars.iv.next406 to i32
  %exitcond408 = icmp eq i32 %lftr.wideiv407, 3
  br i1 %exitcond408, label %for.inc57, label %for.body42

for.inc57:                                        ; preds = %for.body42
  %indvars.iv.next410 = add i64 %indvars.iv409, 1
  %lftr.wideiv411 = trunc i64 %indvars.iv.next410 to i32
  %exitcond412 = icmp eq i32 %lftr.wideiv411, 3
  br i1 %exitcond412, label %for.inc60, label %for.body34

for.inc60:                                        ; preds = %for.inc57
  %indvars.iv.next414 = add i64 %indvars.iv413, 1
  %lftr.wideiv415 = trunc i64 %indvars.iv.next414 to i32
  %exitcond416 = icmp eq i32 %lftr.wideiv415, %natoms
  br i1 %exitcond416, label %for.body70.lr.ph, label %for.cond32.preheader

for.body70.lr.ph:                                 ; preds = %for.inc107, %for.inc60, %for.end28
  %indvars.iv400 = phi i64 [ %indvars.iv.next401, %for.inc107 ], [ 0, %for.inc60 ], [ 0, %for.end28 ]
  %indvars.iv396 = phi i32 [ %indvars.iv.next397, %for.inc107 ], [ 1, %for.inc60 ], [ 1, %for.end28 ]
  %13 = trunc i64 %indvars.iv400 to i32
  %cmp71 = icmp sgt i32 %13, 2
  %14 = add nsw i64 %indvars.iv400, -3
  %arrayidx83 = getelementptr inbounds double** %4, i64 %indvars.iv400
  br label %for.body70

for.body70:                                       ; preds = %for.inc104, %for.body70.lr.ph
  %indvars.iv394 = phi i64 [ %indvars.iv.next395, %for.inc104 ], [ 0, %for.body70.lr.ph ]
  %15 = trunc i64 %indvars.iv394 to i32
  %cmp73 = icmp slt i32 %15, 3
  %or.cond = and i1 %cmp71, %cmp73
  br i1 %or.cond, label %if.then75, label %if.else

if.then75:                                        ; preds = %for.body70
  %arrayidx79 = getelementptr inbounds [3 x [3 x float]]* %u, i64 0, i64 %14, i64 %indvars.iv394
  %16 = load float* %arrayidx79, align 4, !tbaa !4
  %conv80 = fpext float %16 to double
  %17 = load double** %arrayidx83, align 8, !tbaa !0
  %arrayidx84 = getelementptr inbounds double* %17, i64 %indvars.iv394
  store double %conv80, double* %arrayidx84, align 8, !tbaa !5
  %arrayidx93 = getelementptr inbounds double** %4, i64 %indvars.iv394
  %18 = load double** %arrayidx93, align 8, !tbaa !0
  %arrayidx94 = getelementptr inbounds double* %18, i64 %indvars.iv400
  store double %conv80, double* %arrayidx94, align 8, !tbaa !5
  br label %for.inc104

if.else:                                          ; preds = %for.body70
  %19 = load double** %arrayidx83, align 8, !tbaa !0
  %arrayidx98 = getelementptr inbounds double* %19, i64 %indvars.iv394
  store double 0.000000e+00, double* %arrayidx98, align 8, !tbaa !5
  %arrayidx101 = getelementptr inbounds double** %4, i64 %indvars.iv394
  %20 = load double** %arrayidx101, align 8, !tbaa !0
  %arrayidx102 = getelementptr inbounds double* %20, i64 %indvars.iv400
  store double 0.000000e+00, double* %arrayidx102, align 8, !tbaa !5
  br label %for.inc104

for.inc104:                                       ; preds = %if.then75, %if.else
  %indvars.iv.next395 = add i64 %indvars.iv394, 1
  %lftr.wideiv398 = trunc i64 %indvars.iv.next395 to i32
  %exitcond399 = icmp eq i32 %lftr.wideiv398, %indvars.iv396
  br i1 %exitcond399, label %for.inc107, label %for.body70

for.inc107:                                       ; preds = %for.inc104
  %indvars.iv.next401 = add i64 %indvars.iv400, 1
  %indvars.iv.next397 = add i32 %indvars.iv396, 1
  %lftr.wideiv403 = trunc i64 %indvars.iv.next401 to i32
  %exitcond404 = icmp eq i32 %lftr.wideiv403, 6
  br i1 %exitcond404, label %for.end109, label %for.body70.lr.ph

for.end109:                                       ; preds = %for.inc107
  %arraydecay110 = getelementptr inbounds [6 x double]* %d, i64 0, i64 0
  call void @jacobi(double** %4, i32 6, double* %arraydecay110, double** %5, i32* %irot) #6
  %21 = load i32* %irot, align 4, !tbaa !3
  %cmp111 = icmp eq i32 %21, 0
  br i1 %cmp111, label %if.then113, label %for.cond120.preheader

if.then113:                                       ; preds = %for.end109
  %22 = load %struct._IO_FILE** @stderr, align 8, !tbaa !0
  %23 = call i64 @fwrite(i8* getelementptr inbounds ([8 x i8]* @.str47, i64 0, i64 0), i64 7, i64 1, %struct._IO_FILE* %22)
  br label %for.cond120.preheader

for.cond120.preheader:                            ; preds = %for.end109, %if.then113, %for.inc167
  %indvars.iv390 = phi i64 [ %indvars.iv.next391, %for.inc167 ], [ 0, %if.then113 ], [ 0, %for.end109 ]
  %index.0358 = phi i32 [ %index.2, %for.inc167 ], [ 0, %if.then113 ], [ 0, %for.end109 ]
  br label %for.body123

for.body123:                                      ; preds = %for.inc134, %for.cond120.preheader
  %indvars.iv381 = phi i64 [ 0, %for.cond120.preheader ], [ %indvars.iv.next382, %for.inc134 ]
  %max_d.0355 = phi float [ -1.000000e+03, %for.cond120.preheader ], [ %max_d.1, %for.inc134 ]
  %index.1354 = phi i32 [ %index.0358, %for.cond120.preheader ], [ %index.2, %for.inc134 ]
  %arrayidx125 = getelementptr inbounds [6 x double]* %d, i64 0, i64 %indvars.iv381
  %24 = load double* %arrayidx125, align 8, !tbaa !5
  %conv126 = fpext float %max_d.0355 to double
  %cmp127 = fcmp ogt double %24, %conv126
  br i1 %cmp127, label %if.then129, label %for.inc134

if.then129:                                       ; preds = %for.body123
  %conv132 = fptrunc double %24 to float
  %25 = trunc i64 %indvars.iv381 to i32
  br label %for.inc134

for.inc134:                                       ; preds = %for.body123, %if.then129
  %index.2 = phi i32 [ %25, %if.then129 ], [ %index.1354, %for.body123 ]
  %max_d.1 = phi float [ %conv132, %if.then129 ], [ %max_d.0355, %for.body123 ]
  %indvars.iv.next382 = add i64 %indvars.iv381, 1
  %lftr.wideiv383 = trunc i64 %indvars.iv.next382 to i32
  %exitcond384 = icmp eq i32 %lftr.wideiv383, 6
  br i1 %exitcond384, label %for.end136, label %for.body123

for.end136:                                       ; preds = %for.inc134
  %idxprom137 = sext i32 %index.2 to i64
  %arrayidx138 = getelementptr inbounds [6 x double]* %d, i64 0, i64 %idxprom137
  store double -1.000000e+04, double* %arrayidx138, align 8, !tbaa !5
  br label %for.body142

for.body142:                                      ; preds = %for.body142, %for.end136
  %indvars.iv385 = phi i64 [ 0, %for.end136 ], [ %indvars.iv.next386, %for.body142 ]
  %arrayidx145 = getelementptr inbounds double** %5, i64 %indvars.iv385
  %26 = load double** %arrayidx145, align 8, !tbaa !0
  %arrayidx146 = getelementptr inbounds double* %26, i64 %idxprom137
  %27 = load double* %arrayidx146, align 8, !tbaa !5
  %mul147 = fmul double %27, 0x3FF6A09E667F3BCD
  %conv148 = fptrunc double %mul147 to float
  %arrayidx152 = getelementptr inbounds [3 x [3 x float]]* %vh, i64 0, i64 %indvars.iv390, i64 %indvars.iv385
  store float %conv148, float* %arrayidx152, align 4, !tbaa !4
  %28 = add nsw i64 %indvars.iv385, 3
  %arrayidx156 = getelementptr inbounds double** %5, i64 %28
  %29 = load double** %arrayidx156, align 8, !tbaa !0
  %arrayidx157 = getelementptr inbounds double* %29, i64 %idxprom137
  %30 = load double* %arrayidx157, align 8, !tbaa !5
  %mul158 = fmul double %30, 0x3FF6A09E667F3BCD
  %conv159 = fptrunc double %mul158 to float
  %arrayidx163 = getelementptr inbounds [3 x [3 x float]]* %vk, i64 0, i64 %indvars.iv390, i64 %indvars.iv385
  store float %conv159, float* %arrayidx163, align 4, !tbaa !4
  %indvars.iv.next386 = add i64 %indvars.iv385, 1
  %lftr.wideiv388 = trunc i64 %indvars.iv.next386 to i32
  %exitcond389 = icmp eq i32 %lftr.wideiv388, 3
  br i1 %exitcond389, label %for.inc167, label %for.body142

for.inc167:                                       ; preds = %for.body142
  %indvars.iv.next391 = add i64 %indvars.iv390, 1
  %lftr.wideiv392 = trunc i64 %indvars.iv.next391 to i32
  %exitcond393 = icmp eq i32 %lftr.wideiv392, 3
  br i1 %exitcond393, label %for.cond174.preheader, label %for.cond120.preheader

for.cond174.preheader:                            ; preds = %for.inc167, %for.inc208
  %indvars.iv377 = phi i64 [ %indvars.iv.next378, %for.inc208 ], [ 0, %for.inc167 ]
  %arrayidx183 = getelementptr inbounds [3 x [3 x float]]* %vh, i64 0, i64 0, i64 %indvars.iv377
  %31 = load float* %arrayidx183, align 4, !tbaa !4
  %arrayidx190 = getelementptr inbounds [3 x [3 x float]]* %vh, i64 0, i64 1, i64 %indvars.iv377
  %32 = load float* %arrayidx190, align 4, !tbaa !4
  %arrayidx198 = getelementptr inbounds [3 x [3 x float]]* %vh, i64 0, i64 2, i64 %indvars.iv377
  %33 = load float* %arrayidx198, align 4, !tbaa !4
  br label %for.body177

for.body177:                                      ; preds = %for.body177, %for.cond174.preheader
  %indvars.iv373 = phi i64 [ 0, %for.cond174.preheader ], [ %indvars.iv.next374, %for.body177 ]
  %arrayidx180 = getelementptr inbounds [3 x [3 x float]]* %vk, i64 0, i64 0, i64 %indvars.iv373
  %34 = load float* %arrayidx180, align 4, !tbaa !4
  %mul184 = fmul float %34, %31
  %arrayidx187 = getelementptr inbounds [3 x [3 x float]]* %vk, i64 0, i64 1, i64 %indvars.iv373
  %35 = load float* %arrayidx187, align 4, !tbaa !4
  %mul191 = fmul float %35, %32
  %add192 = fadd float %mul184, %mul191
  %arrayidx195 = getelementptr inbounds [3 x [3 x float]]* %vk, i64 0, i64 2, i64 %indvars.iv373
  %36 = load float* %arrayidx195, align 4, !tbaa !4
  %mul199 = fmul float %36, %33
  %add200 = fadd float %add192, %mul199
  %arrayidx204 = getelementptr inbounds [3 x float]* %R, i64 %indvars.iv377, i64 %indvars.iv373
  store float %add200, float* %arrayidx204, align 4, !tbaa !4
  %indvars.iv.next374 = add i64 %indvars.iv373, 1
  %lftr.wideiv375 = trunc i64 %indvars.iv.next374 to i32
  %exitcond376 = icmp eq i32 %lftr.wideiv375, 3
  br i1 %exitcond376, label %for.inc208, label %for.body177

for.inc208:                                       ; preds = %for.body177
  %indvars.iv.next378 = add i64 %indvars.iv377, 1
  %lftr.wideiv379 = trunc i64 %indvars.iv.next378 to i32
  %exitcond380 = icmp eq i32 %lftr.wideiv379, 3
  br i1 %exitcond380, label %for.end210, label %for.cond174.preheader

for.end210:                                       ; preds = %for.inc208
  %arrayidx1.i = getelementptr inbounds [3 x float]* %R, i64 0, i64 0
  %37 = load float* %arrayidx1.i, align 4, !tbaa !4
  %arrayidx3.i = getelementptr inbounds [3 x float]* %R, i64 1, i64 1
  %38 = load float* %arrayidx3.i, align 4, !tbaa !4
  %arrayidx5.i = getelementptr inbounds [3 x float]* %R, i64 2, i64 2
  %39 = load float* %arrayidx5.i, align 4, !tbaa !4
  %mul.i = fmul float %38, %39
  %arrayidx7.i = getelementptr inbounds [3 x float]* %R, i64 2, i64 1
  %40 = load float* %arrayidx7.i, align 4, !tbaa !4
  %arrayidx9.i = getelementptr inbounds [3 x float]* %R, i64 1, i64 2
  %41 = load float* %arrayidx9.i, align 4, !tbaa !4
  %mul10.i = fmul float %40, %41
  %sub.i = fsub float %mul.i, %mul10.i
  %mul11.i = fmul float %37, %sub.i
  %arrayidx13.i = getelementptr inbounds [3 x float]* %R, i64 1, i64 0
  %42 = load float* %arrayidx13.i, align 4, !tbaa !4
  %arrayidx15.i = getelementptr inbounds [3 x float]* %R, i64 0, i64 1
  %43 = load float* %arrayidx15.i, align 4, !tbaa !4
  %mul18.i = fmul float %39, %43
  %arrayidx22.i = getelementptr inbounds [3 x float]* %R, i64 0, i64 2
  %44 = load float* %arrayidx22.i, align 4, !tbaa !4
  %mul23.i = fmul float %40, %44
  %sub24.i = fsub float %mul18.i, %mul23.i
  %mul25.i = fmul float %42, %sub24.i
  %sub26.i = fsub float %mul11.i, %mul25.i
  %arrayidx28.i = getelementptr inbounds [3 x float]* %R, i64 2, i64 0
  %45 = load float* %arrayidx28.i, align 4, !tbaa !4
  %mul33.i = fmul float %41, %43
  %mul38.i = fmul float %38, %44
  %sub39.i = fsub float %mul33.i, %mul38.i
  %mul40.i = fmul float %45, %sub39.i
  %add.i = fadd float %mul40.i, %sub26.i
  %cmp212 = fcmp olt float %add.i, 0.000000e+00
  br i1 %cmp212, label %for.cond219.preheader, label %if.end256

for.cond219.preheader:                            ; preds = %for.end210, %for.inc253
  %indvars.iv369 = phi i64 [ %indvars.iv.next370, %for.inc253 ], [ 0, %for.end210 ]
  %arrayidx228 = getelementptr inbounds [3 x [3 x float]]* %vh, i64 0, i64 0, i64 %indvars.iv369
  %46 = load float* %arrayidx228, align 4, !tbaa !4
  %arrayidx235 = getelementptr inbounds [3 x [3 x float]]* %vh, i64 0, i64 1, i64 %indvars.iv369
  %47 = load float* %arrayidx235, align 4, !tbaa !4
  %arrayidx243 = getelementptr inbounds [3 x [3 x float]]* %vh, i64 0, i64 2, i64 %indvars.iv369
  %48 = load float* %arrayidx243, align 4, !tbaa !4
  br label %for.body222

for.body222:                                      ; preds = %for.body222, %for.cond219.preheader
  %indvars.iv = phi i64 [ 0, %for.cond219.preheader ], [ %indvars.iv.next, %for.body222 ]
  %arrayidx225 = getelementptr inbounds [3 x [3 x float]]* %vk, i64 0, i64 0, i64 %indvars.iv
  %49 = load float* %arrayidx225, align 4, !tbaa !4
  %mul229 = fmul float %49, %46
  %arrayidx232 = getelementptr inbounds [3 x [3 x float]]* %vk, i64 0, i64 1, i64 %indvars.iv
  %50 = load float* %arrayidx232, align 4, !tbaa !4
  %mul236 = fmul float %50, %47
  %add237 = fadd float %mul229, %mul236
  %arrayidx240 = getelementptr inbounds [3 x [3 x float]]* %vk, i64 0, i64 2, i64 %indvars.iv
  %51 = load float* %arrayidx240, align 4, !tbaa !4
  %mul244 = fmul float %51, %48
  %sub245 = fsub float %add237, %mul244
  %arrayidx249 = getelementptr inbounds [3 x float]* %R, i64 %indvars.iv369, i64 %indvars.iv
  store float %sub245, float* %arrayidx249, align 4, !tbaa !4
  %indvars.iv.next = add i64 %indvars.iv, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32
  %exitcond = icmp eq i32 %lftr.wideiv, 3
  br i1 %exitcond, label %for.inc253, label %for.body222

for.inc253:                                       ; preds = %for.body222
  %indvars.iv.next370 = add i64 %indvars.iv369, 1
  %lftr.wideiv371 = trunc i64 %indvars.iv.next370 to i32
  %exitcond372 = icmp eq i32 %lftr.wideiv371, 3
  br i1 %exitcond372, label %if.end256, label %for.cond219.preheader

if.end256:                                        ; preds = %for.inc253, %for.end210
  call void @llvm.lifetime.end(i64 36, i8* %3) #3
  call void @llvm.lifetime.end(i64 36, i8* %2) #3
  call void @llvm.lifetime.end(i64 36, i8* %1) #3
  call void @llvm.lifetime.end(i64 48, i8* %0) #3
  ret void
}
