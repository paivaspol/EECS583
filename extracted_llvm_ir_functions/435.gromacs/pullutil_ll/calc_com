define float @calc_com([3 x float]* nocapture %x, i32 %gnx, i32* nocapture %index, %struct.t_mdatoms* nocapture %md, float* nocapture %com, [3 x float]* nocapture %box) #0 {
entry:
  store float 0.000000e+00, float* %com, align 4, !tbaa !0
  %arrayidx1.i = getelementptr inbounds float* %com, i64 1
  store float 0.000000e+00, float* %arrayidx1.i, align 4, !tbaa !0
  %arrayidx2.i = getelementptr inbounds float* %com, i64 2
  store float 0.000000e+00, float* %arrayidx2.i, align 4, !tbaa !0
  %cmp73 = icmp sgt i32 %gnx, 0
  br i1 %cmp73, label %for.body.lr.ph, label %for.end15

for.body.lr.ph:                                   ; preds = %entry
  %massT = getelementptr inbounds %struct.t_mdatoms* %md, i64 0, i32 4
  %0 = load float** %massT, align 8, !tbaa !3
  br label %for.body

for.body:                                         ; preds = %for.inc13, %for.body.lr.ph
  %indvars.iv78 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next79, %for.inc13 ]
  %tm.075 = phi float [ 0.000000e+00, %for.body.lr.ph ], [ %add, %for.inc13 ]
  %arrayidx = getelementptr inbounds i32* %index, i64 %indvars.iv78
  %1 = load i32* %arrayidx, align 4, !tbaa !4
  %idxprom1 = sext i32 %1 to i64
  %arrayidx2 = getelementptr inbounds float* %0, i64 %idxprom1
  %2 = load float* %arrayidx2, align 4, !tbaa !0
  br label %for.body5

for.body5:                                        ; preds = %for.body5, %for.body
  %indvars.iv76 = phi i64 [ 0, %for.body ], [ %indvars.iv.next77, %for.body5 ]
  %arrayidx9 = getelementptr inbounds [3 x float]* %x, i64 %idxprom1, i64 %indvars.iv76
  %3 = load float* %arrayidx9, align 4, !tbaa !0
  %mul = fmul float %2, %3
  %arrayidx11 = getelementptr inbounds float* %com, i64 %indvars.iv76
  %4 = load float* %arrayidx11, align 4, !tbaa !0
  %add12 = fadd float %4, %mul
  store float %add12, float* %arrayidx11, align 4, !tbaa !0
  %indvars.iv.next77 = add i64 %indvars.iv76, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next77 to i32
  %exitcond = icmp eq i32 %lftr.wideiv, 3
  br i1 %exitcond, label %for.inc13, label %for.body5

for.inc13:                                        ; preds = %for.body5
  %add = fadd float %tm.075, %2
  %indvars.iv.next79 = add i64 %indvars.iv78, 1
  %lftr.wideiv80 = trunc i64 %indvars.iv.next79 to i32
  %exitcond81 = icmp eq i32 %lftr.wideiv80, %gnx
  br i1 %exitcond81, label %for.cond.for.end15_crit_edge, label %for.body

for.cond.for.end15_crit_edge:                     ; preds = %for.inc13
  %.pre = load float* %com, align 4, !tbaa !0
  %.pre82 = load float* %arrayidx1.i, align 4, !tbaa !0
  %.pre83 = load float* %arrayidx2.i, align 4, !tbaa !0
  br label %for.end15

for.end15:                                        ; preds = %for.cond.for.end15_crit_edge, %entry
  %5 = phi float [ %.pre83, %for.cond.for.end15_crit_edge ], [ 0.000000e+00, %entry ]
  %6 = phi float [ %.pre82, %for.cond.for.end15_crit_edge ], [ 0.000000e+00, %entry ]
  %7 = phi float [ %.pre, %for.cond.for.end15_crit_edge ], [ 0.000000e+00, %entry ]
  %tm.0.lcssa = phi float [ %add, %for.cond.for.end15_crit_edge ], [ 0.000000e+00, %entry ]
  %div = fdiv float 1.000000e+00, %tm.0.lcssa
  %mul.i = fmul float %div, %7
  store float %mul.i, float* %com, align 4, !tbaa !0
  %mul3.i = fmul float %div, %6
  store float %mul3.i, float* %arrayidx1.i, align 4, !tbaa !0
  %mul6.i = fmul float %div, %5
  store float %mul6.i, float* %arrayidx2.i, align 4, !tbaa !0
  br label %for.body18

for.body18:                                       ; preds = %for.inc36.for.body18_crit_edge, %for.end15
  %8 = phi float [ %mul6.i, %for.end15 ], [ %.pre85, %for.inc36.for.body18_crit_edge ]
  %9 = phi float [ %mul6.i, %for.end15 ], [ %23, %for.inc36.for.body18_crit_edge ]
  %10 = phi float [ %mul3.i, %for.end15 ], [ %24, %for.inc36.for.body18_crit_edge ]
  %11 = phi float [ %mul.i, %for.end15 ], [ %25, %for.inc36.for.body18_crit_edge ]
  %indvars.iv = phi i64 [ 2, %for.end15 ], [ %indvars.iv.next, %for.inc36.for.body18_crit_edge ]
  %cmp21 = fcmp olt float %8, 0.000000e+00
  br i1 %cmp21, label %if.then, label %if.end

if.then:                                          ; preds = %for.body18
  %arrayidx20 = getelementptr inbounds float* %com, i64 %indvars.iv
  %arraydecay = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv, i64 0
  %12 = load float* %arraydecay, align 4, !tbaa !0
  %add.i = fadd float %11, %12
  %arrayidx3.i66 = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv, i64 1
  %13 = load float* %arrayidx3.i66, align 4, !tbaa !0
  %add4.i = fadd float %10, %13
  %arrayidx6.i68 = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv, i64 2
  %14 = load float* %arrayidx6.i68, align 4, !tbaa !0
  %add7.i = fadd float %9, %14
  store float %add.i, float* %com, align 4, !tbaa !0
  store float %add4.i, float* %arrayidx1.i, align 4, !tbaa !0
  store float %add7.i, float* %arrayidx2.i, align 4, !tbaa !0
  %.pre84 = load float* %arrayidx20, align 4, !tbaa !0
  br label %if.end

if.end:                                           ; preds = %if.then, %for.body18
  %15 = phi float [ %.pre84, %if.then ], [ %8, %for.body18 ]
  %16 = phi float [ %add7.i, %if.then ], [ %9, %for.body18 ]
  %17 = phi float [ %add4.i, %if.then ], [ %10, %for.body18 ]
  %18 = phi float [ %add.i, %if.then ], [ %11, %for.body18 ]
  %arrayidx29 = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv, i64 %indvars.iv
  %19 = load float* %arrayidx29, align 4, !tbaa !0
  %cmp30 = fcmp ogt float %15, %19
  br i1 %cmp30, label %if.then31, label %for.inc36

if.then31:                                        ; preds = %if.end
  %arraydecay34 = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv, i64 0
  %20 = load float* %arraydecay34, align 4, !tbaa !0
  %sub.i = fsub float %18, %20
  %arrayidx3.i = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv, i64 1
  %21 = load float* %arrayidx3.i, align 4, !tbaa !0
  %sub4.i = fsub float %17, %21
  %arrayidx6.i = getelementptr inbounds [3 x float]* %box, i64 %indvars.iv, i64 2
  %22 = load float* %arrayidx6.i, align 4, !tbaa !0
  %sub7.i = fsub float %16, %22
  store float %sub.i, float* %com, align 4, !tbaa !0
  store float %sub4.i, float* %arrayidx1.i, align 4, !tbaa !0
  store float %sub7.i, float* %arrayidx2.i, align 4, !tbaa !0
  br label %for.inc36

for.inc36:                                        ; preds = %if.end, %if.then31
  %23 = phi float [ %16, %if.end ], [ %sub7.i, %if.then31 ]
  %24 = phi float [ %17, %if.end ], [ %sub4.i, %if.then31 ]
  %25 = phi float [ %18, %if.end ], [ %sub.i, %if.then31 ]
  %indvars.iv.next = add i64 %indvars.iv, -1
  %26 = trunc i64 %indvars.iv to i32
  %cmp17 = icmp sgt i32 %26, 0
  br i1 %cmp17, label %for.inc36.for.body18_crit_edge, label %for.end37

for.inc36.for.body18_crit_edge:                   ; preds = %for.inc36
  %arrayidx20.phi.trans.insert = getelementptr inbounds float* %com, i64 %indvars.iv.next
  %.pre85 = load float* %arrayidx20.phi.trans.insert, align 4, !tbaa !0
  br label %for.body18

for.end37:                                        ; preds = %for.inc36
  ret float %tm.0.lcssa
}
