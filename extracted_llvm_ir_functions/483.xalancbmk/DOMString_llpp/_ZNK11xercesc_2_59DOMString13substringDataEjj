define void @_ZNK11xercesc_2_59DOMString13substringDataEjj(%"class.xercesc_2_5::DOMString"* noalias nocapture sret %agg.result, %"class.xercesc_2_5::DOMString"* nocapture %this, i32 %offset, i32 %count) #1 align 2 {
entry:
  %ref.tmp = alloca %"class.xercesc_2_5::DOMString", align 8
  %retString = alloca %"class.xercesc_2_5::DOMString", align 8
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMString"* %this}, i64 0, metadata !1168), !dbg !2330
  call void @llvm.dbg.value(metadata !{i32 %offset}, i64 0, metadata !1169), !dbg !2330
  call void @llvm.dbg.value(metadata !{i32 %count}, i64 0, metadata !1170), !dbg !2330
  tail call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMString"* %this}, i64 0, metadata !2331), !dbg !2333
  tail call void @llvm.dbg.value(metadata !835, i64 0, metadata !2334), !dbg !2335
  %fHandle.i = getelementptr inbounds %"class.xercesc_2_5::DOMString"* %this, i64 0, i32 0, !dbg !2336
  %0 = load %"class.xercesc_2_5::DOMStringHandle"** %fHandle.i, align 8, !dbg !2336, !tbaa !1648
  %cmp.i = icmp eq %"class.xercesc_2_5::DOMStringHandle"* %0, null, !dbg !2336
  br i1 %cmp.i, label %_ZNK11xercesc_2_59DOMString6lengthEv.exit, label %if.then.i, !dbg !2336

if.then.i:                                        ; preds = %entry
  %fLength.i = getelementptr inbounds %"class.xercesc_2_5::DOMStringHandle"* %0, i64 0, i32 0, !dbg !2337
  %1 = load i32* %fLength.i, align 4, !dbg !2337, !tbaa !1682
  tail call void @llvm.dbg.value(metadata !{i32 %1}, i64 0, metadata !2334), !dbg !2337
  br label %_ZNK11xercesc_2_59DOMString6lengthEv.exit, !dbg !2337

_ZNK11xercesc_2_59DOMString6lengthEv.exit:        ; preds = %entry, %if.then.i
  %len.0.i = phi i32 [ %1, %if.then.i ], [ 0, %entry ]
  call void @llvm.dbg.value(metadata !{i32 %len.0.i}, i64 0, metadata !1171), !dbg !2332
  %cmp = icmp ult i32 %len.0.i, %offset, !dbg !2338
  br i1 %cmp, label %invoke.cont, label %if.end, !dbg !2338

invoke.cont:                                      ; preds = %_ZNK11xercesc_2_59DOMString6lengthEv.exit
  %exception = call i8* @__cxa_allocate_exception(i64 24) #8, !dbg !2339
  tail call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMString"* %ref.tmp}, i64 0, metadata !2340), !dbg !2341
  tail call void @llvm.dbg.value(metadata !2080, i64 0, metadata !2342), !dbg !2341
  %fHandle.i41 = getelementptr inbounds %"class.xercesc_2_5::DOMString"* %ref.tmp, i64 0, i32 0, !dbg !2343
  store %"class.xercesc_2_5::DOMStringHandle"* null, %"class.xercesc_2_5::DOMStringHandle"** %fHandle.i41, align 8, !dbg !2343, !tbaa !1648
  %2 = bitcast i8* %exception to %"class.xercesc_2_5::DOM_DOMException"*, !dbg !2339
  invoke void @_ZN11xercesc_2_516DOM_DOMExceptionC1EsRKNS_9DOMStringE(%"class.xercesc_2_5::DOM_DOMException"* %2, i16 signext 1, %"class.xercesc_2_5::DOMString"* %ref.tmp) #9
          to label %invoke.cont6 unwind label %lpad5, !dbg !2339

invoke.cont6:                                     ; preds = %invoke.cont
  invoke void @__cxa_throw(i8* %exception, i8* bitcast (i8** @_ZTIN11xercesc_2_516DOM_DOMExceptionE to i8*), i8* bitcast (void (%"class.xercesc_2_5::DOM_DOMException"*)* @_ZN11xercesc_2_516DOM_DOMExceptionD1Ev to i8*)) #12
          to label %unreachable unwind label %lpad5, !dbg !2339

lpad5:                                            ; preds = %invoke.cont6, %invoke.cont
  %cleanup.isactive.0 = phi i1 [ false, %invoke.cont6 ], [ true, %invoke.cont ]
  %3 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          cleanup, !dbg !2339
  %4 = extractvalue { i8*, i32 } %3, 0, !dbg !2339
  %5 = extractvalue { i8*, i32 } %3, 1, !dbg !2339
  invoke void @_ZN11xercesc_2_59DOMStringD2Ev(%"class.xercesc_2_5::DOMString"* %ref.tmp) #9
          to label %ehcleanup unwind label %terminate.lpad, !dbg !2339

ehcleanup:                                        ; preds = %lpad5
  br i1 %cleanup.isactive.0, label %cleanup.action, label %eh.resume, !dbg !2339

cleanup.action:                                   ; preds = %ehcleanup
  call void @__cxa_free_exception(i8* %exception) #8, !dbg !2339
  br label %eh.resume, !dbg !2339

if.end:                                           ; preds = %_ZNK11xercesc_2_59DOMString6lengthEv.exit
  %cmp9 = icmp ult i32 %len.0.i, %count, !dbg !2344
  call void @llvm.dbg.value(metadata !{i32 %len.0.i}, i64 0, metadata !1170), !dbg !2345
  %call.count = select i1 %cmp9, i32 %len.0.i, i32 %count, !dbg !2344
  %add = add i32 %call.count, %offset, !dbg !2346
  %cmp12 = icmp ult i32 %add, %len.0.i, !dbg !2346
  %sub = sub i32 %len.0.i, %offset, !dbg !2347
  call void @llvm.dbg.value(metadata !{i32 %sub}, i64 0, metadata !1170), !dbg !2347
  %count.addr.1 = select i1 %cmp12, i32 %call.count, i32 %sub, !dbg !2346
  %cmp15 = icmp eq i32 %count.addr.1, 0, !dbg !2348
  br i1 %cmp15, label %if.then16, label %if.end17, !dbg !2348

if.then16:                                        ; preds = %if.end
  tail call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMString"* %agg.result}, i64 0, metadata !2349), !dbg !2351
  %fHandle.i42 = getelementptr inbounds %"class.xercesc_2_5::DOMString"* %agg.result, i64 0, i32 0, !dbg !2352
  store %"class.xercesc_2_5::DOMStringHandle"* null, %"class.xercesc_2_5::DOMStringHandle"** %fHandle.i42, align 8, !dbg !2352, !tbaa !1648
  br label %return, !dbg !2350

if.end17:                                         ; preds = %if.end
  %cmp18 = icmp eq i32 %offset, 0, !dbg !2353
  br i1 %cmp18, label %if.then19, label %if.end24, !dbg !2353

if.then19:                                        ; preds = %if.end17
  call void @llvm.dbg.declare(metadata !{%"class.xercesc_2_5::DOMString"* %retString}, metadata !1172), !dbg !2354
  call void @_ZNK11xercesc_2_59DOMString5cloneEv(%"class.xercesc_2_5::DOMString"* sret %retString, %"class.xercesc_2_5::DOMString"* %this) #9, !dbg !2354
  %fHandle = getelementptr inbounds %"class.xercesc_2_5::DOMString"* %retString, i64 0, i32 0, !dbg !2355
  %6 = load %"class.xercesc_2_5::DOMStringHandle"** %fHandle, align 8, !dbg !2355, !tbaa !1648
  %fLength = getelementptr inbounds %"class.xercesc_2_5::DOMStringHandle"* %6, i64 0, i32 0, !dbg !2355
  store i32 %count.addr.1, i32* %fLength, align 4, !dbg !2355, !tbaa !1682
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMString"* %agg.result}, i64 0, metadata !2356), !dbg !2358
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMString"* %retString}, i64 0, metadata !2359), !dbg !2358
  %fHandle2.i = getelementptr inbounds %"class.xercesc_2_5::DOMString"* %agg.result, i64 0, i32 0, !dbg !2360
  store %"class.xercesc_2_5::DOMStringHandle"* %6, %"class.xercesc_2_5::DOMStringHandle"** %fHandle2.i, align 8, !dbg !2360, !tbaa !1648
  %tobool.i = icmp eq %"class.xercesc_2_5::DOMStringHandle"* %6, null, !dbg !2361
  br i1 %tobool.i, label %invoke.cont21, label %if.then.i44, !dbg !2361

if.then.i44:                                      ; preds = %if.then19
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMStringHandle"* %6}, i64 0, metadata !2362), !dbg !2364
  %fRefCount.i.i = getelementptr inbounds %"class.xercesc_2_5::DOMStringHandle"* %6, i64 0, i32 1, !dbg !2365
  %call.i.i45 = invoke i32 @_ZN11xercesc_2_516XMLPlatformUtils15atomicIncrementERi(i32* %fRefCount.i.i) #9
          to label %invoke.cont21 unwind label %lpad20

invoke.cont21:                                    ; preds = %if.then19, %if.then.i44
  call void @_ZN11xercesc_2_59DOMStringD2Ev(%"class.xercesc_2_5::DOMString"* %retString) #9, !dbg !2366
  br label %return

lpad20:                                           ; preds = %if.then.i44
  %7 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          cleanup, !dbg !2357
  %8 = extractvalue { i8*, i32 } %7, 0, !dbg !2357
  %9 = extractvalue { i8*, i32 } %7, 1, !dbg !2357
  invoke void @_ZN11xercesc_2_59DOMStringD2Ev(%"class.xercesc_2_5::DOMString"* %retString) #9
          to label %eh.resume unwind label %terminate.lpad, !dbg !2367

if.end24:                                         ; preds = %if.end17
  %fDSData = getelementptr inbounds %"class.xercesc_2_5::DOMStringHandle"* %0, i64 0, i32 2, !dbg !2368
  %10 = load %"class.xercesc_2_5::DOMStringData"** %fDSData, align 8, !dbg !2368, !tbaa !1648
  %idx.ext = zext i32 %offset to i64, !dbg !2369
  %add.ptr = getelementptr inbounds %"class.xercesc_2_5::DOMStringData"* %10, i64 0, i32 2, i64 %idx.ext, !dbg !2369
  call void @_ZN11xercesc_2_59DOMStringC2EPKtj(%"class.xercesc_2_5::DOMString"* %agg.result, i16* %add.ptr, i32 %count.addr.1) #9, !dbg !2369
  br label %return, !dbg !2369

return:                                           ; preds = %if.end24, %invoke.cont21, %if.then16
  ret void, !dbg !2370

eh.resume:                                        ; preds = %lpad20, %ehcleanup, %cleanup.action
  %ehselector.slot.1 = phi i32 [ %5, %cleanup.action ], [ %5, %ehcleanup ], [ %9, %lpad20 ]
  %exn.slot.1 = phi i8* [ %4, %cleanup.action ], [ %4, %ehcleanup ], [ %8, %lpad20 ]
  %lpad.val = insertvalue { i8*, i32 } undef, i8* %exn.slot.1, 0, !dbg !2339
  %lpad.val26 = insertvalue { i8*, i32 } %lpad.val, i32 %ehselector.slot.1, 1, !dbg !2339
  resume { i8*, i32 } %lpad.val26, !dbg !2339

terminate.lpad:                                   ; preds = %lpad20, %lpad5
  %11 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          catch i8* null, !dbg !2339
  %12 = extractvalue { i8*, i32 } %11, 0, !dbg !2339
  call void @__clang_call_terminate(i8* %12) #10, !dbg !2339
  unreachable, !dbg !2339

unreachable:                                      ; preds = %invoke.cont6
  unreachable
}
