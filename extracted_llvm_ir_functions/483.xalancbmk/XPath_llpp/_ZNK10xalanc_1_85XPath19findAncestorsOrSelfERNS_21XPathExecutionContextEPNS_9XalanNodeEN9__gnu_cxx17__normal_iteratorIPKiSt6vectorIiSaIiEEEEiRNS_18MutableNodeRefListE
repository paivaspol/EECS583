define i32* @_ZNK10xalanc_1_85XPath19findAncestorsOrSelfERNS_21XPathExecutionContextEPNS_9XalanNodeEN9__gnu_cxx17__normal_iteratorIPKiSt6vectorIiSaIiEEEEiRNS_18MutableNodeRefListE(%"class.xalanc_1_8::XPath"* nocapture %this, %"class.xalanc_1_8::XPathExecutionContext"* %executionContext, %"class.xalanc_1_8::XalanNode"* %context, i32* %opPos.coerce, i32 %stepType, %"class.xalanc_1_8::MutableNodeRefList"* %subQueryResults) #1 align 2 {
entry:
  %theTester = alloca %"class.xalanc_1_8::XPath::NodeTester", align 8
  call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::XPath"* %this}, i64 0, metadata !9032), !dbg !19203
  call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::XPathExecutionContext"* %executionContext}, i64 0, metadata !9033), !dbg !19204
  call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::XalanNode"* %context}, i64 0, metadata !9034), !dbg !19205
  call void @llvm.dbg.declare(metadata !11403, metadata !9035), !dbg !19206
  call void @llvm.dbg.value(metadata !{i32 %stepType}, i64 0, metadata !9036), !dbg !19207
  call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::MutableNodeRefList"* %subQueryResults}, i64 0, metadata !9037), !dbg !19208
  tail call void @llvm.dbg.value(metadata !11406, i64 0, metadata !19209), !dbg !19211
  tail call void @llvm.dbg.declare(metadata !11403, metadata !10932), !dbg !19211
  tail call void @llvm.dbg.value(metadata !14756, i64 0, metadata !19212), !dbg !19214
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19215), !dbg !19214
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19216), !dbg !19218
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19219), !dbg !19220
  tail call void @llvm.dbg.value(metadata !14756, i64 0, metadata !19212), !dbg !19214
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19215), !dbg !19214
  %add.ptr.i9.i = getelementptr inbounds i32* %opPos.coerce, i64 2, !dbg !19217
  tail call void @llvm.dbg.value(metadata !{i32* %add.ptr.i9.i}, i64 0, metadata !19221), !dbg !19220
  tail call void @llvm.dbg.value(metadata !{i32* %add.ptr.i9.i}, i64 0, metadata !19222), !dbg !19218
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19216), !dbg !19218
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19219), !dbg !19220
  tail call void @llvm.dbg.value(metadata !11406, i64 0, metadata !19223), !dbg !19224
  tail call void @llvm.dbg.declare(metadata !11403, metadata !11286), !dbg !19224
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19225), !dbg !19227
  %0 = load i32* %add.ptr.i9.i, align 4, !dbg !19226, !tbaa !11414
  %sub.i = add nsw i32 %0, -3, !dbg !19213
  call void @llvm.dbg.value(metadata !{i32 %sub.i}, i64 0, metadata !9039), !dbg !19210
  call void @llvm.dbg.value(metadata !12134, i64 0, metadata !19228), !dbg !19230
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19231), !dbg !19230
  %add.ptr.i22 = getelementptr inbounds i32* %opPos.coerce, i64 3, !dbg !19232
  %1 = bitcast %"class.xalanc_1_8::XPath::NodeTester"* %theTester to i8*, !dbg !19233
  call void @llvm.lifetime.start(i64 56, i8* %1) #2, !dbg !19233
  call void @llvm.dbg.declare(metadata !{%"class.xalanc_1_8::XPath::NodeTester"* %theTester}, metadata !9040), !dbg !19234
  call void @_ZN10xalanc_1_85XPath10NodeTesterC2ERKS0_RNS_21XPathExecutionContextEN9__gnu_cxx17__normal_iteratorIPKiSt6vectorIiSaIiEEEEii(%"class.xalanc_1_8::XPath::NodeTester"* %theTester, %"class.xalanc_1_8::XPath"* %this, %"class.xalanc_1_8::XPathExecutionContext"* %executionContext, i32* %add.ptr.i22, i32 %sub.i, i32 %stepType) #11, !dbg !19233
  %.fca.0.gep = getelementptr inbounds %"class.xalanc_1_8::XPath::NodeTester"* %theTester, i64 0, i32 3, i32 0, !dbg !19235
  %.fca.1.gep = getelementptr inbounds %"class.xalanc_1_8::XPath::NodeTester"* %theTester, i64 0, i32 3, i32 1, !dbg !19235
  br label %do.body, !dbg !19237

do.body:                                          ; preds = %if.end, %entry
  %context.addr.0 = phi %"class.xalanc_1_8::XalanNode"* [ %context, %entry ], [ %call9, %if.end ]
  %2 = bitcast %"class.xalanc_1_8::XalanNode"* %context.addr.0 to i32 (%"class.xalanc_1_8::XalanNode"*)***, !dbg !19236
  %vtable = load i32 (%"class.xalanc_1_8::XalanNode"*)*** %2, align 8, !dbg !19236, !tbaa !11416
  %vfn = getelementptr inbounds i32 (%"class.xalanc_1_8::XalanNode"*)** %vtable, i64 4, !dbg !19236
  %3 = load i32 (%"class.xalanc_1_8::XalanNode"*)** %vfn, align 8, !dbg !19236
  %call7 = call i32 %3(%"class.xalanc_1_8::XalanNode"* %context.addr.0) #11, !dbg !19236
  call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::XPath::NodeTester"* %theTester}, i64 0, metadata !19238), !dbg !19239
  call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::XalanNode"* %context.addr.0}, i64 0, metadata !19240), !dbg !19241
  call void @llvm.dbg.value(metadata !{i32 %call7}, i64 0, metadata !19242), !dbg !19243
  %.fca.0.load = load i64* %.fca.0.gep, align 8, !dbg !19235
  %.fca.1.load = load i64* %.fca.1.gep, align 8, !dbg !19235
  %4 = getelementptr inbounds i8* %1, i64 %.fca.1.load, !dbg !19235
  %this.adjusted.i = bitcast i8* %4 to %"class.xalanc_1_8::XPath::NodeTester"*, !dbg !19235
  %5 = and i64 %.fca.0.load, 1, !dbg !19235
  %memptr.isvirtual.i = icmp eq i64 %5, 0, !dbg !19235
  br i1 %memptr.isvirtual.i, label %memptr.nonvirtual.i, label %memptr.virtual.i, !dbg !19235

memptr.virtual.i:                                 ; preds = %do.body
  %6 = bitcast i8* %4 to i8**, !dbg !19235
  %memptr.vtable.i = load i8** %6, align 8, !dbg !19235
  %7 = add i64 %.fca.0.load, -1, !dbg !19235
  %8 = getelementptr i8* %memptr.vtable.i, i64 %7, !dbg !19235
  %9 = bitcast i8* %8 to i32 (%"class.xalanc_1_8::XPath::NodeTester"*, %"class.xalanc_1_8::XalanNode"*, i32)**, !dbg !19235
  %memptr.virtualfn.i = load i32 (%"class.xalanc_1_8::XPath::NodeTester"*, %"class.xalanc_1_8::XalanNode"*, i32)** %9, align 8, !dbg !19235
  br label %_ZNK10xalanc_1_85XPath10NodeTesterclERKNS_9XalanNodeENS2_8NodeTypeE.exit, !dbg !19235

memptr.nonvirtual.i:                              ; preds = %do.body
  %memptr.nonvirtualfn.i = inttoptr i64 %.fca.0.load to i32 (%"class.xalanc_1_8::XPath::NodeTester"*, %"class.xalanc_1_8::XalanNode"*, i32)*, !dbg !19235
  br label %_ZNK10xalanc_1_85XPath10NodeTesterclERKNS_9XalanNodeENS2_8NodeTypeE.exit, !dbg !19235

_ZNK10xalanc_1_85XPath10NodeTesterclERKNS_9XalanNodeENS2_8NodeTypeE.exit: ; preds = %memptr.virtual.i, %memptr.nonvirtual.i
  %10 = phi i32 (%"class.xalanc_1_8::XPath::NodeTester"*, %"class.xalanc_1_8::XalanNode"*, i32)* [ %memptr.virtualfn.i, %memptr.virtual.i ], [ %memptr.nonvirtualfn.i, %memptr.nonvirtual.i ], !dbg !19235
  %call.i = call i32 %10(%"class.xalanc_1_8::XPath::NodeTester"* %this.adjusted.i, %"class.xalanc_1_8::XalanNode"* %context.addr.0, i32 %call7) #11, !dbg !19235
  call void @llvm.dbg.value(metadata !{i32 %call.i}, i64 0, metadata !9041), !dbg !19236
  %cmp = icmp eq i32 %call.i, 0, !dbg !19244
  br i1 %cmp, label %if.end, label %if.then, !dbg !19244

if.then:                                          ; preds = %_ZNK10xalanc_1_85XPath10NodeTesterclERKNS_9XalanNodeENS2_8NodeTypeE.exit
  call void @_ZN10xalanc_1_818MutableNodeRefList7addNodeEPNS_9XalanNodeE(%"class.xalanc_1_8::MutableNodeRefList"* %subQueryResults, %"class.xalanc_1_8::XalanNode"* %context.addr.0) #11, !dbg !19245
  br label %if.end, !dbg !19247

if.end:                                           ; preds = %_ZNK10xalanc_1_85XPath10NodeTesterclERKNS_9XalanNodeENS2_8NodeTypeE.exit, %if.then
  %call9 = call %"class.xalanc_1_8::XalanNode"* @_ZN10xalanc_1_811DOMServices15getParentOfNodeERKNS_9XalanNodeE(%"class.xalanc_1_8::XalanNode"* %context.addr.0) #11, !dbg !19248
  call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::XalanNode"* %call9}, i64 0, metadata !9034), !dbg !19248
  %cmp10 = icmp eq %"class.xalanc_1_8::XalanNode"* %call9, null, !dbg !19249
  br i1 %cmp10, label %do.end, label %do.body, !dbg !19249

do.end:                                           ; preds = %if.end
  tail call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::MutableNodeRefList"* %subQueryResults}, i64 0, metadata !19250), !dbg !19252
  %m_order.i = getelementptr inbounds %"class.xalanc_1_8::MutableNodeRefList"* %subQueryResults, i64 0, i32 1, !dbg !19253
  store i32 2, i32* %m_order.i, align 4, !dbg !19253, !tbaa !17230
  %conv = sext i32 %sub.i to i64, !dbg !19254
  call void @llvm.dbg.value(metadata !{i64 %conv}, i64 0, metadata !19255), !dbg !19256
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19257), !dbg !19256
  %add.ptr.i22.sum = add i64 %conv, 3, !dbg !19258
  %add.ptr.i = getelementptr inbounds i32* %opPos.coerce, i64 %add.ptr.i22.sum, !dbg !19258
  tail call void @llvm.dbg.value(metadata !{i32* %add.ptr.i}, i64 0, metadata !19259), !dbg !19261
  tail call void @llvm.dbg.value(metadata !{i32* %add.ptr.i}, i64 0, metadata !19262), !dbg !19260
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19263), !dbg !19260
  tail call void @llvm.dbg.value(metadata !11403, i64 0, metadata !19264), !dbg !19261
  call void @llvm.lifetime.end(i64 56, i8* %1) #2, !dbg !19265
  ret i32* %add.ptr.i, !dbg !19265
}
