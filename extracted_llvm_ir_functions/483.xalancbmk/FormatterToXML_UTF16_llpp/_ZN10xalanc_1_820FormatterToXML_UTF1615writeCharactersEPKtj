define void @_ZN10xalanc_1_820FormatterToXML_UTF1615writeCharactersEPKtj(%"class.xalanc_1_8::FormatterToXML_UTF16"* %this, i16* %chars, i32 %length) unnamed_addr #0 align 2 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::FormatterToXML_UTF16"* %this}, i64 0, metadata !3021), !dbg !4987
  tail call void @llvm.dbg.value(metadata !{i16* %chars}, i64 0, metadata !3022), !dbg !4988
  tail call void @llvm.dbg.value(metadata !{i32 %length}, i64 0, metadata !3023), !dbg !4989
  tail call void @_ZN10xalanc_1_820FormatterToXML_UTF1617writeParentTagEndEv(%"class.xalanc_1_8::FormatterToXML_UTF16"* %this) #11, !dbg !4990
  tail call void @llvm.dbg.value(metadata !201, i64 0, metadata !3024), !dbg !4991
  tail call void @llvm.dbg.value(metadata !201, i64 0, metadata !3025), !dbg !4992
  %cmp5661 = icmp eq i32 %length, 0, !dbg !4993
  br i1 %cmp5661, label %while.end, label %while.body.lr.ph.lr.ph, !dbg !4993

while.body.lr.ph.lr.ph:                           ; preds = %entry
  %0 = bitcast %"class.xalanc_1_8::FormatterToXML_UTF16"* %this to void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)***, !dbg !4994
  %m_writer.i27 = getelementptr inbounds %"class.xalanc_1_8::FormatterToXML_UTF16"* %this, i64 0, i32 0, i32 1, !dbg !4997
  %m_bufferRemaining.i31 = getelementptr inbounds %"class.xalanc_1_8::FormatterToXML_UTF16"* %this, i64 0, i32 3, !dbg !4998
  %m_bufferPosition.i39 = getelementptr inbounds %"class.xalanc_1_8::FormatterToXML_UTF16"* %this, i64 0, i32 2, !dbg !4999
  br label %while.body.lr.ph, !dbg !4993

while.body.lr.ph:                                 ; preds = %while.body.lr.ph.lr.ph, %_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit53
  %i.0.ph63 = phi i32 [ 0, %while.body.lr.ph.lr.ph ], [ %inc3, %_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit53 ]
  br label %while.body, !dbg !4993

while.body:                                       ; preds = %while.body.lr.ph, %if.then
  %i.057 = phi i32 [ %i.0.ph63, %while.body.lr.ph ], [ %inc, %if.then ]
  %idxprom = zext i32 %i.057 to i64, !dbg !5000
  %arrayidx = getelementptr inbounds i16* %chars, i64 %idxprom, !dbg !5000
  %1 = load i16* %arrayidx, align 2, !dbg !5000, !tbaa !3977
  tail call void @llvm.dbg.value(metadata !{i16 %1}, i64 0, metadata !3026), !dbg !5000
  tail call void @llvm.dbg.value(metadata !{i16 %1}, i64 0, metadata !5001), !dbg !5003
  %cmp.i = icmp ult i16 %1, 128, !dbg !5004
  br i1 %cmp.i, label %land.lhs.true.i, label %if.then, !dbg !5004

land.lhs.true.i:                                  ; preds = %while.body
  %idxprom.i = zext i16 %1 to i64, !dbg !5004
  %arrayidx.i = getelementptr inbounds [0 x i16]* @_ZN10xalanc_1_818FormatterToXMLBase14s_specialCharsE, i64 0, i64 %idxprom.i, !dbg !5004
  %2 = load i16* %arrayidx.i, align 2, !dbg !5004, !tbaa !3977
  %and.i = and i16 %2, 1, !dbg !5004
  %tobool.i = icmp eq i16 %and.i, 0, !dbg !5004
  br i1 %tobool.i, label %if.then, label %if.else, !dbg !5004

if.then:                                          ; preds = %land.lhs.true.i, %while.body
  %inc = add i32 %i.057, 1, !dbg !5005
  tail call void @llvm.dbg.value(metadata !{i32 %inc}, i64 0, metadata !3024), !dbg !5005
  %cmp = icmp ult i32 %inc, %length, !dbg !4993
  br i1 %cmp, label %while.body, label %while.end, !dbg !4993

if.else:                                          ; preds = %land.lhs.true.i
  %idx.ext = zext i32 %i.0.ph63 to i64, !dbg !4995
  %sub = sub i32 %i.057, %i.0.ph63, !dbg !4995
  tail call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::FormatterToXML_UTF16"* %this}, i64 0, metadata !5007), !dbg !5008
  tail call void @llvm.dbg.value(metadata !{i16* %add.ptr}, i64 0, metadata !5009), !dbg !5010
  tail call void @llvm.dbg.value(metadata !{i32 %sub}, i64 0, metadata !5011), !dbg !5012
  %cmp.i24 = icmp ugt i32 %sub, 1024, !dbg !5013
  br i1 %cmp.i24, label %if.then.i30, label %if.else.i33, !dbg !5013

if.then.i30:                                      ; preds = %if.else
  %add.ptr = getelementptr inbounds i16* %chars, i64 %idx.ext, !dbg !4995
  %vtable.i25 = load void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)*** %0, align 8, !dbg !4994, !tbaa !3947
  %vfn.i26 = getelementptr inbounds void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)** %vtable.i25, i64 22, !dbg !4994
  %3 = load void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)** %vfn.i26, align 8, !dbg !4994
  tail call void %3(%"class.xalanc_1_8::FormatterToXML_UTF16"* %this) #11, !dbg !4994
  %4 = load %"class.xalanc_1_8::Writer"** %m_writer.i27, align 8, !dbg !4997, !tbaa !3949
  %5 = bitcast %"class.xalanc_1_8::Writer"* %4 to void (%"class.xalanc_1_8::Writer"*, i16*, i32, i32)***, !dbg !4997
  %vtable2.i28 = load void (%"class.xalanc_1_8::Writer"*, i16*, i32, i32)*** %5, align 8, !dbg !4997, !tbaa !3947
  %vfn3.i29 = getelementptr inbounds void (%"class.xalanc_1_8::Writer"*, i16*, i32, i32)** %vtable2.i28, i64 7, !dbg !4997
  %6 = load void (%"class.xalanc_1_8::Writer"*, i16*, i32, i32)** %vfn3.i29, align 8, !dbg !4997
  tail call void %6(%"class.xalanc_1_8::Writer"* %4, i16* %add.ptr, i32 0, i32 %sub) #11, !dbg !4997
  br label %_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit53, !dbg !5014

if.else.i33:                                      ; preds = %if.else
  %7 = load i32* %m_bufferRemaining.i31, align 4, !dbg !4998, !tbaa !3951
  %cmp4.i32 = icmp ult i32 %7, %sub, !dbg !4998
  br i1 %cmp4.i32, label %if.then5.i36, label %for.cond.preheader.i38, !dbg !4998

if.then5.i36:                                     ; preds = %if.else.i33
  %vtable6.i34 = load void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)*** %0, align 8, !dbg !5015, !tbaa !3947
  %vfn7.i35 = getelementptr inbounds void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)** %vtable6.i34, i64 22, !dbg !5015
  %8 = load void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)** %vfn7.i35, align 8, !dbg !5015
  tail call void %8(%"class.xalanc_1_8::FormatterToXML_UTF16"* %this) #11, !dbg !5015
  br label %for.cond.preheader.i38, !dbg !5016

for.cond.preheader.i38:                           ; preds = %if.then5.i36, %if.else.i33
  %cmp819.i37 = icmp eq i32 %i.057, %i.0.ph63, !dbg !5017
  br i1 %cmp819.i37, label %for.end.i52, label %for.body.lr.ph.i41, !dbg !5017

for.body.lr.ph.i41:                               ; preds = %for.cond.preheader.i38
  %m_bufferPosition.promoted.i40 = load i16** %m_bufferPosition.i39, align 8, !dbg !5018, !tbaa !3949
  %9 = add i32 %sub, -1, !dbg !5017
  %10 = zext i32 %9 to i64, !dbg !5017
  br label %for.body.i48, !dbg !5017

for.body.i48:                                     ; preds = %for.body.i48, %for.body.lr.ph.i41
  %indvars.iv.i42 = phi i64 [ 0, %for.body.lr.ph.i41 ], [ %indvars.iv.next.i45, %for.body.i48 ]
  %11 = phi i16* [ %m_bufferPosition.promoted.i40, %for.body.lr.ph.i41 ], [ %incdec.ptr.i44, %for.body.i48 ], !dbg !4999
  %add.ptr.sum = add i64 %indvars.iv.i42, %idx.ext, !dbg !4999
  %arrayidx.i43 = getelementptr inbounds i16* %chars, i64 %add.ptr.sum, !dbg !4999
  %12 = load i16* %arrayidx.i43, align 2, !dbg !4999, !tbaa !3977
  store i16 %12, i16* %11, align 2, !dbg !4999, !tbaa !3977
  %incdec.ptr.i44 = getelementptr inbounds i16* %11, i64 1, !dbg !5018
  %indvars.iv.next.i45 = add i64 %indvars.iv.i42, 1, !dbg !5017
  %lftr.wideiv69 = trunc i64 %indvars.iv.next.i45 to i32, !dbg !5017
  %exitcond70 = icmp eq i32 %lftr.wideiv69, %sub, !dbg !5017
  br i1 %exitcond70, label %for.cond.for.end_crit_edge.i50, label %for.body.i48, !dbg !5017

for.cond.for.end_crit_edge.i50:                   ; preds = %for.body.i48
  %13 = add i64 %10, 1, !dbg !5017
  %scevgep.i49 = getelementptr i16* %m_bufferPosition.promoted.i40, i64 %13, !dbg !5017
  store i16* %scevgep.i49, i16** %m_bufferPosition.i39, align 8, !dbg !5018, !tbaa !3949
  br label %for.end.i52, !dbg !5017

for.end.i52:                                      ; preds = %for.cond.preheader.i38, %for.cond.for.end_crit_edge.i50
  %14 = load i32* %m_bufferRemaining.i31, align 4, !dbg !5019, !tbaa !3951
  %sub.i51 = sub i32 %14, %sub, !dbg !5019
  store i32 %sub.i51, i32* %m_bufferRemaining.i31, align 4, !dbg !5019, !tbaa !3951
  br label %_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit53

_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit53: ; preds = %if.then.i30, %for.end.i52
  %inc3 = add i32 %i.057, 1, !dbg !5020
  tail call void @llvm.dbg.value(metadata !{i32 %inc3}, i64 0, metadata !3024), !dbg !5020
  %15 = load i16* %arrayidx, align 2, !dbg !5020, !tbaa !3977
  tail call void @_ZN10xalanc_1_820FormatterToXML_UTF1618writeDefaultEscapeEt(%"class.xalanc_1_8::FormatterToXML_UTF16"* %this, i16 zeroext %15) #11, !dbg !5020
  tail call void @llvm.dbg.value(metadata !{i32 %inc3}, i64 0, metadata !3025), !dbg !5021
  %cmp56 = icmp ult i32 %inc3, %length, !dbg !4993
  br i1 %cmp56, label %while.body.lr.ph, label %while.end, !dbg !4993

while.end:                                        ; preds = %entry, %_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit53, %if.then
  %firstIndex.0.ph59 = phi i32 [ %i.0.ph63, %if.then ], [ 0, %entry ], [ %inc3, %_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit53 ]
  %i.0.lcssa = phi i32 [ %inc, %if.then ], [ 0, %entry ], [ %inc3, %_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit53 ]
  %idx.ext6 = zext i32 %firstIndex.0.ph59 to i64, !dbg !5022
  %sub8 = sub i32 %i.0.lcssa, %firstIndex.0.ph59, !dbg !5022
  tail call void @llvm.dbg.value(metadata !{%"class.xalanc_1_8::FormatterToXML_UTF16"* %this}, i64 0, metadata !5023), !dbg !5024
  tail call void @llvm.dbg.value(metadata !{i16* %add.ptr7}, i64 0, metadata !5025), !dbg !5026
  tail call void @llvm.dbg.value(metadata !{i32 %sub8}, i64 0, metadata !5027), !dbg !5028
  %cmp.i21 = icmp ugt i32 %sub8, 1024, !dbg !5029
  br i1 %cmp.i21, label %if.then.i, label %if.else.i22, !dbg !5029

if.then.i:                                        ; preds = %while.end
  %add.ptr7 = getelementptr inbounds i16* %chars, i64 %idx.ext6, !dbg !5022
  %16 = bitcast %"class.xalanc_1_8::FormatterToXML_UTF16"* %this to void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)***, !dbg !5030
  %vtable.i = load void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)*** %16, align 8, !dbg !5030, !tbaa !3947
  %vfn.i = getelementptr inbounds void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)** %vtable.i, i64 22, !dbg !5030
  %17 = load void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)** %vfn.i, align 8, !dbg !5030
  tail call void %17(%"class.xalanc_1_8::FormatterToXML_UTF16"* %this) #11, !dbg !5030
  %m_writer.i = getelementptr inbounds %"class.xalanc_1_8::FormatterToXML_UTF16"* %this, i64 0, i32 0, i32 1, !dbg !5031
  %18 = load %"class.xalanc_1_8::Writer"** %m_writer.i, align 8, !dbg !5031, !tbaa !3949
  %19 = bitcast %"class.xalanc_1_8::Writer"* %18 to void (%"class.xalanc_1_8::Writer"*, i16*, i32, i32)***, !dbg !5031
  %vtable2.i = load void (%"class.xalanc_1_8::Writer"*, i16*, i32, i32)*** %19, align 8, !dbg !5031, !tbaa !3947
  %vfn3.i = getelementptr inbounds void (%"class.xalanc_1_8::Writer"*, i16*, i32, i32)** %vtable2.i, i64 7, !dbg !5031
  %20 = load void (%"class.xalanc_1_8::Writer"*, i16*, i32, i32)** %vfn3.i, align 8, !dbg !5031
  tail call void %20(%"class.xalanc_1_8::Writer"* %18, i16* %add.ptr7, i32 0, i32 %sub8) #11, !dbg !5031
  br label %_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit, !dbg !5032

if.else.i22:                                      ; preds = %while.end
  %m_bufferRemaining.i = getelementptr inbounds %"class.xalanc_1_8::FormatterToXML_UTF16"* %this, i64 0, i32 3, !dbg !5033
  %21 = load i32* %m_bufferRemaining.i, align 4, !dbg !5033, !tbaa !3951
  %cmp4.i = icmp ult i32 %21, %sub8, !dbg !5033
  br i1 %cmp4.i, label %if.then5.i, label %for.cond.preheader.i, !dbg !5033

if.then5.i:                                       ; preds = %if.else.i22
  %22 = bitcast %"class.xalanc_1_8::FormatterToXML_UTF16"* %this to void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)***, !dbg !5034
  %vtable6.i = load void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)*** %22, align 8, !dbg !5034, !tbaa !3947
  %vfn7.i = getelementptr inbounds void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)** %vtable6.i, i64 22, !dbg !5034
  %23 = load void (%"class.xalanc_1_8::FormatterToXML_UTF16"*)** %vfn7.i, align 8, !dbg !5034
  tail call void %23(%"class.xalanc_1_8::FormatterToXML_UTF16"* %this) #11, !dbg !5034
  br label %for.cond.preheader.i, !dbg !5035

for.cond.preheader.i:                             ; preds = %if.then5.i, %if.else.i22
  %cmp819.i = icmp eq i32 %i.0.lcssa, %firstIndex.0.ph59, !dbg !5036
  br i1 %cmp819.i, label %for.end.i, label %for.body.lr.ph.i, !dbg !5036

for.body.lr.ph.i:                                 ; preds = %for.cond.preheader.i
  %m_bufferPosition.i = getelementptr inbounds %"class.xalanc_1_8::FormatterToXML_UTF16"* %this, i64 0, i32 2, !dbg !5037
  %m_bufferPosition.promoted.i = load i16** %m_bufferPosition.i, align 8, !dbg !5038, !tbaa !3949
  %24 = add i32 %sub8, -1, !dbg !5036
  %25 = zext i32 %24 to i64, !dbg !5036
  br label %for.body.i, !dbg !5036

for.body.i:                                       ; preds = %for.body.i, %for.body.lr.ph.i
  %indvars.iv.i = phi i64 [ 0, %for.body.lr.ph.i ], [ %indvars.iv.next.i, %for.body.i ]
  %26 = phi i16* [ %m_bufferPosition.promoted.i, %for.body.lr.ph.i ], [ %incdec.ptr.i, %for.body.i ], !dbg !5037
  %add.ptr7.sum = add i64 %indvars.iv.i, %idx.ext6, !dbg !5037
  %arrayidx.i23 = getelementptr inbounds i16* %chars, i64 %add.ptr7.sum, !dbg !5037
  %27 = load i16* %arrayidx.i23, align 2, !dbg !5037, !tbaa !3977
  store i16 %27, i16* %26, align 2, !dbg !5037, !tbaa !3977
  %incdec.ptr.i = getelementptr inbounds i16* %26, i64 1, !dbg !5038
  %indvars.iv.next.i = add i64 %indvars.iv.i, 1, !dbg !5036
  %lftr.wideiv = trunc i64 %indvars.iv.next.i to i32, !dbg !5036
  %exitcond = icmp eq i32 %lftr.wideiv, %sub8, !dbg !5036
  br i1 %exitcond, label %for.cond.for.end_crit_edge.i, label %for.body.i, !dbg !5036

for.cond.for.end_crit_edge.i:                     ; preds = %for.body.i
  %28 = add i64 %25, 1, !dbg !5036
  %scevgep.i = getelementptr i16* %m_bufferPosition.promoted.i, i64 %28, !dbg !5036
  store i16* %scevgep.i, i16** %m_bufferPosition.i, align 8, !dbg !5038, !tbaa !3949
  br label %for.end.i, !dbg !5036

for.end.i:                                        ; preds = %for.cond.preheader.i, %for.cond.for.end_crit_edge.i
  %29 = load i32* %m_bufferRemaining.i, align 4, !dbg !5039, !tbaa !3951
  %sub.i = sub i32 %29, %sub8, !dbg !5039
  store i32 %sub.i, i32* %m_bufferRemaining.i, align 4, !dbg !5039, !tbaa !3951
  br label %_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit

_ZN10xalanc_1_820FormatterToXML_UTF165writeEPKtj.exit: ; preds = %if.then.i, %for.end.i
  ret void, !dbg !5040
}
