define void @_ZN11xercesc_2_512XMLFormatterC2EPKtS2_PNS_15XMLFormatTargetENS0_11EscapeFlagsENS0_10UnRepFlagsEPNS_13MemoryManagerE(%"class.xercesc_2_5::XMLFormatter"* nocapture %this, i16* %outEncoding, i16* %docVersion, %"class.xercesc_2_5::XMLFormatTarget"* %target, i32 %escapeFlags, i32 %unrepFlags, %"class.xercesc_2_5::MemoryManager"* %manager) unnamed_addr #2 align 2 {
entry:
  %resCode = alloca i32, align 4
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::XMLFormatter"* %this}, i64 0, metadata !1309), !dbg !2178
  call void @llvm.dbg.value(metadata !{i16* %outEncoding}, i64 0, metadata !1310), !dbg !2178
  call void @llvm.dbg.value(metadata !{i16* %docVersion}, i64 0, metadata !1311), !dbg !2179
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::XMLFormatTarget"* %target}, i64 0, metadata !1312), !dbg !2180
  call void @llvm.dbg.value(metadata !{i32 %escapeFlags}, i64 0, metadata !1313), !dbg !2181
  call void @llvm.dbg.value(metadata !{i32 %unrepFlags}, i64 0, metadata !1314), !dbg !2182
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::MemoryManager"* %manager}, i64 0, metadata !1315), !dbg !2183
  %fEscapeFlags = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 0, !dbg !2184
  store i32 %escapeFlags, i32* %fEscapeFlags, align 4, !dbg !2184, !tbaa !2104
  %fOutEncoding = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 1, !dbg !2184
  store i16* null, i16** %fOutEncoding, align 8, !dbg !2184, !tbaa !2105
  %fTarget = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 2, !dbg !2184
  store %"class.xercesc_2_5::XMLFormatTarget"* %target, %"class.xercesc_2_5::XMLFormatTarget"** %fTarget, align 8, !dbg !2184, !tbaa !2105
  %fUnRepFlags = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 3, !dbg !2184
  store i32 %unrepFlags, i32* %fUnRepFlags, align 4, !dbg !2184, !tbaa !2106
  %fXCoder = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 4, !dbg !2184
  store %"class.xercesc_2_5::XMLTranscoder"* null, %"class.xercesc_2_5::XMLTranscoder"** %fXCoder, align 8, !dbg !2184, !tbaa !2105
  %fAposRef = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 6, !dbg !2184
  store i8* null, i8** %fAposRef, align 8, !dbg !2184, !tbaa !2105
  %fAposLen = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 7, !dbg !2184
  store i32 0, i32* %fAposLen, align 4, !dbg !2184, !tbaa !2107
  %fAmpRef = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 8, !dbg !2184
  store i8* null, i8** %fAmpRef, align 8, !dbg !2184, !tbaa !2105
  %fAmpLen = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 9, !dbg !2184
  store i32 0, i32* %fAmpLen, align 4, !dbg !2184, !tbaa !2107
  %fGTRef = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 10, !dbg !2184
  store i8* null, i8** %fGTRef, align 8, !dbg !2184, !tbaa !2105
  %fGTLen = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 11, !dbg !2184
  store i32 0, i32* %fGTLen, align 4, !dbg !2184, !tbaa !2107
  %fLTRef = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 12, !dbg !2184
  store i8* null, i8** %fLTRef, align 8, !dbg !2184, !tbaa !2105
  %fLTLen = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 13, !dbg !2184
  store i32 0, i32* %fLTLen, align 4, !dbg !2184, !tbaa !2107
  %fQuoteRef = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 14, !dbg !2184
  store i8* null, i8** %fQuoteRef, align 8, !dbg !2184, !tbaa !2105
  %fQuoteLen = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 15, !dbg !2184
  store i32 0, i32* %fQuoteLen, align 4, !dbg !2184, !tbaa !2107
  %fIsXML11 = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 16, !dbg !2184
  store i8 0, i8* %fIsXML11, align 1, !dbg !2184, !tbaa !2083
  %fMemoryManager = getelementptr inbounds %"class.xercesc_2_5::XMLFormatter"* %this, i64 0, i32 17, !dbg !2184
  store %"class.xercesc_2_5::MemoryManager"* %manager, %"class.xercesc_2_5::MemoryManager"** %fMemoryManager, align 8, !dbg !2184, !tbaa !2105
  call void @llvm.dbg.declare(metadata !{i32* %resCode}, metadata !1316), !dbg !2185
  %0 = load %"class.xercesc_2_5::XMLTransService"** @_ZN11xercesc_2_516XMLPlatformUtils14fgTransServiceE, align 8, !dbg !2186, !tbaa !2105
  %call = call %"class.xercesc_2_5::XMLTranscoder"* @_ZN11xercesc_2_515XMLTransService20makeNewTranscoderForEPKtRNS0_5CodesEjPNS_13MemoryManagerE(%"class.xercesc_2_5::XMLTransService"* %0, i16* %outEncoding, i32* %resCode, i32 16384, %"class.xercesc_2_5::MemoryManager"* %manager) #8, !dbg !2186
  store %"class.xercesc_2_5::XMLTranscoder"* %call, %"class.xercesc_2_5::XMLTranscoder"** %fXCoder, align 8, !dbg !2186, !tbaa !2105
  %tobool = icmp eq %"class.xercesc_2_5::XMLTranscoder"* %call, null, !dbg !2187
  br i1 %tobool, label %if.then, label %if.end, !dbg !2187

if.then:                                          ; preds = %entry
  %exception = call i8* @__cxa_allocate_exception(i64 48) #5, !dbg !2188
  %1 = bitcast i8* %exception to %"class.xercesc_2_5::TranscodingException"*, !dbg !2188
  %2 = load %"class.xercesc_2_5::MemoryManager"** %fMemoryManager, align 8, !dbg !2188, !tbaa !2105
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::TranscodingException"* %1}, i64 0, metadata !2190), !dbg !2191
  call void @llvm.dbg.value(metadata !2118, i64 0, metadata !2192), !dbg !2191
  call void @llvm.dbg.value(metadata !2193, i64 0, metadata !2194), !dbg !2191
  call void @llvm.dbg.value(metadata !2122, i64 0, metadata !2195), !dbg !2191
  call void @llvm.dbg.value(metadata !{i16* %outEncoding}, i64 0, metadata !2196), !dbg !2191
  call void @llvm.dbg.value(metadata !2197, i64 0, metadata !2198), !dbg !2191
  call void @llvm.dbg.value(metadata !2197, i64 0, metadata !2199), !dbg !2191
  call void @llvm.dbg.value(metadata !2197, i64 0, metadata !2200), !dbg !2191
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::MemoryManager"* %2}, i64 0, metadata !2201), !dbg !2191
  invoke void @_ZN11xercesc_2_520TranscodingExceptionC2EPKcjNS_10XMLExcepts5CodesEPKtS6_S6_S6_PNS_13MemoryManagerE(%"class.xercesc_2_5::TranscodingException"* %1, i8* getelementptr inbounds ([64 x i8]* @.str, i64 0, i64 0), i32 277, i32 96, i16* %outEncoding, i16* null, i16* null, i16* null, %"class.xercesc_2_5::MemoryManager"* %2) #8
          to label %invoke.cont unwind label %lpad

invoke.cont:                                      ; preds = %if.then
  call void @__cxa_throw(i8* %exception, i8* bitcast ({ i8*, i8*, i8* }* @_ZTIN11xercesc_2_520TranscodingExceptionE to i8*), i8* bitcast (void (%"class.xercesc_2_5::TranscodingException"*)* @_ZN11xercesc_2_520TranscodingExceptionD1Ev to i8*)) #9, !dbg !2188
  unreachable, !dbg !2188

lpad:                                             ; preds = %if.then
  %3 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          cleanup, !dbg !2188
  call void @__cxa_free_exception(i8* %exception) #5, !dbg !2188
  resume { i8*, i32 } %3, !dbg !2188

if.end:                                           ; preds = %entry
  %4 = load %"class.xercesc_2_5::MemoryManager"** %fMemoryManager, align 8, !dbg !2202, !tbaa !2105
  call void @llvm.dbg.value(metadata !{i16* %outEncoding}, i64 0, metadata !2203), !dbg !2204
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::MemoryManager"* %4}, i64 0, metadata !2205), !dbg !2206
  call void @llvm.dbg.value(metadata !2197, i64 0, metadata !2207), !dbg !2208
  %tobool.i14 = icmp eq i16* %outEncoding, null, !dbg !2209
  br i1 %tobool.i14, label %_ZN11xercesc_2_59XMLString9replicateEPKtPNS_13MemoryManagerE.exit, label %lor.lhs.false.i.i, !dbg !2209

lor.lhs.false.i.i:                                ; preds = %if.end
  call void @llvm.dbg.value(metadata !{i16* %outEncoding}, i64 0, metadata !2210), !dbg !2212
  %5 = load i16* %outEncoding, align 2, !dbg !2213, !tbaa !2077
  %cmp1.i.i = icmp eq i16 %5, 0, !dbg !2213
  br i1 %cmp1.i.i, label %_ZN11xercesc_2_59XMLString9stringLenEPKt.exit.i, label %while.cond.i.i, !dbg !2213

while.cond.i.i:                                   ; preds = %lor.lhs.false.i.i, %while.cond.i.i
  %src.pn.i.i = phi i16* [ %pszTmp.0.i.i, %while.cond.i.i ], [ %outEncoding, %lor.lhs.false.i.i ]
  %pszTmp.0.i.i = getelementptr inbounds i16* %src.pn.i.i, i64 1, !dbg !2214
  %6 = load i16* %pszTmp.0.i.i, align 2, !dbg !2215, !tbaa !2077
  %tobool.i.i = icmp eq i16 %6, 0, !dbg !2215
  br i1 %tobool.i.i, label %while.end.i.i, label %while.cond.i.i, !dbg !2215

while.end.i.i:                                    ; preds = %while.cond.i.i
  %sub.ptr.lhs.cast.i.i = ptrtoint i16* %pszTmp.0.i.i to i64, !dbg !2216
  %sub.ptr.rhs.cast.i.i = ptrtoint i16* %outEncoding to i64, !dbg !2216
  %sub.ptr.sub.i.i = sub i64 2, %sub.ptr.rhs.cast.i.i, !dbg !2216
  %sub.ptr.div7.i11.i = add i64 %sub.ptr.sub.i.i, %sub.ptr.lhs.cast.i.i, !dbg !2216
  %phitmp10.i = and i64 %sub.ptr.div7.i11.i, 8589934590, !dbg !2216
  br label %_ZN11xercesc_2_59XMLString9stringLenEPKt.exit.i, !dbg !2216

_ZN11xercesc_2_59XMLString9stringLenEPKt.exit.i:  ; preds = %while.end.i.i, %lor.lhs.false.i.i
  %retval.0.i.i = phi i64 [ %phitmp10.i, %while.end.i.i ], [ 2, %lor.lhs.false.i.i ]
  %7 = bitcast %"class.xercesc_2_5::MemoryManager"* %4 to i8* (%"class.xercesc_2_5::MemoryManager"*, i64)***, !dbg !2217
  %vtable.i = load i8* (%"class.xercesc_2_5::MemoryManager"*, i64)*** %7, align 8, !dbg !2217, !tbaa !2114
  %vfn.i = getelementptr inbounds i8* (%"class.xercesc_2_5::MemoryManager"*, i64)** %vtable.i, i64 2, !dbg !2217
  %8 = load i8* (%"class.xercesc_2_5::MemoryManager"*, i64)** %vfn.i, align 8, !dbg !2217
  %call1.i = call i8* %8(%"class.xercesc_2_5::MemoryManager"* %4, i64 %retval.0.i.i) #8, !dbg !2217
  %9 = bitcast i8* %call1.i to i16*, !dbg !2217
  call void @llvm.dbg.value(metadata !{i16* %9}, i64 0, metadata !2207), !dbg !2217
  %10 = bitcast i16* %outEncoding to i8*, !dbg !2218
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* %call1.i, i8* %10, i64 %retval.0.i.i, i32 2, i1 false), !dbg !2218
  br label %_ZN11xercesc_2_59XMLString9replicateEPKtPNS_13MemoryManagerE.exit, !dbg !2219

_ZN11xercesc_2_59XMLString9replicateEPKtPNS_13MemoryManagerE.exit: ; preds = %if.end, %_ZN11xercesc_2_59XMLString9stringLenEPKt.exit.i
  %ret.0.i = phi i16* [ %9, %_ZN11xercesc_2_59XMLString9stringLenEPKt.exit.i ], [ null, %if.end ]
  store i16* %ret.0.i, i16** %fOutEncoding, align 8, !dbg !2202, !tbaa !2105
  tail call void @llvm.dbg.value(metadata !{i16* %docVersion}, i64 0, metadata !2220), !dbg !2222
  tail call void @llvm.dbg.value(metadata !2145, i64 0, metadata !2223), !dbg !2224
  tail call void @llvm.dbg.value(metadata !{i16* %docVersion}, i64 0, metadata !2225), !dbg !2226
  tail call void @llvm.dbg.value(metadata !2145, i64 0, metadata !2227), !dbg !2228
  %cmp.i = icmp eq i16* %docVersion, null, !dbg !2229
  br i1 %cmp.i, label %lor.lhs.false3.i, label %while.cond.preheader.i, !dbg !2229

while.cond.preheader.i:                           ; preds = %_ZN11xercesc_2_59XMLString9replicateEPKtPNS_13MemoryManagerE.exit
  %11 = load i16* %docVersion, align 2, !dbg !2230, !tbaa !2077
  %12 = load i16* getelementptr inbounds ([0 x i16]* @_ZN11xercesc_2_56XMLUni12fgVersion1_1E, i64 0, i64 0), align 2, !dbg !2230, !tbaa !2077
  %cmp923.i = icmp eq i16 %11, %12, !dbg !2230
  br i1 %cmp923.i, label %while.body.i, label %_ZN11xercesc_2_59XMLString6equalsEPKtS2_.exit, !dbg !2230

lor.lhs.false3.i:                                 ; preds = %_ZN11xercesc_2_59XMLString9replicateEPKtPNS_13MemoryManagerE.exit
  %13 = load i16* getelementptr inbounds ([0 x i16]* @_ZN11xercesc_2_56XMLUni12fgVersion1_1E, i64 0, i64 0), align 2, !dbg !2231, !tbaa !2077
  %tobool6.i = icmp eq i16 %13, 0, !dbg !2231
  %. = zext i1 %tobool6.i to i8, !dbg !2231
  br label %_ZN11xercesc_2_59XMLString6equalsEPKtS2_.exit, !dbg !2231

while.body.i:                                     ; preds = %while.cond.preheader.i, %if.end12.i
  %14 = phi i16 [ %15, %if.end12.i ], [ %11, %while.cond.preheader.i ]
  %psz2.025.i = phi i16* [ %incdec.ptr13.i, %if.end12.i ], [ getelementptr inbounds ([0 x i16]* @_ZN11xercesc_2_56XMLUni12fgVersion1_1E, i64 0, i64 0), %while.cond.preheader.i ]
  %psz1.024.i = phi i16* [ %incdec.ptr.i, %if.end12.i ], [ %docVersion, %while.cond.preheader.i ]
  %tobool10.i = icmp eq i16 %14, 0, !dbg !2232
  br i1 %tobool10.i, label %_ZN11xercesc_2_59XMLString6equalsEPKtS2_.exit, label %if.end12.i, !dbg !2232

if.end12.i:                                       ; preds = %while.body.i
  %incdec.ptr.i = getelementptr inbounds i16* %psz1.024.i, i64 1, !dbg !2233
  tail call void @llvm.dbg.value(metadata !{i16* %incdec.ptr.i}, i64 0, metadata !2225), !dbg !2233
  %incdec.ptr13.i = getelementptr inbounds i16* %psz2.025.i, i64 1, !dbg !2234
  tail call void @llvm.dbg.value(metadata !{i16* %incdec.ptr13.i}, i64 0, metadata !2227), !dbg !2234
  %15 = load i16* %incdec.ptr.i, align 2, !dbg !2230, !tbaa !2077
  %16 = load i16* %incdec.ptr13.i, align 2, !dbg !2230, !tbaa !2077
  %cmp9.i = icmp eq i16 %15, %16, !dbg !2230
  br i1 %cmp9.i, label %while.body.i, label %_ZN11xercesc_2_59XMLString6equalsEPKtS2_.exit, !dbg !2230

_ZN11xercesc_2_59XMLString6equalsEPKtS2_.exit:    ; preds = %while.body.i, %if.end12.i, %lor.lhs.false3.i, %while.cond.preheader.i
  %retval.0.i = phi i8 [ 0, %while.cond.preheader.i ], [ %., %lor.lhs.false3.i ], [ 1, %while.body.i ], [ 0, %if.end12.i ]
  store i8 %retval.0.i, i8* %fIsXML11, align 1, !dbg !2221, !tbaa !2083
  ret void, !dbg !2235
}
