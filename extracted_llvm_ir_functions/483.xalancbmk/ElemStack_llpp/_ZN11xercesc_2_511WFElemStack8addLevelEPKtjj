define i32 @_ZN11xercesc_2_511WFElemStack8addLevelEPKtjj(%"class.xercesc_2_5::WFElemStack"* nocapture %this, i16* nocapture %toSet, i32 %toSetLen, i32 %readerNum) #2 align 2 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::WFElemStack"* %this}, i64 0, metadata !2065), !dbg !3265
  tail call void @llvm.dbg.value(metadata !{i16* %toSet}, i64 0, metadata !2066), !dbg !3265
  tail call void @llvm.dbg.value(metadata !{i32 %toSetLen}, i64 0, metadata !2067), !dbg !3266
  tail call void @llvm.dbg.value(metadata !{i32 %readerNum}, i64 0, metadata !2068), !dbg !3267
  %fStackTop = getelementptr inbounds %"class.xercesc_2_5::WFElemStack"* %this, i64 0, i32 3, !dbg !3268
  %0 = load i32* %fStackTop, align 4, !dbg !3268, !tbaa !2939
  %fStackCapacity = getelementptr inbounds %"class.xercesc_2_5::WFElemStack"* %this, i64 0, i32 2, !dbg !3268
  %1 = load i32* %fStackCapacity, align 4, !dbg !3268, !tbaa !2939
  %cmp = icmp eq i32 %0, %1, !dbg !3268
  br i1 %cmp, label %if.then, label %if.end, !dbg !3268

if.then:                                          ; preds = %entry
  tail call void @_ZN11xercesc_2_511WFElemStack11expandStackEv(%"class.xercesc_2_5::WFElemStack"* %this) #7, !dbg !3269
  %.pre = load i32* %fStackTop, align 4, !dbg !3270, !tbaa !2939
  br label %if.end, !dbg !3269

if.end:                                           ; preds = %if.then, %entry
  %2 = phi i32 [ %.pre, %if.then ], [ %0, %entry ]
  %idxprom = zext i32 %2 to i64, !dbg !3270
  %fStack = getelementptr inbounds %"class.xercesc_2_5::WFElemStack"* %this, i64 0, i32 11, !dbg !3270
  %3 = load %"struct.xercesc_2_5::WFElemStack::StackElem"*** %fStack, align 8, !dbg !3270, !tbaa !2942
  %arrayidx = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %3, i64 %idxprom, !dbg !3270
  %4 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx, align 8, !dbg !3270, !tbaa !2942
  %tobool = icmp eq %"struct.xercesc_2_5::WFElemStack::StackElem"* %4, null, !dbg !3270
  br i1 %tobool, label %invoke.cont, label %if.end17, !dbg !3270

invoke.cont:                                      ; preds = %if.end
  %fMemoryManager = getelementptr inbounds %"class.xercesc_2_5::WFElemStack"* %this, i64 0, i32 13, !dbg !3271
  %5 = load %"class.xercesc_2_5::MemoryManager"** %fMemoryManager, align 8, !dbg !3271, !tbaa !2942
  %call = tail call i8* @_ZN11xercesc_2_57XMemorynwEmPNS_13MemoryManagerE(i64 24, %"class.xercesc_2_5::MemoryManager"* %5) #7, !dbg !3271
  %6 = bitcast i8* %call to %"struct.xercesc_2_5::WFElemStack::StackElem"*, !dbg !3271
  %7 = load i32* %fStackTop, align 4, !dbg !3271, !tbaa !2939
  %idxprom6 = zext i32 %7 to i64, !dbg !3271
  %8 = load %"struct.xercesc_2_5::WFElemStack::StackElem"*** %fStack, align 8, !dbg !3271, !tbaa !2942
  %arrayidx8 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %8, i64 %idxprom6, !dbg !3271
  store %"struct.xercesc_2_5::WFElemStack::StackElem"* %6, %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx8, align 8, !dbg !3271, !tbaa !2942
  %9 = load %"struct.xercesc_2_5::WFElemStack::StackElem"*** %fStack, align 8, !dbg !3273, !tbaa !2942
  %arrayidx12 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %9, i64 %idxprom6, !dbg !3273
  %10 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx12, align 8, !dbg !3273, !tbaa !2942
  %fThisElement = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %10, i64 0, i32 4, !dbg !3273
  store i16* null, i16** %fThisElement, align 8, !dbg !3273, !tbaa !2942
  %11 = load %"struct.xercesc_2_5::WFElemStack::StackElem"*** %fStack, align 8, !dbg !3274, !tbaa !2942
  %arrayidx16 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %11, i64 %idxprom6, !dbg !3274
  %12 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx16, align 8, !dbg !3274, !tbaa !2942
  %fElemMaxLength = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %12, i64 0, i32 3, !dbg !3274
  store i32 0, i32* %fElemMaxLength, align 4, !dbg !3274, !tbaa !2939
  %.pre85 = load i32* %fStackTop, align 4, !dbg !3275, !tbaa !2939
  %idxprom19.phi.trans.insert = zext i32 %.pre85 to i64
  %arrayidx21.phi.trans.insert = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %11, i64 %idxprom19.phi.trans.insert
  %.pre86 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx21.phi.trans.insert, align 8, !dbg !3275, !tbaa !2942
  br label %if.end17, !dbg !3276

if.end17:                                         ; preds = %if.end, %invoke.cont
  %13 = phi %"struct.xercesc_2_5::WFElemStack::StackElem"* [ %4, %if.end ], [ %.pre86, %invoke.cont ]
  %14 = phi %"struct.xercesc_2_5::WFElemStack::StackElem"** [ %3, %if.end ], [ %11, %invoke.cont ]
  %fUnknownNamespaceId = getelementptr inbounds %"class.xercesc_2_5::WFElemStack"* %this, i64 0, i32 4, !dbg !3275
  %15 = load i32* %fUnknownNamespaceId, align 4, !dbg !3275, !tbaa !2939
  %fCurrentURI = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %13, i64 0, i32 1, !dbg !3275
  store i32 %15, i32* %fCurrentURI, align 4, !dbg !3275, !tbaa !2939
  %16 = load i32* %fStackTop, align 4, !dbg !3277, !tbaa !2939
  %idxprom23 = zext i32 %16 to i64, !dbg !3277
  %arrayidx25 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %14, i64 %idxprom23, !dbg !3277
  %17 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx25, align 8, !dbg !3277, !tbaa !2942
  %fTopPrefix = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %17, i64 0, i32 0, !dbg !3277
  store i32 -1, i32* %fTopPrefix, align 4, !dbg !3277, !tbaa !2939
  %18 = load i32* %fStackTop, align 4, !dbg !3278, !tbaa !2939
  %idxprom27 = zext i32 %18 to i64, !dbg !3278
  %arrayidx29 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %14, i64 %idxprom27, !dbg !3278
  %19 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx29, align 8, !dbg !3278, !tbaa !2942
  %fElemMaxLength30 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %19, i64 0, i32 3, !dbg !3278
  %20 = load i32* %fElemMaxLength30, align 4, !dbg !3278, !tbaa !2939
  %cmp31 = icmp ult i32 %20, %toSetLen, !dbg !3278
  br i1 %cmp31, label %if.then32, label %if.end17.if.end53_crit_edge, !dbg !3278

if.end17.if.end53_crit_edge:                      ; preds = %if.end17
  %add59.pre = add i32 %toSetLen, 1, !dbg !3279
  %conv.i.pre = zext i32 %add59.pre to i64, !dbg !3280
  %mul.i.pre = shl nuw nsw i64 %conv.i.pre, 1, !dbg !3280
  br label %if.end53, !dbg !3278

if.then32:                                        ; preds = %if.end17
  %fMemoryManager33 = getelementptr inbounds %"class.xercesc_2_5::WFElemStack"* %this, i64 0, i32 13, !dbg !3282
  %21 = load %"class.xercesc_2_5::MemoryManager"** %fMemoryManager33, align 8, !dbg !3282, !tbaa !2942
  %22 = bitcast %"class.xercesc_2_5::MemoryManager"* %21 to void (%"class.xercesc_2_5::MemoryManager"*, i8*)***, !dbg !3282
  %vtable = load void (%"class.xercesc_2_5::MemoryManager"*, i8*)*** %22, align 8, !dbg !3282, !tbaa !2945
  %vfn = getelementptr inbounds void (%"class.xercesc_2_5::MemoryManager"*, i8*)** %vtable, i64 3, !dbg !3282
  %23 = load void (%"class.xercesc_2_5::MemoryManager"*, i8*)** %vfn, align 8, !dbg !3282
  %fThisElement38 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %19, i64 0, i32 4, !dbg !3282
  %24 = load i16** %fThisElement38, align 8, !dbg !3282, !tbaa !2942
  %25 = bitcast i16* %24 to i8*, !dbg !3282
  tail call void %23(%"class.xercesc_2_5::MemoryManager"* %21, i8* %25) #7, !dbg !3282
  %26 = load i32* %fStackTop, align 4, !dbg !3284, !tbaa !2939
  %idxprom40 = zext i32 %26 to i64, !dbg !3284
  %27 = load %"struct.xercesc_2_5::WFElemStack::StackElem"*** %fStack, align 8, !dbg !3284, !tbaa !2942
  %arrayidx42 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %27, i64 %idxprom40, !dbg !3284
  %28 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx42, align 8, !dbg !3284, !tbaa !2942
  %fElemMaxLength43 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %28, i64 0, i32 3, !dbg !3284
  store i32 %toSetLen, i32* %fElemMaxLength43, align 4, !dbg !3284, !tbaa !2939
  %29 = load %"class.xercesc_2_5::MemoryManager"** %fMemoryManager33, align 8, !dbg !3285, !tbaa !2942
  %30 = bitcast %"class.xercesc_2_5::MemoryManager"* %29 to i8* (%"class.xercesc_2_5::MemoryManager"*, i64)***, !dbg !3285
  %vtable45 = load i8* (%"class.xercesc_2_5::MemoryManager"*, i64)*** %30, align 8, !dbg !3285, !tbaa !2945
  %vfn46 = getelementptr inbounds i8* (%"class.xercesc_2_5::MemoryManager"*, i64)** %vtable45, i64 2, !dbg !3285
  %31 = load i8* (%"class.xercesc_2_5::MemoryManager"*, i64)** %vfn46, align 8, !dbg !3285
  %add = add i32 %toSetLen, 1, !dbg !3285
  %conv = zext i32 %add to i64, !dbg !3285
  %mul = shl nuw nsw i64 %conv, 1, !dbg !3285
  %call47 = tail call i8* %31(%"class.xercesc_2_5::MemoryManager"* %29, i64 %mul) #7, !dbg !3285
  %32 = bitcast i8* %call47 to i16*, !dbg !3285
  %33 = load i32* %fStackTop, align 4, !dbg !3285, !tbaa !2939
  %idxprom49 = zext i32 %33 to i64, !dbg !3285
  %34 = load %"struct.xercesc_2_5::WFElemStack::StackElem"*** %fStack, align 8, !dbg !3285, !tbaa !2942
  %arrayidx51 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %34, i64 %idxprom49, !dbg !3285
  %35 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx51, align 8, !dbg !3285, !tbaa !2942
  %fThisElement52 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %35, i64 0, i32 4, !dbg !3285
  store i16* %32, i16** %fThisElement52, align 8, !dbg !3285, !tbaa !2942
  %.pre87 = load %"struct.xercesc_2_5::WFElemStack::StackElem"*** %fStack, align 8, !dbg !3279, !tbaa !2942
  %arrayidx57.phi.trans.insert = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %.pre87, i64 %idxprom49
  %.pre88 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx57.phi.trans.insert, align 8, !dbg !3279, !tbaa !2942
  br label %if.end53, !dbg !3286

if.end53:                                         ; preds = %if.end17.if.end53_crit_edge, %if.then32
  %mul.i.pre-phi = phi i64 [ %mul.i.pre, %if.end17.if.end53_crit_edge ], [ %mul, %if.then32 ], !dbg !3280
  %36 = phi %"struct.xercesc_2_5::WFElemStack::StackElem"* [ %19, %if.end17.if.end53_crit_edge ], [ %.pre88, %if.then32 ]
  %fThisElement58 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %36, i64 0, i32 4, !dbg !3279
  %37 = load i16** %fThisElement58, align 8, !dbg !3279, !tbaa !2942
  tail call void @llvm.dbg.value(metadata !{i16* %37}, i64 0, metadata !3287) #3, !dbg !3288
  tail call void @llvm.dbg.value(metadata !{i16* %toSet}, i64 0, metadata !3289) #3, !dbg !3290
  %38 = bitcast i16* %37 to i8*, !dbg !3280
  %39 = bitcast i16* %toSet to i8*, !dbg !3280
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* %38, i8* %39, i64 %mul.i.pre-phi, i32 2, i1 false) #3, !dbg !3280
  %40 = load i32* %fStackTop, align 4, !dbg !3291, !tbaa !2939
  %idxprom61 = zext i32 %40 to i64, !dbg !3291
  %41 = load %"struct.xercesc_2_5::WFElemStack::StackElem"*** %fStack, align 8, !dbg !3291, !tbaa !2942
  %arrayidx63 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %41, i64 %idxprom61, !dbg !3291
  %42 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx63, align 8, !dbg !3291, !tbaa !2942
  %fReaderNum = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %42, i64 0, i32 2, !dbg !3291
  store i32 %readerNum, i32* %fReaderNum, align 4, !dbg !3291, !tbaa !2939
  %43 = load i32* %fStackTop, align 4, !dbg !3292, !tbaa !2939
  %cmp65 = icmp eq i32 %43, 0, !dbg !3292
  br i1 %cmp65, label %if.end77, label %if.then66, !dbg !3292

if.then66:                                        ; preds = %if.end53
  %sub = add i32 %43, -1, !dbg !3293
  %idxprom68 = zext i32 %sub to i64, !dbg !3293
  %arrayidx70 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %41, i64 %idxprom68, !dbg !3293
  %44 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx70, align 8, !dbg !3293, !tbaa !2942
  %fTopPrefix71 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %44, i64 0, i32 0, !dbg !3293
  %45 = load i32* %fTopPrefix71, align 4, !dbg !3293, !tbaa !2939
  %idxprom73 = zext i32 %43 to i64, !dbg !3293
  %arrayidx75 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"** %41, i64 %idxprom73, !dbg !3293
  %46 = load %"struct.xercesc_2_5::WFElemStack::StackElem"** %arrayidx75, align 8, !dbg !3293, !tbaa !2942
  %fTopPrefix76 = getelementptr inbounds %"struct.xercesc_2_5::WFElemStack::StackElem"* %46, i64 0, i32 0, !dbg !3293
  store i32 %45, i32* %fTopPrefix76, align 4, !dbg !3293, !tbaa !2939
  %.pre89 = load i32* %fStackTop, align 4, !dbg !3294, !tbaa !2939
  br label %if.end77, !dbg !3293

if.end77:                                         ; preds = %if.end53, %if.then66
  %47 = phi i32 [ 0, %if.end53 ], [ %.pre89, %if.then66 ]
  %inc = add i32 %47, 1, !dbg !3294
  store i32 %inc, i32* %fStackTop, align 4, !dbg !3294, !tbaa !2939
  ret i32 %47, !dbg !3295
}
