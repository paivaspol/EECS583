define i16* @_ZNK11xercesc_2_520DOMCharacterDataImpl13substringDataEPKNS_7DOMNodeEmm(%"class.xercesc_2_5::DOMCharacterDataImpl"* nocapture %this, %"class.xercesc_2_5::DOMNode"* %node, i64 %offset, i64 %count) #1 align 2 {
entry:
  %temp = alloca [4000 x i16], align 16
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMCharacterDataImpl"* %this}, i64 0, metadata !2713), !dbg !3659
  call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMNode"* %node}, i64 0, metadata !2714), !dbg !3659
  call void @llvm.dbg.value(metadata !{i64 %offset}, i64 0, metadata !2715), !dbg !3659
  call void @llvm.dbg.value(metadata !{i64 %count}, i64 0, metadata !2716), !dbg !3660
  %fDataBuf = getelementptr inbounds %"class.xercesc_2_5::DOMCharacterDataImpl"* %this, i64 0, i32 0, !dbg !3661
  %0 = load %"class.xercesc_2_5::DOMBuffer"** %fDataBuf, align 8, !dbg !3661, !tbaa !3454
  tail call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMBuffer"* %0}, i64 0, metadata !3662), !dbg !3663
  %fIndex.i = getelementptr inbounds %"class.xercesc_2_5::DOMBuffer"* %0, i64 0, i32 1, !dbg !3664
  %1 = load i32* %fIndex.i, align 4, !dbg !3664, !tbaa !3484
  %conv = zext i32 %1 to i64, !dbg !3661
  call void @llvm.dbg.value(metadata !{i64 %conv}, i64 0, metadata !2717), !dbg !3661
  %cmp = icmp ult i64 %conv, %offset, !dbg !3665
  br i1 %cmp, label %if.then, label %if.end, !dbg !3665

if.then:                                          ; preds = %entry
  %exception = call i8* @__cxa_allocate_exception(i64 24) #5, !dbg !3666
  %2 = bitcast i8* %exception to %"class.xercesc_2_5::DOMException"*, !dbg !3666
  invoke void @_ZN11xercesc_2_512DOMExceptionC1EsPKt(%"class.xercesc_2_5::DOMException"* %2, i16 signext 1, i16* null) #8
          to label %invoke.cont unwind label %lpad, !dbg !3666

invoke.cont:                                      ; preds = %if.then
  call void @__cxa_throw(i8* %exception, i8* bitcast (i8** @_ZTIN11xercesc_2_512DOMExceptionE to i8*), i8* bitcast (void (%"class.xercesc_2_5::DOMException"*)* @_ZN11xercesc_2_512DOMExceptionD1Ev to i8*)) #9, !dbg !3666
  unreachable, !dbg !3666

lpad:                                             ; preds = %if.then
  %3 = landingpad { i8*, i32 } personality i8* bitcast (i32 (...)* @__gxx_personality_v0 to i8*)
          cleanup, !dbg !3666
  call void @__cxa_free_exception(i8* %exception) #5, !dbg !3666
  resume { i8*, i32 } %3, !dbg !3666

if.end:                                           ; preds = %entry
  %4 = bitcast [4000 x i16]* %temp to i8*, !dbg !3667
  call void @llvm.lifetime.start(i64 8000, i8* %4) #5, !dbg !3667
  call void @llvm.dbg.declare(metadata !{[4000 x i16]* %temp}, metadata !2719), !dbg !3667
  %cmp5 = icmp ugt i32 %1, 3998, !dbg !3668
  br i1 %cmp5, label %if.then6, label %if.else, !dbg !3668

if.then6:                                         ; preds = %if.end
  %5 = bitcast %"class.xercesc_2_5::DOMNode"* %node to %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)***, !dbg !3669
  %vtable = load %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)*** %5, align 8, !dbg !3669, !tbaa !3507
  %vfn = getelementptr inbounds %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)** %vtable, i64 12, !dbg !3669
  %6 = load %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)** %vfn, align 8, !dbg !3669
  %call7 = call %"class.xercesc_2_5::DOMDocument"* %6(%"class.xercesc_2_5::DOMNode"* %node) #8, !dbg !3669
  %fMemoryManager.i = getelementptr inbounds %"class.xercesc_2_5::DOMDocument"* %call7, i64 7, i32 2, !dbg !3670
  %7 = bitcast %"class.xercesc_2_5::DOMDocumentTraversal"* %fMemoryManager.i to %"class.xercesc_2_5::MemoryManager"**, !dbg !3670
  %8 = load %"class.xercesc_2_5::MemoryManager"** %7, align 8, !dbg !3670, !tbaa !3454
  %9 = bitcast %"class.xercesc_2_5::MemoryManager"* %8 to i8* (%"class.xercesc_2_5::MemoryManager"*, i64)***, !dbg !3669
  %vtable9 = load i8* (%"class.xercesc_2_5::MemoryManager"*, i64)*** %9, align 8, !dbg !3669, !tbaa !3507
  %vfn10 = getelementptr inbounds i8* (%"class.xercesc_2_5::MemoryManager"*, i64)** %vtable9, i64 2, !dbg !3669
  %10 = load i8* (%"class.xercesc_2_5::MemoryManager"*, i64)** %vfn10, align 8, !dbg !3669
  %add = shl nuw nsw i64 %conv, 1, !dbg !3669
  %mul = add i64 %add, 2, !dbg !3669
  %call11 = call i8* %10(%"class.xercesc_2_5::MemoryManager"* %8, i64 %mul) #8, !dbg !3669
  %11 = bitcast i8* %call11 to i16*, !dbg !3669
  call void @llvm.dbg.value(metadata !{i16* %11}, i64 0, metadata !2718), !dbg !3669
  %.pre = load %"class.xercesc_2_5::DOMBuffer"** %fDataBuf, align 8, !dbg !3672, !tbaa !3454
  %fIndex.i44.phi.trans.insert = getelementptr inbounds %"class.xercesc_2_5::DOMBuffer"* %.pre, i64 0, i32 1
  %.pre45 = load i32* %fIndex.i44.phi.trans.insert, align 4, !dbg !3673, !tbaa !3484
  br label %if.end12, !dbg !3669

if.else:                                          ; preds = %if.end
  %arraydecay = getelementptr inbounds [4000 x i16]* %temp, i64 0, i64 0, !dbg !3674
  call void @llvm.dbg.value(metadata !{i16* %arraydecay}, i64 0, metadata !2718), !dbg !3674
  %.pre46 = bitcast %"class.xercesc_2_5::DOMNode"* %node to %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)***, !dbg !3675
  br label %if.end12

if.end12:                                         ; preds = %if.else, %if.then6
  %.pre-phi = phi %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)*** [ %.pre46, %if.else ], [ %5, %if.then6 ], !dbg !3675
  %12 = phi i32 [ %1, %if.else ], [ %.pre45, %if.then6 ]
  %13 = phi %"class.xercesc_2_5::DOMBuffer"* [ %0, %if.else ], [ %.pre, %if.then6 ]
  %newString.0 = phi i16* [ %arraydecay, %if.else ], [ %11, %if.then6 ]
  tail call void @llvm.dbg.value(metadata !{%"class.xercesc_2_5::DOMBuffer"* %13}, i64 0, metadata !3676), !dbg !3677
  %idxprom.i = zext i32 %12 to i64, !dbg !3673
  %fBuffer.i = getelementptr inbounds %"class.xercesc_2_5::DOMBuffer"* %13, i64 0, i32 0, !dbg !3673
  %14 = load i16** %fBuffer.i, align 8, !dbg !3673, !tbaa !3454
  %arrayidx.i = getelementptr inbounds i16* %14, i64 %idxprom.i, !dbg !3673
  store i16 0, i16* %arrayidx.i, align 2, !dbg !3673, !tbaa !3485
  %add.ptr = getelementptr inbounds i16* %14, i64 %offset, !dbg !3672
  %conv15 = trunc i64 %count to i32, !dbg !3672
  %call16 = call zeroext i1 @_ZN11xercesc_2_59XMLString11copyNStringEPtPKtj(i16* %newString.0, i16* %add.ptr, i32 %conv15) #8, !dbg !3672
  %arrayidx = getelementptr inbounds i16* %newString.0, i64 %count, !dbg !3678
  store i16 0, i16* %arrayidx, align 2, !dbg !3678, !tbaa !3485
  %vtable17 = load %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)*** %.pre-phi, align 8, !dbg !3675, !tbaa !3507
  %vfn18 = getelementptr inbounds %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)** %vtable17, i64 12, !dbg !3675
  %15 = load %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)** %vfn18, align 8, !dbg !3675
  %call19 = call %"class.xercesc_2_5::DOMDocument"* %15(%"class.xercesc_2_5::DOMNode"* %node) #8, !dbg !3675
  %16 = bitcast %"class.xercesc_2_5::DOMDocument"* %call19 to %"class.xercesc_2_5::DOMDocumentImpl"*, !dbg !3675
  %call20 = call i16* @_ZN11xercesc_2_515DOMDocumentImpl15getPooledStringEPKt(%"class.xercesc_2_5::DOMDocumentImpl"* %16, i16* %newString.0) #8, !dbg !3675
  call void @llvm.dbg.value(metadata !{i16* %call20}, i64 0, metadata !2720), !dbg !3675
  br i1 %cmp5, label %if.then22, label %if.end29, !dbg !3679

if.then22:                                        ; preds = %if.end12
  %vtable23 = load %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)*** %.pre-phi, align 8, !dbg !3680, !tbaa !3507
  %vfn24 = getelementptr inbounds %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)** %vtable23, i64 12, !dbg !3680
  %17 = load %"class.xercesc_2_5::DOMDocument"* (%"class.xercesc_2_5::DOMNode"*)** %vfn24, align 8, !dbg !3680
  %call25 = call %"class.xercesc_2_5::DOMDocument"* %17(%"class.xercesc_2_5::DOMNode"* %node) #8, !dbg !3680
  %fMemoryManager.i43 = getelementptr inbounds %"class.xercesc_2_5::DOMDocument"* %call25, i64 7, i32 2, !dbg !3681
  %18 = bitcast %"class.xercesc_2_5::DOMDocumentTraversal"* %fMemoryManager.i43 to %"class.xercesc_2_5::MemoryManager"**, !dbg !3681
  %19 = load %"class.xercesc_2_5::MemoryManager"** %18, align 8, !dbg !3681, !tbaa !3454
  %20 = bitcast %"class.xercesc_2_5::MemoryManager"* %19 to void (%"class.xercesc_2_5::MemoryManager"*, i8*)***, !dbg !3680
  %vtable27 = load void (%"class.xercesc_2_5::MemoryManager"*, i8*)*** %20, align 8, !dbg !3680, !tbaa !3507
  %vfn28 = getelementptr inbounds void (%"class.xercesc_2_5::MemoryManager"*, i8*)** %vtable27, i64 3, !dbg !3680
  %21 = load void (%"class.xercesc_2_5::MemoryManager"*, i8*)** %vfn28, align 8, !dbg !3680
  %22 = bitcast i16* %newString.0 to i8*, !dbg !3680
  call void %21(%"class.xercesc_2_5::MemoryManager"* %19, i8* %22) #8, !dbg !3680
  br label %if.end29, !dbg !3680

if.end29:                                         ; preds = %if.then22, %if.end12
  call void @llvm.lifetime.end(i64 8000, i8* %4) #5, !dbg !3682
  ret i16* %call20, !dbg !3682
}
