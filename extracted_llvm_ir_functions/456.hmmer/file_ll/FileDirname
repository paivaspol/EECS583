define i8* @FileDirname(i8* %file) #0 {
entry:
  %call = tail call i8* @strrchr(i8* %file, i32 47) #5
  %cmp = icmp eq i8* %call, null
  br i1 %cmp, label %cond.end, label %cond.false

cond.false:                                       ; preds = %entry
  %sub.ptr.lhs.cast = ptrtoint i8* %call to i64
  %sub.ptr.rhs.cast = ptrtoint i8* %file to i64
  %sub.ptr.sub = sub i64 %sub.ptr.lhs.cast, %sub.ptr.rhs.cast
  %conv = trunc i64 %sub.ptr.sub to i32
  br label %cond.end

cond.end:                                         ; preds = %entry, %cond.false
  %cond = phi i32 [ %conv, %cond.false ], [ 0, %entry ]
  %add = add nsw i32 %cond, 2
  %conv1 = sext i32 %add to i64
  %call2 = tail call i8* @sre_malloc(i8* getelementptr inbounds ([50 x i8]* @.str, i64 0, i64 0), i32 73, i64 %conv1) #6
  %cmp3 = icmp sgt i32 %cond, 0
  br i1 %cmp3, label %if.then, label %if.else

if.then:                                          ; preds = %cond.end
  %conv5 = sext i32 %cond to i64
  %call6 = tail call i8* @strncpy(i8* %call2, i8* %file, i64 %conv5) #6
  br label %if.end12

if.else:                                          ; preds = %cond.end
  %0 = load i8* %file, align 1, !tbaa !0
  %cmp8 = icmp eq i8 %0, 47
  br i1 %cmp8, label %if.else11, label %if.then10

if.then10:                                        ; preds = %if.else
  store i8 46, i8* %call2, align 1, !tbaa !0
  br label %if.end12

if.else11:                                        ; preds = %if.else
  store i8 47, i8* %call2, align 1, !tbaa !0
  br label %if.end12

if.end12:                                         ; preds = %if.then10, %if.else11, %if.then
  %len.0 = phi i32 [ %cond, %if.then ], [ 1, %if.then10 ], [ 1, %if.else11 ]
  %idxprom = sext i32 %len.0 to i64
  %arrayidx = getelementptr inbounds i8* %call2, i64 %idxprom
  store i8 0, i8* %arrayidx, align 1, !tbaa !0
  ret i8* %call2
}
