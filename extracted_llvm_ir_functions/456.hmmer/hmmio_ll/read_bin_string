define internal fastcc i32 @read_bin_string(%struct._IO_FILE* nocapture %fp, i32 %doswap, i8** nocapture %ret_s) #0 {
entry:
  %len = alloca i32, align 4
  %0 = bitcast i32* %len to i8*
  %call = call i64 @fread(i8* %0, i64 4, i64 1, %struct._IO_FILE* %fp) #6
  %tobool = icmp eq i64 %call, 0
  br i1 %tobool, label %return, label %if.end

if.end:                                           ; preds = %entry
  %tobool1 = icmp eq i32 %doswap, 0
  br i1 %tobool1, label %if.end3, label %for.body.i

for.body.i:                                       ; preds = %if.end, %for.body.i
  %indvars.iv.i = phi i64 [ %indvars.iv.next.i, %for.body.i ], [ 0, %if.end ]
  %1 = sub i64 3, %indvars.iv.i
  %arrayidx.i = getelementptr inbounds i8* %0, i64 %1
  %2 = load i8* %arrayidx.i, align 1, !tbaa !1
  %arrayidx3.i = getelementptr inbounds i8* %0, i64 %indvars.iv.i
  %3 = load i8* %arrayidx3.i, align 1, !tbaa !1
  store i8 %3, i8* %arrayidx.i, align 1, !tbaa !1
  store i8 %2, i8* %arrayidx3.i, align 1, !tbaa !1
  %indvars.iv.next.i = add i64 %indvars.iv.i, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next.i to i32
  %exitcond = icmp eq i32 %lftr.wideiv, 2
  br i1 %exitcond, label %if.end3, label %for.body.i

if.end3:                                          ; preds = %for.body.i, %if.end
  %4 = load i32* %len, align 4, !tbaa !0
  %conv = sext i32 %4 to i64
  %call4 = call i8* @sre_malloc(i8* getelementptr inbounds ([51 x i8]* @.str, i64 0, i64 0), i32 1370, i64 %conv) #6
  %call6 = call i64 @fread(i8* %call4, i64 1, i64 %conv, %struct._IO_FILE* %fp) #6
  %tobool7 = icmp eq i64 %call6, 0
  br i1 %tobool7, label %if.then8, label %if.end9

if.then8:                                         ; preds = %if.end3
  call void @free(i8* %call4) #6
  br label %return

if.end9:                                          ; preds = %if.end3
  store i8* %call4, i8** %ret_s, align 8, !tbaa !3
  br label %return

return:                                           ; preds = %entry, %if.end9, %if.then8
  %retval.0 = phi i32 [ 1, %if.end9 ], [ 0, %if.then8 ], [ 0, %entry ]
  ret i32 %retval.0
}
