define i32 @GaussianFitHistogram(%struct.histogram_s* nocapture %h, float %high_hint) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%struct.histogram_s* %h}, i64 0, metadata !215), !dbg !818
  tail call void @llvm.dbg.value(metadata !{float %high_hint}, i64 0, metadata !216), !dbg !818
  tail call void @llvm.dbg.value(metadata !{%struct.histogram_s* %h}, i64 0, metadata !819) #4, !dbg !821
  %expect.i = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 7, !dbg !822
  %0 = load float** %expect.i, align 8, !dbg !822, !tbaa !371
  %cmp.i = icmp eq float* %0, null, !dbg !822
  br i1 %cmp.i, label %UnfitHistogram.exit, label %if.then.i, !dbg !822

if.then.i:                                        ; preds = %entry
  %1 = bitcast float* %0 to i8*, !dbg !822
  tail call void @free(i8* %1) #5, !dbg !822
  br label %UnfitHistogram.exit, !dbg !822

UnfitHistogram.exit:                              ; preds = %entry, %if.then.i
  store float* null, float** %expect.i, align 8, !dbg !823, !tbaa !371
  %fit_type.i = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 8, !dbg !824
  store i32 0, i32* %fit_type.i, align 4, !dbg !824, !tbaa !362
  %total = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 6, !dbg !825
  %2 = load i32* %total, align 4, !dbg !825, !tbaa !362
  %cmp = icmp slt i32 %2, 1000, !dbg !825
  br i1 %cmp, label %if.then, label %if.end, !dbg !825

if.then:                                          ; preds = %UnfitHistogram.exit
  store i32 0, i32* %fit_type.i, align 4, !dbg !826, !tbaa !362
  br label %return, !dbg !826

if.end:                                           ; preds = %UnfitHistogram.exit
  tail call void @llvm.dbg.value(metadata !828, i64 0, metadata !218), !dbg !829
  tail call void @llvm.dbg.value(metadata !828, i64 0, metadata !217), !dbg !829
  %lowscore = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 4, !dbg !830
  %3 = load i32* %lowscore, align 4, !dbg !830, !tbaa !362
  tail call void @llvm.dbg.value(metadata !{i32 %3}, i64 0, metadata !220), !dbg !830
  %highscore = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 3, !dbg !830
  %4 = load i32* %highscore, align 4, !dbg !830, !tbaa !362
  %cmp1238 = icmp sgt i32 %3, %4, !dbg !830
  %min32.pre = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 1, !dbg !832
  br i1 %cmp1238, label %for.end, label %for.body.lr.ph, !dbg !830

for.body.lr.ph:                                   ; preds = %if.end
  %5 = load i32* %min32.pre, align 4, !dbg !833, !tbaa !362
  %histogram = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 0, !dbg !833
  %6 = load i32** %histogram, align 8, !dbg !833, !tbaa !371
  %7 = sext i32 %3 to i64
  br label %for.body, !dbg !830

for.body:                                         ; preds = %for.body, %for.body.lr.ph
  %indvars.iv247 = phi i64 [ %indvars.iv.next248, %for.body ], [ %7, %for.body.lr.ph ]
  %sqsum.0240 = phi float [ %add14, %for.body ], [ 0.000000e+00, %for.body.lr.ph ]
  %sum.0239 = phi float [ %add5, %for.body ], [ 0.000000e+00, %for.body.lr.ph ]
  %8 = trunc i64 %indvars.iv247 to i32, !dbg !835
  %conv = sitofp i32 %8 to float, !dbg !835
  %conv3 = fadd float %conv, 5.000000e-01, !dbg !835
  tail call void @llvm.dbg.value(metadata !{float %conv3}, i64 0, metadata !219), !dbg !835
  %sub = sub nsw i32 %8, %5, !dbg !833
  %idxprom = sext i32 %sub to i64, !dbg !833
  %arrayidx = getelementptr inbounds i32* %6, i64 %idxprom, !dbg !833
  %9 = load i32* %arrayidx, align 4, !dbg !833, !tbaa !362
  %conv4 = sitofp i32 %9 to float, !dbg !833
  %mul = fmul float %conv3, %conv4, !dbg !833
  %add5 = fadd float %sum.0239, %mul, !dbg !833
  tail call void @llvm.dbg.value(metadata !{float %add5}, i64 0, metadata !217), !dbg !833
  %mul13 = fmul float %conv3, %mul, !dbg !836
  %add14 = fadd float %sqsum.0240, %mul13, !dbg !836
  tail call void @llvm.dbg.value(metadata !{float %add14}, i64 0, metadata !218), !dbg !836
  %indvars.iv.next248 = add i64 %indvars.iv247, 1, !dbg !830
  %cmp1 = icmp slt i32 %8, %4, !dbg !830
  br i1 %cmp1, label %for.body, label %for.end, !dbg !830

for.end:                                          ; preds = %if.end, %for.body
  %sqsum.0.lcssa = phi float [ %add14, %for.body ], [ 0.000000e+00, %if.end ]
  %sum.0.lcssa = phi float [ %add5, %for.body ], [ 0.000000e+00, %if.end ]
  store i32 2, i32* %fit_type.i, align 4, !dbg !837, !tbaa !362
  %conv17 = sitofp i32 %2 to float, !dbg !838
  %div = fdiv float %sum.0.lcssa, %conv17, !dbg !838
  %arrayidx18 = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 9, i64 0, !dbg !838
  store float %div, float* %arrayidx18, align 4, !dbg !838, !tbaa !490
  %mul19 = fmul float %sum.0.lcssa, %sum.0.lcssa, !dbg !839
  %div22 = fdiv float %mul19, %conv17, !dbg !839
  %sub23 = fsub float %sqsum.0.lcssa, %div22, !dbg !839
  %sub25 = add nsw i32 %2, -1, !dbg !839
  %conv26 = sitofp i32 %sub25 to float, !dbg !839
  %div27 = fdiv float %sub23, %conv26, !dbg !839
  %conv29 = tail call float @sqrtf(float %div27) #3, !dbg !839
  %arrayidx31 = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 9, i64 1, !dbg !839
  store float %conv29, float* %arrayidx31, align 4, !dbg !839, !tbaa !490
  %max = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 2, !dbg !832
  %10 = load i32* %max, align 4, !dbg !832, !tbaa !362
  %11 = load i32* %min32.pre, align 4, !dbg !832, !tbaa !362
  %sub33 = sub nsw i32 %10, %11, !dbg !832
  %add34 = add nsw i32 %sub33, 1, !dbg !832
  tail call void @llvm.dbg.value(metadata !{i32 %add34}, i64 0, metadata !222), !dbg !832
  %conv35 = sext i32 %add34 to i64, !dbg !840
  %mul36 = shl nsw i64 %conv35, 2, !dbg !840
  %call37 = tail call i8* @sre_malloc(i8* getelementptr inbounds ([55 x i8]* @.str, i64 0, i64 0), i32 790, i64 %mul36) #5, !dbg !840
  %12 = bitcast i8* %call37 to float*, !dbg !840
  store float* %12, float** %expect.i, align 8, !dbg !840, !tbaa !371
  tail call void @llvm.dbg.value(metadata !2, i64 0, metadata !223), !dbg !841
  %cmp39236 = icmp sgt i32 %sub33, -1, !dbg !841
  br i1 %cmp39236, label %for.body41.lr.ph, label %for.end47, !dbg !841

for.body41.lr.ph:                                 ; preds = %for.end
  %13 = add i32 %10, 1, !dbg !841
  %14 = sub i32 %13, %11, !dbg !841
  %15 = icmp sgt i32 %14, 1
  %.op = add i32 %14, -1, !dbg !841
  %16 = zext i32 %.op to i64
  %.op249 = shl nuw nsw i64 %16, 2, !dbg !841
  %.op249.op = add i64 %.op249, 4, !dbg !841
  %17 = select i1 %15, i64 %.op249.op, i64 4, !dbg !841
  call void @llvm.memset.p0i8.i64(i8* %call37, i8 0, i64 %17, i32 4, i1 false), !dbg !843
  br label %for.end47, !dbg !841

for.end47:                                        ; preds = %for.body41.lr.ph, %for.end
  %18 = load i32* %min32.pre, align 4, !dbg !844, !tbaa !362
  tail call void @llvm.dbg.value(metadata !{i32 %18}, i64 0, metadata !220), !dbg !844
  %19 = load i32* %max, align 4, !dbg !844, !tbaa !362
  %cmp51234 = icmp sgt i32 %18, %19, !dbg !844
  br i1 %cmp51234, label %for.end95, label %for.body53, !dbg !844

for.body53:                                       ; preds = %for.end47, %for.body53
  %sc.1235 = phi i32 [ %inc94, %for.body53 ], [ %18, %for.end47 ]
  %conv54 = sitofp i32 %sc.1235 to float, !dbg !846
  %conv55 = fpext float %conv54 to double, !dbg !846
  %add56 = fadd double %conv55, 5.000000e-01, !dbg !846
  %20 = load float* %arrayidx18, align 4, !dbg !846, !tbaa !490
  %conv59 = fpext float %20 to double, !dbg !846
  %sub60 = fsub double %add56, %conv59, !dbg !846
  %conv61 = fptrunc double %sub60 to float, !dbg !846
  tail call void @llvm.dbg.value(metadata !{float %conv61}, i64 0, metadata !219), !dbg !846
  %21 = load i32* %total, align 4, !dbg !848, !tbaa !362
  %conv63 = sitofp i32 %21 to float, !dbg !848
  %conv64 = fpext float %conv63 to double, !dbg !848
  %22 = load float* %arrayidx31, align 4, !dbg !848, !tbaa !490
  %conv67 = fpext float %22 to double, !dbg !848
  %mul69 = fmul double %conv67, 0x40040D9291DFEC75, !dbg !849
  %div70 = fdiv double 1.000000e+00, %mul69, !dbg !849
  %conv71 = fpext float %conv61 to double, !dbg !850
  %mul72 = fmul double %conv71, -1.000000e+00, !dbg !850
  %mul74 = fmul double %conv71, %mul72, !dbg !850
  %mul78 = fmul double %conv67, 2.000000e+00, !dbg !850
  %mul82 = fmul double %conv67, %mul78, !dbg !850
  %div83 = fdiv double %mul74, %mul82, !dbg !850
  %call84 = tail call double @exp(double %div83) #5, !dbg !850
  %mul85 = fmul double %div70, %call84, !dbg !850
  %mul86 = fmul double %conv64, %mul85, !dbg !850
  %conv87 = fptrunc double %mul86 to float, !dbg !850
  %23 = load i32* %min32.pre, align 4, !dbg !850, !tbaa !362
  %sub89 = sub nsw i32 %sc.1235, %23, !dbg !850
  %idxprom90 = sext i32 %sub89 to i64, !dbg !850
  %24 = load float** %expect.i, align 8, !dbg !850, !tbaa !371
  %arrayidx92 = getelementptr inbounds float* %24, i64 %idxprom90, !dbg !850
  store float %conv87, float* %arrayidx92, align 4, !dbg !850, !tbaa !490
  %inc94 = add nsw i32 %sc.1235, 1, !dbg !844
  tail call void @llvm.dbg.value(metadata !{i32 %inc94}, i64 0, metadata !220), !dbg !844
  %25 = load i32* %max, align 4, !dbg !844, !tbaa !362
  %cmp51 = icmp slt i32 %sc.1235, %25, !dbg !844
  br i1 %cmp51, label %for.body53, label %for.end95, !dbg !844

for.end95:                                        ; preds = %for.body53, %for.end47
  %26 = phi i32 [ %18, %for.end47 ], [ %23, %for.body53 ]
  %chisq = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 10, !dbg !851
  store float 0.000000e+00, float* %chisq, align 4, !dbg !851, !tbaa !490
  tail call void @llvm.dbg.value(metadata !2, i64 0, metadata !221), !dbg !852
  %27 = load i32* %lowscore, align 4, !dbg !853, !tbaa !362
  tail call void @llvm.dbg.value(metadata !{i32 %27}, i64 0, metadata !220), !dbg !853
  %28 = load i32* %highscore, align 4, !dbg !853, !tbaa !362
  %cmp99231 = icmp sgt i32 %27, %28, !dbg !853
  br i1 %cmp99231, label %if.else, label %for.body101.lr.ph, !dbg !853

for.body101.lr.ph:                                ; preds = %for.end95
  %29 = load float** %expect.i, align 8, !dbg !855, !tbaa !371
  %histogram113 = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 0, !dbg !855
  %30 = sext i32 %27 to i64
  br label %for.body101, !dbg !853

for.body101:                                      ; preds = %for.inc141, %for.body101.lr.ph
  %31 = phi float [ %36, %for.inc141 ], [ 0.000000e+00, %for.body101.lr.ph ]
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.inc141 ], [ %30, %for.body101.lr.ph ]
  %nbins.0233 = phi i32 [ %nbins.1, %for.inc141 ], [ 0, %for.body101.lr.ph ]
  %32 = trunc i64 %indvars.iv to i32, !dbg !855
  %sub103 = sub nsw i32 %32, %26, !dbg !855
  %idxprom104 = sext i32 %sub103 to i64, !dbg !855
  %arrayidx106 = getelementptr inbounds float* %29, i64 %idxprom104, !dbg !855
  %33 = load float* %arrayidx106, align 4, !dbg !855, !tbaa !490
  %cmp108 = fcmp ult float %33, 5.000000e+00, !dbg !855
  br i1 %cmp108, label %for.inc141, label %land.lhs.true, !dbg !855

land.lhs.true:                                    ; preds = %for.body101
  %34 = load i32** %histogram113, align 8, !dbg !855, !tbaa !371
  %arrayidx114 = getelementptr inbounds i32* %34, i64 %idxprom104, !dbg !855
  %35 = load i32* %arrayidx114, align 4, !dbg !855, !tbaa !362
  %cmp115 = icmp sgt i32 %35, 4, !dbg !855
  br i1 %cmp115, label %if.then117, label %for.inc141, !dbg !855

if.then117:                                       ; preds = %land.lhs.true
  %conv123 = sitofp i32 %35 to float, !dbg !856
  %sub129 = fsub float %conv123, %33, !dbg !856
  tail call void @llvm.dbg.value(metadata !{float %sub129}, i64 0, metadata !219), !dbg !856
  %mul130 = fmul float %sub129, %sub129, !dbg !858
  %div136 = fdiv float %mul130, %33, !dbg !858
  %add138 = fadd float %div136, %31, !dbg !858
  store float %add138, float* %chisq, align 4, !dbg !858, !tbaa !490
  %inc139 = add nsw i32 %nbins.0233, 1, !dbg !859
  tail call void @llvm.dbg.value(metadata !{i32 %inc139}, i64 0, metadata !221), !dbg !859
  br label %for.inc141, !dbg !860

for.inc141:                                       ; preds = %for.body101, %land.lhs.true, %if.then117
  %36 = phi float [ %add138, %if.then117 ], [ %31, %land.lhs.true ], [ %31, %for.body101 ]
  %nbins.1 = phi i32 [ %inc139, %if.then117 ], [ %nbins.0233, %land.lhs.true ], [ %nbins.0233, %for.body101 ]
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !853
  %cmp99 = icmp slt i32 %32, %28, !dbg !853
  br i1 %cmp99, label %for.body101, label %for.end143, !dbg !853

for.end143:                                       ; preds = %for.inc141
  %cmp144 = icmp sgt i32 %nbins.1, 3, !dbg !861
  br i1 %cmp144, label %if.then146, label %if.else, !dbg !861

if.then146:                                       ; preds = %for.end143
  %sub147 = add nsw i32 %nbins.1, -3, !dbg !862
  %conv148 = sitofp i32 %sub147 to double, !dbg !862
  %div149 = fmul double %conv148, 5.000000e-01, !dbg !862
  %conv151 = fpext float %36 to double, !dbg !862
  %div152 = fmul double %conv151, 5.000000e-01, !dbg !862
  %call153 = tail call double @IncompleteGamma(double %div149, double %div152) #5, !dbg !862
  %conv154 = fptrunc double %call153 to float, !dbg !862
  %chip = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 11, !dbg !862
  store float %conv154, float* %chip, align 4, !dbg !862, !tbaa !490
  br label %return, !dbg !862

if.else:                                          ; preds = %for.end95, %for.end143
  %chip155 = getelementptr inbounds %struct.histogram_s* %h, i64 0, i32 11, !dbg !863
  store float 0.000000e+00, float* %chip155, align 4, !dbg !863, !tbaa !490
  br label %return

return:                                           ; preds = %if.then146, %if.else, %if.then
  %retval.0 = phi i32 [ 0, %if.then ], [ 1, %if.else ], [ 1, %if.then146 ]
  ret i32 %retval.0, !dbg !864
}
