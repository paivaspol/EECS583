define %struct.gsi_s* @GSIOpen(i8* %gsifile) #0 {
  %magic = alloca [32 x i8], align 16
  tail call void @llvm.dbg.value(metadata i8* %gsifile, i64 0, metadata !96, metadata !226), !dbg !227
  tail call void @llvm.dbg.declare(metadata [32 x i8]* %magic, metadata !98, metadata !226), !dbg !228
  %1 = tail call i8* @sre_malloc(i8* getelementptr inbounds ([61 x i8]* @.str, i64 0, i64 0), i32 58, i64 16) #7, !dbg !229
  %2 = bitcast i8* %1 to %struct.gsi_s*, !dbg !230
  tail call void @llvm.dbg.value(metadata %struct.gsi_s* %2, i64 0, metadata !97, metadata !226), !dbg !231
  %3 = tail call %struct.__sFILE* @"\01_fopen"(i8* %gsifile, i8* getelementptr inbounds ([2 x i8]* @.str1, i64 0, i64 0)) #7, !dbg !232
  %4 = bitcast i8* %1 to %struct.__sFILE**, !dbg !234
  store %struct.__sFILE* %3, %struct.__sFILE** %4, align 8, !dbg !235, !tbaa !236
  %5 = icmp eq %struct.__sFILE* %3, null, !dbg !243
  br i1 %5, label %6, label %7, !dbg !244

; <label>:6                                       ; preds = %0
  tail call void @free(i8* %1) #8, !dbg !245
  store i32 4, i32* @squid_errno, align 4, !dbg !247, !tbaa !248
  br label %35, !dbg !249

; <label>:7                                       ; preds = %0
  %8 = getelementptr inbounds [32 x i8]* %magic, i64 0, i64 0, !dbg !250
  %9 = call i64 @fread(i8* %8, i64 1, i64 32, %struct.__sFILE* %3) #7, !dbg !252
  %10 = icmp eq i64 %9, 0, !dbg !252
  br i1 %10, label %11, label %12, !dbg !253

; <label>:11                                      ; preds = %7
  tail call void @free(i8* %1) #8, !dbg !254
  store i32 2, i32* @squid_errno, align 4, !dbg !256, !tbaa !248
  br label %35, !dbg !257

; <label>:12                                      ; preds = %7
  %13 = call i32 @strcmp(i8* %8, i8* getelementptr inbounds ([4 x i8]* @.str2, i64 0, i64 0)) #7, !dbg !258
  %14 = icmp eq i32 %13, 0, !dbg !260
  br i1 %14, label %16, label %15, !dbg !261

; <label>:15                                      ; preds = %12
  tail call void @free(i8* %1) #8, !dbg !262
  store i32 5, i32* @squid_errno, align 4, !dbg !264, !tbaa !248
  br label %35, !dbg !265

; <label>:16                                      ; preds = %12
  %17 = getelementptr inbounds i8* %1, i64 8, !dbg !266
  %18 = bitcast i8* %17 to i16*, !dbg !266
  %19 = load %struct.__sFILE** %4, align 8, !dbg !268, !tbaa !236
  %20 = tail call i64 @fread(i8* %17, i64 2, i64 1, %struct.__sFILE* %19) #7, !dbg !269
  %21 = icmp eq i64 %20, 0, !dbg !269
  br i1 %21, label %22, label %23, !dbg !270

; <label>:22                                      ; preds = %16
  tail call void @free(i8* %1) #8, !dbg !271
  store i32 2, i32* @squid_errno, align 4, !dbg !273, !tbaa !248
  br label %35, !dbg !274

; <label>:23                                      ; preds = %16
  %24 = getelementptr inbounds i8* %1, i64 12, !dbg !275
  %25 = bitcast i8* %24 to i32*, !dbg !275
  %26 = load %struct.__sFILE** %4, align 8, !dbg !277, !tbaa !236
  %27 = tail call i64 @fread(i8* %24, i64 4, i64 1, %struct.__sFILE* %26) #7, !dbg !278
  %28 = icmp eq i64 %27, 0, !dbg !278
  br i1 %28, label %29, label %30, !dbg !279

; <label>:29                                      ; preds = %23
  tail call void @free(i8* %1) #8, !dbg !280
  store i32 2, i32* @squid_errno, align 4, !dbg !282, !tbaa !248
  br label %35, !dbg !283

; <label>:30                                      ; preds = %23
  %31 = load i16* %18, align 2, !dbg !284, !tbaa !285
  %32 = tail call zeroext i16 @sre_ntoh16(i16 zeroext %31) #7, !dbg !286
  store i16 %32, i16* %18, align 2, !dbg !287, !tbaa !285
  %33 = load i32* %25, align 4, !dbg !288, !tbaa !289
  %34 = tail call i32 @sre_ntoh32(i32 %33) #7, !dbg !290
  store i32 %34, i32* %25, align 4, !dbg !291, !tbaa !289
  br label %35, !dbg !292

; <label>:35                                      ; preds = %30, %29, %22, %15, %11, %6
  %.0 = phi %struct.gsi_s* [ null, %6 ], [ null, %15 ], [ %2, %30 ], [ null, %29 ], [ null, %22 ], [ null, %11 ]
  ret %struct.gsi_s* %.0, !dbg !293
}
