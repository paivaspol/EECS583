define %struct.p7trace_s* @ShadowTrace(%struct.dpshadow_s* nocapture %tb, %struct.plan7_s* nocapture %hmm, i32 %L) #0 {
entry:
  %tr = alloca %struct.p7trace_s*, align 8
  %mul = shl nsw i32 %L, 1
  %add = add nsw i32 %mul, 6
  call void @P7AllocTrace(i32 %add, %struct.p7trace_s** %tr) #5
  %0 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype = getelementptr inbounds %struct.p7trace_s* %0, i64 0, i32 1
  %1 = load i8** %statetype, align 8, !tbaa !0
  store i8 9, i8* %1, align 1, !tbaa !1
  %2 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx = getelementptr inbounds %struct.p7trace_s* %2, i64 0, i32 2
  %3 = load i32** %nodeidx, align 8, !tbaa !0
  store i32 0, i32* %3, align 4, !tbaa !3
  %pos = getelementptr inbounds %struct.p7trace_s* %2, i64 0, i32 3
  %4 = load i32** %pos, align 8, !tbaa !0
  store i32 0, i32* %4, align 4, !tbaa !3
  %mtb = getelementptr inbounds %struct.dpshadow_s* %tb, i64 0, i32 1
  %itb = getelementptr inbounds %struct.dpshadow_s* %tb, i64 0, i32 2
  %dtb = getelementptr inbounds %struct.dpshadow_s* %tb, i64 0, i32 3
  %xtb = getelementptr inbounds %struct.dpshadow_s* %tb, i64 0, i32 0
  %begin = getelementptr inbounds %struct.plan7_s* %hmm, i64 0, i32 26
  %p1 = getelementptr inbounds %struct.plan7_s* %hmm, i64 0, i32 29
  %bsc = getelementptr inbounds %struct.plan7_s* %hmm, i64 0, i32 34
  %esrc = getelementptr inbounds %struct.dpshadow_s* %tb, i64 0, i32 4
  %end = getelementptr inbounds %struct.plan7_s* %hmm, i64 0, i32 27
  %esc = getelementptr inbounds %struct.plan7_s* %hmm, i64 0, i32 35
  %M = getelementptr inbounds %struct.plan7_s* %hmm, i64 0, i32 20
  br label %while.body

while.body:                                       ; preds = %entry, %while.cond.backedge
  %nxtstate.0335 = phi i8 [ 8, %entry ], [ %nxtstate.1, %while.cond.backedge ]
  %k.0334 = phi i32 [ 0, %entry ], [ %k.3, %while.cond.backedge ]
  %i.0333 = phi i32 [ %L, %entry ], [ %i.4, %while.cond.backedge ]
  %tpos.0332 = phi i32 [ 1, %entry ], [ %tpos.4, %while.cond.backedge ]
  %curralloc.0331 = phi i32 [ %add, %entry ], [ %curralloc.0.be, %while.cond.backedge ]
  %conv = sext i8 %nxtstate.0335 to i32
  switch i32 %conv, label %sw.default [
    i32 1, label %sw.bb
    i32 3, label %sw.bb18
    i32 2, label %sw.bb34
    i32 5, label %sw.bb50
    i32 6, label %sw.bb68
    i32 10, label %sw.bb114
    i32 7, label %sw.bb137
    i32 8, label %sw.bb180
  ]

sw.bb:                                            ; preds = %while.body
  %idxprom = sext i32 %tpos.0332 to i64
  %5 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype5 = getelementptr inbounds %struct.p7trace_s* %5, i64 0, i32 1
  %6 = load i8** %statetype5, align 8, !tbaa !0
  %arrayidx6 = getelementptr inbounds i8* %6, i64 %idxprom
  store i8 1, i8* %arrayidx6, align 1, !tbaa !1
  %idxprom7 = sext i32 %k.0334 to i64
  %idxprom8 = sext i32 %i.0333 to i64
  %7 = load i8*** %mtb, align 8, !tbaa !0
  %arrayidx9 = getelementptr inbounds i8** %7, i64 %idxprom8
  %8 = load i8** %arrayidx9, align 8, !tbaa !0
  %arrayidx10 = getelementptr inbounds i8* %8, i64 %idxprom7
  %9 = load i8* %arrayidx10, align 1, !tbaa !1
  %dec = add nsw i32 %k.0334, -1
  %10 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx12 = getelementptr inbounds %struct.p7trace_s* %10, i64 0, i32 2
  %11 = load i32** %nodeidx12, align 8, !tbaa !0
  %arrayidx13 = getelementptr inbounds i32* %11, i64 %idxprom
  store i32 %k.0334, i32* %arrayidx13, align 4, !tbaa !3
  %dec14 = add nsw i32 %i.0333, -1
  %pos16 = getelementptr inbounds %struct.p7trace_s* %10, i64 0, i32 3
  %12 = load i32** %pos16, align 8, !tbaa !0
  %arrayidx17 = getelementptr inbounds i32* %12, i64 %idxprom
  store i32 %i.0333, i32* %arrayidx17, align 4, !tbaa !3
  %inc = add nsw i32 %tpos.0332, 1
  br label %sw.epilog

sw.bb18:                                          ; preds = %while.body
  %idxprom19 = sext i32 %tpos.0332 to i64
  %13 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype20 = getelementptr inbounds %struct.p7trace_s* %13, i64 0, i32 1
  %14 = load i8** %statetype20, align 8, !tbaa !0
  %arrayidx21 = getelementptr inbounds i8* %14, i64 %idxprom19
  store i8 3, i8* %arrayidx21, align 1, !tbaa !1
  %idxprom22 = sext i32 %k.0334 to i64
  %idxprom23 = sext i32 %i.0333 to i64
  %15 = load i8*** %itb, align 8, !tbaa !0
  %arrayidx24 = getelementptr inbounds i8** %15, i64 %idxprom23
  %16 = load i8** %arrayidx24, align 8, !tbaa !0
  %arrayidx25 = getelementptr inbounds i8* %16, i64 %idxprom22
  %17 = load i8* %arrayidx25, align 1, !tbaa !1
  %18 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx27 = getelementptr inbounds %struct.p7trace_s* %18, i64 0, i32 2
  %19 = load i32** %nodeidx27, align 8, !tbaa !0
  %arrayidx28 = getelementptr inbounds i32* %19, i64 %idxprom19
  store i32 %k.0334, i32* %arrayidx28, align 4, !tbaa !3
  %dec29 = add nsw i32 %i.0333, -1
  %pos31 = getelementptr inbounds %struct.p7trace_s* %18, i64 0, i32 3
  %20 = load i32** %pos31, align 8, !tbaa !0
  %arrayidx32 = getelementptr inbounds i32* %20, i64 %idxprom19
  store i32 %i.0333, i32* %arrayidx32, align 4, !tbaa !3
  %inc33 = add nsw i32 %tpos.0332, 1
  br label %sw.epilog

sw.bb34:                                          ; preds = %while.body
  %idxprom35 = sext i32 %tpos.0332 to i64
  %21 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype36 = getelementptr inbounds %struct.p7trace_s* %21, i64 0, i32 1
  %22 = load i8** %statetype36, align 8, !tbaa !0
  %arrayidx37 = getelementptr inbounds i8* %22, i64 %idxprom35
  store i8 2, i8* %arrayidx37, align 1, !tbaa !1
  %idxprom38 = sext i32 %k.0334 to i64
  %idxprom39 = sext i32 %i.0333 to i64
  %23 = load i8*** %dtb, align 8, !tbaa !0
  %arrayidx40 = getelementptr inbounds i8** %23, i64 %idxprom39
  %24 = load i8** %arrayidx40, align 8, !tbaa !0
  %arrayidx41 = getelementptr inbounds i8* %24, i64 %idxprom38
  %25 = load i8* %arrayidx41, align 1, !tbaa !1
  %dec42 = add nsw i32 %k.0334, -1
  %26 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx44 = getelementptr inbounds %struct.p7trace_s* %26, i64 0, i32 2
  %27 = load i32** %nodeidx44, align 8, !tbaa !0
  %arrayidx45 = getelementptr inbounds i32* %27, i64 %idxprom35
  store i32 %k.0334, i32* %arrayidx45, align 4, !tbaa !3
  %pos47 = getelementptr inbounds %struct.p7trace_s* %26, i64 0, i32 3
  %28 = load i32** %pos47, align 8, !tbaa !0
  %arrayidx48 = getelementptr inbounds i32* %28, i64 %idxprom35
  store i32 0, i32* %arrayidx48, align 4, !tbaa !3
  %inc49 = add nsw i32 %tpos.0332, 1
  br label %sw.epilog

sw.bb50:                                          ; preds = %while.body
  %idxprom51 = sext i32 %tpos.0332 to i64
  %29 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype52 = getelementptr inbounds %struct.p7trace_s* %29, i64 0, i32 1
  %30 = load i8** %statetype52, align 8, !tbaa !0
  %arrayidx53 = getelementptr inbounds i8* %30, i64 %idxprom51
  store i8 5, i8* %arrayidx53, align 1, !tbaa !1
  %idxprom54 = sext i32 %i.0333 to i64
  %31 = load i8*** %xtb, align 8, !tbaa !0
  %arrayidx55 = getelementptr inbounds i8** %31, i64 %idxprom54
  %32 = load i8** %arrayidx55, align 8, !tbaa !0
  %arrayidx56 = getelementptr inbounds i8* %32, i64 4
  %33 = load i8* %arrayidx56, align 1, !tbaa !1
  %34 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx58 = getelementptr inbounds %struct.p7trace_s* %34, i64 0, i32 2
  %35 = load i32** %nodeidx58, align 8, !tbaa !0
  %arrayidx59 = getelementptr inbounds i32* %35, i64 %idxprom51
  store i32 0, i32* %arrayidx59, align 4, !tbaa !3
  %cmp61 = icmp eq i8 %33, 5
  %dec63 = sext i1 %cmp61 to i32
  %dec63.i.0 = add nsw i32 %dec63, %i.0333
  %i.0. = select i1 %cmp61, i32 %i.0333, i32 0
  %pos65 = getelementptr inbounds %struct.p7trace_s* %34, i64 0, i32 3
  %36 = load i32** %pos65, align 8, !tbaa !0
  %arrayidx66 = getelementptr inbounds i32* %36, i64 %idxprom51
  store i32 %i.0., i32* %arrayidx66, align 4, !tbaa !3
  %inc67 = add nsw i32 %tpos.0332, 1
  br label %sw.epilog

sw.bb68:                                          ; preds = %while.body
  %add69 = add nsw i32 %k.0334, 1
  %idxprom70 = sext i32 %add69 to i64
  %37 = load float** %begin, align 8, !tbaa !0
  %arrayidx71 = getelementptr inbounds float* %37, i64 %idxprom70
  %38 = load float* %arrayidx71, align 4, !tbaa !4
  %39 = load float* %p1, align 4, !tbaa !4
  %call = call i32 @Prob2Score(float %38, float %39) #5
  %conv72 = sitofp i32 %call to double
  %add73 = fadd double %conv72, 1.000000e+03
  %40 = load i32** %bsc, align 8, !tbaa !0
  %arrayidx76 = getelementptr inbounds i32* %40, i64 %idxprom70
  %41 = load i32* %arrayidx76, align 4, !tbaa !3
  %conv77 = sitofp i32 %41 to double
  %cmp78 = fcmp ugt double %add73, %conv77
  br i1 %cmp78, label %if.end99, label %while.cond80.outer

while.cond80.outer:                               ; preds = %sw.bb68, %if.then97
  %curralloc.1.ph = phi i32 [ %add98, %if.then97 ], [ %curralloc.0331, %sw.bb68 ]
  %tpos.1.ph = phi i32 [ %inc94, %if.then97 ], [ %tpos.0332, %sw.bb68 ]
  %k.1.ph = phi i32 [ %dec87, %if.then97 ], [ %k.0334, %sw.bb68 ]
  %42 = sext i32 %tpos.1.ph to i64
  br label %while.cond80

while.cond80:                                     ; preds = %while.cond80.outer, %while.body83
  %indvars.iv339 = phi i64 [ %42, %while.cond80.outer ], [ %indvars.iv.next340, %while.body83 ]
  %tpos.1 = phi i32 [ %tpos.1.ph, %while.cond80.outer ], [ %inc94, %while.body83 ]
  %k.1 = phi i32 [ %k.1.ph, %while.cond80.outer ], [ %dec87, %while.body83 ]
  %cmp81 = icmp sgt i32 %k.1, 0
  br i1 %cmp81, label %while.body83, label %if.end99

while.body83:                                     ; preds = %while.cond80
  %43 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype85 = getelementptr inbounds %struct.p7trace_s* %43, i64 0, i32 1
  %44 = load i8** %statetype85, align 8, !tbaa !0
  %arrayidx86 = getelementptr inbounds i8* %44, i64 %indvars.iv339
  store i8 2, i8* %arrayidx86, align 1, !tbaa !1
  %dec87 = add nsw i32 %k.1, -1
  %45 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx89 = getelementptr inbounds %struct.p7trace_s* %45, i64 0, i32 2
  %46 = load i32** %nodeidx89, align 8, !tbaa !0
  %arrayidx90 = getelementptr inbounds i32* %46, i64 %indvars.iv339
  store i32 %k.1, i32* %arrayidx90, align 4, !tbaa !3
  %pos92 = getelementptr inbounds %struct.p7trace_s* %45, i64 0, i32 3
  %47 = load i32** %pos92, align 8, !tbaa !0
  %arrayidx93 = getelementptr inbounds i32* %47, i64 %indvars.iv339
  store i32 0, i32* %arrayidx93, align 4, !tbaa !3
  %indvars.iv.next340 = add i64 %indvars.iv339, 1
  %inc94 = add nsw i32 %tpos.1, 1
  %48 = trunc i64 %indvars.iv.next340 to i32
  %cmp95 = icmp eq i32 %48, %curralloc.1.ph
  br i1 %cmp95, label %if.then97, label %while.cond80

if.then97:                                        ; preds = %while.body83
  %add98 = add nsw i32 %curralloc.1.ph, %L
  call void @P7ReallocTrace(%struct.p7trace_s* %45, i32 %add98) #5
  br label %while.cond80.outer

if.end99:                                         ; preds = %while.cond80, %sw.bb68
  %curralloc.2 = phi i32 [ %curralloc.0331, %sw.bb68 ], [ %curralloc.1.ph, %while.cond80 ]
  %tpos.2 = phi i32 [ %tpos.0332, %sw.bb68 ], [ %tpos.1, %while.cond80 ]
  %k.2 = phi i32 [ %k.0334, %sw.bb68 ], [ %k.1, %while.cond80 ]
  %idxprom100 = sext i32 %tpos.2 to i64
  %49 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype101 = getelementptr inbounds %struct.p7trace_s* %49, i64 0, i32 1
  %50 = load i8** %statetype101, align 8, !tbaa !0
  %arrayidx102 = getelementptr inbounds i8* %50, i64 %idxprom100
  store i8 6, i8* %arrayidx102, align 1, !tbaa !1
  %idxprom103 = sext i32 %i.0333 to i64
  %51 = load i8*** %xtb, align 8, !tbaa !0
  %arrayidx105 = getelementptr inbounds i8** %51, i64 %idxprom103
  %52 = load i8** %arrayidx105, align 8, !tbaa !0
  %53 = load i8* %52, align 1, !tbaa !1
  %54 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx108 = getelementptr inbounds %struct.p7trace_s* %54, i64 0, i32 2
  %55 = load i32** %nodeidx108, align 8, !tbaa !0
  %arrayidx109 = getelementptr inbounds i32* %55, i64 %idxprom100
  store i32 0, i32* %arrayidx109, align 4, !tbaa !3
  %pos111 = getelementptr inbounds %struct.p7trace_s* %54, i64 0, i32 3
  %56 = load i32** %pos111, align 8, !tbaa !0
  %arrayidx112 = getelementptr inbounds i32* %56, i64 %idxprom100
  store i32 0, i32* %arrayidx112, align 4, !tbaa !3
  %inc113 = add nsw i32 %tpos.2, 1
  br label %sw.epilog

sw.bb114:                                         ; preds = %while.body
  %idxprom115 = sext i32 %tpos.0332 to i64
  %57 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype116 = getelementptr inbounds %struct.p7trace_s* %57, i64 0, i32 1
  %58 = load i8** %statetype116, align 8, !tbaa !0
  %arrayidx117 = getelementptr inbounds i8* %58, i64 %idxprom115
  store i8 10, i8* %arrayidx117, align 1, !tbaa !1
  %idxprom118 = sext i32 %i.0333 to i64
  %59 = load i8*** %xtb, align 8, !tbaa !0
  %arrayidx120 = getelementptr inbounds i8** %59, i64 %idxprom118
  %60 = load i8** %arrayidx120, align 8, !tbaa !0
  %arrayidx121 = getelementptr inbounds i8* %60, i64 3
  %61 = load i8* %arrayidx121, align 1, !tbaa !1
  %62 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx123 = getelementptr inbounds %struct.p7trace_s* %62, i64 0, i32 2
  %63 = load i32** %nodeidx123, align 8, !tbaa !0
  %arrayidx124 = getelementptr inbounds i32* %63, i64 %idxprom115
  store i32 0, i32* %arrayidx124, align 4, !tbaa !3
  %cmp126 = icmp eq i8 %61, 10
  %dec129 = sext i1 %cmp126 to i32
  %dec129.i.0 = add nsw i32 %dec129, %i.0333
  %i.0.322 = select i1 %cmp126, i32 %i.0333, i32 0
  %pos134 = getelementptr inbounds %struct.p7trace_s* %62, i64 0, i32 3
  %64 = load i32** %pos134, align 8, !tbaa !0
  %arrayidx135 = getelementptr inbounds i32* %64, i64 %idxprom115
  store i32 %i.0.322, i32* %arrayidx135, align 4, !tbaa !3
  %inc136 = add nsw i32 %tpos.0332, 1
  br label %sw.epilog

sw.bb137:                                         ; preds = %while.body
  %idxprom138 = sext i32 %tpos.0332 to i64
  %65 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype139 = getelementptr inbounds %struct.p7trace_s* %65, i64 0, i32 1
  %66 = load i8** %statetype139, align 8, !tbaa !0
  %arrayidx140 = getelementptr inbounds i8* %66, i64 %idxprom138
  store i8 7, i8* %arrayidx140, align 1, !tbaa !1
  %67 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx142 = getelementptr inbounds %struct.p7trace_s* %67, i64 0, i32 2
  %68 = load i32** %nodeidx142, align 8, !tbaa !0
  %arrayidx143 = getelementptr inbounds i32* %68, i64 %idxprom138
  store i32 0, i32* %arrayidx143, align 4, !tbaa !3
  %pos145 = getelementptr inbounds %struct.p7trace_s* %67, i64 0, i32 3
  %69 = load i32** %pos145, align 8, !tbaa !0
  %arrayidx146 = getelementptr inbounds i32* %69, i64 %idxprom138
  store i32 0, i32* %arrayidx146, align 4, !tbaa !3
  %idxprom147 = sext i32 %i.0333 to i64
  %70 = load i32** %esrc, align 8, !tbaa !0
  %arrayidx148 = getelementptr inbounds i32* %70, i64 %idxprom147
  %71 = load i32* %arrayidx148, align 4, !tbaa !3
  %inc149 = add i32 %tpos.0332, 1
  %idxprom150 = sext i32 %71 to i64
  %72 = load float** %end, align 8, !tbaa !0
  %arrayidx151 = getelementptr inbounds float* %72, i64 %idxprom150
  %73 = load float* %arrayidx151, align 4, !tbaa !4
  %call152 = call i32 @Prob2Score(float %73, float 1.000000e+00) #5
  %conv153 = sitofp i32 %call152 to double
  %add154 = fadd double %conv153, 1.000000e+03
  %74 = load i32** %esc, align 8, !tbaa !0
  %arrayidx156 = getelementptr inbounds i32* %74, i64 %idxprom150
  %75 = load i32* %arrayidx156, align 4, !tbaa !3
  %conv157 = sitofp i32 %75 to double
  %cmp158 = fcmp ugt double %add154, %conv157
  br i1 %cmp158, label %sw.epilog, label %if.then160

if.then160:                                       ; preds = %sw.bb137
  %76 = load i32* %M, align 4, !tbaa !3
  %cmp161324 = icmp sgt i32 %76, %71
  br i1 %cmp161324, label %for.body.lr.ph, label %sw.epilog

for.body.lr.ph:                                   ; preds = %if.then160
  %77 = sext i32 %inc149 to i64
  %78 = add i32 %inc149, %76
  br label %for.body

for.body:                                         ; preds = %for.inc.for.body_crit_edge, %for.body.lr.ph
  %indvars.iv = phi i64 [ %77, %for.body.lr.ph ], [ %indvars.iv.next, %for.inc.for.body_crit_edge ]
  %dk.0327 = phi i32 [ %76, %for.body.lr.ph ], [ %dec178, %for.inc.for.body_crit_edge ]
  %tpos.3326 = phi i32 [ %inc149, %for.body.lr.ph ], [ %inc172, %for.inc.for.body_crit_edge ]
  %curralloc.3325 = phi i32 [ %curralloc.0331, %for.body.lr.ph ], [ %curralloc.4, %for.inc.for.body_crit_edge ]
  %79 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype164 = getelementptr inbounds %struct.p7trace_s* %79, i64 0, i32 1
  %80 = load i8** %statetype164, align 8, !tbaa !0
  %arrayidx165 = getelementptr inbounds i8* %80, i64 %indvars.iv
  store i8 2, i8* %arrayidx165, align 1, !tbaa !1
  %81 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx167 = getelementptr inbounds %struct.p7trace_s* %81, i64 0, i32 2
  %82 = load i32** %nodeidx167, align 8, !tbaa !0
  %arrayidx168 = getelementptr inbounds i32* %82, i64 %indvars.iv
  store i32 %dk.0327, i32* %arrayidx168, align 4, !tbaa !3
  %pos170 = getelementptr inbounds %struct.p7trace_s* %81, i64 0, i32 3
  %83 = load i32** %pos170, align 8, !tbaa !0
  %arrayidx171 = getelementptr inbounds i32* %83, i64 %indvars.iv
  store i32 0, i32* %arrayidx171, align 4, !tbaa !3
  %inc172 = add nsw i32 %tpos.3326, 1
  %cmp173 = icmp eq i32 %inc172, %curralloc.3325
  br i1 %cmp173, label %if.then175, label %for.inc

if.then175:                                       ; preds = %for.body
  %add176 = add nsw i32 %curralloc.3325, %L
  call void @P7ReallocTrace(%struct.p7trace_s* %81, i32 %add176) #5
  br label %for.inc

for.inc:                                          ; preds = %for.body, %if.then175
  %curralloc.4 = phi i32 [ %add176, %if.then175 ], [ %curralloc.3325, %for.body ]
  %dec178 = add nsw i32 %dk.0327, -1
  %cmp161 = icmp sgt i32 %dec178, %71
  br i1 %cmp161, label %for.inc.for.body_crit_edge, label %for.cond.sw.epilog.loopexit_crit_edge

for.inc.for.body_crit_edge:                       ; preds = %for.inc
  %indvars.iv.next = add i64 %indvars.iv, 1
  br label %for.body

sw.bb180:                                         ; preds = %while.body
  %idxprom181 = sext i32 %tpos.0332 to i64
  %84 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype182 = getelementptr inbounds %struct.p7trace_s* %84, i64 0, i32 1
  %85 = load i8** %statetype182, align 8, !tbaa !0
  %arrayidx183 = getelementptr inbounds i8* %85, i64 %idxprom181
  store i8 8, i8* %arrayidx183, align 1, !tbaa !1
  %idxprom184 = sext i32 %i.0333 to i64
  %86 = load i8*** %xtb, align 8, !tbaa !0
  %arrayidx186 = getelementptr inbounds i8** %86, i64 %idxprom184
  %87 = load i8** %arrayidx186, align 8, !tbaa !0
  %arrayidx187 = getelementptr inbounds i8* %87, i64 2
  %88 = load i8* %arrayidx187, align 1, !tbaa !1
  %89 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx189 = getelementptr inbounds %struct.p7trace_s* %89, i64 0, i32 2
  %90 = load i32** %nodeidx189, align 8, !tbaa !0
  %arrayidx190 = getelementptr inbounds i32* %90, i64 %idxprom181
  store i32 0, i32* %arrayidx190, align 4, !tbaa !3
  %cmp192 = icmp eq i8 %88, 8
  %dec195 = sext i1 %cmp192 to i32
  %dec195.i.0 = add nsw i32 %dec195, %i.0333
  %i.0.323 = select i1 %cmp192, i32 %i.0333, i32 0
  %pos200 = getelementptr inbounds %struct.p7trace_s* %89, i64 0, i32 3
  %91 = load i32** %pos200, align 8, !tbaa !0
  %arrayidx201 = getelementptr inbounds i32* %91, i64 %idxprom181
  store i32 %i.0.323, i32* %arrayidx201, align 4, !tbaa !3
  %inc202 = add nsw i32 %tpos.0332, 1
  br label %sw.epilog

sw.default:                                       ; preds = %while.body
  %call203 = call i8* @Statetype(i8 signext %nxtstate.0335) #5
  call void (i8*, ...)* @Die(i8* getelementptr inbounds ([40 x i8]* @.str5, i64 0, i64 0), i8* %call203) #5
  br label %sw.epilog

for.cond.sw.epilog.loopexit_crit_edge:            ; preds = %for.inc
  %92 = sub i32 %78, %71
  br label %sw.epilog

sw.epilog:                                        ; preds = %if.then160, %for.cond.sw.epilog.loopexit_crit_edge, %sw.bb137, %sw.default, %sw.bb180, %sw.bb114, %if.end99, %sw.bb50, %sw.bb34, %sw.bb18, %sw.bb
  %curralloc.5 = phi i32 [ %curralloc.0331, %sw.default ], [ %curralloc.0331, %sw.bb180 ], [ %curralloc.0331, %sw.bb137 ], [ %curralloc.0331, %sw.bb114 ], [ %curralloc.2, %if.end99 ], [ %curralloc.0331, %sw.bb50 ], [ %curralloc.0331, %sw.bb34 ], [ %curralloc.0331, %sw.bb18 ], [ %curralloc.0331, %sw.bb ], [ %curralloc.4, %for.cond.sw.epilog.loopexit_crit_edge ], [ %curralloc.0331, %if.then160 ]
  %tpos.4 = phi i32 [ %tpos.0332, %sw.default ], [ %inc202, %sw.bb180 ], [ %inc149, %sw.bb137 ], [ %inc136, %sw.bb114 ], [ %inc113, %if.end99 ], [ %inc67, %sw.bb50 ], [ %inc49, %sw.bb34 ], [ %inc33, %sw.bb18 ], [ %inc, %sw.bb ], [ %92, %for.cond.sw.epilog.loopexit_crit_edge ], [ %inc149, %if.then160 ]
  %i.4 = phi i32 [ %i.0333, %sw.default ], [ %dec195.i.0, %sw.bb180 ], [ %i.0333, %sw.bb137 ], [ %dec129.i.0, %sw.bb114 ], [ %i.0333, %if.end99 ], [ %dec63.i.0, %sw.bb50 ], [ %i.0333, %sw.bb34 ], [ %dec29, %sw.bb18 ], [ %dec14, %sw.bb ], [ %i.0333, %for.cond.sw.epilog.loopexit_crit_edge ], [ %i.0333, %if.then160 ]
  %k.3 = phi i32 [ %k.0334, %sw.default ], [ %k.0334, %sw.bb180 ], [ %71, %sw.bb137 ], [ %k.0334, %sw.bb114 ], [ %k.2, %if.end99 ], [ %k.0334, %sw.bb50 ], [ %dec42, %sw.bb34 ], [ %k.0334, %sw.bb18 ], [ %dec, %sw.bb ], [ %71, %for.cond.sw.epilog.loopexit_crit_edge ], [ %71, %if.then160 ]
  %nxtstate.1 = phi i8 [ %nxtstate.0335, %sw.default ], [ %88, %sw.bb180 ], [ 1, %sw.bb137 ], [ %61, %sw.bb114 ], [ %53, %if.end99 ], [ %33, %sw.bb50 ], [ %25, %sw.bb34 ], [ %17, %sw.bb18 ], [ %9, %sw.bb ], [ 1, %for.cond.sw.epilog.loopexit_crit_edge ], [ 1, %if.then160 ]
  %cmp204 = icmp eq i32 %tpos.4, %curralloc.5
  br i1 %cmp204, label %if.then206, label %while.cond.backedge

if.then206:                                       ; preds = %sw.epilog
  %add207 = add nsw i32 %curralloc.5, %L
  %93 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  call void @P7ReallocTrace(%struct.p7trace_s* %93, i32 %add207) #5
  br label %while.cond.backedge

while.cond.backedge:                              ; preds = %if.then206, %sw.epilog
  %curralloc.0.be = phi i32 [ %add207, %if.then206 ], [ %curralloc.5, %sw.epilog ]
  %cmp = icmp eq i8 %nxtstate.1, 4
  br i1 %cmp, label %while.end209, label %while.body

while.end209:                                     ; preds = %while.cond.backedge
  %idxprom210 = sext i32 %tpos.4 to i64
  %94 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %statetype211 = getelementptr inbounds %struct.p7trace_s* %94, i64 0, i32 1
  %95 = load i8** %statetype211, align 8, !tbaa !0
  %arrayidx212 = getelementptr inbounds i8* %95, i64 %idxprom210
  store i8 4, i8* %arrayidx212, align 1, !tbaa !1
  %96 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  %nodeidx214 = getelementptr inbounds %struct.p7trace_s* %96, i64 0, i32 2
  %97 = load i32** %nodeidx214, align 8, !tbaa !0
  %arrayidx215 = getelementptr inbounds i32* %97, i64 %idxprom210
  store i32 0, i32* %arrayidx215, align 4, !tbaa !3
  %pos217 = getelementptr inbounds %struct.p7trace_s* %96, i64 0, i32 3
  %98 = load i32** %pos217, align 8, !tbaa !0
  %arrayidx218 = getelementptr inbounds i32* %98, i64 %idxprom210
  store i32 0, i32* %arrayidx218, align 4, !tbaa !3
  %add219 = add nsw i32 %tpos.4, 1
  %tlen = getelementptr inbounds %struct.p7trace_s* %96, i64 0, i32 0
  store i32 %add219, i32* %tlen, align 4, !tbaa !3
  call void @P7ReverseTrace(%struct.p7trace_s* %96) #5
  %99 = load %struct.p7trace_s** %tr, align 8, !tbaa !0
  ret %struct.p7trace_s* %99
}
