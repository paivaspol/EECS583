define internal fastcc void @downweight(%struct.phylo_s* %tree, i32 %nseq, float* %lwt, float* %rwt, float* %fwt, i32 %node) #0 {
entry:
  br label %tailrecurse

tailrecurse:                                      ; preds = %if.end69, %entry
  %node.tr = phi i32 [ %node, %entry ], [ %1, %if.end69 ]
  tail call void @llvm.dbg.value(metadata !{%struct.phylo_s* %tree}, i64 0, metadata !264), !dbg !321
  tail call void @llvm.dbg.value(metadata !{i32 %nseq}, i64 0, metadata !265), !dbg !321
  tail call void @llvm.dbg.value(metadata !{float* %lwt}, i64 0, metadata !266), !dbg !321
  tail call void @llvm.dbg.value(metadata !{float* %rwt}, i64 0, metadata !267), !dbg !321
  tail call void @llvm.dbg.value(metadata !{float* %fwt}, i64 0, metadata !268), !dbg !321
  tail call void @llvm.dbg.value(metadata !{i32 %node.tr}, i64 0, metadata !269), !dbg !321
  %sub = sub nsw i32 %node.tr, %nseq, !dbg !322
  %idxprom = sext i32 %sub to i64, !dbg !322
  %left = getelementptr inbounds %struct.phylo_s* %tree, i64 %idxprom, i32 1, !dbg !322
  %0 = load i32* %left, align 4, !dbg !322, !tbaa !314
  tail call void @llvm.dbg.value(metadata !{i32 %0}, i64 0, metadata !270), !dbg !322
  %right = getelementptr inbounds %struct.phylo_s* %tree, i64 %idxprom, i32 2, !dbg !323
  %1 = load i32* %right, align 4, !dbg !323, !tbaa !314
  tail call void @llvm.dbg.value(metadata !{i32 %1}, i64 0, metadata !271), !dbg !323
  %idxprom4 = sext i32 %node.tr to i64, !dbg !324
  %arrayidx5 = getelementptr inbounds float* %lwt, i64 %idxprom4, !dbg !324
  %2 = load float* %arrayidx5, align 4, !dbg !324, !tbaa !291
  %arrayidx7 = getelementptr inbounds float* %rwt, i64 %idxprom4, !dbg !324
  %3 = load float* %arrayidx7, align 4, !dbg !324, !tbaa !291
  %add = fadd float %2, %3, !dbg !324
  %cmp = fcmp ogt float %add, 0.000000e+00, !dbg !324
  br i1 %cmp, label %if.then, label %if.else, !dbg !324

if.then:                                          ; preds = %tailrecurse
  %arrayidx10 = getelementptr inbounds float* %fwt, i64 %idxprom4, !dbg !325
  %4 = load float* %arrayidx10, align 4, !dbg !325, !tbaa !291
  %div = fdiv float %2, %add, !dbg !325
  %mul = fmul float %4, %div, !dbg !325
  %idxprom18 = sext i32 %0 to i64, !dbg !325
  %arrayidx19 = getelementptr inbounds float* %fwt, i64 %idxprom18, !dbg !325
  store float %mul, float* %arrayidx19, align 4, !dbg !325, !tbaa !291
  %5 = load float* %arrayidx10, align 4, !dbg !327, !tbaa !291
  %6 = load float* %arrayidx7, align 4, !dbg !327, !tbaa !291
  %7 = load float* %arrayidx5, align 4, !dbg !327, !tbaa !291
  %add28 = fadd float %6, %7, !dbg !327
  %div29 = fdiv float %6, %add28, !dbg !327
  %mul30 = fmul float %5, %div29, !dbg !327
  %idxprom31 = sext i32 %1 to i64, !dbg !327
  %arrayidx32 = getelementptr inbounds float* %fwt, i64 %idxprom31, !dbg !327
  store float %mul30, float* %arrayidx32, align 4, !dbg !327, !tbaa !291
  br label %if.end, !dbg !328

if.else:                                          ; preds = %tailrecurse
  %cmp33 = icmp slt i32 %0, %nseq, !dbg !329
  br i1 %cmp33, label %cond.end, label %cond.true, !dbg !329

cond.true:                                        ; preds = %if.else
  %sub35 = sub nsw i32 %0, %nseq, !dbg !329
  %idxprom36 = sext i32 %sub35 to i64, !dbg !329
  %incnum = getelementptr inbounds %struct.phylo_s* %tree, i64 %idxprom36, i32 7, !dbg !329
  %8 = load i32* %incnum, align 4, !dbg !329, !tbaa !314
  %conv38 = sitofp i32 %8 to double, !dbg !329
  %phitmp = fptrunc double %conv38 to float, !dbg !329
  br label %cond.end, !dbg !329

cond.end:                                         ; preds = %if.else, %cond.true
  %cond = phi float [ %phitmp, %cond.true ], [ 1.000000e+00, %if.else ]
  tail call void @llvm.dbg.value(metadata !{float %cond}, i64 0, metadata !272), !dbg !329
  %cmp40 = icmp slt i32 %1, %nseq, !dbg !331
  br i1 %cmp40, label %cond.end49, label %cond.true42, !dbg !331

cond.true42:                                      ; preds = %cond.end
  %sub43 = sub nsw i32 %1, %nseq, !dbg !331
  %idxprom44 = sext i32 %sub43 to i64, !dbg !331
  %incnum46 = getelementptr inbounds %struct.phylo_s* %tree, i64 %idxprom44, i32 7, !dbg !331
  %9 = load i32* %incnum46, align 4, !dbg !331, !tbaa !314
  %conv47 = sitofp i32 %9 to double, !dbg !331
  %phitmp134 = fptrunc double %conv47 to float, !dbg !331
  br label %cond.end49, !dbg !331

cond.end49:                                       ; preds = %cond.end, %cond.true42
  %cond50 = phi float [ %phitmp134, %cond.true42 ], [ 1.000000e+00, %cond.end ]
  tail call void @llvm.dbg.value(metadata !{float %cond50}, i64 0, metadata !273), !dbg !331
  %arrayidx53 = getelementptr inbounds float* %fwt, i64 %idxprom4, !dbg !332
  %10 = load float* %arrayidx53, align 4, !dbg !332, !tbaa !291
  %mul54 = fmul float %cond, %10, !dbg !332
  %add55 = fadd float %cond, %cond50, !dbg !332
  %div56 = fdiv float %mul54, %add55, !dbg !332
  %idxprom57 = sext i32 %0 to i64, !dbg !332
  %arrayidx58 = getelementptr inbounds float* %fwt, i64 %idxprom57, !dbg !332
  store float %div56, float* %arrayidx58, align 4, !dbg !332, !tbaa !291
  %11 = load float* %arrayidx53, align 4, !dbg !333, !tbaa !291
  %mul61 = fmul float %cond50, %11, !dbg !333
  %div63 = fdiv float %mul61, %add55, !dbg !333
  %idxprom64 = sext i32 %1 to i64, !dbg !333
  %arrayidx65 = getelementptr inbounds float* %fwt, i64 %idxprom64, !dbg !333
  store float %div63, float* %arrayidx65, align 4, !dbg !333, !tbaa !291
  br label %if.end

if.end:                                           ; preds = %cond.end49, %if.then
  %cmp66 = icmp slt i32 %0, %nseq, !dbg !334
  br i1 %cmp66, label %if.end69, label %if.then68, !dbg !334

if.then68:                                        ; preds = %if.end
  tail call fastcc void @downweight(%struct.phylo_s* %tree, i32 %nseq, float* %lwt, float* %rwt, float* %fwt, i32 %0) #7, !dbg !334
  br label %if.end69, !dbg !334

if.end69:                                         ; preds = %if.end, %if.then68
  %cmp70 = icmp slt i32 %1, %nseq, !dbg !335
  br i1 %cmp70, label %if.end73, label %tailrecurse, !dbg !335

if.end73:                                         ; preds = %if.end69
  ret void, !dbg !336
}
