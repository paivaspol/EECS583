define i32 @SSIGetOffsetByNumber(%struct.ssifile_s* nocapture %sfp, i32 %n, i32* nocapture %ret_fh, %struct.ssioffset_s* nocapture %ret_offset) #0 {
entry:
  %fnum = alloca i16, align 2
  call void @llvm.dbg.value(metadata !{%struct.ssifile_s* %sfp}, i64 0, metadata !133), !dbg !632
  call void @llvm.dbg.value(metadata !{i32 %n}, i64 0, metadata !134), !dbg !632
  call void @llvm.dbg.value(metadata !{i32* %ret_fh}, i64 0, metadata !135), !dbg !632
  call void @llvm.dbg.value(metadata !{%struct.ssioffset_s* %ret_offset}, i64 0, metadata !136), !dbg !632
  call void @llvm.dbg.declare(metadata !{i16* %fnum}, metadata !137), !dbg !633
  %nprimary = getelementptr inbounds %struct.ssifile_s* %sfp, i64 0, i32 3, !dbg !634
  %0 = load i32* %nprimary, align 4, !dbg !634, !tbaa !521
  %cmp = icmp ugt i32 %0, %n, !dbg !634
  br i1 %cmp, label %if.end, label %return, !dbg !634

if.end:                                           ; preds = %entry
  %poffset = getelementptr inbounds %struct.ssifile_s* %sfp, i64 0, i32 12, !dbg !635
  %precsize = getelementptr inbounds %struct.ssifile_s* %sfp, i64 0, i32 9, !dbg !635
  %1 = load i32* %precsize, align 4, !dbg !635, !tbaa !521
  %call = call fastcc i32 @indexfile_position(%struct.ssifile_s* %sfp, %struct.ssioffset_s* %poffset, i32 %1, i32 %n) #10, !dbg !635
  %cmp1 = icmp eq i32 %call, 0, !dbg !635
  br i1 %cmp1, label %if.end3, label %return, !dbg !635

if.end3:                                          ; preds = %if.end
  %plen = getelementptr inbounds %struct.ssifile_s* %sfp, i64 0, i32 6, !dbg !636
  %2 = load i32* %plen, align 4, !dbg !636, !tbaa !521
  %conv = zext i32 %2 to i64, !dbg !636
  %call4 = call noalias i8* @malloc(i64 %conv) #9, !dbg !636
  call void @llvm.dbg.value(metadata !{i8* %call4}, i64 0, metadata !138), !dbg !636
  %cmp5 = icmp eq i8* %call4, null, !dbg !636
  br i1 %cmp5, label %return, label %if.end8, !dbg !636

if.end8:                                          ; preds = %if.end3
  %fp = getelementptr inbounds %struct.ssifile_s* %sfp, i64 0, i32 0, !dbg !637
  %3 = load %struct._IO_FILE** %fp, align 8, !dbg !637, !tbaa !498
  %call11 = call i64 @fread(i8* %call4, i64 1, i64 %conv, %struct._IO_FILE* %3) #9, !dbg !637
  %4 = load i32* %plen, align 4, !dbg !637, !tbaa !521
  %conv13 = zext i32 %4 to i64, !dbg !637
  %cmp14 = icmp eq i64 %call11, %conv13, !dbg !637
  br i1 %cmp14, label %if.end17, label %return, !dbg !637

if.end17:                                         ; preds = %if.end8
  %5 = load %struct._IO_FILE** %fp, align 8, !dbg !638, !tbaa !498
  %call19 = call fastcc i32 @read_i16(%struct._IO_FILE* %5, i16* %fnum) #10, !dbg !638
  %tobool = icmp eq i32 %call19, 0, !dbg !638
  br i1 %tobool, label %return, label %if.end21, !dbg !638

if.end21:                                         ; preds = %if.end17
  %6 = load %struct._IO_FILE** %fp, align 8, !dbg !639, !tbaa !498
  %smode = getelementptr inbounds %struct.ssifile_s* %sfp, i64 0, i32 15, !dbg !639
  %7 = load i8* %smode, align 1, !dbg !639, !tbaa !499
  %call23 = call fastcc i32 @read_offset(%struct._IO_FILE* %6, i8 signext %7, %struct.ssioffset_s* %ret_offset) #10, !dbg !639
  %tobool24 = icmp eq i32 %call23, 0, !dbg !639
  br i1 %tobool24, label %return, label %if.end26, !dbg !639

if.end26:                                         ; preds = %if.end21
  call void @llvm.dbg.value(metadata !{i16* %fnum}, i64 0, metadata !137), !dbg !640
  %8 = load i16* %fnum, align 2, !dbg !640, !tbaa !517
  %conv27 = zext i16 %8 to i32, !dbg !640
  store i32 %conv27, i32* %ret_fh, align 4, !dbg !640, !tbaa !521
  call void @free(i8* %call4) #9, !dbg !641
  br label %return, !dbg !642

return:                                           ; preds = %if.end21, %if.end17, %if.end8, %if.end3, %if.end, %entry, %if.end26
  %retval.0 = phi i32 [ 0, %if.end26 ], [ 2, %entry ], [ 8, %if.end ], [ 3, %if.end3 ], [ 1, %if.end8 ], [ 1, %if.end17 ], [ 1, %if.end21 ]
  ret i32 %retval.0, !dbg !642
}
