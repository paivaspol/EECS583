define internal fastcc i32 @activate_external_sort(%struct.ssiindex_s* nocapture %g) #0 {
entry:
  %external = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 2
  %0 = load i32* %external, align 4, !tbaa !4
  %tobool = icmp eq i32 %0, 0
  br i1 %tobool, label %if.end, label %return

if.end:                                           ; preds = %entry
  %ptmpfile = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 13
  %1 = load i8** %ptmpfile, align 8, !tbaa !0
  %call = tail call i32 @FileExists(i8* %1) #8
  %tobool1 = icmp eq i32 %call, 0
  br i1 %tobool1, label %if.end3, label %return

if.end3:                                          ; preds = %if.end
  %stmpfile = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 18
  %2 = load i8** %stmpfile, align 8, !tbaa !0
  %call4 = tail call i32 @FileExists(i8* %2) #8
  %tobool5 = icmp eq i32 %call4, 0
  br i1 %tobool5, label %if.end7, label %return

if.end7:                                          ; preds = %if.end3
  %3 = load i8** %ptmpfile, align 8, !tbaa !0
  %call9 = tail call %struct._IO_FILE* @fopen(i8* %3, i8* getelementptr inbounds ([2 x i8]* @.str30, i64 0, i64 0)) #8
  %ptmp = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 14
  store %struct._IO_FILE* %call9, %struct._IO_FILE** %ptmp, align 8, !tbaa !0
  %cmp = icmp eq %struct._IO_FILE* %call9, null
  br i1 %cmp, label %return, label %if.end11

if.end11:                                         ; preds = %if.end7
  %4 = load i8** %stmpfile, align 8, !tbaa !0
  %call13 = tail call %struct._IO_FILE* @fopen(i8* %4, i8* getelementptr inbounds ([2 x i8]* @.str30, i64 0, i64 0)) #8
  %stmp = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 19
  store %struct._IO_FILE* %call13, %struct._IO_FILE** %stmp, align 8, !tbaa !0
  %cmp14 = icmp eq %struct._IO_FILE* %call13, null
  br i1 %cmp14, label %return, label %for.cond.preheader

for.cond.preheader:                               ; preds = %if.end11
  %nprimary = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 12
  %5 = load i32* %nprimary, align 4, !tbaa !4
  %cmp17195 = icmp eq i32 %5, 0
  br i1 %cmp17195, label %for.cond67.preheader, label %for.body.lr.ph

for.body.lr.ph:                                   ; preds = %for.cond.preheader
  %smode = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 0
  %pkeys = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 10
  br label %for.body

for.cond67.preheader:                             ; preds = %for.inc, %for.cond.preheader
  %6 = phi i32 [ 0, %for.cond.preheader ], [ %19, %for.inc ]
  %nsecondary = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 17
  %7 = load i32* %nsecondary, align 4, !tbaa !4
  %cmp68193 = icmp eq i32 %7, 0
  br i1 %cmp68193, label %for.cond82.preheader, label %for.body70.lr.ph

for.body70.lr.ph:                                 ; preds = %for.cond67.preheader
  %skeys = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 15
  br label %for.body70

for.body:                                         ; preds = %for.body.lr.ph, %for.inc
  %indvars.iv204 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next205, %for.inc ]
  %8 = load i32* %smode, align 4, !tbaa !4
  %cmp18 = icmp eq i32 %8, 0
  %9 = load %struct._IO_FILE** %ptmp, align 8, !tbaa !0
  %10 = load %struct.ssipkey_s** %pkeys, align 8, !tbaa !0
  %key = getelementptr inbounds %struct.ssipkey_s* %10, i64 %indvars.iv204, i32 0
  %11 = load i8** %key, align 8, !tbaa !0
  %fnum = getelementptr inbounds %struct.ssipkey_s* %10, i64 %indvars.iv204, i32 1
  %12 = load i16* %fnum, align 2, !tbaa !3
  %conv = zext i16 %12 to i32
  %off = getelementptr inbounds %struct.ssipkey_s* %10, i64 %indvars.iv204, i32 2, i32 1
  br i1 %cmp18, label %if.then19, label %if.else

if.then19:                                        ; preds = %for.body
  %i32 = bitcast %union.anon* %off to i32*
  %13 = load i32* %i32, align 4, !tbaa !4
  %conv27 = zext i32 %13 to i64
  %off31 = getelementptr inbounds %struct.ssipkey_s* %10, i64 %indvars.iv204, i32 3, i32 1
  %i3232 = bitcast %union.anon* %off31 to i32*
  %14 = load i32* %i3232, align 4, !tbaa !4
  %conv33 = zext i32 %14 to i64
  %len = getelementptr inbounds %struct.ssipkey_s* %10, i64 %indvars.iv204, i32 4
  %15 = load i32* %len, align 4, !tbaa !4
  %conv37 = zext i32 %15 to i64
  %call38 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %9, i8* getelementptr inbounds ([19 x i8]* @.str31, i64 0, i64 0), i8* %11, i32 %conv, i64 %conv27, i64 %conv33, i64 %conv37) #8
  br label %for.inc

if.else:                                          ; preds = %for.body
  %i64 = getelementptr inbounds %union.anon* %off, i64 0, i32 0
  %16 = load i64* %i64, align 8, !tbaa !5
  %i6459 = getelementptr inbounds %struct.ssipkey_s* %10, i64 %indvars.iv204, i32 3, i32 1, i32 0
  %17 = load i64* %i6459, align 8, !tbaa !5
  %len63 = getelementptr inbounds %struct.ssipkey_s* %10, i64 %indvars.iv204, i32 4
  %18 = load i32* %len63, align 4, !tbaa !4
  %conv64 = zext i32 %18 to i64
  %call65 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %9, i8* getelementptr inbounds ([21 x i8]* @.str32, i64 0, i64 0), i8* %11, i32 %conv, i64 %16, i64 %17, i64 %conv64) #8
  br label %for.inc

for.inc:                                          ; preds = %if.then19, %if.else
  %indvars.iv.next205 = add i64 %indvars.iv204, 1
  %19 = load i32* %nprimary, align 4, !tbaa !4
  %20 = trunc i64 %indvars.iv.next205 to i32
  %cmp17 = icmp ult i32 %20, %19
  br i1 %cmp17, label %for.body, label %for.cond67.preheader

for.cond67.for.cond82.preheader_crit_edge:        ; preds = %for.body70
  %.pre = load i32* %nprimary, align 4, !tbaa !4
  br label %for.cond82.preheader

for.cond82.preheader:                             ; preds = %for.cond67.preheader, %for.cond67.for.cond82.preheader_crit_edge
  %21 = phi i32 [ 0, %for.cond67.preheader ], [ %27, %for.cond67.for.cond82.preheader_crit_edge ]
  %22 = phi i32 [ %6, %for.cond67.preheader ], [ %.pre, %for.cond67.for.cond82.preheader_crit_edge ]
  %cmp84191 = icmp eq i32 %22, 0
  br i1 %cmp84191, label %for.cond94.preheader, label %for.body86.lr.ph

for.body86.lr.ph:                                 ; preds = %for.cond82.preheader
  %pkeys88 = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 10
  br label %for.body86

for.body70:                                       ; preds = %for.body70, %for.body70.lr.ph
  %indvars.iv202 = phi i64 [ 0, %for.body70.lr.ph ], [ %indvars.iv.next203, %for.body70 ]
  %23 = load %struct._IO_FILE** %stmp, align 8, !tbaa !0
  %24 = load %struct.ssiskey_s** %skeys, align 8, !tbaa !0
  %key74 = getelementptr inbounds %struct.ssiskey_s* %24, i64 %indvars.iv202, i32 0
  %25 = load i8** %key74, align 8, !tbaa !0
  %pkey = getelementptr inbounds %struct.ssiskey_s* %24, i64 %indvars.iv202, i32 1
  %26 = load i8** %pkey, align 8, !tbaa !0
  %call78 = tail call i32 (%struct._IO_FILE*, i8*, ...)* @fprintf(%struct._IO_FILE* %23, i8* getelementptr inbounds ([7 x i8]* @.str6, i64 0, i64 0), i8* %25, i8* %26) #8
  %indvars.iv.next203 = add i64 %indvars.iv202, 1
  %27 = load i32* %nsecondary, align 4, !tbaa !4
  %28 = trunc i64 %indvars.iv.next203 to i32
  %cmp68 = icmp ult i32 %28, %27
  br i1 %cmp68, label %for.body70, label %for.cond67.for.cond82.preheader_crit_edge

for.cond82.for.cond94.preheader_crit_edge:        ; preds = %for.body86
  %.pre206 = load i32* %nsecondary, align 4, !tbaa !4
  br label %for.cond94.preheader

for.cond94.preheader:                             ; preds = %for.cond82.preheader, %for.cond82.for.cond94.preheader_crit_edge
  %29 = phi i32 [ %21, %for.cond82.preheader ], [ %.pre206, %for.cond82.for.cond94.preheader_crit_edge ]
  %cmp96189 = icmp eq i32 %29, 0
  br i1 %cmp96189, label %for.end117, label %for.body98.lr.ph

for.body98.lr.ph:                                 ; preds = %for.cond94.preheader
  %skeys100 = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 15
  br label %for.body98

for.body86:                                       ; preds = %for.body86.lr.ph, %for.body86
  %indvars.iv200 = phi i64 [ 0, %for.body86.lr.ph ], [ %indvars.iv.next201, %for.body86 ]
  %30 = load %struct.ssipkey_s** %pkeys88, align 8, !tbaa !0
  %key90 = getelementptr inbounds %struct.ssipkey_s* %30, i64 %indvars.iv200, i32 0
  %31 = load i8** %key90, align 8, !tbaa !0
  tail call void @free(i8* %31) #8
  %indvars.iv.next201 = add i64 %indvars.iv200, 1
  %32 = load i32* %nprimary, align 4, !tbaa !4
  %33 = trunc i64 %indvars.iv.next201 to i32
  %cmp84 = icmp ult i32 %33, %32
  br i1 %cmp84, label %for.body86, label %for.cond82.for.cond94.preheader_crit_edge

for.cond106.preheader:                            ; preds = %for.body98
  %phitmp = icmp eq i32 %36, 0
  br i1 %phitmp, label %for.end117, label %for.body110.lr.ph

for.body110.lr.ph:                                ; preds = %for.cond106.preheader
  %skeys112 = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 15
  br label %for.body110

for.body98:                                       ; preds = %for.body98.lr.ph, %for.body98
  %indvars.iv198 = phi i64 [ 0, %for.body98.lr.ph ], [ %indvars.iv.next199, %for.body98 ]
  %34 = load %struct.ssiskey_s** %skeys100, align 8, !tbaa !0
  %key102 = getelementptr inbounds %struct.ssiskey_s* %34, i64 %indvars.iv198, i32 0
  %35 = load i8** %key102, align 8, !tbaa !0
  tail call void @free(i8* %35) #8
  %indvars.iv.next199 = add i64 %indvars.iv198, 1
  %36 = load i32* %nsecondary, align 4, !tbaa !4
  %37 = trunc i64 %indvars.iv.next199 to i32
  %cmp96 = icmp ult i32 %37, %36
  br i1 %cmp96, label %for.body98, label %for.cond106.preheader

for.body110:                                      ; preds = %for.body110.lr.ph, %for.body110
  %indvars.iv = phi i64 [ 0, %for.body110.lr.ph ], [ %indvars.iv.next, %for.body110 ]
  %38 = load %struct.ssiskey_s** %skeys112, align 8, !tbaa !0
  %pkey114 = getelementptr inbounds %struct.ssiskey_s* %38, i64 %indvars.iv, i32 1
  %39 = load i8** %pkey114, align 8, !tbaa !0
  tail call void @free(i8* %39) #8
  %indvars.iv.next = add i64 %indvars.iv, 1
  %40 = load i32* %nsecondary, align 4, !tbaa !4
  %41 = trunc i64 %indvars.iv.next to i32
  %cmp108 = icmp ult i32 %41, %40
  br i1 %cmp108, label %for.body110, label %for.end117

for.end117:                                       ; preds = %for.cond94.preheader, %for.body110, %for.cond106.preheader
  %pkeys118 = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 10
  %42 = load %struct.ssipkey_s** %pkeys118, align 8, !tbaa !0
  %cmp119 = icmp eq %struct.ssipkey_s* %42, null
  br i1 %cmp119, label %if.end123, label %if.then121

if.then121:                                       ; preds = %for.end117
  %43 = bitcast %struct.ssipkey_s* %42 to i8*
  tail call void @free(i8* %43) #8
  br label %if.end123

if.end123:                                        ; preds = %for.end117, %if.then121
  %skeys124 = getelementptr inbounds %struct.ssiindex_s* %g, i64 0, i32 15
  %44 = load %struct.ssiskey_s** %skeys124, align 8, !tbaa !0
  %cmp125 = icmp eq %struct.ssiskey_s* %44, null
  br i1 %cmp125, label %if.end129, label %if.then127

if.then127:                                       ; preds = %if.end123
  %45 = bitcast %struct.ssiskey_s* %44 to i8*
  tail call void @free(i8* %45) #8
  br label %if.end129

if.end129:                                        ; preds = %if.end123, %if.then127
  store %struct.ssipkey_s* null, %struct.ssipkey_s** %pkeys118, align 8, !tbaa !0
  store %struct.ssiskey_s* null, %struct.ssiskey_s** %skeys124, align 8, !tbaa !0
  store i32 1, i32* %external, align 4, !tbaa !4
  br label %return

return:                                           ; preds = %if.end11, %if.end7, %if.end3, %if.end, %entry, %if.end129
  %retval.0 = phi i32 [ 0, %if.end129 ], [ 0, %entry ], [ 1, %if.end ], [ 1, %if.end3 ], [ 1, %if.end7 ], [ 1, %if.end11 ]
  ret i32 %retval.0
}
