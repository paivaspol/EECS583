define internal fastcc i32 @write_offset(%struct._IO_FILE* nocapture %fp, %struct.ssioffset_s* nocapture %offset) #0 {
entry:
  %n.addr.i14 = alloca i64, align 8
  %n.addr.i = alloca i32, align 4
  %mode = getelementptr inbounds %struct.ssioffset_s* %offset, i64 0, i32 0
  %0 = load i8* %mode, align 1, !tbaa !1
  switch i8 %0, label %if.else9 [
    i8 0, label %if.then
    i8 1, label %if.then6
  ]

if.then:                                          ; preds = %entry
  %off = getelementptr inbounds %struct.ssioffset_s* %offset, i64 0, i32 1
  %i32 = bitcast %union.anon* %off to i32*
  %1 = load i32* %i32, align 4, !tbaa !4
  %2 = bitcast i32* %n.addr.i to i8*
  call void @llvm.lifetime.start(i64 4, i8* %2) #7
  %call.i = call i32 @sre_hton32(i32 %1) #8
  store i32 %call.i, i32* %n.addr.i, align 4, !tbaa !4
  %call1.i = call i64 @fwrite(i8* %2, i64 4, i64 1, %struct._IO_FILE* %fp) #8
  %cmp.i = icmp eq i64 %call1.i, 1
  %..i = zext i1 %cmp.i to i32
  call void @llvm.lifetime.end(i64 4, i8* %2) #7
  br label %return

if.then6:                                         ; preds = %entry
  %i64 = getelementptr inbounds %struct.ssioffset_s* %offset, i64 0, i32 1, i32 0
  %3 = load i64* %i64, align 8, !tbaa !5
  %4 = bitcast i64* %n.addr.i14 to i8*
  call void @llvm.lifetime.start(i64 8, i8* %4) #7
  %call.i15 = call i64 @sre_hton64(i64 %3) #8
  store i64 %call.i15, i64* %n.addr.i14, align 8, !tbaa !5
  %call1.i16 = call i64 @fwrite(i8* %4, i64 8, i64 1, %struct._IO_FILE* %fp) #8
  %cmp.i17 = icmp eq i64 %call1.i16, 1
  %..i18 = zext i1 %cmp.i17 to i32
  call void @llvm.lifetime.end(i64 8, i8* %4) #7
  br label %return

if.else9:                                         ; preds = %entry
  call void @abort() #11
  unreachable

return:                                           ; preds = %if.then6, %if.then
  %retval.0 = phi i32 [ %..i, %if.then ], [ %..i18, %if.then6 ]
  ret i32 %retval.0
}
