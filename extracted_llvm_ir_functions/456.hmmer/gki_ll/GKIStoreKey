define i32 @GKIStoreKey(%struct.GKI* nocapture %hash, i8* nocapture %key) #0 {
entry:
  %call = tail call fastcc i32 @gki_hashvalue(%struct.GKI* %hash, i8* %key) #5
  %idxprom = sext i32 %call to i64
  %table = getelementptr inbounds %struct.GKI* %hash, i64 0, i32 0
  %0 = load %struct.gki_elem*** %table, align 8, !tbaa !3
  %arrayidx = getelementptr inbounds %struct.gki_elem** %0, i64 %idxprom
  %1 = load %struct.gki_elem** %arrayidx, align 8, !tbaa !3
  %call1 = tail call i8* @sre_malloc(i8* getelementptr inbounds ([49 x i8]* @.str, i64 0, i64 0), i32 189, i64 24) #6
  %2 = bitcast i8* %call1 to %struct.gki_elem*
  %3 = load %struct.gki_elem*** %table, align 8, !tbaa !3
  %arrayidx4 = getelementptr inbounds %struct.gki_elem** %3, i64 %idxprom
  store %struct.gki_elem* %2, %struct.gki_elem** %arrayidx4, align 8, !tbaa !3
  %call5 = tail call i64 @strlen(i8* %key) #7
  %add = add i64 %call5, 1
  %call6 = tail call i8* @sre_malloc(i8* getelementptr inbounds ([49 x i8]* @.str, i64 0, i64 0), i32 190, i64 %add) #6
  %4 = load %struct.gki_elem*** %table, align 8, !tbaa !3
  %arrayidx9 = getelementptr inbounds %struct.gki_elem** %4, i64 %idxprom
  %5 = load %struct.gki_elem** %arrayidx9, align 8, !tbaa !3
  %key10 = getelementptr inbounds %struct.gki_elem* %5, i64 0, i32 0
  store i8* %call6, i8** %key10, align 8, !tbaa !3
  %6 = load %struct.gki_elem*** %table, align 8, !tbaa !3
  %arrayidx13 = getelementptr inbounds %struct.gki_elem** %6, i64 %idxprom
  %7 = load %struct.gki_elem** %arrayidx13, align 8, !tbaa !3
  %key14 = getelementptr inbounds %struct.gki_elem* %7, i64 0, i32 0
  %8 = load i8** %key14, align 8, !tbaa !3
  %call15 = tail call i8* @strcpy(i8* %8, i8* %key) #6
  %nkeys = getelementptr inbounds %struct.GKI* %hash, i64 0, i32 3
  %9 = load i32* %nkeys, align 4, !tbaa !0
  %10 = load %struct.gki_elem*** %table, align 8, !tbaa !3
  %arrayidx18 = getelementptr inbounds %struct.gki_elem** %10, i64 %idxprom
  %11 = load %struct.gki_elem** %arrayidx18, align 8, !tbaa !3
  %idx = getelementptr inbounds %struct.gki_elem* %11, i64 0, i32 1
  store i32 %9, i32* %idx, align 4, !tbaa !0
  %nxt = getelementptr inbounds %struct.gki_elem* %11, i64 0, i32 2
  store %struct.gki_elem* %1, %struct.gki_elem** %nxt, align 8, !tbaa !3
  %12 = load i32* %nkeys, align 4, !tbaa !0
  %inc = add nsw i32 %12, 1
  store i32 %inc, i32* %nkeys, align 4, !tbaa !0
  %nhash = getelementptr inbounds %struct.GKI* %hash, i64 0, i32 2
  %13 = load i32* %nhash, align 4, !tbaa !0
  %mul24 = mul nsw i32 %13, 3
  %cmp = icmp slt i32 %12, %mul24
  br i1 %cmp, label %if.end, label %land.lhs.true

land.lhs.true:                                    ; preds = %entry
  %primelevel = getelementptr inbounds %struct.GKI* %hash, i64 0, i32 1
  %14 = load i32* %primelevel, align 4, !tbaa !0
  %cmp25 = icmp slt i32 %14, 3
  br i1 %cmp25, label %if.end.i, label %if.end

if.end.i:                                         ; preds = %land.lhs.true
  %add.i = add nsw i32 %14, 1
  %call.i = tail call fastcc %struct.GKI* @gki_alloc(i32 %add.i) #6
  %15 = load i32* %nhash, align 4, !tbaa !0
  %cmp23.i = icmp sgt i32 %15, 0
  %table6.i = getelementptr inbounds %struct.GKI* %call.i, i64 0, i32 0
  br i1 %cmp23.i, label %for.body.i, label %gki_upsize.exit

for.body.i:                                       ; preds = %for.inc.i, %if.end.i
  %indvars.iv.i = phi i64 [ 0, %if.end.i ], [ %indvars.iv.next.i, %for.inc.i ]
  %16 = load %struct.gki_elem*** %table, align 8, !tbaa !3
  %arrayidx.i = getelementptr inbounds %struct.gki_elem** %16, i64 %indvars.iv.i
  %17 = load %struct.gki_elem** %arrayidx.i, align 8, !tbaa !3
  %cmp31.i = icmp eq %struct.gki_elem* %17, null
  br i1 %cmp31.i, label %for.inc.i, label %while.body.i

while.body.i:                                     ; preds = %for.body.i, %while.body.i
  %optr.02.i = phi %struct.gki_elem* [ %21, %while.body.i ], [ %17, %for.body.i ]
  %key.i = getelementptr inbounds %struct.gki_elem* %optr.02.i, i64 0, i32 0
  %18 = load i8** %key.i, align 8, !tbaa !3
  %call4.i = tail call fastcc i32 @gki_hashvalue(%struct.GKI* %call.i, i8* %18) #6
  %idxprom5.i = sext i32 %call4.i to i64
  %19 = load %struct.gki_elem*** %table6.i, align 8, !tbaa !3
  %arrayidx7.i = getelementptr inbounds %struct.gki_elem** %19, i64 %idxprom5.i
  %20 = load %struct.gki_elem** %arrayidx7.i, align 8, !tbaa !3
  store %struct.gki_elem* %optr.02.i, %struct.gki_elem** %arrayidx7.i, align 8, !tbaa !3
  %nxt.i = getelementptr inbounds %struct.gki_elem* %optr.02.i, i64 0, i32 2
  %21 = load %struct.gki_elem** %nxt.i, align 8, !tbaa !3
  %22 = load %struct.gki_elem*** %table6.i, align 8, !tbaa !3
  %arrayidx13.i = getelementptr inbounds %struct.gki_elem** %22, i64 %idxprom5.i
  %23 = load %struct.gki_elem** %arrayidx13.i, align 8, !tbaa !3
  %nxt14.i = getelementptr inbounds %struct.gki_elem* %23, i64 0, i32 2
  store %struct.gki_elem* %20, %struct.gki_elem** %nxt14.i, align 8, !tbaa !3
  %cmp3.i = icmp eq %struct.gki_elem* %21, null
  br i1 %cmp3.i, label %for.inc.i, label %while.body.i

for.inc.i:                                        ; preds = %while.body.i, %for.body.i
  %indvars.iv.next.i = add i64 %indvars.iv.i, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next.i to i32
  %exitcond = icmp eq i32 %lftr.wideiv, %15
  br i1 %exitcond, label %gki_upsize.exit, label %for.body.i

gki_upsize.exit:                                  ; preds = %for.inc.i, %if.end.i
  %24 = load %struct.gki_elem*** %table, align 8, !tbaa !3
  %25 = bitcast %struct.gki_elem** %24 to i8*
  tail call void @free(i8* %25) #6
  %primelevel16.i = getelementptr inbounds %struct.GKI* %call.i, i64 0, i32 1
  %26 = load i32* %primelevel16.i, align 4, !tbaa !0
  store i32 %26, i32* %primelevel, align 4, !tbaa !0
  %nhash18.i = getelementptr inbounds %struct.GKI* %call.i, i64 0, i32 2
  %27 = load i32* %nhash18.i, align 4, !tbaa !0
  store i32 %27, i32* %nhash, align 4, !tbaa !0
  %28 = load %struct.gki_elem*** %table6.i, align 8, !tbaa !3
  store %struct.gki_elem** %28, %struct.gki_elem*** %table, align 8, !tbaa !3
  %29 = bitcast %struct.GKI* %call.i to i8*
  tail call void @free(i8* %29) #6
  %.pre = load i32* %nkeys, align 4, !tbaa !0
  br label %if.end

if.end:                                           ; preds = %entry, %gki_upsize.exit, %land.lhs.true
  %30 = phi i32 [ %inc, %entry ], [ %.pre, %gki_upsize.exit ], [ %inc, %land.lhs.true ]
  %sub = add nsw i32 %30, -1
  ret i32 %sub
}
