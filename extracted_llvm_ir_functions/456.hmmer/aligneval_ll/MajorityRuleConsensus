define i8* @MajorityRuleConsensus(i8** nocapture %aseq, i32 %nseq, i32 %alen) #0 {
entry:
  %count = alloca [27 x i32], align 16
  %0 = bitcast [27 x i32]* %count to i8*
  call void @llvm.lifetime.start(i64 108, i8* %0) #4
  %add = add nsw i32 %alen, 1
  %conv = sext i32 %add to i64
  %call = call i8* @sre_malloc(i8* getelementptr inbounds ([55 x i8]* @.str, i64 0, i64 0), i32 485, i64 %conv) #8
  %cmp91 = icmp sgt i32 %alen, 0
  br i1 %cmp91, label %for.cond2.preheader.lr.ph, label %for.end63

for.cond2.preheader.lr.ph:                        ; preds = %entry
  %cmp786 = icmp sgt i32 %nseq, 0
  %arrayidx33 = getelementptr inbounds [27 x i32]* %count, i64 0, i64 26
  %conv35 = sitofp i32 %nseq to float
  br label %for.cond2.preheader

for.cond2.preheader:                              ; preds = %for.inc61, %for.cond2.preheader.lr.ph
  %indvars.iv98 = phi i64 [ 0, %for.cond2.preheader.lr.ph ], [ %indvars.iv.next99, %for.inc61 ]
  %spos.092 = phi i32 [ 0, %for.cond2.preheader.lr.ph ], [ %spos.1, %for.inc61 ]
  call void @llvm.memset.p0i8.i64(i8* %0, i8 0, i64 108, i32 16, i1 false)
  br i1 %cmp786, label %for.body9.lr.ph, label %for.end32

for.body9.lr.ph:                                  ; preds = %for.cond2.preheader
  %call16 = call i16** @__ctype_b_loc() #10
  br label %for.body9

for.body9:                                        ; preds = %for.inc30, %for.body9.lr.ph
  %indvars.iv = phi i64 [ 0, %for.body9.lr.ph ], [ %indvars.iv.next, %for.inc30 ]
  %arrayidx12 = getelementptr inbounds i8** %aseq, i64 %indvars.iv
  %1 = load i8** %arrayidx12, align 8, !tbaa !0
  %arrayidx13 = getelementptr inbounds i8* %1, i64 %indvars.iv98
  %2 = load i8* %arrayidx13, align 1, !tbaa !1
  %idxprom15 = sext i8 %2 to i64
  %3 = load i16** %call16, align 8, !tbaa !0
  %arrayidx17 = getelementptr inbounds i16* %3, i64 %idxprom15
  %4 = load i16* %arrayidx17, align 2, !tbaa !5
  %and = and i16 %4, 1024
  %tobool = icmp eq i16 %and, 0
  br i1 %tobool, label %if.else, label %if.then

if.then:                                          ; preds = %for.body9
  %conv14 = sext i8 %2 to i32
  %call24 = call i32 @toupper(i32 %conv14) #8
  %sub = add nsw i32 %call24, -65
  %idxprom25 = sext i32 %sub to i64
  %arrayidx26 = getelementptr inbounds [27 x i32]* %count, i64 0, i64 %idxprom25
  %5 = load i32* %arrayidx26, align 4, !tbaa !3
  %inc27 = add nsw i32 %5, 1
  store i32 %inc27, i32* %arrayidx26, align 4, !tbaa !3
  br label %for.inc30

if.else:                                          ; preds = %for.body9
  %6 = load i32* %arrayidx33, align 8, !tbaa !3
  %inc29 = add nsw i32 %6, 1
  store i32 %inc29, i32* %arrayidx33, align 8, !tbaa !3
  br label %for.inc30

for.inc30:                                        ; preds = %if.then, %if.else
  %indvars.iv.next = add i64 %indvars.iv, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32
  %exitcond = icmp eq i32 %lftr.wideiv, %nseq
  br i1 %exitcond, label %for.cond6.for.end32_crit_edge, label %for.body9

for.cond6.for.end32_crit_edge:                    ; preds = %for.inc30
  %.pre = load i32* %arrayidx33, align 8, !tbaa !3
  %phitmp = sitofp i32 %.pre to float
  br label %for.end32

for.end32:                                        ; preds = %for.cond6.for.end32_crit_edge, %for.cond2.preheader
  %7 = phi float [ %phitmp, %for.cond6.for.end32_crit_edge ], [ 0.000000e+00, %for.cond2.preheader ]
  %div = fdiv float %7, %conv35
  %cmp37 = fcmp ugt float %div, 5.000000e-01
  br i1 %cmp37, label %for.inc61, label %for.body43

for.body43:                                       ; preds = %for.end32, %for.body43
  %indvars.iv94 = phi i64 [ %indvars.iv.next95, %for.body43 ], [ 0, %for.end32 ]
  %bestx.090 = phi i32 [ %x.1.bestx.0, %for.body43 ], [ -1, %for.end32 ]
  %max.089 = phi i32 [ %.max.0, %for.body43 ], [ -1, %for.end32 ]
  %arrayidx45 = getelementptr inbounds [27 x i32]* %count, i64 0, i64 %indvars.iv94
  %8 = load i32* %arrayidx45, align 4, !tbaa !3
  %cmp46 = icmp sgt i32 %8, %max.089
  %.max.0 = select i1 %cmp46, i32 %8, i32 %max.089
  %9 = trunc i64 %indvars.iv94 to i32
  %x.1.bestx.0 = select i1 %cmp46, i32 %9, i32 %bestx.090
  %indvars.iv.next95 = add i64 %indvars.iv94, 1
  %lftr.wideiv96 = trunc i64 %indvars.iv.next95 to i32
  %exitcond97 = icmp eq i32 %lftr.wideiv96, 26
  br i1 %exitcond97, label %for.end54, label %for.body43

for.end54:                                        ; preds = %for.body43
  %add55 = add nsw i32 %x.1.bestx.0, 65
  %conv56 = trunc i32 %add55 to i8
  %inc57 = add nsw i32 %spos.092, 1
  %idxprom58 = sext i32 %spos.092 to i64
  %arrayidx59 = getelementptr inbounds i8* %call, i64 %idxprom58
  store i8 %conv56, i8* %arrayidx59, align 1, !tbaa !1
  br label %for.inc61

for.inc61:                                        ; preds = %for.end32, %for.end54
  %spos.1 = phi i32 [ %inc57, %for.end54 ], [ %spos.092, %for.end32 ]
  %indvars.iv.next99 = add i64 %indvars.iv98, 1
  %lftr.wideiv100 = trunc i64 %indvars.iv.next99 to i32
  %exitcond101 = icmp eq i32 %lftr.wideiv100, %alen
  br i1 %exitcond101, label %for.end63, label %for.cond2.preheader

for.end63:                                        ; preds = %for.inc61, %entry
  %spos.0.lcssa = phi i32 [ 0, %entry ], [ %spos.1, %for.inc61 ]
  %idxprom64 = sext i32 %spos.0.lcssa to i64
  %arrayidx65 = getelementptr inbounds i8* %call, i64 %idxprom64
  store i8 0, i8* %arrayidx65, align 1, !tbaa !1
  call void @llvm.lifetime.end(i64 108, i8* %0) #4
  ret i8* %call
}
