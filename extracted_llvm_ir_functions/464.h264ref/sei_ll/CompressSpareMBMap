define i32 @CompressSpareMBMap(i8** nocapture %map_sp, %struct.Bitstream* %bitstream) #0 {
entry:
  %sym = alloca %struct.syntaxelement, align 8
  %0 = bitcast %struct.syntaxelement* %sym to i8*
  call void @llvm.lifetime.start(i64 48, i8* %0) #4
  %1 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %height = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 15
  %2 = load i32* %height, align 4, !tbaa !3
  %div = sdiv i32 %2, 16
  %width = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 13
  %3 = load i32* %width, align 4, !tbaa !3
  %div1 = sdiv i32 %3, 16
  %mul = mul nsw i32 %div1, %div
  %type = getelementptr inbounds %struct.syntaxelement* %sym, i64 0, i32 0
  store i32 0, i32* %type, align 8, !tbaa !3
  %mapping = getelementptr inbounds %struct.syntaxelement* %sym, i64 0, i32 8
  store void (i32, i32, i32*, i32*)* @ue_linfo, void (i32, i32, i32*, i32*)** %mapping, align 8, !tbaa !0
  %4 = load i32* %width, align 4, !tbaa !3
  %div3 = sdiv i32 %4, 16
  %sub = add nsw i32 %div3, -1
  %div4 = sdiv i32 %sub, 2
  %5 = load i32* %height, align 4, !tbaa !3
  %div6 = sdiv i32 %5, 16
  %sub7 = add nsw i32 %div6, -1
  %div8 = sdiv i32 %sub7, 2
  %cmp294 = icmp sgt i32 %5, 15
  br i1 %cmp294, label %for.cond11.preheader.lr.ph, label %if.end141

for.cond11.preheader.lr.ph:                       ; preds = %entry
  %value1 = getelementptr inbounds %struct.syntaxelement* %sym, i64 0, i32 1
  br label %for.cond11.preheader

for.cond11.preheader:                             ; preds = %for.inc132.for.cond11.preheader_crit_edge, %for.cond11.preheader.lr.ph
  %6 = phi i32 [ %4, %for.cond11.preheader.lr.ph ], [ %.pre, %for.inc132.for.cond11.preheader_crit_edge ]
  %7 = phi %struct.ImageParameters* [ %1, %for.cond11.preheader.lr.ph ], [ %18, %for.inc132.for.cond11.preheader_crit_edge ]
  %j.0305 = phi i32 [ 1, %for.cond11.preheader.lr.ph ], [ %phitmp, %for.inc132.for.cond11.preheader_crit_edge ]
  %size_compressed.0304 = phi i32 [ 0, %for.cond11.preheader.lr.ph ], [ %size_compressed.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %noc.0303 = phi i32 [ 0, %for.cond11.preheader.lr.ph ], [ %noc.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %directy.0302 = phi i32 [ 1, %for.cond11.preheader.lr.ph ], [ %directy.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %directx.0301 = phi i32 [ 0, %for.cond11.preheader.lr.ph ], [ %directx.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %top.0300 = phi i32 [ %div8, %for.cond11.preheader.lr.ph ], [ %top.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %bottom.0299 = phi i32 [ %div8, %for.cond11.preheader.lr.ph ], [ %bottom.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %right.0298 = phi i32 [ %div4, %for.cond11.preheader.lr.ph ], [ %right.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %left.0297 = phi i32 [ %div4, %for.cond11.preheader.lr.ph ], [ %left.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %y.0296 = phi i32 [ %div8, %for.cond11.preheader.lr.ph ], [ %y.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %x.0295 = phi i32 [ %div4, %for.cond11.preheader.lr.ph ], [ %x.1.lcssa, %for.inc132.for.cond11.preheader_crit_edge ]
  %cmp14271 = icmp sgt i32 %6, 15
  br i1 %cmp14271, label %for.body15, label %for.inc132

for.body15:                                       ; preds = %for.cond11.preheader, %for.inc
  %k.0282 = phi i32 [ %inc131, %for.inc ], [ 0, %for.cond11.preheader ]
  %size_compressed.1281 = phi i32 [ %size_compressed.2, %for.inc ], [ %size_compressed.0304, %for.cond11.preheader ]
  %noc.1280 = phi i32 [ %noc.2, %for.inc ], [ %noc.0303, %for.cond11.preheader ]
  %directy.1279 = phi i32 [ %directy.2, %for.inc ], [ %directy.0302, %for.cond11.preheader ]
  %directx.1278 = phi i32 [ %directx.2, %for.inc ], [ %directx.0301, %for.cond11.preheader ]
  %top.1277 = phi i32 [ %top.2, %for.inc ], [ %top.0300, %for.cond11.preheader ]
  %bottom.1276 = phi i32 [ %bottom.2, %for.inc ], [ %bottom.0299, %for.cond11.preheader ]
  %right.1275 = phi i32 [ %right.2, %for.inc ], [ %right.0298, %for.cond11.preheader ]
  %left.1274 = phi i32 [ %left.2, %for.inc ], [ %left.0297, %for.cond11.preheader ]
  %y.1273 = phi i32 [ %y.2, %for.inc ], [ %y.0296, %for.cond11.preheader ]
  %x.1272 = phi i32 [ %x.2, %for.inc ], [ %x.0295, %for.cond11.preheader ]
  %idxprom = sext i32 %x.1272 to i64
  %idxprom16 = sext i32 %y.1273 to i64
  %arrayidx = getelementptr inbounds i8** %map_sp, i64 %idxprom16
  %8 = load i8** %arrayidx, align 8, !tbaa !0
  %arrayidx17 = getelementptr inbounds i8* %8, i64 %idxprom
  %9 = load i8* %arrayidx17, align 1, !tbaa !1
  %cmp18 = icmp eq i8 %9, 0
  br i1 %cmp18, label %if.then, label %if.else

if.then:                                          ; preds = %for.body15
  %inc = add nsw i32 %noc.1280, 1
  br label %if.end

if.else:                                          ; preds = %for.body15
  store i32 %noc.1280, i32* %value1, align 4, !tbaa !3
  %call = call i32 @writeSyntaxElement2Buf_UVLC(%struct.syntaxelement* %sym, %struct.Bitstream* %bitstream) #6
  %add = add nsw i32 %call, %size_compressed.1281
  br label %if.end

if.end:                                           ; preds = %if.else, %if.then
  %noc.2 = phi i32 [ %inc, %if.then ], [ 0, %if.else ]
  %size_compressed.2 = phi i32 [ %size_compressed.1281, %if.then ], [ %add, %if.else ]
  %cmp20 = icmp eq i32 %directx.1278, -1
  %cmp22 = icmp eq i32 %directy.1279, 0
  %or.cond = and i1 %cmp20, %cmp22
  br i1 %or.cond, label %if.then24, label %if.else43

if.then24:                                        ; preds = %if.end
  %cmp25 = icmp sgt i32 %x.1272, %left.1274
  br i1 %cmp25, label %if.then27, label %if.else28

if.then27:                                        ; preds = %if.then24
  %dec = add nsw i32 %x.1272, -1
  br label %for.inc

if.else28:                                        ; preds = %if.then24
  %cmp29 = icmp eq i32 %x.1272, 0
  br i1 %cmp29, label %if.then31, label %if.else34

if.then31:                                        ; preds = %if.else28
  %add32 = add nsw i32 %bottom.1276, 1
  br label %for.inc

if.else34:                                        ; preds = %if.else28
  %cmp35 = icmp eq i32 %x.1272, %left.1274
  %dec38 = add nsw i32 %left.1274, -1
  %dec38.x.1272 = select i1 %cmp35, i32 %dec38, i32 %x.1272
  %dec38.left.1274 = select i1 %cmp35, i32 %dec38, i32 %left.1274
  %not.cmp35 = xor i1 %cmp35, true
  %. = sext i1 %not.cmp35 to i32
  %.312 = zext i1 %cmp35 to i32
  br label %for.inc

if.else43:                                        ; preds = %if.end
  %cmp44 = icmp eq i32 %directx.1278, 1
  %or.cond258 = and i1 %cmp44, %cmp22
  br i1 %or.cond258, label %if.then49, label %if.else72

if.then49:                                        ; preds = %if.else43
  %cmp50 = icmp slt i32 %x.1272, %right.1275
  br i1 %cmp50, label %if.then52, label %if.else54

if.then52:                                        ; preds = %if.then49
  %inc53 = add nsw i32 %x.1272, 1
  br label %for.inc

if.else54:                                        ; preds = %if.then49
  %10 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %width55 = getelementptr inbounds %struct.ImageParameters* %10, i64 0, i32 13
  %11 = load i32* %width55, align 4, !tbaa !3
  %div56 = sdiv i32 %11, 16
  %sub57 = add nsw i32 %div56, -1
  %cmp58 = icmp eq i32 %x.1272, %sub57
  br i1 %cmp58, label %if.then60, label %if.else63

if.then60:                                        ; preds = %if.else54
  %sub61 = add nsw i32 %top.1277, -1
  br label %for.inc

if.else63:                                        ; preds = %if.else54
  %cmp64 = icmp eq i32 %x.1272, %right.1275
  %inc67 = add nsw i32 %right.1275, 1
  %inc67.x.1272 = select i1 %cmp64, i32 %inc67, i32 %x.1272
  %inc67.right.1275 = select i1 %cmp64, i32 %inc67, i32 %right.1275
  %12 = zext i1 %cmp64 to i32
  %.313 = xor i32 %12, 1
  %.314 = sext i1 %cmp64 to i32
  br label %for.inc

if.else72:                                        ; preds = %if.else43
  %cmp73 = icmp eq i32 %directx.1278, 0
  %cmp76 = icmp eq i32 %directy.1279, -1
  %or.cond259 = and i1 %cmp73, %cmp76
  br i1 %or.cond259, label %if.then78, label %if.else98

if.then78:                                        ; preds = %if.else72
  %cmp79 = icmp sgt i32 %y.1273, %top.1277
  br i1 %cmp79, label %if.then81, label %if.else83

if.then81:                                        ; preds = %if.then78
  %dec82 = add nsw i32 %y.1273, -1
  br label %for.inc

if.else83:                                        ; preds = %if.then78
  %cmp84 = icmp eq i32 %y.1273, 0
  br i1 %cmp84, label %if.then86, label %if.else89

if.then86:                                        ; preds = %if.else83
  %sub87 = add nsw i32 %left.1274, -1
  br label %for.inc

if.else89:                                        ; preds = %if.else83
  %cmp90 = icmp eq i32 %y.1273, %top.1277
  %dec93 = add nsw i32 %top.1277, -1
  %dec93.y.1273 = select i1 %cmp90, i32 %dec93, i32 %y.1273
  %dec93.top.1277 = select i1 %cmp90, i32 %dec93, i32 %top.1277
  %.315 = sext i1 %cmp90 to i32
  %not.cmp90 = xor i1 %cmp90, true
  %.316 = sext i1 %not.cmp90 to i32
  br label %for.inc

if.else98:                                        ; preds = %if.else72
  %cmp102 = icmp eq i32 %directy.1279, 1
  %or.cond260 = and i1 %cmp73, %cmp102
  br i1 %or.cond260, label %if.then104, label %for.inc

if.then104:                                       ; preds = %if.else98
  %cmp105 = icmp slt i32 %y.1273, %bottom.1276
  br i1 %cmp105, label %if.then107, label %if.else109

if.then107:                                       ; preds = %if.then104
  %inc108 = add nsw i32 %y.1273, 1
  br label %for.inc

if.else109:                                       ; preds = %if.then104
  %13 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %height110 = getelementptr inbounds %struct.ImageParameters* %13, i64 0, i32 15
  %14 = load i32* %height110, align 4, !tbaa !3
  %div111 = sdiv i32 %14, 16
  %sub112 = add nsw i32 %div111, -1
  %cmp113 = icmp eq i32 %y.1273, %sub112
  br i1 %cmp113, label %if.then115, label %if.else118

if.then115:                                       ; preds = %if.else109
  %add116 = add nsw i32 %right.1275, 1
  br label %for.inc

if.else118:                                       ; preds = %if.else109
  %cmp119 = icmp eq i32 %y.1273, %bottom.1276
  %inc122 = add nsw i32 %bottom.1276, 1
  %inc122.y.1273 = select i1 %cmp119, i32 %inc122, i32 %y.1273
  %inc122.bottom.1276 = select i1 %cmp119, i32 %inc122, i32 %bottom.1276
  %.317 = zext i1 %cmp119 to i32
  %15 = zext i1 %cmp119 to i32
  %.318 = xor i32 %15, 1
  br label %for.inc

for.inc:                                          ; preds = %if.else118, %if.else89, %if.else63, %if.else34, %if.else98, %if.then31, %if.then27, %if.then86, %if.then81, %if.then107, %if.then115, %if.then52, %if.then60
  %x.2 = phi i32 [ %dec, %if.then27 ], [ 0, %if.then31 ], [ %inc53, %if.then52 ], [ %x.1272, %if.then60 ], [ %x.1272, %if.then81 ], [ %sub87, %if.then86 ], [ %x.1272, %if.then107 ], [ %add116, %if.then115 ], [ %x.1272, %if.else98 ], [ %dec38.x.1272, %if.else34 ], [ %inc67.x.1272, %if.else63 ], [ %x.1272, %if.else89 ], [ %x.1272, %if.else118 ]
  %y.2 = phi i32 [ %y.1273, %if.then27 ], [ %add32, %if.then31 ], [ %y.1273, %if.then52 ], [ %sub61, %if.then60 ], [ %dec82, %if.then81 ], [ 0, %if.then86 ], [ %inc108, %if.then107 ], [ %y.1273, %if.then115 ], [ %y.1273, %if.else98 ], [ %y.1273, %if.else34 ], [ %y.1273, %if.else63 ], [ %dec93.y.1273, %if.else89 ], [ %inc122.y.1273, %if.else118 ]
  %left.2 = phi i32 [ %left.1274, %if.then27 ], [ %left.1274, %if.then31 ], [ %left.1274, %if.then52 ], [ %left.1274, %if.then60 ], [ %left.1274, %if.then81 ], [ %sub87, %if.then86 ], [ %left.1274, %if.then107 ], [ %left.1274, %if.then115 ], [ %left.1274, %if.else98 ], [ %dec38.left.1274, %if.else34 ], [ %left.1274, %if.else63 ], [ %left.1274, %if.else89 ], [ %left.1274, %if.else118 ]
  %right.2 = phi i32 [ %right.1275, %if.then27 ], [ %right.1275, %if.then31 ], [ %right.1275, %if.then52 ], [ %right.1275, %if.then60 ], [ %right.1275, %if.then81 ], [ %right.1275, %if.then86 ], [ %right.1275, %if.then107 ], [ %add116, %if.then115 ], [ %right.1275, %if.else98 ], [ %right.1275, %if.else34 ], [ %inc67.right.1275, %if.else63 ], [ %right.1275, %if.else89 ], [ %right.1275, %if.else118 ]
  %bottom.2 = phi i32 [ %bottom.1276, %if.then27 ], [ %add32, %if.then31 ], [ %bottom.1276, %if.then52 ], [ %bottom.1276, %if.then60 ], [ %bottom.1276, %if.then81 ], [ %bottom.1276, %if.then86 ], [ %bottom.1276, %if.then107 ], [ %bottom.1276, %if.then115 ], [ %bottom.1276, %if.else98 ], [ %bottom.1276, %if.else34 ], [ %bottom.1276, %if.else63 ], [ %bottom.1276, %if.else89 ], [ %inc122.bottom.1276, %if.else118 ]
  %top.2 = phi i32 [ %top.1277, %if.then27 ], [ %top.1277, %if.then31 ], [ %top.1277, %if.then52 ], [ %sub61, %if.then60 ], [ %top.1277, %if.then81 ], [ %top.1277, %if.then86 ], [ %top.1277, %if.then107 ], [ %top.1277, %if.then115 ], [ %top.1277, %if.else98 ], [ %top.1277, %if.else34 ], [ %top.1277, %if.else63 ], [ %dec93.top.1277, %if.else89 ], [ %top.1277, %if.else118 ]
  %directx.2 = phi i32 [ -1, %if.then27 ], [ 1, %if.then31 ], [ 1, %if.then52 ], [ -1, %if.then60 ], [ 0, %if.then81 ], [ 0, %if.then86 ], [ 0, %if.then107 ], [ 0, %if.then115 ], [ %directx.1278, %if.else98 ], [ %., %if.else34 ], [ %.313, %if.else63 ], [ %.315, %if.else89 ], [ %.317, %if.else118 ]
  %directy.2 = phi i32 [ 0, %if.then27 ], [ 0, %if.then31 ], [ 0, %if.then52 ], [ 0, %if.then60 ], [ -1, %if.then81 ], [ 1, %if.then86 ], [ 1, %if.then107 ], [ -1, %if.then115 ], [ %directy.1279, %if.else98 ], [ %.312, %if.else34 ], [ %.314, %if.else63 ], [ %.316, %if.else89 ], [ %.318, %if.else118 ]
  %inc131 = add nsw i32 %k.0282, 1
  %16 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %width12 = getelementptr inbounds %struct.ImageParameters* %16, i64 0, i32 13
  %17 = load i32* %width12, align 4, !tbaa !3
  %div13 = sdiv i32 %17, 16
  %cmp14 = icmp slt i32 %inc131, %div13
  br i1 %cmp14, label %for.body15, label %for.inc132

for.inc132:                                       ; preds = %for.inc, %for.cond11.preheader
  %.pre = phi i32 [ %6, %for.cond11.preheader ], [ %17, %for.inc ]
  %18 = phi %struct.ImageParameters* [ %7, %for.cond11.preheader ], [ %16, %for.inc ]
  %size_compressed.1.lcssa = phi i32 [ %size_compressed.0304, %for.cond11.preheader ], [ %size_compressed.2, %for.inc ]
  %noc.1.lcssa = phi i32 [ %noc.0303, %for.cond11.preheader ], [ %noc.2, %for.inc ]
  %directy.1.lcssa = phi i32 [ %directy.0302, %for.cond11.preheader ], [ %directy.2, %for.inc ]
  %directx.1.lcssa = phi i32 [ %directx.0301, %for.cond11.preheader ], [ %directx.2, %for.inc ]
  %top.1.lcssa = phi i32 [ %top.0300, %for.cond11.preheader ], [ %top.2, %for.inc ]
  %bottom.1.lcssa = phi i32 [ %bottom.0299, %for.cond11.preheader ], [ %bottom.2, %for.inc ]
  %right.1.lcssa = phi i32 [ %right.0298, %for.cond11.preheader ], [ %right.2, %for.inc ]
  %left.1.lcssa = phi i32 [ %left.0297, %for.cond11.preheader ], [ %left.2, %for.inc ]
  %y.1.lcssa = phi i32 [ %y.0296, %for.cond11.preheader ], [ %y.2, %for.inc ]
  %x.1.lcssa = phi i32 [ %x.0295, %for.cond11.preheader ], [ %x.2, %for.inc ]
  %height9 = getelementptr inbounds %struct.ImageParameters* %18, i64 0, i32 15
  %19 = load i32* %height9, align 4, !tbaa !3
  %div10 = sdiv i32 %19, 16
  %cmp = icmp slt i32 %j.0305, %div10
  br i1 %cmp, label %for.inc132.for.cond11.preheader_crit_edge, label %for.end134

for.inc132.for.cond11.preheader_crit_edge:        ; preds = %for.inc132
  %phitmp = add i32 %j.0305, 1
  br label %for.cond11.preheader

for.end134:                                       ; preds = %for.inc132
  %cmp135 = icmp eq i32 %noc.1.lcssa, 0
  br i1 %cmp135, label %if.end141, label %if.then137

if.then137:                                       ; preds = %for.end134
  %value1138 = getelementptr inbounds %struct.syntaxelement* %sym, i64 0, i32 1
  store i32 %noc.1.lcssa, i32* %value1138, align 4, !tbaa !3
  %call139 = call i32 @writeSyntaxElement2Buf_UVLC(%struct.syntaxelement* %sym, %struct.Bitstream* %bitstream) #6
  %add140 = add nsw i32 %call139, %size_compressed.1.lcssa
  br label %if.end141

if.end141:                                        ; preds = %entry, %for.end134, %if.then137
  %size_compressed.3 = phi i32 [ %add140, %if.then137 ], [ %size_compressed.1.lcssa, %for.end134 ], [ 0, %entry ]
  %cmp142 = icmp slt i32 %size_compressed.3, %mul
  %cond = zext i1 %cmp142 to i32
  br i1 %cmp142, label %if.end190, label %if.then144

if.then144:                                       ; preds = %if.end141
  %byte_buf = getelementptr inbounds %struct.Bitstream* %bitstream, i64 0, i32 2
  store i8 0, i8* %byte_buf, align 1, !tbaa !1
  %bits_to_go = getelementptr inbounds %struct.Bitstream* %bitstream, i64 0, i32 1
  store i32 8, i32* %bits_to_go, align 4, !tbaa !3
  %byte_pos = getelementptr inbounds %struct.Bitstream* %bitstream, i64 0, i32 0
  store i32 0, i32* %byte_pos, align 4, !tbaa !3
  %20 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %height146265 = getelementptr inbounds %struct.ImageParameters* %20, i64 0, i32 15
  %21 = load i32* %height146265, align 4, !tbaa !3
  %cmp148267 = icmp sgt i32 %21, 15
  br i1 %cmp148267, label %for.cond151.preheader.lr.ph, label %if.end190

for.cond151.preheader.lr.ph:                      ; preds = %if.then144
  %streamBuffer = getelementptr inbounds %struct.Bitstream* %bitstream, i64 0, i32 9
  br label %for.cond151.preheader

for.cond151.preheader:                            ; preds = %for.cond151.preheader.lr.ph, %for.inc187
  %22 = phi i8 [ 0, %for.cond151.preheader.lr.ph ], [ %36, %for.inc187 ]
  %23 = phi %struct.ImageParameters* [ %20, %for.cond151.preheader.lr.ph ], [ %37, %for.inc187 ]
  %indvars.iv308 = phi i64 [ 0, %for.cond151.preheader.lr.ph ], [ %indvars.iv.next309, %for.inc187 ]
  %width152261 = getelementptr inbounds %struct.ImageParameters* %23, i64 0, i32 13
  %24 = load i32* %width152261, align 4, !tbaa !3
  %cmp154263 = icmp sgt i32 %24, 15
  br i1 %cmp154263, label %for.body156.lr.ph, label %for.inc187

for.body156.lr.ph:                                ; preds = %for.cond151.preheader
  %arrayidx162 = getelementptr inbounds i8** %map_sp, i64 %indvars.iv308
  br label %for.body156

for.body156:                                      ; preds = %for.body156.lr.ph, %for.inc184
  %25 = phi i8 [ %22, %for.body156.lr.ph ], [ %32, %for.inc184 ]
  %indvars.iv = phi i64 [ 0, %for.body156.lr.ph ], [ %indvars.iv.next, %for.inc184 ]
  %shl = shl i8 %25, 1
  store i8 %shl, i8* %byte_buf, align 1, !tbaa !1
  %26 = load i8** %arrayidx162, align 8, !tbaa !0
  %arrayidx163 = getelementptr inbounds i8* %26, i64 %indvars.iv
  %27 = load i8* %arrayidx163, align 1, !tbaa !1
  %tobool164 = icmp eq i8 %27, 0
  br i1 %tobool164, label %if.end169, label %if.then165

if.then165:                                       ; preds = %for.body156
  %or = or i8 %shl, 1
  store i8 %or, i8* %byte_buf, align 1, !tbaa !1
  br label %if.end169

if.end169:                                        ; preds = %for.body156, %if.then165
  %28 = phi i8 [ %or, %if.then165 ], [ %shl, %for.body156 ]
  %29 = load i32* %bits_to_go, align 4, !tbaa !3
  %dec171 = add nsw i32 %29, -1
  store i32 %dec171, i32* %bits_to_go, align 4, !tbaa !3
  %cmp173 = icmp eq i32 %dec171, 0
  br i1 %cmp173, label %if.then175, label %for.inc184

if.then175:                                       ; preds = %if.end169
  store i32 8, i32* %bits_to_go, align 4, !tbaa !3
  %30 = load i32* %byte_pos, align 4, !tbaa !3
  %inc179 = add nsw i32 %30, 1
  store i32 %inc179, i32* %byte_pos, align 4, !tbaa !3
  %idxprom180 = sext i32 %30 to i64
  %31 = load i8** %streamBuffer, align 8, !tbaa !0
  %arrayidx181 = getelementptr inbounds i8* %31, i64 %idxprom180
  store i8 %28, i8* %arrayidx181, align 1, !tbaa !1
  store i8 0, i8* %byte_buf, align 1, !tbaa !1
  br label %for.inc184

for.inc184:                                       ; preds = %if.end169, %if.then175
  %32 = phi i8 [ %28, %if.end169 ], [ 0, %if.then175 ]
  %indvars.iv.next = add i64 %indvars.iv, 1
  %33 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %width152 = getelementptr inbounds %struct.ImageParameters* %33, i64 0, i32 13
  %34 = load i32* %width152, align 4, !tbaa !3
  %div153 = sdiv i32 %34, 16
  %35 = trunc i64 %indvars.iv.next to i32
  %cmp154 = icmp slt i32 %35, %div153
  br i1 %cmp154, label %for.body156, label %for.inc187

for.inc187:                                       ; preds = %for.inc184, %for.cond151.preheader
  %36 = phi i8 [ %22, %for.cond151.preheader ], [ %32, %for.inc184 ]
  %37 = phi %struct.ImageParameters* [ %23, %for.cond151.preheader ], [ %33, %for.inc184 ]
  %indvars.iv.next309 = add i64 %indvars.iv308, 1
  %height146 = getelementptr inbounds %struct.ImageParameters* %37, i64 0, i32 15
  %38 = load i32* %height146, align 4, !tbaa !3
  %div147 = sdiv i32 %38, 16
  %39 = trunc i64 %indvars.iv.next309 to i32
  %cmp148 = icmp slt i32 %39, %div147
  br i1 %cmp148, label %for.cond151.preheader, label %if.end190

if.end190:                                        ; preds = %if.then144, %for.inc187, %if.end141
  call void @llvm.lifetime.end(i64 48, i8* %0) #4
  ret i32 %cond
}
