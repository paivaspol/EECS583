define void @flush_dpb() #1 {
entry:
  %0 = load i32* getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 4), align 4, !tbaa !3
  %cmp8 = icmp eq i32 %0, 0
  br i1 %cmp8, label %while.cond, label %for.body

for.body:                                         ; preds = %entry, %for.body
  %i.09 = phi i32 [ %inc, %for.body ], [ 0, %entry ]
  %idxprom = zext i32 %i.09 to i64
  %1 = load %struct.frame_store*** getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 0), align 8, !tbaa !0
  %arrayidx = getelementptr inbounds %struct.frame_store** %1, i64 %idxprom
  %2 = load %struct.frame_store** %arrayidx, align 8, !tbaa !0
  tail call fastcc void @unmark_for_reference(%struct.frame_store* %2) #7
  %inc = add i32 %i.09, 1
  %3 = load i32* getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 4), align 4, !tbaa !3
  %cmp = icmp ult i32 %inc, %3
  br i1 %cmp, label %for.body, label %while.cond

while.cond:                                       ; preds = %entry, %for.body, %while.cond
  %call = tail call fastcc i32 @remove_unused_frame_from_dpb() #7
  %tobool = icmp eq i32 %call, 0
  br i1 %tobool, label %while.cond1.preheader, label %while.cond

while.cond1.preheader:                            ; preds = %while.cond
  %4 = load i32* getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 4), align 4, !tbaa !3
  %tobool27 = icmp eq i32 %4, 0
  br i1 %tobool27, label %while.end4, label %while.body3

while.body3:                                      ; preds = %while.cond1.preheader, %while.body3
  tail call fastcc void @output_one_frame_from_dpb() #7
  %5 = load i32* getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 4), align 4, !tbaa !3
  %tobool2 = icmp eq i32 %5, 0
  br i1 %tobool2, label %while.end4, label %while.body3

while.end4:                                       ; preds = %while.body3, %while.cond1.preheader
  store i32 -2147483648, i32* getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 7), align 8, !tbaa !3
  ret void
}
