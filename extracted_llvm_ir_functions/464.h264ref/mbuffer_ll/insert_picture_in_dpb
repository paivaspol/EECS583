define internal fastcc void @insert_picture_in_dpb(%struct.frame_store* %fs, %struct.storable_picture* %p) #1 {
entry:
  %used_for_reference = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 15
  %0 = load i32* %used_for_reference, align 4, !tbaa !3
  %tobool = icmp eq i32 %0, 0
  br i1 %tobool, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  tail call void @UnifiedOneForthPix(%struct.storable_picture* %p) #6
  br label %if.end

if.end:                                           ; preds = %entry, %if.then
  %structure = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 0
  %1 = load i32* %structure, align 4, !tbaa !1
  switch i32 %1, label %sw.epilog [
    i32 0, label %sw.bb
    i32 1, label %sw.bb9
    i32 2, label %sw.bb30
  ]

sw.bb:                                            ; preds = %if.end
  %frame = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 10
  store %struct.storable_picture* %p, %struct.storable_picture** %frame, align 8, !tbaa !0
  %is_used = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 0
  store i32 3, i32* %is_used, align 4, !tbaa !3
  %2 = load i32* %used_for_reference, align 4, !tbaa !3
  %tobool2 = icmp eq i32 %2, 0
  br i1 %tobool2, label %if.end8, label %if.then3

if.then3:                                         ; preds = %sw.bb
  %is_reference = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 1
  store i32 3, i32* %is_reference, align 4, !tbaa !3
  %is_orig_reference = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 3
  store i32 3, i32* %is_orig_reference, align 4, !tbaa !3
  %is_long_term = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 14
  %3 = load i32* %is_long_term, align 4, !tbaa !3
  %tobool4 = icmp eq i32 %3, 0
  br i1 %tobool4, label %if.end8, label %if.then5

if.then5:                                         ; preds = %if.then3
  %is_long_term6 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 2
  store i32 3, i32* %is_long_term6, align 4, !tbaa !3
  br label %if.end8

if.end8:                                          ; preds = %if.then3, %sw.bb, %if.then5
  tail call void @dpb_split_field(%struct.frame_store* %fs) #7
  br label %sw.epilog

sw.bb9:                                           ; preds = %if.end
  %top_field = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 11
  store %struct.storable_picture* %p, %struct.storable_picture** %top_field, align 8, !tbaa !0
  %is_used10 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 0
  %4 = load i32* %is_used10, align 4, !tbaa !3
  %or = or i32 %4, 1
  store i32 %or, i32* %is_used10, align 4, !tbaa !3
  %5 = load i32* %used_for_reference, align 4, !tbaa !3
  %tobool12 = icmp eq i32 %5, 0
  br i1 %tobool12, label %if.end25, label %if.then13

if.then13:                                        ; preds = %sw.bb9
  %is_reference14 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 1
  %6 = load i32* %is_reference14, align 4, !tbaa !3
  %or15 = or i32 %6, 1
  store i32 %or15, i32* %is_reference14, align 4, !tbaa !3
  %is_orig_reference16 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 3
  %7 = load i32* %is_orig_reference16, align 4, !tbaa !3
  %or17 = or i32 %7, 1
  store i32 %or17, i32* %is_orig_reference16, align 4, !tbaa !3
  %is_long_term18 = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 14
  %8 = load i32* %is_long_term18, align 4, !tbaa !3
  %tobool19 = icmp eq i32 %8, 0
  br i1 %tobool19, label %if.end25, label %if.then20

if.then20:                                        ; preds = %if.then13
  %is_long_term21 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 2
  %9 = load i32* %is_long_term21, align 4, !tbaa !3
  %or22 = or i32 %9, 1
  store i32 %or22, i32* %is_long_term21, align 4, !tbaa !3
  %long_term_frame_idx = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 13
  %10 = load i32* %long_term_frame_idx, align 4, !tbaa !3
  %long_term_frame_idx23 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 7
  store i32 %10, i32* %long_term_frame_idx23, align 4, !tbaa !3
  br label %if.end25

if.end25:                                         ; preds = %if.then13, %if.then20, %sw.bb9
  %cmp = icmp eq i32 %or, 3
  br i1 %cmp, label %if.then27, label %if.else

if.then27:                                        ; preds = %if.end25
  tail call void @dpb_combine_field(%struct.frame_store* %fs) #7
  br label %sw.epilog

if.else:                                          ; preds = %if.end25
  %poc = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 1
  %11 = load i32* %poc, align 4, !tbaa !3
  %poc28 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 9
  store i32 %11, i32* %poc28, align 4, !tbaa !3
  tail call void @gen_field_ref_ids(%struct.storable_picture* %p) #7
  br label %sw.epilog

sw.bb30:                                          ; preds = %if.end
  %bottom_field = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 12
  store %struct.storable_picture* %p, %struct.storable_picture** %bottom_field, align 8, !tbaa !0
  %is_used31 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 0
  %12 = load i32* %is_used31, align 4, !tbaa !3
  %or32 = or i32 %12, 2
  store i32 %or32, i32* %is_used31, align 4, !tbaa !3
  %13 = load i32* %used_for_reference, align 4, !tbaa !3
  %tobool34 = icmp eq i32 %13, 0
  br i1 %tobool34, label %if.end48, label %if.then35

if.then35:                                        ; preds = %sw.bb30
  %is_reference36 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 1
  %14 = load i32* %is_reference36, align 4, !tbaa !3
  %or37 = or i32 %14, 2
  store i32 %or37, i32* %is_reference36, align 4, !tbaa !3
  %is_orig_reference38 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 3
  %15 = load i32* %is_orig_reference38, align 4, !tbaa !3
  %or39 = or i32 %15, 2
  store i32 %or39, i32* %is_orig_reference38, align 4, !tbaa !3
  %is_long_term40 = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 14
  %16 = load i32* %is_long_term40, align 4, !tbaa !3
  %tobool41 = icmp eq i32 %16, 0
  br i1 %tobool41, label %if.end48, label %if.then42

if.then42:                                        ; preds = %if.then35
  %is_long_term43 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 2
  %17 = load i32* %is_long_term43, align 4, !tbaa !3
  %or44 = or i32 %17, 2
  store i32 %or44, i32* %is_long_term43, align 4, !tbaa !3
  %long_term_frame_idx45 = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 13
  %18 = load i32* %long_term_frame_idx45, align 4, !tbaa !3
  %long_term_frame_idx46 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 7
  store i32 %18, i32* %long_term_frame_idx46, align 4, !tbaa !3
  br label %if.end48

if.end48:                                         ; preds = %if.then35, %if.then42, %sw.bb30
  %cmp50 = icmp eq i32 %or32, 3
  br i1 %cmp50, label %if.then51, label %if.else52

if.then51:                                        ; preds = %if.end48
  tail call void @dpb_combine_field(%struct.frame_store* %fs) #7
  br label %sw.epilog

if.else52:                                        ; preds = %if.end48
  %poc53 = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 1
  %19 = load i32* %poc53, align 4, !tbaa !3
  %poc54 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 9
  store i32 %19, i32* %poc54, align 4, !tbaa !3
  tail call void @gen_field_ref_ids(%struct.storable_picture* %p) #7
  br label %sw.epilog

sw.epilog:                                        ; preds = %if.then51, %if.else52, %if.then27, %if.else, %if.end, %if.end8
  %pic_num = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 11
  %20 = load i32* %pic_num, align 4, !tbaa !3
  %frame_num = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 5
  store i32 %20, i32* %frame_num, align 4, !tbaa !3
  %is_output = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 16
  %21 = load i32* %is_output, align 4, !tbaa !3
  %is_output56 = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 8
  store i32 %21, i32* %is_output56, align 4, !tbaa !3
  ret void
}
