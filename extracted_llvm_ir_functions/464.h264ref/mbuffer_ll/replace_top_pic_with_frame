define void @replace_top_pic_with_frame(%struct.storable_picture* %p) #1 {
  tail call void @llvm.dbg.value(metadata %struct.storable_picture* %p, i64 0, metadata !240, metadata !1408), !dbg !4220
  tail call void @llvm.dbg.value(metadata %struct.frame_store* null, i64 0, metadata !241, metadata !1408), !dbg !4221
  %1 = icmp eq %struct.storable_picture* %p, null, !dbg !4222
  br i1 %1, label %2, label %3, !dbg !4222, !prof !3283

; <label>:2                                       ; preds = %0
  tail call void @__assert_rtn(i8* getelementptr inbounds ([27 x i8]* @__func__.replace_top_pic_with_frame, i64 0, i64 0), i8* getelementptr inbounds ([67 x i8]* @.str13, i64 0, i64 0), i32 2307, i8* getelementptr inbounds ([8 x i8]* @.str14, i64 0, i64 0)) #10, !dbg !4222
  unreachable, !dbg !4222

; <label>:3                                       ; preds = %0
  %4 = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 0, !dbg !4223
  %5 = load i32* %4, align 4, !dbg !4223, !tbaa !1723
  %6 = icmp eq i32 %5, 0, !dbg !4223
  br i1 %6, label %8, label %7, !dbg !4223, !prof !4224

; <label>:7                                       ; preds = %3
  tail call void @__assert_rtn(i8* getelementptr inbounds ([27 x i8]* @__func__.replace_top_pic_with_frame, i64 0, i64 0), i8* getelementptr inbounds ([67 x i8]* @.str13, i64 0, i64 0), i32 2308, i8* getelementptr inbounds ([20 x i8]* @.str16, i64 0, i64 0)) #10, !dbg !4223
  unreachable, !dbg !4223

; <label>:8                                       ; preds = %3
  %9 = load %struct.ImageParameters** @img, align 8, !dbg !4225, !tbaa !1389
  %10 = getelementptr inbounds %struct.ImageParameters* %9, i64 0, i32 113, !dbg !4226
  %11 = load i32* %10, align 4, !dbg !4226, !tbaa !3286
  %12 = icmp ne i32 %11, 0, !dbg !4227
  %13 = zext i1 %12 to i32, !dbg !4227
  %14 = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 15, !dbg !4228
  store i32 %13, i32* %14, align 4, !dbg !4229, !tbaa !1881
  br i1 %12, label %15, label %.preheader, !dbg !4230

; <label>:15                                      ; preds = %8
  tail call void @UnifiedOneForthPix(%struct.storable_picture* %p) #8, !dbg !4231
  br label %.preheader, !dbg !4234

.preheader:                                       ; preds = %15, %8
  %16 = load i32* getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 4), align 4, !dbg !4235, !tbaa !1459
  %17 = icmp eq i32 %16, 0, !dbg !4238
  br i1 %17, label %._crit_edge, label %.lr.ph, !dbg !4239

.lr.ph:                                           ; preds = %.preheader
  %18 = load %struct.frame_store*** getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 0), align 8, !dbg !4240, !tbaa !1469
  %19 = load %struct.ImageParameters** @img, align 8, !dbg !4243, !tbaa !1389
  %20 = getelementptr inbounds %struct.ImageParameters* %19, i64 0, i32 105, !dbg !4244
  %21 = load i32* %20, align 4, !dbg !4244, !tbaa !1937
  %22 = zext i32 %16 to i64, !dbg !4239
  br label %23, !dbg !4239

; <label>:23                                      ; preds = %.lr.ph, %33
  %indvars.iv = phi i64 [ 0, %.lr.ph ], [ %indvars.iv.next, %33 ]
  %24 = getelementptr inbounds %struct.frame_store** %18, i64 %indvars.iv, !dbg !4245
  %25 = load %struct.frame_store** %24, align 8, !dbg !4245, !tbaa !1389
  %26 = getelementptr inbounds %struct.frame_store* %25, i64 0, i32 5, !dbg !4246
  %27 = load i32* %26, align 4, !dbg !4246, !tbaa !1936
  %28 = icmp eq i32 %27, %21, !dbg !4247
  br i1 %28, label %29, label %33, !dbg !4248

; <label>:29                                      ; preds = %23
  %30 = getelementptr inbounds %struct.frame_store* %25, i64 0, i32 0, !dbg !4249
  %31 = load i32* %30, align 4, !dbg !4249, !tbaa !1925
  %32 = icmp eq i32 %31, 1, !dbg !4250
  br i1 %32, label %.thread, label %33, !dbg !4251

; <label>:33                                      ; preds = %23, %29
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1, !dbg !4239
  %34 = icmp ult i64 %indvars.iv.next, %22, !dbg !4238
  br i1 %34, label %23, label %._crit_edge, !dbg !4239

._crit_edge:                                      ; preds = %33, %.preheader
  tail call void @error(i8* getelementptr inbounds ([80 x i8]* @.str17, i64 0, i64 0), i32 500) #8, !dbg !4252
  br label %.thread, !dbg !4255

.thread:                                          ; preds = %29, %._crit_edge
  %fs.01 = phi %struct.frame_store* [ null, %._crit_edge ], [ %25, %29 ]
  %35 = getelementptr inbounds %struct.frame_store* %fs.01, i64 0, i32 11, !dbg !4256
  %36 = load %struct.storable_picture** %35, align 8, !dbg !4256, !tbaa !1611
  tail call void @free_storable_picture(%struct.storable_picture* %36) #9, !dbg !4257
  store %struct.storable_picture* null, %struct.storable_picture** %35, align 8, !dbg !4258, !tbaa !1611
  %37 = getelementptr inbounds %struct.frame_store* %fs.01, i64 0, i32 10, !dbg !4259
  store %struct.storable_picture* %p, %struct.storable_picture** %37, align 8, !dbg !4260, !tbaa !1601
  %38 = getelementptr inbounds %struct.frame_store* %fs.01, i64 0, i32 0, !dbg !4261
  store i32 3, i32* %38, align 4, !dbg !4262, !tbaa !1925
  %39 = load i32* %14, align 4, !dbg !4263, !tbaa !1881
  %40 = icmp eq i32 %39, 0, !dbg !4265
  br i1 %40, label %48, label %41, !dbg !4266

; <label>:41                                      ; preds = %.thread
  %42 = getelementptr inbounds %struct.frame_store* %fs.01, i64 0, i32 1, !dbg !4267
  store i32 3, i32* %42, align 4, !dbg !4269, !tbaa !1973
  %43 = getelementptr inbounds %struct.storable_picture* %p, i64 0, i32 14, !dbg !4270
  %44 = load i32* %43, align 4, !dbg !4270, !tbaa !1885
  %45 = icmp eq i32 %44, 0, !dbg !4272
  br i1 %45, label %48, label %46, !dbg !4273

; <label>:46                                      ; preds = %41
  %47 = getelementptr inbounds %struct.frame_store* %fs.01, i64 0, i32 2, !dbg !4274
  store i32 3, i32* %47, align 4, !dbg !4276, !tbaa !2134
  br label %48, !dbg !4277

; <label>:48                                      ; preds = %41, %.thread, %46
  tail call void @dpb_split_field(%struct.frame_store* %fs.01) #9, !dbg !4278
  tail call void @update_ref_list() #9, !dbg !4279
  tail call void @update_ltref_list() #9, !dbg !4280
  ret void, !dbg !4281
}
