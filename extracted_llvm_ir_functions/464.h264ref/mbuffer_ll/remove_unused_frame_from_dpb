define internal fastcc i32 @remove_unused_frame_from_dpb() #1 {
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1031, metadata !1408), !dbg !6433
  %1 = load i32* getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 4), align 4, !dbg !6434, !tbaa !1459
  %2 = icmp eq i32 %1, 0, !dbg !6437
  br i1 %2, label %.loopexit, label %.lr.ph, !dbg !6438

.lr.ph:                                           ; preds = %0
  %3 = load %struct.frame_store*** getelementptr inbounds (%struct.decoded_picture_buffer* @dpb, i64 0, i32 0), align 8, !dbg !6439, !tbaa !1469
  %4 = zext i32 %1 to i64, !dbg !6438
  br label %5, !dbg !6438

; <label>:5                                       ; preds = %.lr.ph, %16
  %indvars.iv = phi i64 [ 0, %.lr.ph ], [ %indvars.iv.next, %16 ]
  %6 = getelementptr inbounds %struct.frame_store** %3, i64 %indvars.iv, !dbg !6442
  %7 = load %struct.frame_store** %6, align 8, !dbg !6442, !tbaa !1389
  %8 = getelementptr inbounds %struct.frame_store* %7, i64 0, i32 8, !dbg !6443
  %9 = load i32* %8, align 4, !dbg !6443, !tbaa !1638
  %10 = icmp eq i32 %9, 0, !dbg !6442
  br i1 %10, label %16, label %11, !dbg !6444

; <label>:11                                      ; preds = %5
  %12 = tail call fastcc i32 @is_used_for_reference(%struct.frame_store* %7) #9, !dbg !6445
  %13 = icmp eq i32 %12, 0, !dbg !6445
  br i1 %13, label %14, label %16, !dbg !6446

; <label>:14                                      ; preds = %11
  %15 = trunc i64 %indvars.iv to i32, !dbg !6447
  tail call fastcc void @remove_frame_from_dpb(i32 %15) #9, !dbg !6447
  br label %.loopexit, !dbg !6449

; <label>:16                                      ; preds = %11, %5
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1, !dbg !6438
  %17 = icmp ult i64 %indvars.iv.next, %4, !dbg !6437
  br i1 %17, label %5, label %.loopexit, !dbg !6438

.loopexit:                                        ; preds = %16, %0, %14
  %.0 = phi i32 [ 1, %14 ], [ 0, %0 ], [ 0, %16 ]
  ret i32 %.0, !dbg !6450
}
