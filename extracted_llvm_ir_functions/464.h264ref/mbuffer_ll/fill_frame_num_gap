define void @fill_frame_num_gap(%struct.ImageParameters* nocapture %img) #2 {
entry:
  tail call void @llvm.dbg.value(metadata !{%struct.ImageParameters* %img}, i64 0, metadata !770), !dbg !2997
  tail call void @llvm.dbg.value(metadata !1616, i64 0, metadata !773), !dbg !2998
  %0 = load i32* @log2_max_frame_num_minus4, align 4, !dbg !2999, !tbaa !1366
  %add = add i32 %0, 4, !dbg !2999
  %shl = shl nuw i32 1, %add, !dbg !2999
  tail call void @llvm.dbg.value(metadata !{i32 %shl}, i64 0, metadata !775), !dbg !2999
  %nal_reference_idc = getelementptr inbounds %struct.ImageParameters* %img, i64 0, i32 113, !dbg !3000
  %1 = load i32* %nal_reference_idc, align 4, !dbg !3000, !tbaa !1366
  tail call void @llvm.dbg.value(metadata !{i32 %1}, i64 0, metadata !774), !dbg !3000
  store i32 1, i32* %nal_reference_idc, align 4, !dbg !3001, !tbaa !1366
  %pre_frame_num = getelementptr inbounds %struct.ImageParameters* %img, i64 0, i32 146, !dbg !3002
  %2 = load i32* %pre_frame_num, align 4, !dbg !3002, !tbaa !1366
  %frame_num = getelementptr inbounds %struct.ImageParameters* %img, i64 0, i32 105, !dbg !3003
  %3 = load i32* %frame_num, align 4, !dbg !3003, !tbaa !1366
  tail call void @llvm.dbg.value(metadata !{i32 %3}, i64 0, metadata !771), !dbg !3003
  %add2.pn22 = add nsw i32 %2, 1, !dbg !3002
  %UnusedShortTermFrameNum.023 = srem i32 %add2.pn22, %shl, !dbg !3002
  %cmp24 = icmp eq i32 %3, %UnusedShortTermFrameNum.023, !dbg !3004
  br i1 %cmp24, label %while.end, label %while.body.lr.ph, !dbg !3004

while.body.lr.ph:                                 ; preds = %entry
  %width = getelementptr inbounds %struct.ImageParameters* %img, i64 0, i32 13, !dbg !3005
  %height = getelementptr inbounds %struct.ImageParameters* %img, i64 0, i32 15, !dbg !3005
  %width_cr = getelementptr inbounds %struct.ImageParameters* %img, i64 0, i32 14, !dbg !3005
  %height_cr = getelementptr inbounds %struct.ImageParameters* %img, i64 0, i32 16, !dbg !3005
  %adaptive_ref_pic_buffering_flag = getelementptr inbounds %struct.ImageParameters* %img, i64 0, i32 114, !dbg !3007
  br label %while.body, !dbg !3004

while.body:                                       ; preds = %while.body.lr.ph, %while.body
  %UnusedShortTermFrameNum.025 = phi i32 [ %UnusedShortTermFrameNum.023, %while.body.lr.ph ], [ %UnusedShortTermFrameNum.0, %while.body ]
  %4 = load i32* %width, align 4, !dbg !3005, !tbaa !1366
  %5 = load i32* %height, align 4, !dbg !3005, !tbaa !1366
  %6 = load i32* %width_cr, align 4, !dbg !3005, !tbaa !1366
  %7 = load i32* %height_cr, align 4, !dbg !3005, !tbaa !1366
  %call = tail call %struct.storable_picture* @alloc_storable_picture(i32 0, i32 %4, i32 %5, i32 %6, i32 %7) #9, !dbg !3005
  tail call void @llvm.dbg.value(metadata !{%struct.storable_picture* %call}, i64 0, metadata !773), !dbg !3005
  %coded_frame = getelementptr inbounds %struct.storable_picture* %call, i64 0, i32 23, !dbg !3008
  store i32 1, i32* %coded_frame, align 4, !dbg !3008, !tbaa !1366
  %pic_num = getelementptr inbounds %struct.storable_picture* %call, i64 0, i32 11, !dbg !3009
  store i32 %UnusedShortTermFrameNum.025, i32* %pic_num, align 4, !dbg !3009, !tbaa !1366
  %non_existing = getelementptr inbounds %struct.storable_picture* %call, i64 0, i32 17, !dbg !3010
  store i32 1, i32* %non_existing, align 4, !dbg !3010, !tbaa !1366
  %is_output = getelementptr inbounds %struct.storable_picture* %call, i64 0, i32 16, !dbg !3011
  store i32 1, i32* %is_output, align 4, !dbg !3011, !tbaa !1366
  store i32 0, i32* %adaptive_ref_pic_buffering_flag, align 4, !dbg !3007, !tbaa !1366
  tail call void @store_picture_in_dpb(%struct.storable_picture* %call) #9, !dbg !3012
  tail call void @llvm.dbg.value(metadata !1616, i64 0, metadata !773), !dbg !3013
  %add2.pn = add nsw i32 %UnusedShortTermFrameNum.025, 1, !dbg !3002
  %UnusedShortTermFrameNum.0 = srem i32 %add2.pn, %shl, !dbg !3002
  %cmp = icmp eq i32 %3, %UnusedShortTermFrameNum.0, !dbg !3004
  br i1 %cmp, label %while.end, label %while.body, !dbg !3004

while.end:                                        ; preds = %while.body, %entry
  store i32 %1, i32* %nal_reference_idc, align 4, !dbg !3014, !tbaa !1366
  ret void, !dbg !3015
}
