define double @XRate(%struct.BiContextType* nocapture %ctx, i32* nocapture %model) #3 {
entry:
  tail call void @llvm.dbg.value(metadata !{%struct.BiContextType* %ctx}, i64 0, metadata !117), !dbg !909
  tail call void @llvm.dbg.value(metadata !{i32* %model}, i64 0, metadata !118), !dbg !909
  tail call void @llvm.dbg.value(metadata !910, i64 0, metadata !122), !dbg !911
  %0 = load %struct.ImageParameters** @img, align 8, !dbg !912, !tbaa !708
  %qp1 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 10, !dbg !912
  %1 = load i32* %qp1, align 4, !dbg !912, !tbaa !711
  %cmp = icmp slt i32 %1, 0, !dbg !912
  %. = select i1 %cmp, i32 0, i32 %1, !dbg !912
  tail call void @llvm.dbg.value(metadata !{i32 %.}, i64 0, metadata !123), !dbg !912
  %count = getelementptr inbounds %struct.BiContextType* %ctx, i64 0, i32 2, !dbg !913
  %2 = load i64* %count, align 8, !dbg !913, !tbaa !914
  %conv = uitofp i64 %2 to double, !dbg !913
  %div = fmul double %conv, 3.125000e-02, !dbg !913
  %cmp3 = fcmp ogt double %div, 1.000000e+00, !dbg !913
  %cond11 = select i1 %cmp3, double 1.000000e+00, double %div, !dbg !913
  tail call void @llvm.dbg.value(metadata !{double %cond11}, i64 0, metadata !121), !dbg !913
  %3 = load i32* %model, align 4, !dbg !915, !tbaa !711
  %mul = mul nsw i32 %3, %., !dbg !915
  %shr = ashr i32 %mul, 4, !dbg !915
  %arrayidx12 = getelementptr inbounds i32* %model, i64 1, !dbg !915
  %4 = load i32* %arrayidx12, align 4, !dbg !915, !tbaa !711
  %add = add nsw i32 %shr, %4, !dbg !915
  tail call void @llvm.dbg.value(metadata !{i32 %add}, i64 0, metadata !120), !dbg !915
  %cmp13 = icmp slt i32 %add, 0, !dbg !916
  %cond18 = select i1 %cmp13, i32 0, i32 %add, !dbg !916
  %cmp19 = icmp slt i32 %cond18, 127, !dbg !916
  %cond18. = select i1 %cmp19, i32 %cond18, i32 127, !dbg !916
  tail call void @llvm.dbg.value(metadata !{i32 %cond18.}, i64 0, metadata !120), !dbg !916
  %MPS = getelementptr inbounds %struct.BiContextType* %ctx, i64 0, i32 1, !dbg !917
  %5 = load i8* %MPS, align 1, !dbg !917, !tbaa !709
  %tobool = icmp ne i8 %5, 0, !dbg !917
  %state = getelementptr inbounds %struct.BiContextType* %ctx, i64 0, i32 0, !dbg !917
  %6 = load i16* %state, align 2, !dbg !917, !tbaa !918
  %conv33 = zext i16 %6 to i32, !dbg !917
  %add34 = add nsw i32 %conv33, 64, !dbg !917
  %sub = sub nsw i32 63, %conv33, !dbg !917
  %cond39 = select i1 %tobool, i32 %add34, i32 %sub, !dbg !917
  tail call void @llvm.dbg.value(metadata !{i32 %cond39}, i64 0, metadata !119), !dbg !917
  %idxprom = sext i32 %cond39 to i64, !dbg !919
  %arrayidx40 = getelementptr inbounds [128 x double]* @probability, i64 0, i64 %idxprom, !dbg !919
  %7 = load double* %arrayidx40, align 8, !dbg !919, !tbaa !757
  %mul41 = fmul double %cond11, %7, !dbg !919
  %idxprom42 = sext i32 %cond18. to i64, !dbg !919
  %arrayidx43 = getelementptr inbounds [128 x double]* @entropy, i64 0, i64 %idxprom42, !dbg !919
  %8 = load double* %arrayidx43, align 8, !dbg !919, !tbaa !757
  %mul44 = fmul double %mul41, %8, !dbg !919
  %sub45 = fsub double 0.000000e+00, %mul44, !dbg !919
  tail call void @llvm.dbg.value(metadata !{double %sub45}, i64 0, metadata !122), !dbg !919
  %sub46 = sub nsw i32 127, %cond39, !dbg !920
  %idxprom47 = sext i32 %sub46 to i64, !dbg !920
  %arrayidx48 = getelementptr inbounds [128 x double]* @probability, i64 0, i64 %idxprom47, !dbg !920
  %9 = load double* %arrayidx48, align 8, !dbg !920, !tbaa !757
  %mul49 = fmul double %cond11, %9, !dbg !920
  %sub50 = sub nsw i32 127, %cond18., !dbg !920
  %idxprom51 = sext i32 %sub50 to i64, !dbg !920
  %arrayidx52 = getelementptr inbounds [128 x double]* @entropy, i64 0, i64 %idxprom51, !dbg !920
  %10 = load double* %arrayidx52, align 8, !dbg !920, !tbaa !757
  %mul53 = fmul double %mul49, %10, !dbg !920
  %sub54 = fsub double %sub45, %mul53, !dbg !920
  tail call void @llvm.dbg.value(metadata !{double %sub54}, i64 0, metadata !122), !dbg !920
  ret double %sub54, !dbg !921
}
