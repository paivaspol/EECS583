define double @XRate(%struct.BiContextType* nocapture %ctx, i32* nocapture %model) #3 {
entry:
  %0 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %qp1 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 10
  %1 = load i32* %qp1, align 4, !tbaa !3
  %cmp = icmp slt i32 %1, 0
  %. = select i1 %cmp, i32 0, i32 %1
  %count = getelementptr inbounds %struct.BiContextType* %ctx, i64 0, i32 2
  %2 = load i64* %count, align 8, !tbaa !5
  %conv = uitofp i64 %2 to double
  %div = fmul double %conv, 3.125000e-02
  %cmp3 = fcmp ogt double %div, 1.000000e+00
  %cond11 = select i1 %cmp3, double 1.000000e+00, double %div
  %3 = load i32* %model, align 4, !tbaa !3
  %mul = mul nsw i32 %3, %.
  %shr = ashr i32 %mul, 4
  %arrayidx12 = getelementptr inbounds i32* %model, i64 1
  %4 = load i32* %arrayidx12, align 4, !tbaa !3
  %add = add nsw i32 %shr, %4
  %cmp13 = icmp slt i32 %add, 0
  %cond18 = select i1 %cmp13, i32 0, i32 %add
  %cmp19 = icmp slt i32 %cond18, 127
  %cond18. = select i1 %cmp19, i32 %cond18, i32 127
  %MPS = getelementptr inbounds %struct.BiContextType* %ctx, i64 0, i32 1
  %5 = load i8* %MPS, align 1, !tbaa !1
  %tobool = icmp ne i8 %5, 0
  %state = getelementptr inbounds %struct.BiContextType* %ctx, i64 0, i32 0
  %6 = load i16* %state, align 2, !tbaa !6
  %conv33 = zext i16 %6 to i32
  %add34 = add nsw i32 %conv33, 64
  %sub = sub nsw i32 63, %conv33
  %cond39 = select i1 %tobool, i32 %add34, i32 %sub
  %idxprom = sext i32 %cond39 to i64
  %arrayidx40 = getelementptr inbounds [128 x double]* @probability, i64 0, i64 %idxprom
  %7 = load double* %arrayidx40, align 8, !tbaa !4
  %mul41 = fmul double %cond11, %7
  %idxprom42 = sext i32 %cond18. to i64
  %arrayidx43 = getelementptr inbounds [128 x double]* @entropy, i64 0, i64 %idxprom42
  %8 = load double* %arrayidx43, align 8, !tbaa !4
  %mul44 = fmul double %mul41, %8
  %sub45 = fsub double 0.000000e+00, %mul44
  %sub46 = sub nsw i32 127, %cond39
  %idxprom47 = sext i32 %sub46 to i64
  %arrayidx48 = getelementptr inbounds [128 x double]* @probability, i64 0, i64 %idxprom47
  %9 = load double* %arrayidx48, align 8, !tbaa !4
  %mul49 = fmul double %cond11, %9
  %sub50 = sub nsw i32 127, %cond18.
  %idxprom51 = sext i32 %sub50 to i64
  %arrayidx52 = getelementptr inbounds [128 x double]* @entropy, i64 0, i64 %idxprom51
  %10 = load double* %arrayidx52, align 8, !tbaa !4
  %mul53 = fmul double %mul49, %10
  %sub54 = fsub double %sub45, %mul53
  ret double %sub54
}
