define void @write_stored_frame(%struct.frame_store* %fs, i32 %p_out) #1 {
entry:
  tail call void @flush_direct_output(i32 %p_out) #5
  %is_used = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 0
  %0 = load i32* %is_used, align 4, !tbaa !3
  %cmp = icmp slt i32 %0, 3
  br i1 %cmp, label %if.then, label %if.else

if.then:                                          ; preds = %entry
  tail call void @write_unpaired_field(%struct.frame_store* %fs, i32 %p_out) #5
  br label %if.end

if.else:                                          ; preds = %entry
  %frame = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 10
  %1 = load %struct.storable_picture** %frame, align 8, !tbaa !0
  tail call void @write_out_picture(%struct.storable_picture* %1, i32 %p_out) #6
  br label %if.end

if.end:                                           ; preds = %if.else, %if.then
  %is_output = getelementptr inbounds %struct.frame_store* %fs, i64 0, i32 8
  store i32 1, i32* %is_output, align 4, !tbaa !3
  ret void
}
