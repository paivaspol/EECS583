define i32 @LumaResidualCoding8x8(i32* nocapture %cbp, i64* nocapture %cbp_blk, i32 %block8x8, i16 signext %p_dir, i32 %fw_mode, i32 %bw_mode, i16 signext %fw_refframe, i16 signext %bw_refframe) #0 {
entry:
  %coeff_cost = alloca i32, align 4
  store i32 0, i32* %coeff_cost, align 4, !tbaa !3
  %div = sdiv i32 %block8x8, 2
  %shl = shl i32 %div, 3
  %rem = srem i32 %block8x8, 2
  %shl1 = shl i32 %rem, 3
  %shl2 = shl i32 1, %block8x8
  %0 = or i32 %bw_mode, %fw_mode
  %1 = icmp eq i32 %0, 0
  %2 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br i1 %1, label %land.rhs, label %land.end

land.rhs:                                         ; preds = %entry
  %type = getelementptr inbounds %struct.ImageParameters* %2, i64 0, i32 6
  %3 = load i32* %type, align 4, !tbaa !3
  %cmp4 = icmp ne i32 %3, 1
  br label %land.end

land.end:                                         ; preds = %entry, %land.rhs
  %4 = phi i1 [ %cmp4, %land.rhs ], [ false, %entry ]
  %current_mb_nr = getelementptr inbounds %struct.ImageParameters* %2, i64 0, i32 3
  %5 = load i32* %current_mb_nr, align 4, !tbaa !3
  %idxprom = sext i32 %5 to i64
  %mb_data = getelementptr inbounds %struct.ImageParameters* %2, i64 0, i32 51
  %6 = load %struct.macroblock** %mb_data, align 8, !tbaa !0
  %luma_transform_size_8x8_flag = getelementptr inbounds %struct.macroblock* %6, i64 %idxprom, i32 32
  %7 = load i32* %luma_transform_size_8x8_flag, align 4, !tbaa !3
  %add = add nsw i32 %shl, 8
  %conv70 = sext i16 %p_dir to i32
  %tobool106 = icmp eq i32 %7, 0
  %8 = shl i32 %rem, 3
  %9 = sext i32 %8 to i64
  %10 = shl i32 %div, 3
  %11 = sext i32 %10 to i64
  br label %for.body

for.body:                                         ; preds = %for.inc375.for.body_crit_edge, %land.end
  %12 = phi %struct.ImageParameters* [ %2, %land.end ], [ %.pre859, %for.inc375.for.body_crit_edge ]
  %indvars.iv855 = phi i64 [ 0, %land.end ], [ %indvars.iv.next856, %for.inc375.for.body_crit_edge ]
  %indvars.iv853 = phi i64 [ %11, %land.end ], [ %indvars.iv.next854, %for.inc375.for.body_crit_edge ]
  %nonzero.0757 = phi i32 [ 0, %land.end ], [ %nonzero.4, %for.inc375.for.body_crit_edge ]
  %opix_y = getelementptr inbounds %struct.ImageParameters* %12, i64 0, i32 38
  %13 = load i32* %opix_y, align 4, !tbaa !3
  %14 = trunc i64 %indvars.iv853 to i32
  %add8 = add nsw i32 %13, %14
  %15 = sext i32 %add8 to i64
  br label %for.body12

for.body12:                                       ; preds = %for.inc371.for.body12_crit_edge, %for.body
  %16 = phi %struct.ImageParameters* [ %12, %for.body ], [ %.pre860, %for.inc371.for.body12_crit_edge ]
  %indvars.iv851 = phi i64 [ 0, %for.body ], [ %indvars.iv.next852, %for.inc371.for.body12_crit_edge ]
  %indvars.iv849 = phi i64 [ %9, %for.body ], [ %indvars.iv.next850, %for.inc371.for.body12_crit_edge ]
  %nonzero.1753 = phi i32 [ %nonzero.0757, %for.body ], [ %nonzero.4, %for.inc371.for.body12_crit_edge ]
  %opix_x = getelementptr inbounds %struct.ImageParameters* %16, i64 0, i32 37
  %17 = load i32* %opix_x, align 4, !tbaa !3
  %18 = trunc i64 %indvars.iv849 to i32
  %add13 = add nsw i32 %17, %18
  %shr = ashr exact i32 %18, 2
  %add14 = add nsw i32 %shr, %14
  %residue_transform_flag = getelementptr inbounds %struct.ImageParameters* %16, i64 0, i32 164
  %19 = load i32* %residue_transform_flag, align 4, !tbaa !3
  %tobool = icmp eq i32 %19, 0
  br i1 %tobool, label %if.end69, label %if.then15

if.then15:                                        ; preds = %for.body12
  call void @ChromaPrediction4x4(i32 0, i32 %18, i32 %14, i32 %conv70, i32 %fw_mode, i32 %bw_mode, i16 signext %fw_refframe, i16 signext %bw_refframe) #8
  %20 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %for.cond20.preheader

for.cond20.preheader:                             ; preds = %for.inc37, %if.then15
  %indvars.iv774 = phi i64 [ 0, %if.then15 ], [ %indvars.iv.next775, %for.inc37 ]
  %21 = add nsw i64 %indvars.iv774, %indvars.iv853
  br label %for.body23

for.body23:                                       ; preds = %for.body23, %for.cond20.preheader
  %indvars.iv769 = phi i64 [ 0, %for.cond20.preheader ], [ %indvars.iv.next770, %for.body23 ]
  %22 = add nsw i64 %indvars.iv769, %indvars.iv849
  %arrayidx29 = getelementptr inbounds %struct.ImageParameters* %20, i64 0, i32 45, i64 %22, i64 %21
  %23 = load i16* %arrayidx29, align 2, !tbaa !4
  %conv30 = zext i16 %23 to i32
  %arrayidx36 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 1, i64 %22, i64 %21
  store i32 %conv30, i32* %arrayidx36, align 4, !tbaa !3
  %indvars.iv.next770 = add i64 %indvars.iv769, 1
  %lftr.wideiv772 = trunc i64 %indvars.iv.next770 to i32
  %exitcond773 = icmp eq i32 %lftr.wideiv772, 4
  br i1 %exitcond773, label %for.inc37, label %for.body23

for.inc37:                                        ; preds = %for.body23
  %indvars.iv.next775 = add i64 %indvars.iv774, 1
  %lftr.wideiv777 = trunc i64 %indvars.iv.next775 to i32
  %exitcond778 = icmp eq i32 %lftr.wideiv777, 4
  br i1 %exitcond778, label %for.end39, label %for.cond20.preheader

for.end39:                                        ; preds = %for.inc37
  call void @ChromaPrediction4x4(i32 1, i32 %18, i32 %14, i32 %conv70, i32 %fw_mode, i32 %bw_mode, i16 signext %fw_refframe, i16 signext %bw_refframe) #8
  %24 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %for.cond45.preheader

for.cond45.preheader:                             ; preds = %for.inc66, %for.end39
  %indvars.iv784 = phi i64 [ 0, %for.end39 ], [ %indvars.iv.next785, %for.inc66 ]
  %25 = add nsw i64 %indvars.iv784, %indvars.iv853
  br label %for.body48

for.body48:                                       ; preds = %for.body48, %for.cond45.preheader
  %indvars.iv779 = phi i64 [ 0, %for.cond45.preheader ], [ %indvars.iv.next780, %for.body48 ]
  %26 = add nsw i64 %indvars.iv779, %indvars.iv849
  %arrayidx55 = getelementptr inbounds %struct.ImageParameters* %24, i64 0, i32 45, i64 %26, i64 %25
  %27 = load i16* %arrayidx55, align 2, !tbaa !4
  %conv56 = zext i16 %27 to i32
  %arrayidx62 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 2, i64 %26, i64 %25
  store i32 %conv56, i32* %arrayidx62, align 4, !tbaa !3
  %indvars.iv.next780 = add i64 %indvars.iv779, 1
  %lftr.wideiv782 = trunc i64 %indvars.iv.next780 to i32
  %exitcond783 = icmp eq i32 %lftr.wideiv782, 4
  br i1 %exitcond783, label %for.inc66, label %for.body48

for.inc66:                                        ; preds = %for.body48
  %indvars.iv.next785 = add i64 %indvars.iv784, 1
  %lftr.wideiv787 = trunc i64 %indvars.iv.next785 to i32
  %exitcond788 = icmp eq i32 %lftr.wideiv787, 4
  br i1 %exitcond788, label %if.end69, label %for.cond45.preheader

if.end69:                                         ; preds = %for.inc66, %for.body12
  call void @LumaPrediction4x4(i32 %18, i32 %14, i32 %conv70, i32 %fw_mode, i32 %bw_mode, i16 signext %fw_refframe, i16 signext %bw_refframe) #8
  %28 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %residue_transform_flag71 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 164
  %29 = load i32* %residue_transform_flag71, align 4, !tbaa !3
  %tobool72 = icmp eq i32 %29, 0
  br i1 %tobool72, label %if.then105, label %for.cond78.preheader

for.cond78.preheader:                             ; preds = %if.end69, %for.inc99
  %indvars.iv794 = phi i64 [ %indvars.iv.next795, %for.inc99 ], [ 0, %if.end69 ]
  %30 = add nsw i64 %indvars.iv794, %indvars.iv853
  br label %for.body81

for.body81:                                       ; preds = %for.body81, %for.cond78.preheader
  %indvars.iv789 = phi i64 [ 0, %for.cond78.preheader ], [ %indvars.iv.next790, %for.body81 ]
  %31 = add nsw i64 %indvars.iv789, %indvars.iv849
  %arrayidx88 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 45, i64 %31, i64 %30
  %32 = load i16* %arrayidx88, align 2, !tbaa !4
  %conv89 = zext i16 %32 to i32
  %arrayidx95 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 0, i64 %31, i64 %30
  store i32 %conv89, i32* %arrayidx95, align 4, !tbaa !3
  %indvars.iv.next790 = add i64 %indvars.iv789, 1
  %lftr.wideiv792 = trunc i64 %indvars.iv.next790 to i32
  %exitcond793 = icmp eq i32 %lftr.wideiv792, 4
  br i1 %exitcond793, label %for.inc99, label %for.body81

for.inc99:                                        ; preds = %for.body81
  %indvars.iv.next795 = add i64 %indvars.iv794, 1
  %lftr.wideiv797 = trunc i64 %indvars.iv.next795 to i32
  %exitcond798 = icmp eq i32 %lftr.wideiv797, 4
  br i1 %exitcond798, label %if.end102, label %for.cond78.preheader

if.end102:                                        ; preds = %for.inc99
  %.pre = load i32* %residue_transform_flag71, align 4, !tbaa !3
  %phitmp = icmp eq i32 %.pre, 0
  br i1 %phitmp, label %if.then105, label %for.cond199.preheader

for.cond199.preheader:                            ; preds = %if.end102
  %33 = load i16**** @imgUV_org, align 8, !tbaa !0
  %34 = load i16*** %33, align 8, !tbaa !0
  %35 = load i16*** @imgY_org, align 8, !tbaa !0
  %arrayidx240 = getelementptr inbounds i16*** %33, i64 1
  %36 = load i16*** %arrayidx240, align 8, !tbaa !0
  %37 = sext i32 %add13 to i64
  br label %for.cond203.preheader

if.then105:                                       ; preds = %if.end69, %if.end102
  %38 = load i16*** @imgY_org, align 8, !tbaa !0
  %39 = sext i32 %add13 to i64
  br i1 %tobool106, label %for.cond112.preheader, label %for.cond164.preheader

for.cond112.preheader:                            ; preds = %if.then105, %for.inc138
  %indvars.iv843 = phi i64 [ %indvars.iv.next844, %for.inc138 ], [ 0, %if.then105 ]
  %40 = add nsw i64 %indvars.iv843, %15
  %arrayidx120 = getelementptr inbounds i16** %38, i64 %40
  %41 = load i16** %arrayidx120, align 8, !tbaa !0
  %42 = add nsw i64 %indvars.iv843, %indvars.iv853
  br label %for.body115

for.body115:                                      ; preds = %for.body115, %for.cond112.preheader
  %indvars.iv837 = phi i64 [ 0, %for.cond112.preheader ], [ %indvars.iv.next838, %for.body115 ]
  %43 = add nsw i64 %indvars.iv837, %39
  %arrayidx121 = getelementptr inbounds i16* %41, i64 %43
  %44 = load i16* %arrayidx121, align 2, !tbaa !4
  %conv122 = zext i16 %44 to i32
  %45 = add nsw i64 %indvars.iv837, %indvars.iv849
  %arrayidx129 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 45, i64 %45, i64 %42
  %46 = load i16* %arrayidx129, align 2, !tbaa !4
  %conv130 = zext i16 %46 to i32
  %sub = sub nsw i32 %conv122, %conv130
  %arrayidx134 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 46, i64 %indvars.iv837, i64 %indvars.iv843
  store i32 %sub, i32* %arrayidx134, align 4, !tbaa !3
  %indvars.iv.next838 = add i64 %indvars.iv837, 1
  %lftr.wideiv841 = trunc i64 %indvars.iv.next838 to i32
  %exitcond842 = icmp eq i32 %lftr.wideiv841, 4
  br i1 %exitcond842, label %for.inc138, label %for.body115

for.inc138:                                       ; preds = %for.body115
  %indvars.iv.next844 = add i64 %indvars.iv843, 1
  %lftr.wideiv847 = trunc i64 %indvars.iv.next844 to i32
  %exitcond848 = icmp eq i32 %lftr.wideiv847, 4
  br i1 %exitcond848, label %for.end140, label %for.cond112.preheader

for.end140:                                       ; preds = %for.inc138
  %NoResidueDirect = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 88
  %47 = load i32* %NoResidueDirect, align 4, !tbaa !3
  %cmp141 = icmp eq i32 %47, 1
  %brmerge = or i1 %cmp141, %4
  br i1 %brmerge, label %for.inc371, label %if.then145

if.then145:                                       ; preds = %for.end140
  %type146 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 6
  %48 = load i32* %type146, align 4, !tbaa !3
  %cmp147 = icmp eq i32 %48, 3
  br i1 %cmp147, label %if.else, label %if.then149

if.then149:                                       ; preds = %if.then145
  %call = call i32 @dct_luma(i32 %18, i32 %14, i32* %coeff_cost, i32 0) #7
  br label %if.end151

if.else:                                          ; preds = %if.then145
  %call150 = call i32 @dct_luma_sp(i32 %18, i32 %14, i32* %coeff_cost) #7
  br label %if.end151

if.end151:                                        ; preds = %if.else, %if.then149
  %nonzero.2 = phi i32 [ %call, %if.then149 ], [ %call150, %if.else ]
  %tobool152 = icmp eq i32 %nonzero.2, 0
  br i1 %tobool152, label %for.inc371, label %if.then153

if.then153:                                       ; preds = %if.end151
  %shl154 = shl i32 1, %add14
  %conv155 = sext i32 %shl154 to i64
  %49 = load i64* %cbp_blk, align 8, !tbaa !5
  %or = or i64 %49, %conv155
  store i64 %or, i64* %cbp_blk, align 8, !tbaa !5
  %50 = load i32* %cbp, align 4, !tbaa !3
  %or156 = or i32 %50, %shl2
  store i32 %or156, i32* %cbp, align 4, !tbaa !3
  br label %for.inc371

for.cond164.preheader:                            ; preds = %if.then105, %for.inc194
  %indvars.iv830 = phi i64 [ %indvars.iv.next831, %for.inc194 ], [ 0, %if.then105 ]
  %51 = add nsw i64 %indvars.iv830, %15
  %arrayidx172 = getelementptr inbounds i16** %38, i64 %51
  %52 = load i16** %arrayidx172, align 8, !tbaa !0
  %53 = add nsw i64 %indvars.iv830, %indvars.iv853
  %54 = add nsw i64 %indvars.iv830, %indvars.iv855
  br label %for.body167

for.body167:                                      ; preds = %for.body167, %for.cond164.preheader
  %indvars.iv823 = phi i64 [ 0, %for.cond164.preheader ], [ %indvars.iv.next824, %for.body167 ]
  %55 = add nsw i64 %indvars.iv823, %39
  %arrayidx173 = getelementptr inbounds i16* %52, i64 %55
  %56 = load i16* %arrayidx173, align 2, !tbaa !4
  %conv174 = zext i16 %56 to i32
  %57 = add nsw i64 %indvars.iv823, %indvars.iv849
  %arrayidx181 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 45, i64 %57, i64 %53
  %58 = load i16* %arrayidx181, align 2, !tbaa !4
  %conv182 = zext i16 %58 to i32
  %sub183 = sub nsw i32 %conv174, %conv182
  %59 = add nsw i64 %indvars.iv823, %indvars.iv851
  %arrayidx190 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 46, i64 %59, i64 %54
  store i32 %sub183, i32* %arrayidx190, align 4, !tbaa !3
  %indvars.iv.next824 = add i64 %indvars.iv823, 1
  %lftr.wideiv828 = trunc i64 %indvars.iv.next824 to i32
  %exitcond829 = icmp eq i32 %lftr.wideiv828, 4
  br i1 %exitcond829, label %for.inc194, label %for.body167

for.inc194:                                       ; preds = %for.body167
  %indvars.iv.next831 = add i64 %indvars.iv830, 1
  %lftr.wideiv835 = trunc i64 %indvars.iv.next831 to i32
  %exitcond836 = icmp eq i32 %lftr.wideiv835, 4
  br i1 %exitcond836, label %for.inc371, label %for.cond164.preheader

for.cond203.preheader:                            ; preds = %for.inc318, %for.cond199.preheader
  %indvars.iv806 = phi i64 [ 0, %for.cond199.preheader ], [ %indvars.iv.next807, %for.inc318 ]
  %60 = add nsw i64 %indvars.iv806, %15
  %arrayidx212 = getelementptr inbounds i16** %34, i64 %60
  %61 = load i16** %arrayidx212, align 8, !tbaa !0
  %62 = add nsw i64 %indvars.iv806, %indvars.iv853
  %arrayidx226 = getelementptr inbounds i16** %35, i64 %60
  %63 = load i16** %arrayidx226, align 8, !tbaa !0
  %arrayidx241 = getelementptr inbounds i16** %36, i64 %60
  %64 = load i16** %arrayidx241, align 8, !tbaa !0
  %65 = add nsw i64 %indvars.iv806, %indvars.iv855
  br label %for.body206

for.body206:                                      ; preds = %for.inc315, %for.cond203.preheader
  %indvars.iv799 = phi i64 [ 0, %for.cond203.preheader ], [ %indvars.iv.next800, %for.inc315 ]
  %66 = add nsw i64 %indvars.iv799, %37
  %arrayidx213 = getelementptr inbounds i16* %61, i64 %66
  %67 = load i16* %arrayidx213, align 2, !tbaa !4
  %conv214 = zext i16 %67 to i32
  %68 = add nsw i64 %indvars.iv799, %indvars.iv849
  %arrayidx220 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 1, i64 %68, i64 %62
  %69 = load i32* %arrayidx220, align 4, !tbaa !3
  %sub221 = sub nsw i32 %conv214, %69
  %arrayidx227 = getelementptr inbounds i16* %63, i64 %66
  %70 = load i16* %arrayidx227, align 2, !tbaa !4
  %conv228 = zext i16 %70 to i32
  %arrayidx234 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 0, i64 %68, i64 %62
  %71 = load i32* %arrayidx234, align 4, !tbaa !3
  %sub235 = sub nsw i32 %conv228, %71
  %arrayidx242 = getelementptr inbounds i16* %64, i64 %66
  %72 = load i16* %arrayidx242, align 2, !tbaa !4
  %conv243 = zext i16 %72 to i32
  %arrayidx249 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 2, i64 %68, i64 %62
  %73 = load i32* %arrayidx249, align 4, !tbaa !3
  %sub250 = sub nsw i32 %conv243, %73
  %sub251 = sub i32 %sub250, %sub221
  %arrayidx257 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R, i64 0, i64 %68, i64 %62
  store i32 %sub251, i32* %arrayidx257, align 4, !tbaa !3
  %shr264 = ashr i32 %sub251, 1
  %add265 = add nsw i32 %shr264, %sub221
  %sub266 = sub i32 %sub235, %add265
  %arrayidx272 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B, i64 0, i64 %68, i64 %62
  store i32 %sub266, i32* %arrayidx272, align 4, !tbaa !3
  %shr279 = ashr i32 %sub266, 1
  %add280 = add nsw i32 %shr279, %add265
  %arrayidx286 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_G, i64 0, i64 %68, i64 %62
  store i32 %add280, i32* %arrayidx286, align 4, !tbaa !3
  br i1 %tobool106, label %if.then288, label %if.else300

if.then288:                                       ; preds = %for.body206
  %arrayidx299 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 46, i64 %indvars.iv799, i64 %indvars.iv806
  store i32 %add280, i32* %arrayidx299, align 4, !tbaa !3
  br label %for.inc315

if.else300:                                       ; preds = %for.body206
  %74 = add nsw i64 %indvars.iv799, %indvars.iv851
  %arrayidx313 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 46, i64 %74, i64 %65
  store i32 %add280, i32* %arrayidx313, align 4, !tbaa !3
  br label %for.inc315

for.inc315:                                       ; preds = %if.then288, %if.else300
  %indvars.iv.next800 = add i64 %indvars.iv799, 1
  %lftr.wideiv804 = trunc i64 %indvars.iv.next800 to i32
  %exitcond805 = icmp eq i32 %lftr.wideiv804, 4
  br i1 %exitcond805, label %for.inc318, label %for.body206

for.inc318:                                       ; preds = %for.inc315
  %indvars.iv.next807 = add i64 %indvars.iv806, 1
  %lftr.wideiv811 = trunc i64 %indvars.iv.next807 to i32
  %exitcond812 = icmp eq i32 %lftr.wideiv811, 4
  br i1 %exitcond812, label %for.end320, label %for.cond203.preheader

for.end320:                                       ; preds = %for.inc318
  %NoResidueDirect321 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 88
  %75 = load i32* %NoResidueDirect321, align 4, !tbaa !3
  %cmp322 = icmp eq i32 %75, 1
  %brmerge727 = or i1 %cmp322, %4
  %brmerge727.not = xor i1 %brmerge727, true
  %or.cond728 = and i1 %tobool106, %brmerge727.not
  br i1 %or.cond728, label %if.then328, label %for.inc371

if.then328:                                       ; preds = %for.end320
  %type329 = getelementptr inbounds %struct.ImageParameters* %28, i64 0, i32 6
  %76 = load i32* %type329, align 4, !tbaa !3
  %cmp330 = icmp eq i32 %76, 3
  br i1 %cmp330, label %if.else334, label %if.then332

if.then332:                                       ; preds = %if.then328
  %call333 = call i32 @dct_luma(i32 %18, i32 %14, i32* %coeff_cost, i32 0) #7
  br label %if.end336

if.else334:                                       ; preds = %if.then328
  %call335 = call i32 @dct_luma_sp(i32 %18, i32 %14, i32* %coeff_cost) #7
  br label %if.end336

if.end336:                                        ; preds = %if.else334, %if.then332
  %nonzero.3 = phi i32 [ %call333, %if.then332 ], [ %call335, %if.else334 ]
  %77 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %for.cond341.preheader

for.cond341.preheader:                            ; preds = %for.inc359, %if.end336
  %indvars.iv818 = phi i64 [ 0, %if.end336 ], [ %indvars.iv.next819, %for.inc359 ]
  %78 = add nsw i64 %indvars.iv818, %indvars.iv853
  br label %for.body344

for.body344:                                      ; preds = %for.body344, %for.cond341.preheader
  %indvars.iv813 = phi i64 [ 0, %for.cond341.preheader ], [ %indvars.iv.next814, %for.body344 ]
  %arrayidx349 = getelementptr inbounds %struct.ImageParameters* %77, i64 0, i32 46, i64 %indvars.iv813, i64 %indvars.iv818
  %79 = load i32* %arrayidx349, align 4, !tbaa !3
  %80 = add nsw i64 %indvars.iv813, %indvars.iv849
  %arrayidx355 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG, i64 0, i64 %80, i64 %78
  store i32 %79, i32* %arrayidx355, align 4, !tbaa !3
  %indvars.iv.next814 = add i64 %indvars.iv813, 1
  %lftr.wideiv816 = trunc i64 %indvars.iv.next814 to i32
  %exitcond817 = icmp eq i32 %lftr.wideiv816, 4
  br i1 %exitcond817, label %for.inc359, label %for.body344

for.inc359:                                       ; preds = %for.body344
  %indvars.iv.next819 = add i64 %indvars.iv818, 1
  %lftr.wideiv821 = trunc i64 %indvars.iv.next819 to i32
  %exitcond822 = icmp eq i32 %lftr.wideiv821, 4
  br i1 %exitcond822, label %for.end361, label %for.cond341.preheader

for.end361:                                       ; preds = %for.inc359
  %tobool362 = icmp eq i32 %nonzero.3, 0
  br i1 %tobool362, label %for.inc371, label %if.then363

if.then363:                                       ; preds = %for.end361
  %shl364 = shl i32 1, %add14
  %conv365 = sext i32 %shl364 to i64
  %81 = load i64* %cbp_blk, align 8, !tbaa !5
  %or366 = or i64 %81, %conv365
  store i64 %or366, i64* %cbp_blk, align 8, !tbaa !5
  %82 = load i32* %cbp, align 4, !tbaa !3
  %or367 = or i32 %82, %shl2
  store i32 %or367, i32* %cbp, align 4, !tbaa !3
  br label %for.inc371

for.inc371:                                       ; preds = %for.inc194, %for.end320, %for.end140, %for.end361, %if.end151, %if.then153, %if.then363
  %nonzero.4 = phi i32 [ %nonzero.3, %if.then363 ], [ 0, %for.end361 ], [ %nonzero.1753, %for.end320 ], [ %nonzero.2, %if.then153 ], [ 0, %if.end151 ], [ %nonzero.1753, %for.end140 ], [ %nonzero.1753, %for.inc194 ]
  %83 = or i32 %shl1, 4
  %cmp11 = icmp slt i32 %18, %83
  br i1 %cmp11, label %for.inc371.for.body12_crit_edge, label %for.inc375

for.inc371.for.body12_crit_edge:                  ; preds = %for.inc371
  %indvars.iv.next850 = add i64 %indvars.iv849, 4
  %indvars.iv.next852 = add i64 %indvars.iv851, 4
  %.pre860 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %for.body12

for.inc375:                                       ; preds = %for.inc371
  %indvars.iv.next854 = add i64 %indvars.iv853, 4
  %84 = trunc i64 %indvars.iv.next854 to i32
  %cmp7 = icmp slt i32 %84, %add
  br i1 %cmp7, label %for.inc375.for.body_crit_edge, label %for.end378

for.inc375.for.body_crit_edge:                    ; preds = %for.inc375
  %indvars.iv.next856 = add i64 %indvars.iv855, 4
  %.pre859 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %for.body

for.end378:                                       ; preds = %for.inc375
  %.pre861 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br i1 %tobool106, label %if.end433, label %if.then380

if.then380:                                       ; preds = %for.end378
  %NoResidueDirect381 = getelementptr inbounds %struct.ImageParameters* %.pre861, i64 0, i32 88
  %85 = load i32* %NoResidueDirect381, align 4, !tbaa !3
  %cmp382 = icmp eq i32 %85, 1
  %brmerge729 = or i1 %cmp382, %4
  br i1 %brmerge729, label %if.end433, label %if.then386

if.then386:                                       ; preds = %if.then380
  %type387 = getelementptr inbounds %struct.ImageParameters* %.pre861, i64 0, i32 6
  %86 = load i32* %type387, align 4, !tbaa !3
  %cmp388 = icmp eq i32 %86, 3
  br i1 %cmp388, label %if.end392, label %if.then390

if.then390:                                       ; preds = %if.then386
  %call391 = call i32 @dct_luma8x8(i32 %block8x8, i32* %coeff_cost, i32 0) #7
  %.pre857 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %if.end392

if.end392:                                        ; preds = %if.then386, %if.then390
  %87 = phi %struct.ImageParameters* [ %.pre857, %if.then390 ], [ %.pre861, %if.then386 ]
  %nonzero.5 = phi i32 [ %call391, %if.then390 ], [ %nonzero.4, %if.then386 ]
  %residue_transform_flag393 = getelementptr inbounds %struct.ImageParameters* %87, i64 0, i32 164
  %88 = load i32* %residue_transform_flag393, align 4, !tbaa !3
  %tobool394 = icmp eq i32 %88, 0
  br i1 %tobool394, label %if.end421, label %for.cond396.preheader

for.cond396.preheader:                            ; preds = %if.end392
  %89 = sext i32 %shl1 to i64
  %90 = sext i32 %shl to i64
  br label %for.cond400.preheader

for.cond400.preheader:                            ; preds = %for.inc418, %for.cond396.preheader
  %indvars.iv764 = phi i64 [ 0, %for.cond396.preheader ], [ %indvars.iv.next765, %for.inc418 ]
  %91 = add nsw i64 %indvars.iv764, %90
  br label %for.body403

for.body403:                                      ; preds = %for.body403, %for.cond400.preheader
  %indvars.iv761 = phi i64 [ 0, %for.cond400.preheader ], [ %indvars.iv.next762, %for.body403 ]
  %arrayidx408 = getelementptr inbounds %struct.ImageParameters* %87, i64 0, i32 46, i64 %indvars.iv761, i64 %indvars.iv764
  %92 = load i32* %arrayidx408, align 4, !tbaa !3
  %93 = add nsw i64 %indvars.iv761, %89
  %arrayidx414 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG, i64 0, i64 %93, i64 %91
  store i32 %92, i32* %arrayidx414, align 4, !tbaa !3
  %indvars.iv.next762 = add i64 %indvars.iv761, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next762 to i32
  %exitcond = icmp eq i32 %lftr.wideiv, 8
  br i1 %exitcond, label %for.inc418, label %for.body403

for.inc418:                                       ; preds = %for.body403
  %indvars.iv.next765 = add i64 %indvars.iv764, 1
  %lftr.wideiv767 = trunc i64 %indvars.iv.next765 to i32
  %exitcond768 = icmp eq i32 %lftr.wideiv767, 8
  br i1 %exitcond768, label %if.end421, label %for.cond400.preheader

if.end421:                                        ; preds = %for.inc418, %if.end392
  %tobool422 = icmp eq i32 %nonzero.5, 0
  br i1 %tobool422, label %if.end433, label %if.then423

if.then423:                                       ; preds = %if.end421
  %mul = shl nsw i32 %block8x8, 2
  %mul425 = shl nsw i32 %rem, 1
  %sub426 = sub nsw i32 %mul, %mul425
  %shl427 = shl i32 51, %sub426
  %conv428 = sext i32 %shl427 to i64
  %94 = load i64* %cbp_blk, align 8, !tbaa !5
  %or429 = or i64 %94, %conv428
  store i64 %or429, i64* %cbp_blk, align 8, !tbaa !5
  %95 = load i32* %cbp, align 4, !tbaa !3
  %or430 = or i32 %95, %shl2
  store i32 %or430, i32* %cbp, align 4, !tbaa !3
  br label %if.end433

if.end433:                                        ; preds = %for.end378, %if.end421, %if.then380, %if.then423
  %96 = phi %struct.ImageParameters* [ %.pre861, %if.then380 ], [ %87, %if.then423 ], [ %87, %if.end421 ], [ %.pre861, %for.end378 ]
  %NoResidueDirect434 = getelementptr inbounds %struct.ImageParameters* %96, i64 0, i32 88
  %97 = load i32* %NoResidueDirect434, align 4, !tbaa !3
  %cmp435 = icmp eq i32 %97, 1
  %brmerge730 = or i1 %cmp435, %4
  br i1 %brmerge730, label %if.end514, label %land.lhs.true439

land.lhs.true439:                                 ; preds = %if.end433
  %98 = load i32* %coeff_cost, align 4, !tbaa !3
  %cmp440 = icmp slt i32 %98, 5
  br i1 %cmp440, label %land.lhs.true442, label %if.end514

land.lhs.true442:                                 ; preds = %land.lhs.true439
  %qp = getelementptr inbounds %struct.ImageParameters* %96, i64 0, i32 10
  %99 = load i32* %qp, align 4, !tbaa !3
  %bitdepth_luma_qp_scale = getelementptr inbounds %struct.ImageParameters* %96, i64 0, i32 151
  %100 = load i32* %bitdepth_luma_qp_scale, align 4, !tbaa !3
  %add443 = sub i32 0, %100
  %cmp444 = icmp eq i32 %99, %add443
  br i1 %cmp444, label %lor.lhs.false, label %if.then448

lor.lhs.false:                                    ; preds = %land.lhs.true442
  %lossless_qpprime_flag = getelementptr inbounds %struct.ImageParameters* %96, i64 0, i32 160
  %101 = load i32* %lossless_qpprime_flag, align 4, !tbaa !3
  %cmp446 = icmp eq i32 %101, 0
  br i1 %cmp446, label %if.then448, label %if.end514

if.then448:                                       ; preds = %lor.lhs.false, %land.lhs.true442
  store i32 0, i32* %coeff_cost, align 4, !tbaa !3
  %sub449 = sub nsw i32 63, %shl2
  %102 = load i32* %cbp, align 4, !tbaa !3
  %and = and i32 %102, %sub449
  store i32 %and, i32* %cbp, align 4, !tbaa !3
  %mul450 = shl nsw i32 %block8x8, 2
  %mul452 = shl nsw i32 %rem, 1
  %sub453 = sub nsw i32 %mul450, %mul452
  %shl454 = shl i32 51, %sub453
  %neg = xor i32 %shl454, -1
  %conv455 = sext i32 %neg to i64
  %103 = load i64* %cbp_blk, align 8, !tbaa !5
  %and456 = and i64 %103, %conv455
  store i64 %and456, i64* %cbp_blk, align 8, !tbaa !5
  %add458 = add nsw i32 %shl1, 8
  %residue_transform_flag467 = getelementptr inbounds %struct.ImageParameters* %96, i64 0, i32 164
  %pix_x = getelementptr inbounds %struct.ImageParameters* %96, i64 0, i32 33
  %pix_y = getelementptr inbounds %struct.ImageParameters* %96, i64 0, i32 34
  %104 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgY = getelementptr inbounds %struct.storable_picture* %104, i64 0, i32 25
  br label %for.cond462.preheader

for.cond462.preheader:                            ; preds = %if.then448, %for.inc490
  %indvars.iv759 = phi i64 [ %9, %if.then448 ], [ %indvars.iv.next760, %for.inc490 ]
  br label %for.body466

for.body466:                                      ; preds = %for.inc487, %for.cond462.preheader
  %indvars.iv = phi i64 [ %11, %for.cond462.preheader ], [ %indvars.iv.next, %for.inc487 ]
  %105 = load i32* %residue_transform_flag467, align 4, !tbaa !3
  %tobool468 = icmp eq i32 %105, 0
  br i1 %tobool468, label %if.then469, label %if.else481

if.then469:                                       ; preds = %for.body466
  %arrayidx474 = getelementptr inbounds %struct.ImageParameters* %96, i64 0, i32 45, i64 %indvars.iv759, i64 %indvars.iv
  %106 = load i16* %arrayidx474, align 2, !tbaa !4
  %107 = load i32* %pix_x, align 4, !tbaa !3
  %108 = trunc i64 %indvars.iv759 to i32
  %add475 = add nsw i32 %107, %108
  %idxprom476 = sext i32 %add475 to i64
  %109 = load i32* %pix_y, align 4, !tbaa !3
  %110 = trunc i64 %indvars.iv to i32
  %add477 = add nsw i32 %109, %110
  %idxprom478 = sext i32 %add477 to i64
  %111 = load i16*** %imgY, align 8, !tbaa !0
  %arrayidx479 = getelementptr inbounds i16** %111, i64 %idxprom478
  %112 = load i16** %arrayidx479, align 8, !tbaa !0
  %arrayidx480 = getelementptr inbounds i16* %112, i64 %idxprom476
  store i16 %106, i16* %arrayidx480, align 2, !tbaa !4
  br label %for.inc487

if.else481:                                       ; preds = %for.body466
  %arrayidx485 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG, i64 0, i64 %indvars.iv759, i64 %indvars.iv
  store i32 0, i32* %arrayidx485, align 4, !tbaa !3
  br label %for.inc487

for.inc487:                                       ; preds = %if.then469, %if.else481
  %indvars.iv.next = add i64 %indvars.iv, 1
  %113 = trunc i64 %indvars.iv.next to i32
  %cmp464 = icmp slt i32 %113, %add
  br i1 %cmp464, label %for.body466, label %for.inc490

for.inc490:                                       ; preds = %for.inc487
  %indvars.iv.next760 = add i64 %indvars.iv759, 1
  %114 = trunc i64 %indvars.iv.next760 to i32
  %cmp459 = icmp slt i32 %114, %add458
  br i1 %cmp459, label %for.cond462.preheader, label %for.end492

for.end492:                                       ; preds = %for.inc490
  %type493 = getelementptr inbounds %struct.ImageParameters* %96, i64 0, i32 6
  %115 = load i32* %type493, align 4, !tbaa !3
  %cmp494 = icmp eq i32 %115, 3
  br i1 %cmp494, label %for.cond502.preheader, label %if.end514

for.cond502.preheader:                            ; preds = %for.end492, %for.inc510
  %i.9732 = phi i32 [ %add511, %for.inc510 ], [ %shl1, %for.end492 ]
  br label %for.body506

for.body506:                                      ; preds = %for.cond502.preheader, %for.body506
  %j.9731 = phi i32 [ %shl, %for.cond502.preheader ], [ %add508, %for.body506 ]
  call void @copyblock_sp(i32 %i.9732, i32 %j.9731) #7
  %add508 = add nsw i32 %j.9731, 4
  %cmp504 = icmp slt i32 %add508, %add
  br i1 %cmp504, label %for.body506, label %for.inc510

for.inc510:                                       ; preds = %for.body506
  %add511 = add nsw i32 %i.9732, 4
  %cmp499 = icmp slt i32 %add511, %add458
  br i1 %cmp499, label %for.cond502.preheader, label %if.end514

if.end514:                                        ; preds = %for.inc510, %if.end433, %for.end492, %lor.lhs.false, %land.lhs.true439
  %116 = load i32* %coeff_cost, align 4, !tbaa !3
  ret i32 %116
}
