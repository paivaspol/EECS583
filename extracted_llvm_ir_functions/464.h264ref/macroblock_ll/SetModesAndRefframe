define void @SetModesAndRefframe(i32 %b8, i16* nocapture %p_dir, i32* nocapture %fw_mode, i32* nocapture %bw_mode, i16* nocapture %fw_ref, i16* nocapture %bw_ref) #0 {
  tail call void @llvm.dbg.value(metadata i32 %b8, i64 0, metadata !585, metadata !1584), !dbg !4061
  tail call void @llvm.dbg.value(metadata i16* %p_dir, i64 0, metadata !586, metadata !1584), !dbg !4062
  tail call void @llvm.dbg.value(metadata i32* %fw_mode, i64 0, metadata !587, metadata !1584), !dbg !4063
  tail call void @llvm.dbg.value(metadata i32* %bw_mode, i64 0, metadata !588, metadata !1584), !dbg !4064
  tail call void @llvm.dbg.value(metadata i16* %fw_ref, i64 0, metadata !589, metadata !1584), !dbg !4065
  tail call void @llvm.dbg.value(metadata i16* %bw_ref, i64 0, metadata !590, metadata !1584), !dbg !4066
  %1 = load %struct.ImageParameters** @img, align 8, !dbg !4067, !tbaa !1587
  %2 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 3, !dbg !4068
  %3 = load i32* %2, align 4, !dbg !4068, !tbaa !1593
  %4 = sext i32 %3 to i64, !dbg !4069
  %5 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 51, !dbg !4070
  %6 = load %struct.macroblock** %5, align 8, !dbg !4070, !tbaa !1634
  %7 = sdiv i32 %b8, 2, !dbg !4071
  %8 = shl nsw i32 %7, 1, !dbg !4072
  tail call void @llvm.dbg.value(metadata i32 %8, i64 0, metadata !592, metadata !1584), !dbg !4073
  %9 = srem i32 %b8, 2, !dbg !4074
  %10 = shl nsw i32 %9, 1, !dbg !4075
  tail call void @llvm.dbg.value(metadata i32 %10, i64 0, metadata !593, metadata !1584), !dbg !4076
  store i16 -1, i16* %bw_ref, align 2, !dbg !4077, !tbaa !2451
  store i16 -1, i16* %fw_ref, align 2, !dbg !4078, !tbaa !2451
  store i32 -1, i32* %bw_mode, align 4, !dbg !4079, !tbaa !1719
  store i32 -1, i32* %fw_mode, align 4, !dbg !4080, !tbaa !1719
  %11 = sext i32 %b8 to i64, !dbg !4081
  %12 = getelementptr inbounds %struct.macroblock* %6, i64 %4, i32 15, i64 %11, !dbg !4081
  %13 = load i32* %12, align 4, !dbg !4081, !tbaa !1719
  %14 = trunc i32 %13 to i16, !dbg !4081
  store i16 %14, i16* %p_dir, align 2, !dbg !4082, !tbaa !2451
  %15 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 6, !dbg !4083
  %16 = load i32* %15, align 4, !dbg !4083, !tbaa !1721
  %17 = icmp eq i32 %16, 1, !dbg !4085
  br i1 %17, label %37, label %18, !dbg !4086

; <label>:18                                      ; preds = %0
  %19 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 32, !dbg !4087
  %20 = load i32* %19, align 4, !dbg !4087, !tbaa !1613
  %21 = add nsw i32 %20, %8, !dbg !4089
  %22 = sext i32 %21 to i64, !dbg !4090
  %23 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 31, !dbg !4091
  %24 = load i32* %23, align 4, !dbg !4091, !tbaa !1607
  %25 = add nsw i32 %24, %10, !dbg !4092
  %26 = sext i32 %25 to i64, !dbg !4090
  %27 = load %struct.storable_picture** @enc_picture, align 8, !dbg !4090, !tbaa !1587
  %28 = getelementptr inbounds %struct.storable_picture* %27, i64 0, i32 32, !dbg !4093
  %29 = load i16**** %28, align 8, !dbg !4093, !tbaa !2438
  %30 = load i16*** %29, align 8, !dbg !4090, !tbaa !1587
  %31 = getelementptr inbounds i16** %30, i64 %26, !dbg !4090
  %32 = load i16** %31, align 8, !dbg !4090, !tbaa !1587
  %33 = getelementptr inbounds i16* %32, i64 %22, !dbg !4090
  %34 = load i16* %33, align 2, !dbg !4090, !tbaa !2451
  store i16 %34, i16* %fw_ref, align 2, !dbg !4094, !tbaa !2451
  store i16 0, i16* %bw_ref, align 2, !dbg !4095, !tbaa !2451
  %35 = getelementptr inbounds %struct.macroblock* %6, i64 %4, i32 14, i64 %11, !dbg !4096
  %36 = load i32* %35, align 4, !dbg !4096, !tbaa !1719
  store i32 %36, i32* %fw_mode, align 4, !dbg !4097, !tbaa !1719
  store i32 0, i32* %bw_mode, align 4, !dbg !4098, !tbaa !1719
  br label %104, !dbg !4099

; <label>:37                                      ; preds = %0
  switch i32 %13, label %78 [
    i32 -1, label %38
    i32 0, label %39
    i32 1, label %58
  ], !dbg !4100

; <label>:38                                      ; preds = %37
  store i16 -1, i16* %fw_ref, align 2, !dbg !4102, !tbaa !2451
  store i16 -1, i16* %bw_ref, align 2, !dbg !4105, !tbaa !2451
  store i32 0, i32* %fw_mode, align 4, !dbg !4106, !tbaa !1719
  store i32 0, i32* %bw_mode, align 4, !dbg !4107, !tbaa !1719
  br label %104, !dbg !4108

; <label>:39                                      ; preds = %37
  %40 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 32, !dbg !4109
  %41 = load i32* %40, align 4, !dbg !4109, !tbaa !1613
  %42 = add nsw i32 %41, %8, !dbg !4112
  %43 = sext i32 %42 to i64, !dbg !4113
  %44 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 31, !dbg !4114
  %45 = load i32* %44, align 4, !dbg !4114, !tbaa !1607
  %46 = add nsw i32 %45, %10, !dbg !4115
  %47 = sext i32 %46 to i64, !dbg !4113
  %48 = load %struct.storable_picture** @enc_picture, align 8, !dbg !4113, !tbaa !1587
  %49 = getelementptr inbounds %struct.storable_picture* %48, i64 0, i32 32, !dbg !4116
  %50 = load i16**** %49, align 8, !dbg !4116, !tbaa !2438
  %51 = load i16*** %50, align 8, !dbg !4113, !tbaa !1587
  %52 = getelementptr inbounds i16** %51, i64 %47, !dbg !4113
  %53 = load i16** %52, align 8, !dbg !4113, !tbaa !1587
  %54 = getelementptr inbounds i16* %53, i64 %43, !dbg !4113
  %55 = load i16* %54, align 2, !dbg !4113, !tbaa !2451
  store i16 %55, i16* %fw_ref, align 2, !dbg !4117, !tbaa !2451
  store i16 0, i16* %bw_ref, align 2, !dbg !4118, !tbaa !2451
  %56 = getelementptr inbounds %struct.macroblock* %6, i64 %4, i32 14, i64 %11, !dbg !4119
  %57 = load i32* %56, align 4, !dbg !4119, !tbaa !1719
  store i32 %57, i32* %fw_mode, align 4, !dbg !4120, !tbaa !1719
  store i32 0, i32* %bw_mode, align 4, !dbg !4121, !tbaa !1719
  br label %104, !dbg !4122

; <label>:58                                      ; preds = %37
  store i16 0, i16* %fw_ref, align 2, !dbg !4123, !tbaa !2451
  %59 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 32, !dbg !4126
  %60 = load i32* %59, align 4, !dbg !4126, !tbaa !1613
  %61 = add nsw i32 %60, %8, !dbg !4127
  %62 = sext i32 %61 to i64, !dbg !4128
  %63 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 31, !dbg !4129
  %64 = load i32* %63, align 4, !dbg !4129, !tbaa !1607
  %65 = add nsw i32 %64, %10, !dbg !4130
  %66 = sext i32 %65 to i64, !dbg !4128
  %67 = load %struct.storable_picture** @enc_picture, align 8, !dbg !4128, !tbaa !1587
  %68 = getelementptr inbounds %struct.storable_picture* %67, i64 0, i32 32, !dbg !4131
  %69 = load i16**** %68, align 8, !dbg !4131, !tbaa !2438
  %70 = getelementptr inbounds i16*** %69, i64 1, !dbg !4128
  %71 = load i16*** %70, align 8, !dbg !4128, !tbaa !1587
  %72 = getelementptr inbounds i16** %71, i64 %66, !dbg !4128
  %73 = load i16** %72, align 8, !dbg !4128, !tbaa !1587
  %74 = getelementptr inbounds i16* %73, i64 %62, !dbg !4128
  %75 = load i16* %74, align 2, !dbg !4128, !tbaa !2451
  store i16 %75, i16* %bw_ref, align 2, !dbg !4132, !tbaa !2451
  store i32 0, i32* %fw_mode, align 4, !dbg !4133, !tbaa !1719
  %76 = getelementptr inbounds %struct.macroblock* %6, i64 %4, i32 14, i64 %11, !dbg !4134
  %77 = load i32* %76, align 4, !dbg !4134, !tbaa !1719
  store i32 %77, i32* %bw_mode, align 4, !dbg !4135, !tbaa !1719
  br label %104, !dbg !4136

; <label>:78                                      ; preds = %37
  %79 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 32, !dbg !4137
  %80 = load i32* %79, align 4, !dbg !4137, !tbaa !1613
  %81 = add nsw i32 %80, %8, !dbg !4139
  %82 = sext i32 %81 to i64, !dbg !4140
  %83 = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 31, !dbg !4141
  %84 = load i32* %83, align 4, !dbg !4141, !tbaa !1607
  %85 = add nsw i32 %84, %10, !dbg !4142
  %86 = sext i32 %85 to i64, !dbg !4140
  %87 = load %struct.storable_picture** @enc_picture, align 8, !dbg !4140, !tbaa !1587
  %88 = getelementptr inbounds %struct.storable_picture* %87, i64 0, i32 32, !dbg !4143
  %89 = load i16**** %88, align 8, !dbg !4143, !tbaa !2438
  %90 = load i16*** %89, align 8, !dbg !4140, !tbaa !1587
  %91 = getelementptr inbounds i16** %90, i64 %86, !dbg !4140
  %92 = load i16** %91, align 8, !dbg !4140, !tbaa !1587
  %93 = getelementptr inbounds i16* %92, i64 %82, !dbg !4140
  %94 = load i16* %93, align 2, !dbg !4140, !tbaa !2451
  store i16 %94, i16* %fw_ref, align 2, !dbg !4144, !tbaa !2451
  %95 = getelementptr inbounds i16*** %89, i64 1, !dbg !4145
  %96 = load i16*** %95, align 8, !dbg !4145, !tbaa !1587
  %97 = getelementptr inbounds i16** %96, i64 %86, !dbg !4145
  %98 = load i16** %97, align 8, !dbg !4145, !tbaa !1587
  %99 = getelementptr inbounds i16* %98, i64 %82, !dbg !4145
  %100 = load i16* %99, align 2, !dbg !4145, !tbaa !2451
  store i16 %100, i16* %bw_ref, align 2, !dbg !4146, !tbaa !2451
  %101 = getelementptr inbounds %struct.macroblock* %6, i64 %4, i32 14, i64 %11, !dbg !4147
  %102 = load i32* %101, align 4, !dbg !4147, !tbaa !1719
  store i32 %102, i32* %fw_mode, align 4, !dbg !4148, !tbaa !1719
  %103 = load i32* %101, align 4, !dbg !4149, !tbaa !1719
  store i32 %103, i32* %bw_mode, align 4, !dbg !4150, !tbaa !1719
  br label %104

; <label>:104                                     ; preds = %38, %58, %78, %39, %18
  ret void, !dbg !4151
}
