define void @encode_one_macroblock() #0 {
entry:
  %valid = alloca [15 x i32], align 16
  %dummy = alloca i32, align 4
  %min_rdcost = alloca double, align 8
  %cnt_nonz = alloca i32, align 4
  %curr_cbp_blk = alloca i64, align 8
  %cost = alloca i32, align 4
  %i16mode = alloca i32, align 4
  %direct8x8_tmp = alloca i32, align 4
  %mb_available_up = alloca i32, align 4
  %mb_available_left = alloca i32, align 4
  %mb_available_up_left = alloca i32, align 4
  %0 = bitcast [15 x i32]* %valid to i8*
  call void @llvm.lifetime.start(i64 60, i8* %0) #3
  store i32 0, i32* %cnt_nonz, align 4, !tbaa !3
  store i32 0, i32* %cost, align 4, !tbaa !3
  %1 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %type = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 6
  %2 = load i32* %type, align 4, !tbaa !3
  switch i32 %2, label %lor.rhs [
    i32 0, label %land.lhs.true
    i32 3, label %land.lhs.true
  ]

land.lhs.true:                                    ; preds = %entry, %entry
  %mb_y = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 30
  %3 = load i32* %mb_y, align 4, !tbaa !3
  %mb_y_upd = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 22
  %4 = load i32* %mb_y_upd, align 4, !tbaa !3
  %cmp3 = icmp eq i32 %3, %4
  br i1 %cmp3, label %land.lhs.true4, label %lor.rhs

land.lhs.true4:                                   ; preds = %land.lhs.true
  %mb_y_intra = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 23
  %5 = load i32* %mb_y_intra, align 4, !tbaa !3
  %cmp6 = icmp eq i32 %3, %5
  br i1 %cmp6, label %lor.rhs, label %lor.end

lor.rhs:                                          ; preds = %land.lhs.true4, %land.lhs.true, %entry
  %cmp8 = icmp eq i32 %2, 2
  br label %lor.end

lor.end:                                          ; preds = %land.lhs.true4, %lor.rhs
  %6 = phi i1 [ %cmp8, %lor.rhs ], [ true, %land.lhs.true4 ]
  %lor.ext = zext i1 %6 to i32
  %cmp10 = icmp eq i32 %2, 3
  %cmp12 = icmp eq i32 %2, 4
  %conv13 = zext i1 %cmp12 to i32
  %cmp15 = icmp eq i32 %2, 1
  %conv16 = zext i1 %cmp15 to i32
  %7 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %RestrictRef = getelementptr inbounds %struct.InputParameters* %7, i64 0, i32 98
  %8 = load i32* %RestrictRef, align 4, !tbaa !3
  %cmp17 = icmp eq i32 %8, 1
  %rdopt = getelementptr inbounds %struct.InputParameters* %7, i64 0, i32 85
  %9 = load i32* %rdopt, align 4, !tbaa !3
  %cmp20 = icmp eq i32 %9, 2
  %or.cond9192 = and i1 %cmp17, %cmp20
  br i1 %or.cond9192, label %land.rhs, label %land.end38

land.rhs:                                         ; preds = %lor.end
  %cmp23 = icmp eq i32 %2, 0
  %.mux = or i1 %cmp23, %cmp10
  br i1 %cmp15, label %land.rhs33, label %land.end38.thread

land.rhs33:                                       ; preds = %land.rhs
  %nal_reference_idc = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 113
  %10 = load i32* %nal_reference_idc, align 4, !tbaa !3
  %cmp34 = icmp sgt i32 %10, 0
  br label %land.end38.thread

land.end38.thread:                                ; preds = %land.rhs33, %land.rhs
  %.ph = phi i1 [ %cmp34, %land.rhs33 ], [ %.mux, %land.rhs ]
  %cond9168 = select i1 %.ph, i32 2, i32 1
  br label %land.lhs.true40

land.end38:                                       ; preds = %lor.end
  %tobool = icmp eq i32 %9, 0
  br i1 %tobool, label %land.end53, label %land.lhs.true40

land.lhs.true40:                                  ; preds = %land.end38.thread, %land.end38
  %cond9170 = phi i32 [ %cond9168, %land.end38.thread ], [ 1, %land.end38 ]
  %11 = phi i1 [ %.ph, %land.end38.thread ], [ false, %land.end38 ]
  %tobool42 = icmp eq i32 %8, 0
  br i1 %tobool42, label %land.end53, label %land.rhs43

land.rhs43:                                       ; preds = %land.lhs.true40
  %notlhs = icmp ne i32 %2, 0
  %notrhs = icmp ne i32 %2, 3
  %phitmp8303 = and i1 %notrhs, %notlhs
  br label %land.end53

land.end53:                                       ; preds = %land.rhs43, %land.lhs.true40, %land.end38
  %cond9171 = phi i32 [ %cond9170, %land.lhs.true40 ], [ 1, %land.end38 ], [ %cond9170, %land.rhs43 ]
  %12 = phi i1 [ %11, %land.lhs.true40 ], [ false, %land.end38 ], [ %11, %land.rhs43 ]
  %13 = phi i1 [ true, %land.lhs.true40 ], [ true, %land.end38 ], [ %phitmp8303, %land.rhs43 ]
  %current_mb_nr = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 3
  %14 = load i32* %current_mb_nr, align 4, !tbaa !3
  %idxprom = sext i32 %14 to i64
  %mb_data = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 51
  %15 = load %struct.macroblock** %mb_data, align 8, !tbaa !0
  %arrayidx = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom
  %tobool55 = icmp eq i32 %14, 0
  br i1 %tobool55, label %cond.end, label %cond.true

cond.true:                                        ; preds = %land.end53
  %sub = add nsw i32 %14, -1
  %idxprom57 = sext i32 %sub to i64
  %arrayidx59 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom57
  br label %cond.end

cond.end:                                         ; preds = %land.end53, %cond.true
  %cond60 = phi %struct.macroblock* [ %arrayidx59, %cond.true ], [ null, %land.end53 ]
  %ipredmode = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 25
  %16 = load i32*** %ipredmode, align 8, !tbaa !0
  %all_mv = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 71
  %17 = load i16******* %all_mv, align 8, !tbaa !0
  %MbaffFrameFlag = getelementptr inbounds %struct.ImageParameters* %1, i64 0, i32 90
  %18 = load i32* %MbaffFrameFlag, align 4, !tbaa !3
  %tobool61 = icmp eq i32 %18, 0
  br i1 %tobool61, label %if.end71, label %land.end64

land.end64:                                       ; preds = %cond.end
  %mb_field = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 22
  %19 = load i32* %mb_field, align 4, !tbaa !3
  %tobool63 = icmp ne i32 %19, 0
  %land.ext65 = zext i1 %tobool63 to i32
  br i1 %tobool63, label %if.then, label %if.end71

if.then:                                          ; preds = %land.end64
  %rem8196 = shl i32 %14, 1
  %20 = and i32 %rem8196, 2
  %21 = add i32 %20, 2
  br label %if.end71

if.end71:                                         ; preds = %cond.end, %land.end64, %if.then
  %land.ext658272 = phi i32 [ %land.ext65, %if.then ], [ %land.ext65, %land.end64 ], [ 0, %cond.end ]
  %22 = phi i1 [ true, %if.then ], [ false, %land.end64 ], [ false, %cond.end ]
  %list_offset.0 = phi i32 [ %21, %if.then ], [ 0, %land.end64 ], [ 0, %cond.end ]
  %FMEnable = getelementptr inbounds %struct.InputParameters* %7, i64 0, i32 134
  %23 = load i32* %FMEnable, align 4, !tbaa !3
  %tobool72 = icmp eq i32 %23, 0
  br i1 %tobool72, label %if.end74, label %if.then73

if.then73:                                        ; preds = %if.end71
  call void (...)* @decide_intrabk_SAD() #8
  %.pre = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %current_mb_nr75.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %.pre, i64 0, i32 3
  %.pre9112 = load i32* %current_mb_nr75.phi.trans.insert, align 4, !tbaa !3
  br label %if.end74

if.end74:                                         ; preds = %if.end71, %if.then73
  %24 = phi i32 [ %14, %if.end71 ], [ %.pre9112, %if.then73 ]
  %call = call i32 @RandomIntra(i32 %24) #8
  %or = or i32 %call, %lor.ext
  %25 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x8 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 123
  %26 = load i32* %AllowTransform8x8, align 4, !tbaa !3
  %arrayidx76 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 13
  store i32 %26, i32* %arrayidx76, align 4, !tbaa !3
  %27 = load i32* %AllowTransform8x8, align 4, !tbaa !3
  %not.cmp78 = icmp ne i32 %27, 2
  %cond80 = zext i1 %not.cmp78 to i32
  %arrayidx81 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 9
  store i32 %cond80, i32* %arrayidx81, align 4, !tbaa !3
  %arrayidx82 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 10
  store i32 1, i32* %arrayidx82, align 8, !tbaa !3
  %tobool83 = icmp ne i32 %or, 0
  %28 = zext i1 %tobool83 to i32
  %lnot.ext = xor i32 %28, 1
  %arrayidx84 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 0
  store i32 %lnot.ext, i32* %arrayidx84, align 16, !tbaa !3
  br i1 %tobool83, label %land.end118.thread, label %land.rhs122

land.end118.thread:                               ; preds = %if.end74
  %arrayidx90.c = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 1
  %arrayidx1088276 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 4
  %arrayidx1148279 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 5
  %arrayidx1208283 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 6
  %29 = bitcast i32* %arrayidx90.c to i8*
  call void @llvm.memset.p0i8.i64(i8* %29, i8 0, i64 24, i32 4, i1 false)
  br label %land.end124

land.rhs122:                                      ; preds = %if.end74
  %InterSearch16x16 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 62
  %30 = load i32* %InterSearch16x16, align 4, !tbaa !3
  %tobool87 = icmp ne i32 %30, 0
  %land.ext89 = zext i1 %tobool87 to i32
  %arrayidx90 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 1
  store i32 %land.ext89, i32* %arrayidx90, align 4, !tbaa !3
  %InterSearch16x8 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 63
  %31 = load i32* %InterSearch16x8, align 4, !tbaa !3
  %tobool93 = icmp ne i32 %31, 0
  %land.ext95 = zext i1 %tobool93 to i32
  %arrayidx96 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 2
  store i32 %land.ext95, i32* %arrayidx96, align 8, !tbaa !3
  %InterSearch8x16 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 64
  %32 = load i32* %InterSearch8x16, align 4, !tbaa !3
  %tobool99 = icmp ne i32 %32, 0
  %land.ext101 = zext i1 %tobool99 to i32
  %arrayidx102 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 3
  store i32 %land.ext101, i32* %arrayidx102, align 4, !tbaa !3
  %InterSearch8x8 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 65
  %33 = load i32* %InterSearch8x8, align 4, !tbaa !3
  %tobool105 = icmp ne i32 %33, 0
  %land.ext107 = zext i1 %tobool105 to i32
  %arrayidx108 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 4
  store i32 %land.ext107, i32* %arrayidx108, align 16, !tbaa !3
  %InterSearch8x4 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 66
  %34 = load i32* %InterSearch8x4, align 4, !tbaa !3
  %tobool111 = icmp ne i32 %34, 0
  %land.ext113 = zext i1 %tobool111 to i32
  %arrayidx114 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 5
  store i32 %land.ext113, i32* %arrayidx114, align 4, !tbaa !3
  %InterSearch4x8 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 67
  %35 = load i32* %InterSearch4x8, align 4, !tbaa !3
  %tobool117 = icmp ne i32 %35, 0
  %land.ext119 = zext i1 %tobool117 to i32
  %arrayidx120 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 6
  store i32 %land.ext119, i32* %arrayidx120, align 8, !tbaa !3
  %InterSearch4x4 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 68
  %36 = load i32* %InterSearch4x4, align 4, !tbaa !3
  %tobool123 = icmp ne i32 %36, 0
  br label %land.end124

land.end124:                                      ; preds = %land.end118.thread, %land.rhs122
  %arrayidx1208286 = phi i32* [ %arrayidx120, %land.rhs122 ], [ %arrayidx1208283, %land.end118.thread ]
  %arrayidx108827782808285 = phi i32* [ %arrayidx108, %land.rhs122 ], [ %arrayidx1088276, %land.end118.thread ]
  %arrayidx11482818284 = phi i32* [ %arrayidx114, %land.rhs122 ], [ %arrayidx1148279, %land.end118.thread ]
  %37 = phi i1 [ %tobool123, %land.rhs122 ], [ false, %land.end118.thread ]
  %land.ext125 = zext i1 %37 to i32
  %arrayidx126 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 7
  store i32 %land.ext125, i32* %arrayidx126, align 4, !tbaa !3
  %38 = load i32* %AllowTransform8x8, align 4, !tbaa !3
  %cmp128 = icmp eq i32 %38, 2
  br i1 %cmp128, label %if.then130, label %if.end134

if.then130:                                       ; preds = %land.end124
  store i32 0, i32* %arrayidx126, align 4, !tbaa !3
  store i32 0, i32* %arrayidx1208286, align 8, !tbaa !3
  store i32 0, i32* %arrayidx11482818284, align 4, !tbaa !3
  br label %if.end134

if.end134:                                        ; preds = %if.then130, %land.end124
  %39 = load i32* %arrayidx108827782808285, align 16, !tbaa !3
  %tobool136 = icmp eq i32 %39, 0
  br i1 %tobool136, label %lor.lhs.false137, label %lor.end146

lor.lhs.false137:                                 ; preds = %if.end134
  %40 = load i32* %arrayidx11482818284, align 4, !tbaa !3
  %tobool139 = icmp eq i32 %40, 0
  br i1 %tobool139, label %lor.lhs.false140, label %lor.end146

lor.lhs.false140:                                 ; preds = %lor.lhs.false137
  %41 = load i32* %arrayidx1208286, align 8, !tbaa !3
  %tobool142 = icmp eq i32 %41, 0
  br i1 %tobool142, label %lor.rhs143, label %lor.end146

lor.rhs143:                                       ; preds = %lor.lhs.false140
  %42 = load i32* %arrayidx126, align 4, !tbaa !3
  %tobool145 = icmp ne i32 %42, 0
  br label %lor.end146

lor.end146:                                       ; preds = %lor.lhs.false140, %lor.lhs.false137, %if.end134, %lor.rhs143
  %43 = phi i1 [ true, %lor.lhs.false140 ], [ true, %lor.lhs.false137 ], [ true, %if.end134 ], [ %tobool145, %lor.rhs143 ]
  %lor.ext147 = zext i1 %43 to i32
  %arrayidx148 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 8
  store i32 %lor.ext147, i32* %arrayidx148, align 16, !tbaa !3
  %arrayidx149 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 12
  store i32 %conv13, i32* %arrayidx149, align 16, !tbaa !3
  %44 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %MbaffFrameFlag150 = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 90
  %45 = load i32* %MbaffFrameFlag150, align 4, !tbaa !3
  %tobool151 = icmp eq i32 %45, 0
  %46 = sext i32 %list_offset.0 to i64
  br i1 %tobool151, label %for.cond156.preheader, label %if.else206

for.cond156.preheader:                            ; preds = %lor.end146, %for.inc203
  %indvars.iv9055 = phi i64 [ %indvars.iv.next9056, %for.inc203 ], [ %46, %lor.end146 ]
  %arrayidx158 = getelementptr inbounds [6 x i32]* @listXsize, i64 0, i64 %indvars.iv9055
  %47 = load i32* %arrayidx158, align 4, !tbaa !3
  %cmp1598607 = icmp sgt i32 %47, 0
  br i1 %cmp1598607, label %for.body161.lr.ph, label %for.inc203

for.body161.lr.ph:                                ; preds = %for.cond156.preheader
  %arrayidx164 = getelementptr inbounds [6 x %struct.storable_picture**]* @listX, i64 0, i64 %indvars.iv9055
  %.pre9109 = load %struct.storable_picture*** %arrayidx164, align 8, !tbaa !0
  br label %for.body161

for.body161:                                      ; preds = %for.body161.lr.ph, %for.inc
  %indvars.iv9053 = phi i64 [ 0, %for.body161.lr.ph ], [ %indvars.iv.next9054, %for.inc ]
  %arrayidx165 = getelementptr inbounds %struct.storable_picture** %.pre9109, i64 %indvars.iv9053
  %48 = load %struct.storable_picture** %arrayidx165, align 8, !tbaa !0
  %chroma_vector_adjustment = getelementptr inbounds %struct.storable_picture* %48, i64 0, i32 22
  store i32 0, i32* %chroma_vector_adjustment, align 4, !tbaa !3
  %structure = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 7
  %49 = load i32* %structure, align 4, !tbaa !3
  %cmp166 = icmp eq i32 %49, 1
  br i1 %cmp166, label %land.lhs.true168, label %if.end183

land.lhs.true168:                                 ; preds = %for.body161
  %structure174 = getelementptr inbounds %struct.storable_picture* %48, i64 0, i32 0
  %50 = load i32* %structure174, align 4, !tbaa !1
  %cmp175 = icmp eq i32 %50, 1
  br i1 %cmp175, label %for.inc, label %if.then177

if.then177:                                       ; preds = %land.lhs.true168
  store i32 -2, i32* %chroma_vector_adjustment, align 4, !tbaa !3
  %.pre9110 = load i32* %structure, align 4, !tbaa !3
  br label %if.end183

if.end183:                                        ; preds = %if.then177, %for.body161
  %51 = phi i32 [ %.pre9110, %if.then177 ], [ %49, %for.body161 ]
  %cmp185 = icmp eq i32 %51, 2
  br i1 %cmp185, label %land.lhs.true187, label %for.inc

land.lhs.true187:                                 ; preds = %if.end183
  %structure193 = getelementptr inbounds %struct.storable_picture* %48, i64 0, i32 0
  %52 = load i32* %structure193, align 4, !tbaa !1
  %cmp194 = icmp eq i32 %52, 2
  br i1 %cmp194, label %for.inc, label %if.then196

if.then196:                                       ; preds = %land.lhs.true187
  store i32 2, i32* %chroma_vector_adjustment, align 4, !tbaa !3
  br label %for.inc

for.inc:                                          ; preds = %land.lhs.true168, %land.lhs.true187, %if.end183, %if.then196
  %indvars.iv.next9054 = add i64 %indvars.iv9053, 1
  %53 = load i32* %arrayidx158, align 4, !tbaa !3
  %54 = trunc i64 %indvars.iv.next9054 to i32
  %cmp159 = icmp slt i32 %54, %53
  br i1 %cmp159, label %for.body161, label %for.inc203

for.inc203:                                       ; preds = %for.inc, %for.cond156.preheader
  %indvars.iv.next9056 = add i64 %indvars.iv9055, 1
  %55 = add nsw i32 %list_offset.0, 1
  %56 = trunc i64 %indvars.iv9055 to i32
  %cmp154 = icmp slt i32 %56, %55
  br i1 %cmp154, label %for.cond156.preheader, label %if.end295

if.else206:                                       ; preds = %lor.end146
  br i1 %22, label %for.cond215.preheader, label %for.cond277.preheader

for.cond215.preheader:                            ; preds = %if.else206, %for.inc267
  %indvars.iv9059 = phi i64 [ %indvars.iv.next9060, %for.inc267 ], [ %46, %if.else206 ]
  %arrayidx217 = getelementptr inbounds [6 x i32]* @listXsize, i64 0, i64 %indvars.iv9059
  %57 = load i32* %arrayidx217, align 4, !tbaa !3
  %cmp2188610 = icmp sgt i32 %57, 0
  br i1 %cmp2188610, label %for.body220.lr.ph, label %for.inc267

for.body220.lr.ph:                                ; preds = %for.cond215.preheader
  %arrayidx223 = getelementptr inbounds [6 x %struct.storable_picture**]* @listX, i64 0, i64 %indvars.iv9059
  %.pre9107 = load %struct.storable_picture*** %arrayidx223, align 8, !tbaa !0
  br label %for.body220

for.body220:                                      ; preds = %for.body220.lr.ph, %for.inc264
  %indvars.iv9057 = phi i64 [ 0, %for.body220.lr.ph ], [ %indvars.iv.next9058, %for.inc264 ]
  %arrayidx224 = getelementptr inbounds %struct.storable_picture** %.pre9107, i64 %indvars.iv9057
  %58 = load %struct.storable_picture** %arrayidx224, align 8, !tbaa !0
  %chroma_vector_adjustment225 = getelementptr inbounds %struct.storable_picture* %58, i64 0, i32 22
  store i32 0, i32* %chroma_vector_adjustment225, align 4, !tbaa !3
  %current_mb_nr226 = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 3
  %59 = load i32* %current_mb_nr226, align 4, !tbaa !3
  %rem2278195 = and i32 %59, 1
  %cmp228 = icmp eq i32 %rem2278195, 0
  br i1 %cmp228, label %land.lhs.true230, label %if.end244

land.lhs.true230:                                 ; preds = %for.body220
  %structure235 = getelementptr inbounds %struct.storable_picture* %58, i64 0, i32 0
  %60 = load i32* %structure235, align 4, !tbaa !1
  %cmp236 = icmp eq i32 %60, 2
  br i1 %cmp236, label %if.then238, label %if.end244

if.then238:                                       ; preds = %land.lhs.true230
  store i32 -2, i32* %chroma_vector_adjustment225, align 4, !tbaa !3
  %.pre9108 = load i32* %current_mb_nr226, align 4, !tbaa !3
  br label %if.end244

if.end244:                                        ; preds = %if.then238, %land.lhs.true230, %for.body220
  %61 = phi i32 [ %.pre9108, %if.then238 ], [ %59, %land.lhs.true230 ], [ %59, %for.body220 ]
  %rem246 = srem i32 %61, 2
  %cmp247 = icmp eq i32 %rem246, 1
  br i1 %cmp247, label %land.lhs.true249, label %for.inc264

land.lhs.true249:                                 ; preds = %if.end244
  %structure254 = getelementptr inbounds %struct.storable_picture* %58, i64 0, i32 0
  %62 = load i32* %structure254, align 4, !tbaa !1
  %cmp255 = icmp eq i32 %62, 1
  br i1 %cmp255, label %if.then257, label %for.inc264

if.then257:                                       ; preds = %land.lhs.true249
  store i32 2, i32* %chroma_vector_adjustment225, align 4, !tbaa !3
  br label %for.inc264

for.inc264:                                       ; preds = %if.end244, %land.lhs.true249, %if.then257
  %indvars.iv.next9058 = add i64 %indvars.iv9057, 1
  %63 = load i32* %arrayidx217, align 4, !tbaa !3
  %64 = trunc i64 %indvars.iv.next9058 to i32
  %cmp218 = icmp slt i32 %64, %63
  br i1 %cmp218, label %for.body220, label %for.inc267

for.inc267:                                       ; preds = %for.inc264, %for.cond215.preheader
  %indvars.iv.next9060 = add i64 %indvars.iv9059, 1
  %65 = add nsw i32 %list_offset.0, 1
  %66 = trunc i64 %indvars.iv9059 to i32
  %cmp212 = icmp slt i32 %66, %65
  br i1 %cmp212, label %for.cond215.preheader, label %if.end295

for.cond277.preheader:                            ; preds = %if.else206, %for.inc291
  %indvars.iv9063 = phi i64 [ %indvars.iv.next9064, %for.inc291 ], [ %46, %if.else206 ]
  %arrayidx279 = getelementptr inbounds [6 x i32]* @listXsize, i64 0, i64 %indvars.iv9063
  %67 = load i32* %arrayidx279, align 4, !tbaa !3
  %cmp2808614 = icmp sgt i32 %67, 0
  br i1 %cmp2808614, label %for.body282.lr.ph, label %for.inc291

for.body282.lr.ph:                                ; preds = %for.cond277.preheader
  %arrayidx285 = getelementptr inbounds [6 x %struct.storable_picture**]* @listX, i64 0, i64 %indvars.iv9063
  %68 = load %struct.storable_picture*** %arrayidx285, align 8, !tbaa !0
  br label %for.body282

for.body282:                                      ; preds = %for.body282.lr.ph, %for.body282
  %indvars.iv9061 = phi i64 [ 0, %for.body282.lr.ph ], [ %indvars.iv.next9062, %for.body282 ]
  %arrayidx286 = getelementptr inbounds %struct.storable_picture** %68, i64 %indvars.iv9061
  %69 = load %struct.storable_picture** %arrayidx286, align 8, !tbaa !0
  %chroma_vector_adjustment287 = getelementptr inbounds %struct.storable_picture* %69, i64 0, i32 22
  store i32 0, i32* %chroma_vector_adjustment287, align 4, !tbaa !3
  %indvars.iv.next9062 = add i64 %indvars.iv9061, 1
  %70 = load i32* %arrayidx279, align 4, !tbaa !3
  %71 = trunc i64 %indvars.iv.next9062 to i32
  %cmp280 = icmp slt i32 %71, %70
  br i1 %cmp280, label %for.body282, label %for.inc291

for.inc291:                                       ; preds = %for.body282, %for.cond277.preheader
  %indvars.iv.next9064 = add i64 %indvars.iv9063, 1
  %72 = add nsw i32 %list_offset.0, 1
  %73 = trunc i64 %indvars.iv9063 to i32
  %cmp274 = icmp slt i32 %73, %72
  br i1 %cmp274, label %for.cond277.preheader, label %if.end295

if.end295:                                        ; preds = %for.inc291, %for.inc267, %for.inc203
  %rdopt296 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 85
  %74 = load i32* %rdopt296, align 4, !tbaa !3
  %tobool297 = icmp eq i32 %74, 0
  %qp299 = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 10
  %75 = load i32* %qp299, align 4, !tbaa !3
  br i1 %tobool297, label %if.else496, label %if.then298

if.then298:                                       ; preds = %if.end295
  %conv300 = sitofp i32 %75 to double
  %sub301 = fadd double %conv300, -1.200000e+01
  %UseExplicitLambdaParams = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 144
  %76 = load i32* %UseExplicitLambdaParams, align 4, !tbaa !3
  %tobool302 = icmp eq i32 %76, 0
  %type304 = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 6
  %77 = load i32* %type304, align 4, !tbaa !3
  %cmp305 = icmp eq i32 %77, 1
  br i1 %tobool302, label %if.else327, label %if.then303

if.then303:                                       ; preds = %if.then298
  br i1 %cmp305, label %land.lhs.true307, label %if.else315

land.lhs.true307:                                 ; preds = %if.then303
  %nal_reference_idc308 = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 113
  %78 = load i32* %nal_reference_idc308, align 4, !tbaa !3
  %tobool309 = icmp eq i32 %78, 0
  br i1 %tobool309, label %if.else315, label %if.then310

if.then310:                                       ; preds = %land.lhs.true307
  %arrayidx311 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 145, i64 5
  %79 = load double* %arrayidx311, align 8, !tbaa !6
  %bitdepth_lambda_scale = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 153
  %80 = load i32* %bitdepth_lambda_scale, align 4, !tbaa !3
  %conv312 = sitofp i32 %80 to double
  %div = fdiv double %sub301, 3.000000e+00
  %add313 = fadd double %conv312, %div
  %exp28194 = call double @exp2(double %add313) #7
  %mul = fmul double %79, %exp28194
  br label %if.end490

if.else315:                                       ; preds = %land.lhs.true307, %if.then303
  %idxprom317 = sext i32 %77 to i64
  %arrayidx319 = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 145, i64 %idxprom317
  %81 = load double* %arrayidx319, align 8, !tbaa !6
  %bitdepth_lambda_scale320 = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 153
  %82 = load i32* %bitdepth_lambda_scale320, align 4, !tbaa !3
  %conv321 = sitofp i32 %82 to double
  %div322 = fdiv double %sub301, 3.000000e+00
  %add323 = fadd double %conv321, %div322
  %exp28193 = call double @exp2(double %add323) #7
  %mul325 = fmul double %81, %exp28193
  br label %if.end490

if.else327:                                       ; preds = %if.then298
  br i1 %cmp305, label %land.lhs.true331, label %cond.false336

land.lhs.true331:                                 ; preds = %if.else327
  %nal_reference_idc332 = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 113
  %83 = load i32* %nal_reference_idc332, align 4, !tbaa !3
  %cmp333 = icmp eq i32 %83, 0
  br i1 %cmp333, label %cond.end340, label %cond.false336

cond.false336:                                    ; preds = %land.lhs.true331, %if.else327
  %jumpd = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 5
  %84 = load i32* %jumpd, align 4, !tbaa !3
  %conv337 = sitofp i32 %84 to double
  %mul338 = fmul double %conv337, 5.000000e-02
  %sub339 = fsub double 1.000000e+00, %mul338
  br label %cond.end340

cond.end340:                                      ; preds = %land.lhs.true331, %cond.false336
  %cond341 = phi double [ %sub339, %cond.false336 ], [ 1.000000e+00, %land.lhs.true331 ]
  %successive_Bframe = getelementptr inbounds %struct.InputParameters* %25, i64 0, i32 34
  %85 = load i32* %successive_Bframe, align 4, !tbaa !3
  %cmp342 = icmp sgt i32 %85, 0
  %bitdepth_lambda_scale345 = getelementptr inbounds %struct.ImageParameters* %44, i64 0, i32 153
  %86 = load i32* %bitdepth_lambda_scale345, align 4, !tbaa !3
  %conv346 = sitofp i32 %86 to double
  %div347 = fdiv double %sub301, 3.000000e+00
  %add348 = fadd double %conv346, %div347
  %exp2 = call double @exp2(double %add348) #7
  br i1 %cmp342, label %if.then344, label %if.else406

if.then344:                                       ; preds = %cond.end340
  %mul350 = fmul double %exp2, 6.800000e-01
  br i1 %cmp15, label %cond.true352, label %cond.false375

cond.true352:                                     ; preds = %if.then344
  %div353 = fdiv double %sub301, 6.000000e+00
  %cmp354 = fcmp ogt double %div353, 4.000000e+00
  br i1 %cmp354, label %cond.end403, label %cond.false357

cond.false357:                                    ; preds = %cond.true352
  %phitmp8192 = fcmp olt double %div353, 2.000000e+00
  %.mux8199.div353 = select i1 %phitmp8192, double 2.000000e+00, double %div353
  br label %cond.end403

cond.false375:                                    ; preds = %if.then344
  br i1 %cmp10, label %cond.true377, label %cond.end403

cond.true377:                                     ; preds = %cond.false375
  %div378 = fdiv double %sub301, 1.200000e+01
  %cmp379 = fcmp ogt double %div378, 3.000000e+00
  br i1 %cmp379, label %cond.end403, label %cond.false382

cond.false382:                                    ; preds = %cond.true377
  %phitmp8191 = fcmp olt double %div378, 1.400000e+00
  %.mux8201.div378 = select i1 %phitmp8191, double 1.400000e+00, double %div378
  br label %cond.end403

cond.end403:                                      ; preds = %cond.false382, %cond.false357, %cond.true377, %cond.true352, %cond.false375
  %cond404 = phi double [ 1.000000e+00, %cond.false375 ], [ 4.000000e+00, %cond.true352 ], [ 3.000000e+00, %cond.true377 ], [ %.mux8199.div353, %cond.false357 ], [ %.mux8201.div378, %cond.false382 ]
  %mul405 = fmul double %mul350, %cond404
  br label %if.end446

if.else406:                                       ; preds = %cond.end340
  %mul412 = fmul double %exp2, 8.500000e-01
  %cmp10.not = xor i1 %cmp10, true
  %brmerge8202 = or i1 %cmp15, %cmp10.not
  %.mux8203 = select i1 %cmp15, double 4.000000e+00, double 1.000000e+00
  br i1 %brmerge8202, label %cond.end443, label %cond.true417

cond.true417:                                     ; preds = %if.else406
  %div418 = fdiv double %sub301, 1.200000e+01
  %cmp419 = fcmp ogt double %div418, 3.000000e+00
  br i1 %cmp419, label %cond.end443, label %cond.false422

cond.false422:                                    ; preds = %cond.true417
  %phitmp8190 = fcmp olt double %div418, 1.400000e+00
  %.mux8205.div418 = select i1 %phitmp8190, double 1.400000e+00, double %div418
  br label %cond.end443

cond.end443:                                      ; preds = %cond.false422, %cond.true417, %if.else406
  %cond444 = phi double [ %.mux8203, %if.else406 ], [ 3.000000e+00, %cond.true417 ], [ %.mux8205.div418, %cond.false422 ]
  %mul445 = fmul double %mul412, %cond444
  br label %if.end446

if.end446:                                        ; preds = %cond.end443, %cond.end403
  %lambda_mode.0 = phi double [ %mul405, %cond.end403 ], [ %mul445, %cond.end443 ]
  %87 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %PyramidCoding = getelementptr inbounds %struct.InputParameters* %87, i64 0, i32 55
  %88 = load i32* %PyramidCoding, align 4, !tbaa !3
  %cmp447 = icmp eq i32 %88, 2
  %89 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %type450 = getelementptr inbounds %struct.ImageParameters* %89, i64 0, i32 6
  %90 = load i32* %type450, align 4, !tbaa !3
  %cmp451 = icmp eq i32 %90, 1
  br i1 %cmp447, label %if.then449, label %if.else478

if.then449:                                       ; preds = %if.end446
  br i1 %cmp451, label %land.lhs.true453, label %if.end488

land.lhs.true453:                                 ; preds = %if.then449
  %nal_reference_idc454 = getelementptr inbounds %struct.ImageParameters* %89, i64 0, i32 113
  %91 = load i32* %nal_reference_idc454, align 4, !tbaa !3
  %tobool455 = icmp eq i32 %91, 0
  br i1 %tobool455, label %if.end488, label %if.then456

if.then456:                                       ; preds = %land.lhs.true453
  %b_frame_to_code = getelementptr inbounds %struct.ImageParameters* %89, i64 0, i32 67
  %92 = load i32* %b_frame_to_code, align 4, !tbaa !3
  %sub457 = add nsw i32 %92, -1
  %idxprom458 = sext i32 %sub457 to i64
  %93 = load %struct.GOP_DATA** @gop_structure, align 8, !tbaa !0
  %pyramid_layer = getelementptr inbounds %struct.GOP_DATA* %93, i64 %idxprom458, i32 4
  %94 = load i32* %pyramid_layer, align 4, !tbaa !3
  %conv460 = sitofp i32 %94 to double
  %mul461 = fmul double %conv460, 2.000000e-01
  %cmp462 = fcmp ogt double %mul461, 4.000000e-01
  %cond474 = select i1 %cmp462, double 4.000000e-01, double %mul461
  %sub475 = fsub double 1.000000e+00, %cond474
  %mul476 = fmul double %lambda_mode.0, %sub475
  br label %if.end488

if.else478:                                       ; preds = %if.end446
  br i1 %cmp451, label %land.lhs.true482, label %if.end488

land.lhs.true482:                                 ; preds = %if.else478
  %nal_reference_idc483 = getelementptr inbounds %struct.ImageParameters* %89, i64 0, i32 113
  %95 = load i32* %nal_reference_idc483, align 4, !tbaa !3
  %tobool484 = icmp eq i32 %95, 0
  br i1 %tobool484, label %if.end488, label %if.then485

if.then485:                                       ; preds = %land.lhs.true482
  %mul486 = fmul double %lambda_mode.0, 8.000000e-01
  br label %if.end488

if.end488:                                        ; preds = %land.lhs.true453, %land.lhs.true482, %if.else478, %if.then485, %if.then449, %if.then456
  %lambda_mode.1 = phi double [ %mul476, %if.then456 ], [ %lambda_mode.0, %land.lhs.true453 ], [ %lambda_mode.0, %if.then449 ], [ %mul486, %if.then485 ], [ %lambda_mode.0, %land.lhs.true482 ], [ %lambda_mode.0, %if.else478 ]
  %mul489 = fmul double %cond341, %lambda_mode.1
  br label %if.end490

if.end490:                                        ; preds = %if.then310, %if.else315, %if.end488
  %lambda_mode.2 = phi double [ %mul, %if.then310 ], [ %mul325, %if.else315 ], [ %mul489, %if.end488 ]
  %96 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %hadamardqpel = getelementptr inbounds %struct.InputParameters* %96, i64 0, i32 7
  %97 = load i32* %hadamardqpel, align 4, !tbaa !3
  %tobool491 = icmp eq i32 %97, 0
  br i1 %tobool491, label %if.end494, label %if.then492

if.then492:                                       ; preds = %if.end490
  %mul493 = fmul double %lambda_mode.2, 9.500000e-01
  br label %if.end494

if.end494:                                        ; preds = %if.end490, %if.then492
  %lambda_mode.3 = phi double [ %mul493, %if.then492 ], [ %lambda_mode.2, %if.end490 ]
  %call495 = call double @sqrt(double %lambda_mode.3) #8
  %.pre9065 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %if.end510

if.else496:                                       ; preds = %if.end295
  %sub498 = add nsw i32 %75, -12
  %cmp499 = icmp slt i32 %sub498, 0
  %phitmp = sext i32 %sub498 to i64
  %.phitmp = select i1 %cmp499, i64 0, i64 %phitmp
  %arrayidx508 = getelementptr inbounds [40 x i32]* @QP2QUANT, i64 0, i64 %.phitmp
  %98 = load i32* %arrayidx508, align 4, !tbaa !3
  %conv509 = sitofp i32 %98 to double
  br label %if.end510

if.end510:                                        ; preds = %if.else496, %if.end494
  %99 = phi %struct.ImageParameters* [ %.pre9065, %if.end494 ], [ %44, %if.else496 ]
  %lambda_motion.0 = phi double [ %call495, %if.end494 ], [ %conv509, %if.else496 ]
  %lambda_mode.4 = phi double [ %lambda_mode.3, %if.end494 ], [ %conv509, %if.else496 ]
  %mul511 = fmul double %lambda_motion.0, 6.553600e+04
  %add512 = fadd double %mul511, 5.000000e-01
  %scevgep = getelementptr %struct.ImageParameters* %99, i64 0, i32 74, i64 0
  %scevgep9052 = bitcast i16* %scevgep to i8*
  call void @llvm.memset.p0i8.i64(i8* %scevgep9052, i8 0, i64 30, i32 2, i1 false)
  %conv513 = fptosi double %add512 to i32
  %c_ipred_mode = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 20
  %luma_transform_size_8x8_flag4691 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 32
  %NoMbPartLessThan8x8Flag = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 33
  %cmp15.not8265 = xor i1 %cmp15, true
  %cbp5202 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 12
  %mb_type4962 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 8
  %mul4726 = fmul double %lambda_motion.0, 1.600000e+01
  %add4727 = fadd double %mul4726, 4.999000e-01
  %idxprom5808171 = zext i32 %list_offset.0 to i64
  %arrayidx581 = getelementptr inbounds [6 x i32]* @listXsize, i64 0, i64 %idxprom5808171
  %add13498183 = or i32 %list_offset.0, 1
  %idxprom13508184 = zext i32 %add13498183 to i64
  %arrayidx647 = getelementptr inbounds [6 x i32]* @listXsize, i64 0, i64 %idxprom13508184
  %mul781 = fmul double %lambda_motion.0, 2.000000e+00
  %mul782 = fmul double %mul781, 0.000000e+00
  %conv783 = fptosi double %mul782 to i32
  %all_blk_8x8 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 31
  %cond2996 = xor i32 %conv16, 1
  %100 = zext i32 %cond2996 to i64
  br label %for.body526

for.body526:                                      ; preds = %if.end510, %for.inc5577
  %rerun.08605 = phi i32 [ 0, %if.end510 ], [ %inc5578, %for.inc5577 ]
  %cr_cbp.08604 = phi i32 [ 0, %if.end510 ], [ %cr_cbp.13, %for.inc5577 ]
  %best_bw_ref.08603 = phi i16 [ -1, %if.end510 ], [ %best_bw_ref.24, %for.inc5577 ]
  %cost8x8_direct.08602 = phi i32 [ 0, %if.end510 ], [ %cost8x8_direct.9, %for.inc5577 ]
  %best_transform_flag.08601 = phi i32 [ 0, %if.end510 ], [ %best_transform_flag.3, %for.inc5577 ]
  %intra1.08600 = phi i32 [ 0, %if.end510 ], [ %intra1.1, %for.inc5577 ]
  %have_direct.08599 = phi i32 [ 0, %if.end510 ], [ %have_direct.14, %for.inc5577 ]
  %cost_direct.08598 = phi i32 [ 0, %if.end510 ], [ %cost_direct.16, %for.inc5577 ]
  %best_fw_ref.08597 = phi i16 [ 0, %if.end510 ], [ %best_fw_ref.24, %for.inc5577 ]
  %best_cnt_nonz.08596 = phi i32 [ 0, %if.end510 ], [ %best_cnt_nonz.14, %for.inc5577 ]
  %rdcost.08595 = phi double [ 0.000000e+00, %if.end510 ], [ %rdcost.12, %for.inc5577 ]
  br i1 %12, label %if.then529, label %if.end537

if.then529:                                       ; preds = %for.body526
  %cmp530 = icmp eq i32 %rerun.08605, 0
  %101 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt533 = getelementptr inbounds %struct.InputParameters* %101, i64 0, i32 85
  br i1 %cmp530, label %if.then532, label %if.else534

if.then532:                                       ; preds = %if.then529
  store i32 1, i32* %rdopt533, align 4, !tbaa !3
  br label %if.end537

if.else534:                                       ; preds = %if.then529
  store i32 2, i32* %rdopt533, align 4, !tbaa !3
  br label %if.end537

if.end537:                                        ; preds = %if.then532, %if.else534, %for.body526
  store i32 0, i32* %c_ipred_mode, align 4, !tbaa !3
  br i1 %tobool83, label %if.end3941, label %if.then539

if.then539:                                       ; preds = %if.end537
  br i1 %cmp15, label %if.then541, label %if.end542

if.then541:                                       ; preds = %if.then539
  call void (...)* @Get_Direct_Motion_Vectors() #8
  br label %if.end542

if.end542:                                        ; preds = %if.then541, %if.then539
  store i32 1, i32* @best_mode, align 4, !tbaa !3
  br label %for.body546

for.body546:                                      ; preds = %for.inc2163, %if.end542
  %indvars.iv8735 = phi i64 [ 1, %if.end542 ], [ %indvars.iv.next8736, %for.inc2163 ]
  %best_bw_ref.18387 = phi i16 [ %best_bw_ref.08603, %if.end542 ], [ %best_bw_ref.6, %for.inc2163 ]
  %best_transform_flag.18386 = phi i32 [ %best_transform_flag.08601, %if.end542 ], [ %best_transform_flag.2, %for.inc2163 ]
  %min_cost.18385 = phi i32 [ 2147483647, %if.end542 ], [ %min_cost.2, %for.inc2163 ]
  %best_fw_ref.18384 = phi i16 [ %best_fw_ref.08597, %if.end542 ], [ %best_fw_ref.6, %for.inc2163 ]
  store i32 0, i32* @bi_pred_me, align 4, !tbaa !3
  %102 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %arrayidx549 = getelementptr inbounds %struct.ImageParameters* %102, i64 0, i32 74, i64 %indvars.iv8735
  store i16 0, i16* %arrayidx549, align 2, !tbaa !4
  %arrayidx551 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 %indvars.iv8735
  %103 = load i32* %arrayidx551, align 4, !tbaa !3
  %tobool552 = icmp eq i32 %103, 0
  br i1 %tobool552, label %for.inc2163, label %if.then553

if.then553:                                       ; preds = %for.body546
  store i32 0, i32* %cost, align 4, !tbaa !3
  %104 = trunc i64 %indvars.iv8735 to i32
  %cmp555 = icmp eq i32 %104, 1
  %cond557 = select i1 %cmp555, i32 1, i32 2
  %cmp2134 = icmp sgt i32 %104, 1
  %cmp1540 = icmp eq i32 %104, 2
  %cmp555.not = xor i1 %cmp555, true
  br label %for.body560

for.body560:                                      ; preds = %if.then553, %for.inc2144
  %indvars.iv8722 = phi i64 [ 0, %if.then553 ], [ %indvars.iv.next8723, %for.inc2144 ]
  %best_bw_ref.28382 = phi i16 [ %best_bw_ref.18387, %if.then553 ], [ %best_bw_ref.5, %for.inc2144 ]
  %best_fw_ref.28381 = phi i16 [ %best_fw_ref.18384, %if.then553 ], [ %best_fw_ref.5, %for.inc2144 ]
  %105 = trunc i64 %indvars.iv8722 to i32
  call void @PartitionMotionSearch(i32 %104, i32 %105, double %lambda_motion.0) #8
  %106 = load i32* %arrayidx581, align 4, !tbaa !3
  %cmp5828342 = icmp sgt i32 %106, 0
  br i1 %cmp5828342, label %for.body584.lr.ph, label %for.end640

for.body584.lr.ph:                                ; preds = %for.body560
  %107 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt595 = getelementptr inbounds %struct.InputParameters* %107, i64 0, i32 85
  %108 = load i32***** @motion_cost, align 8, !tbaa !0
  %arrayidx628 = getelementptr inbounds i32**** %108, i64 %indvars.iv8735
  %109 = load i32** @refbits, align 8, !tbaa !0
  br label %for.body584

for.body584:                                      ; preds = %for.body584.lr.ph, %for.inc638
  %conv5788347 = phi i32 [ 0, %for.body584.lr.ph ], [ %conv578, %for.inc638 ]
  %ref.08345 = phi i16 [ 0, %for.body584.lr.ph ], [ %inc639, %for.inc638 ]
  %best_fw_ref.38344 = phi i16 [ %best_fw_ref.28381, %for.body584.lr.ph ], [ %best_fw_ref.4, %for.inc638 ]
  %fw_mcost.08343 = phi i32 [ 2147483647, %for.body584.lr.ph ], [ %fw_mcost.1, %for.inc638 ]
  %cmp588 = icmp eq i16 %ref.08345, 0
  %or.cond8206 = or i1 %13, %cmp588
  br i1 %or.cond8206, label %if.then594, label %lor.lhs.false590

lor.lhs.false590:                                 ; preds = %for.body584
  %call592 = call i32 @CheckReliabilityOfRef(i32 %105, i32 0, i32 %conv5788347, i32 %104) #10
  %tobool593 = icmp eq i32 %call592, 0
  br i1 %tobool593, label %for.inc638, label %if.then594

if.then594:                                       ; preds = %lor.lhs.false590, %for.body584
  %110 = load i32* %rdopt595, align 4, !tbaa !3
  %tobool596 = icmp eq i32 %110, 0
  br i1 %tobool596, label %cond.false610, label %cond.true597

cond.true597:                                     ; preds = %if.then594
  %cmp601 = icmp slt i32 %106, 2
  br i1 %cmp601, label %cond.end607, label %cond.false604

cond.false604:                                    ; preds = %cond.true597
  %idxprom605 = sext i16 %ref.08345 to i64
  %arrayidx606 = getelementptr inbounds i32* %109, i64 %idxprom605
  %111 = load i32* %arrayidx606, align 4, !tbaa !3
  br label %cond.end607

cond.end607:                                      ; preds = %cond.true597, %cond.false604
  %cond608 = phi i32 [ %111, %cond.false604 ], [ 0, %cond.true597 ]
  %mul609 = mul nsw i32 %cond608, %conv513
  %shr = ashr i32 %mul609, 16
  br label %cond.end623

cond.false610:                                    ; preds = %if.then594
  %cmp613 = icmp slt i16 %ref.08345, 1
  br i1 %cmp613, label %cond.true615, label %cond.end618

cond.true615:                                     ; preds = %cond.false610
  %phitmp8189 = sitofp i16 %ref.08345 to double
  br label %cond.end618

cond.end618:                                      ; preds = %cond.false610, %cond.true615
  %cond619 = phi double [ %phitmp8189, %cond.true615 ], [ 1.000000e+00, %cond.false610 ]
  %mul621 = fmul double %mul781, %cond619
  %conv622 = fptosi double %mul621 to i32
  br label %cond.end623

cond.end623:                                      ; preds = %cond.end618, %cond.end607
  %cond624 = phi i32 [ %shr, %cond.end607 ], [ %conv622, %cond.end618 ]
  %idxprom626 = sext i16 %ref.08345 to i64
  %112 = load i32**** %arrayidx628, align 8, !tbaa !0
  %113 = load i32*** %112, align 8, !tbaa !0
  %arrayidx630 = getelementptr inbounds i32** %113, i64 %idxprom626
  %114 = load i32** %arrayidx630, align 8, !tbaa !0
  %arrayidx631 = getelementptr inbounds i32* %114, i64 %indvars.iv8722
  %115 = load i32* %arrayidx631, align 4, !tbaa !3
  %add632 = add nsw i32 %115, %cond624
  %cmp633 = icmp slt i32 %add632, %fw_mcost.08343
  %add632.fw_mcost.0 = select i1 %cmp633, i32 %add632, i32 %fw_mcost.08343
  %ref.0.best_fw_ref.3 = select i1 %cmp633, i16 %ref.08345, i16 %best_fw_ref.38344
  br label %for.inc638

for.inc638:                                       ; preds = %cond.end623, %lor.lhs.false590
  %fw_mcost.1 = phi i32 [ %fw_mcost.08343, %lor.lhs.false590 ], [ %add632.fw_mcost.0, %cond.end623 ]
  %best_fw_ref.4 = phi i16 [ %best_fw_ref.38344, %lor.lhs.false590 ], [ %ref.0.best_fw_ref.3, %cond.end623 ]
  %inc639 = add i16 %ref.08345, 1
  %conv578 = sext i16 %inc639 to i32
  %cmp582 = icmp slt i32 %conv578, %106
  br i1 %cmp582, label %for.body584, label %for.end640

for.end640:                                       ; preds = %for.inc638, %for.body560
  %best_fw_ref.3.lcssa = phi i16 [ %best_fw_ref.28381, %for.body560 ], [ %best_fw_ref.4, %for.inc638 ]
  %fw_mcost.0.lcssa = phi i32 [ 2147483647, %for.body560 ], [ %fw_mcost.1, %for.inc638 ]
  br i1 %cmp15, label %for.cond643.preheader, label %if.else923

for.cond643.preheader:                            ; preds = %for.end640
  %116 = load i32* %arrayidx647, align 4, !tbaa !3
  %cmp6488352 = icmp sgt i32 %116, 0
  %117 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt6518353 = getelementptr inbounds %struct.InputParameters* %117, i64 0, i32 85
  %118 = load i32* %rdopt6518353, align 4, !tbaa !3
  %tobool6528354 = icmp ne i32 %118, 0
  br i1 %cmp6488352, label %for.body650.lr.ph, label %for.end696

for.body650.lr.ph:                                ; preds = %for.cond643.preheader
  %119 = load i32** @refbits, align 8, !tbaa !0
  %120 = load i32***** @motion_cost, align 8, !tbaa !0
  %arrayidx685 = getelementptr inbounds i32**** %120, i64 %indvars.iv8735
  %121 = load i32**** %arrayidx685, align 8, !tbaa !0
  %arrayidx686 = getelementptr inbounds i32*** %121, i64 1
  %122 = load i32*** %arrayidx686, align 8, !tbaa !0
  br label %for.body650

for.body650:                                      ; preds = %for.body650.lr.ph, %cond.end680
  %best_bw_ref.38357 = phi i16 [ %best_bw_ref.28382, %for.body650.lr.ph ], [ %ref.1.best_bw_ref.3, %cond.end680 ]
  %ref.18356 = phi i16 [ 0, %for.body650.lr.ph ], [ %inc695, %cond.end680 ]
  %bw_mcost.08355 = phi i32 [ 2147483647, %for.body650.lr.ph ], [ %add689.bw_mcost.0, %cond.end680 ]
  br i1 %tobool6528354, label %cond.true653, label %cond.false667

cond.true653:                                     ; preds = %for.body650
  %cmp657 = icmp slt i32 %116, 2
  br i1 %cmp657, label %cond.end663, label %cond.false660

cond.false660:                                    ; preds = %cond.true653
  %idxprom661 = sext i16 %ref.18356 to i64
  %arrayidx662 = getelementptr inbounds i32* %119, i64 %idxprom661
  %123 = load i32* %arrayidx662, align 4, !tbaa !3
  br label %cond.end663

cond.end663:                                      ; preds = %cond.true653, %cond.false660
  %cond664 = phi i32 [ %123, %cond.false660 ], [ 0, %cond.true653 ]
  %mul665 = mul nsw i32 %cond664, %conv513
  %shr666 = ashr i32 %mul665, 16
  br label %cond.end680

cond.false667:                                    ; preds = %for.body650
  %cmp670 = icmp slt i16 %ref.18356, 1
  br i1 %cmp670, label %cond.true672, label %cond.end675

cond.true672:                                     ; preds = %cond.false667
  %phitmp8188 = sitofp i16 %ref.18356 to double
  br label %cond.end675

cond.end675:                                      ; preds = %cond.false667, %cond.true672
  %cond676 = phi double [ %phitmp8188, %cond.true672 ], [ 1.000000e+00, %cond.false667 ]
  %mul678 = fmul double %mul781, %cond676
  %conv679 = fptosi double %mul678 to i32
  br label %cond.end680

cond.end680:                                      ; preds = %cond.end675, %cond.end663
  %cond681 = phi i32 [ %shr666, %cond.end663 ], [ %conv679, %cond.end675 ]
  %idxprom683 = sext i16 %ref.18356 to i64
  %arrayidx687 = getelementptr inbounds i32** %122, i64 %idxprom683
  %124 = load i32** %arrayidx687, align 8, !tbaa !0
  %arrayidx688 = getelementptr inbounds i32* %124, i64 %indvars.iv8722
  %125 = load i32* %arrayidx688, align 4, !tbaa !3
  %add689 = add nsw i32 %125, %cond681
  %cmp690 = icmp slt i32 %add689, %bw_mcost.08355
  %add689.bw_mcost.0 = select i1 %cmp690, i32 %add689, i32 %bw_mcost.08355
  %ref.1.best_bw_ref.3 = select i1 %cmp690, i16 %ref.18356, i16 %best_bw_ref.38357
  %inc695 = add i16 %ref.18356, 1
  %conv644 = sext i16 %inc695 to i32
  %cmp648 = icmp slt i32 %conv644, %116
  br i1 %cmp648, label %for.body650, label %for.end696

for.end696:                                       ; preds = %cond.end680, %for.cond643.preheader
  %best_bw_ref.3.lcssa = phi i16 [ %best_bw_ref.28382, %for.cond643.preheader ], [ %ref.1.best_bw_ref.3, %cond.end680 ]
  %bw_mcost.0.lcssa = phi i32 [ 2147483647, %for.cond643.preheader ], [ %add689.bw_mcost.0, %cond.end680 ]
  br i1 %tobool6528354, label %cond.true699, label %cond.false726

cond.true699:                                     ; preds = %for.end696
  %cmp703 = icmp slt i32 %106, 2
  br i1 %cmp703, label %cond.end709, label %cond.false706

cond.false706:                                    ; preds = %cond.true699
  %idxprom707 = sext i16 %best_fw_ref.3.lcssa to i64
  %126 = load i32** @refbits, align 8, !tbaa !0
  %arrayidx708 = getelementptr inbounds i32* %126, i64 %idxprom707
  %127 = load i32* %arrayidx708, align 4, !tbaa !3
  br label %cond.end709

cond.end709:                                      ; preds = %cond.true699, %cond.false706
  %cond710 = phi i32 [ %127, %cond.false706 ], [ 0, %cond.true699 ]
  %mul711 = mul nsw i32 %cond710, %conv513
  %shr712 = ashr i32 %mul711, 16
  %cmp716 = icmp slt i32 %116, 2
  br i1 %cmp716, label %cond.end721, label %cond.false719

cond.false719:                                    ; preds = %cond.end709
  %128 = load i32** @refbits, align 8, !tbaa !0
  %129 = load i32* %128, align 4, !tbaa !3
  br label %cond.end721

cond.end721:                                      ; preds = %cond.end709, %cond.false719
  %cond722 = phi i32 [ %129, %cond.false719 ], [ 0, %cond.end709 ]
  %mul723 = mul nsw i32 %cond722, %conv513
  %shr724 = ashr i32 %mul723, 16
  %add725 = add nsw i32 %shr724, %shr712
  br label %cond.end739

cond.false726:                                    ; preds = %for.end696
  %cmp729 = icmp slt i16 %best_fw_ref.3.lcssa, 1
  br i1 %cmp729, label %cond.true731, label %cond.end734

cond.true731:                                     ; preds = %cond.false726
  %phitmp8187 = sitofp i16 %best_fw_ref.3.lcssa to double
  br label %cond.end734

cond.end734:                                      ; preds = %cond.false726, %cond.true731
  %cond735 = phi double [ %phitmp8187, %cond.true731 ], [ 1.000000e+00, %cond.false726 ]
  %mul737 = fmul double %mul781, %cond735
  %conv738 = fptosi double %mul737 to i32
  br label %cond.end739

cond.end739:                                      ; preds = %cond.end734, %cond.end721
  %cond740 = phi i32 [ %add725, %cond.end721 ], [ %conv738, %cond.end734 ]
  %call741 = call i32 @BIDPartitionCost(i32 %104, i32 %105, i16 signext %best_fw_ref.3.lcssa, i16 signext 0, i32 %conv513) #8
  %add742 = add nsw i32 %call741, %cond740
  br i1 %cmp555, label %land.lhs.true745, label %if.end825

land.lhs.true745:                                 ; preds = %cond.end739
  %130 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %type746 = getelementptr inbounds %struct.ImageParameters* %130, i64 0, i32 6
  %131 = load i32* %type746, align 4, !tbaa !3
  %cmp747 = icmp eq i32 %131, 1
  br i1 %cmp747, label %land.lhs.true749, label %if.end825

land.lhs.true749:                                 ; preds = %land.lhs.true745
  %132 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %BiPredMotionEstimation = getelementptr inbounds %struct.InputParameters* %132, i64 0, i32 39
  %133 = load i32* %BiPredMotionEstimation, align 4, !tbaa !3
  %tobool750 = icmp eq i32 %133, 0
  br i1 %tobool750, label %if.end825, label %if.then751

if.then751:                                       ; preds = %land.lhs.true749
  %rdopt752 = getelementptr inbounds %struct.InputParameters* %132, i64 0, i32 85
  %134 = load i32* %rdopt752, align 4, !tbaa !3
  %tobool753 = icmp eq i32 %134, 0
  br i1 %tobool753, label %cond.end784, label %cond.true754

cond.true754:                                     ; preds = %if.then751
  %135 = load i32* %arrayidx581, align 4, !tbaa !3
  %cmp758 = icmp slt i32 %135, 2
  br i1 %cmp758, label %cond.end763, label %cond.false761

cond.false761:                                    ; preds = %cond.true754
  %136 = load i32** @refbits, align 8, !tbaa !0
  %137 = load i32* %136, align 4, !tbaa !3
  br label %cond.end763

cond.end763:                                      ; preds = %cond.true754, %cond.false761
  %cond764 = phi i32 [ %137, %cond.false761 ], [ 0, %cond.true754 ]
  %mul765 = mul nsw i32 %cond764, %conv513
  %shr766 = ashr i32 %mul765, 16
  %138 = load i32* %arrayidx647, align 4, !tbaa !3
  %cmp770 = icmp slt i32 %138, 2
  br i1 %cmp770, label %cond.end775, label %cond.false773

cond.false773:                                    ; preds = %cond.end763
  %139 = load i32** @refbits, align 8, !tbaa !0
  %140 = load i32* %139, align 4, !tbaa !3
  br label %cond.end775

cond.end775:                                      ; preds = %cond.end763, %cond.false773
  %cond776 = phi i32 [ %140, %cond.false773 ], [ 0, %cond.end763 ]
  %mul777 = mul nsw i32 %cond776, %conv513
  %shr778 = ashr i32 %mul777, 16
  %add779 = add nsw i32 %shr778, %shr766
  br label %cond.end784

cond.end784:                                      ; preds = %if.then751, %cond.end775
  %cond785 = phi i32 [ %add779, %cond.end775 ], [ %conv783, %if.then751 ]
  %call786 = call i32 @BPredPartitionCost(i32 1, i32 %105, i16 signext 0, i16 signext 0, i32 %conv513, i32 0) #8
  %add787 = add nsw i32 %call786, %cond785
  %141 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt788 = getelementptr inbounds %struct.InputParameters* %141, i64 0, i32 85
  %142 = load i32* %rdopt788, align 4, !tbaa !3
  %tobool789 = icmp eq i32 %142, 0
  br i1 %tobool789, label %cond.end820, label %cond.true790

cond.true790:                                     ; preds = %cond.end784
  %143 = load i32* %arrayidx581, align 4, !tbaa !3
  %cmp794 = icmp slt i32 %143, 2
  br i1 %cmp794, label %cond.end799, label %cond.false797

cond.false797:                                    ; preds = %cond.true790
  %144 = load i32** @refbits, align 8, !tbaa !0
  %145 = load i32* %144, align 4, !tbaa !3
  br label %cond.end799

cond.end799:                                      ; preds = %cond.true790, %cond.false797
  %cond800 = phi i32 [ %145, %cond.false797 ], [ 0, %cond.true790 ]
  %mul801 = mul nsw i32 %cond800, %conv513
  %shr802 = ashr i32 %mul801, 16
  %146 = load i32* %arrayidx647, align 4, !tbaa !3
  %cmp806 = icmp slt i32 %146, 2
  br i1 %cmp806, label %cond.end811, label %cond.false809

cond.false809:                                    ; preds = %cond.end799
  %147 = load i32** @refbits, align 8, !tbaa !0
  %148 = load i32* %147, align 4, !tbaa !3
  br label %cond.end811

cond.end811:                                      ; preds = %cond.end799, %cond.false809
  %cond812 = phi i32 [ %148, %cond.false809 ], [ 0, %cond.end799 ]
  %mul813 = mul nsw i32 %cond812, %conv513
  %shr814 = ashr i32 %mul813, 16
  %add815 = add nsw i32 %shr814, %shr802
  br label %cond.end820

cond.end820:                                      ; preds = %cond.end784, %cond.end811
  %cond821 = phi i32 [ %add815, %cond.end811 ], [ %conv783, %cond.end784 ]
  %call822 = call i32 @BPredPartitionCost(i32 1, i32 %105, i16 signext 0, i16 signext 0, i32 %conv513, i32 1) #8
  %add823 = add nsw i32 %call822, %cond821
  br label %if.end825

if.end825:                                        ; preds = %land.lhs.true745, %cond.end739, %land.lhs.true749, %cond.end820
  %bpd_mcost_l0.0 = phi i32 [ %add787, %cond.end820 ], [ 2147483647, %land.lhs.true749 ], [ 2147483647, %cond.end739 ], [ 2147483647, %land.lhs.true745 ]
  %bpd_mcost_l1.0 = phi i32 [ %add823, %cond.end820 ], [ 2147483647, %land.lhs.true749 ], [ 2147483647, %cond.end739 ], [ 2147483647, %land.lhs.true745 ]
  %149 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %BiPredMotionEstimation826 = getelementptr inbounds %struct.InputParameters* %149, i64 0, i32 39
  %150 = load i32* %BiPredMotionEstimation826, align 4, !tbaa !3
  %tobool827 = icmp eq i32 %150, 0
  %brmerge8207 = or i1 %tobool827, %cmp555.not
  %cmp903 = icmp sgt i32 %fw_mcost.0.lcssa, %bw_mcost.0.lcssa
  %cmp906 = icmp sgt i32 %fw_mcost.0.lcssa, %add742
  br i1 %brmerge8207, label %if.else902, label %if.then831

if.then831:                                       ; preds = %if.end825
  %or.cond8208.not.demorgan = or i1 %cmp903, %cmp906
  %or.cond8208.not = xor i1 %or.cond8208.not.demorgan, true
  %cmp838 = icmp slt i32 %fw_mcost.0.lcssa, %bpd_mcost_l0.0
  %or.cond8209 = and i1 %cmp838, %or.cond8208.not
  %cmp841 = icmp slt i32 %fw_mcost.0.lcssa, %bpd_mcost_l1.0
  %or.cond8210 = and i1 %or.cond8209, %cmp841
  br i1 %or.cond8210, label %if.then843, label %if.else845

if.then843:                                       ; preds = %if.then831
  %151 = load i32* %cost, align 4, !tbaa !3
  %add844 = add nsw i32 %151, %fw_mcost.0.lcssa
  store i32 %add844, i32* %cost, align 4, !tbaa !3
  br label %if.end925

if.else845:                                       ; preds = %if.then831
  %notlhs8306 = icmp sle i32 %bw_mcost.0.lcssa, %fw_mcost.0.lcssa
  %notrhs8307 = icmp sle i32 %bw_mcost.0.lcssa, %add742
  %or.cond8211.not = and i1 %notrhs8307, %notlhs8306
  %cmp852 = icmp slt i32 %bw_mcost.0.lcssa, %bpd_mcost_l0.0
  %or.cond8212 = and i1 %or.cond8211.not, %cmp852
  %cmp855 = icmp slt i32 %bw_mcost.0.lcssa, %bpd_mcost_l1.0
  %or.cond8213 = and i1 %or.cond8212, %cmp855
  br i1 %or.cond8213, label %if.then857, label %if.else859

if.then857:                                       ; preds = %if.else845
  %152 = load i32* %cost, align 4, !tbaa !3
  %add858 = add nsw i32 %152, %bw_mcost.0.lcssa
  store i32 %add858, i32* %cost, align 4, !tbaa !3
  br label %if.end925

if.else859:                                       ; preds = %if.else845
  %notlhs8308 = icmp sle i32 %add742, %fw_mcost.0.lcssa
  %notrhs8309 = icmp sle i32 %add742, %bw_mcost.0.lcssa
  %or.cond8214.not = and i1 %notrhs8309, %notlhs8308
  %cmp866 = icmp slt i32 %add742, %bpd_mcost_l0.0
  %or.cond8215 = and i1 %or.cond8214.not, %cmp866
  %cmp869 = icmp slt i32 %add742, %bpd_mcost_l1.0
  %or.cond8216 = and i1 %or.cond8215, %cmp869
  br i1 %or.cond8216, label %if.then871, label %if.else876

if.then871:                                       ; preds = %if.else859
  %153 = load i32* %cost, align 4, !tbaa !3
  %add872 = add nsw i32 %153, %add742
  store i32 %add872, i32* %cost, align 4, !tbaa !3
  store i32 0, i32* @bi_pred_me, align 4, !tbaa !3
  %154 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %arrayidx875 = getelementptr inbounds %struct.ImageParameters* %154, i64 0, i32 74, i64 %indvars.iv8735
  store i16 0, i16* %arrayidx875, align 2, !tbaa !4
  br label %if.end925

if.else876:                                       ; preds = %if.else859
  %or.cond8217 = or i1 %cmp838, %cmp852
  %or.cond8218 = or i1 %or.cond8217, %cmp866
  %cmp886 = icmp sgt i32 %bpd_mcost_l0.0, %bpd_mcost_l1.0
  %or.cond8219 = or i1 %or.cond8218, %cmp886
  %155 = load i32* %cost, align 4, !tbaa !3
  br i1 %or.cond8219, label %if.else893, label %if.then888

if.then888:                                       ; preds = %if.else876
  %add889 = add nsw i32 %155, %bpd_mcost_l0.0
  store i32 %add889, i32* %cost, align 4, !tbaa !3
  store i32 1, i32* @bi_pred_me, align 4, !tbaa !3
  %156 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %arrayidx892 = getelementptr inbounds %struct.ImageParameters* %156, i64 0, i32 74, i64 %indvars.iv8735
  store i16 1, i16* %arrayidx892, align 2, !tbaa !4
  br label %if.end925

if.else893:                                       ; preds = %if.else876
  %add894 = add nsw i32 %155, %bpd_mcost_l1.0
  store i32 %add894, i32* %cost, align 4, !tbaa !3
  store i32 2, i32* @bi_pred_me, align 4, !tbaa !3
  %157 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %arrayidx897 = getelementptr inbounds %struct.ImageParameters* %157, i64 0, i32 74, i64 %indvars.iv8735
  store i16 2, i16* %arrayidx897, align 2, !tbaa !4
  br label %if.end925

if.else902:                                       ; preds = %if.end825
  %or.cond8220 = or i1 %cmp903, %cmp906
  br i1 %or.cond8220, label %if.else910, label %if.then908

if.then908:                                       ; preds = %if.else902
  %158 = load i32* %cost, align 4, !tbaa !3
  %add909 = add nsw i32 %158, %fw_mcost.0.lcssa
  store i32 %add909, i32* %cost, align 4, !tbaa !3
  br label %if.end925

if.else910:                                       ; preds = %if.else902
  %cmp911 = icmp sgt i32 %bw_mcost.0.lcssa, %fw_mcost.0.lcssa
  %cmp914 = icmp sgt i32 %bw_mcost.0.lcssa, %add742
  %or.cond8221 = or i1 %cmp911, %cmp914
  %159 = load i32* %cost, align 4, !tbaa !3
  br i1 %or.cond8221, label %if.else918, label %if.then916

if.then916:                                       ; preds = %if.else910
  %add917 = add nsw i32 %159, %bw_mcost.0.lcssa
  store i32 %add917, i32* %cost, align 4, !tbaa !3
  br label %if.end925

if.else918:                                       ; preds = %if.else910
  %add919 = add nsw i32 %159, %add742
  store i32 %add919, i32* %cost, align 4, !tbaa !3
  br label %if.end925

if.else923:                                       ; preds = %for.end640
  %160 = load i32* %cost, align 4, !tbaa !3
  %add924 = add nsw i32 %160, %fw_mcost.0.lcssa
  store i32 %add924, i32* %cost, align 4, !tbaa !3
  br label %if.end925

if.end925:                                        ; preds = %if.then857, %if.then888, %if.else893, %if.then871, %if.then843, %if.then916, %if.else918, %if.then908, %if.else923
  %best_fw_ref.5 = phi i16 [ %best_fw_ref.3.lcssa, %if.then843 ], [ 0, %if.then857 ], [ %best_fw_ref.3.lcssa, %if.then871 ], [ 0, %if.then888 ], [ 0, %if.else893 ], [ %best_fw_ref.3.lcssa, %if.then908 ], [ 0, %if.then916 ], [ %best_fw_ref.3.lcssa, %if.else918 ], [ %best_fw_ref.3.lcssa, %if.else923 ]
  %best_pdir.0 = phi i16 [ 0, %if.then843 ], [ 1, %if.then857 ], [ 2, %if.then871 ], [ 2, %if.then888 ], [ 2, %if.else893 ], [ 0, %if.then908 ], [ 1, %if.then916 ], [ 2, %if.else918 ], [ 0, %if.else923 ]
  %best_bw_ref.5 = phi i16 [ 0, %if.then843 ], [ %best_bw_ref.3.lcssa, %if.then857 ], [ 0, %if.then871 ], [ 0, %if.then888 ], [ 0, %if.else893 ], [ 0, %if.then908 ], [ %best_bw_ref.3.lcssa, %if.then916 ], [ 0, %if.else918 ], [ %best_bw_ref.28382, %if.else923 ]
  br i1 %cmp555, label %if.then928, label %if.else1539

if.then928:                                       ; preds = %if.end925
  %cmp930 = icmp eq i16 %best_pdir.0, 1
  br i1 %cmp930, label %for.cond933.preheader, label %for.cond1004.preheader

for.cond933.preheader:                            ; preds = %if.then928
  %161 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y = getelementptr inbounds %struct.ImageParameters* %161, i64 0, i32 32
  %162 = load i32* %block_y, align 4, !tbaa !3
  %and = and i32 %105, 2
  %block_x = getelementptr inbounds %struct.ImageParameters* %161, i64 0, i32 31
  %163 = load i32* %block_x, align 4, !tbaa !3
  %164 = shl i64 %indvars.iv8722, 1
  %165 = trunc i64 %164 to i32
  %mul945 = and i32 %165, 2
  %166 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %ref_idx = getelementptr inbounds %struct.storable_picture* %166, i64 0, i32 32
  %167 = load i16**** %ref_idx, align 8, !tbaa !0
  %168 = load i16*** %167, align 8, !tbaa !0
  %ref_pic_id = getelementptr inbounds %struct.storable_picture* %166, i64 0, i32 33
  %169 = load i64**** %ref_pic_id, align 8, !tbaa !0
  %170 = load i64*** %169, align 8, !tbaa !0
  %mv = getelementptr inbounds %struct.storable_picture* %166, i64 0, i32 35
  %171 = load i16***** %mv, align 8, !tbaa !0
  %172 = load i16**** %171, align 8, !tbaa !0
  br label %for.cond937.preheader

for.cond1004.preheader:                           ; preds = %if.then928
  %and1028 = and i32 %105, 2
  %173 = shl i64 %indvars.iv8722, 1
  %174 = trunc i64 %173 to i32
  %mul1034 = and i32 %174, 2
  %idxprom1164 = sext i16 %best_fw_ref.5 to i64
  %.pre9104.pre = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %for.cond1008.preheader

for.cond937.preheader:                            ; preds = %for.inc1000, %for.cond933.preheader
  %indvars.iv8702 = phi i64 [ 0, %for.cond933.preheader ], [ %indvars.iv.next8703, %for.inc1000 ]
  %175 = trunc i64 %indvars.iv8702 to i32
  %add941 = add i32 %175, %and
  %add942 = add i32 %add941, %162
  %idxprom943 = sext i32 %add942 to i64
  br label %for.body940

for.body940:                                      ; preds = %for.body940, %for.cond937.preheader
  %indvars.iv8698 = phi i64 [ 0, %for.cond937.preheader ], [ %indvars.iv.next8699, %for.body940 ]
  %176 = trunc i64 %indvars.iv8698 to i32
  %add946 = add i32 %176, %mul945
  %add947 = add i32 %add946, %163
  %idxprom948 = sext i32 %add947 to i64
  %arrayidx950 = getelementptr inbounds i16** %168, i64 %idxprom948
  %177 = load i16** %arrayidx950, align 8, !tbaa !0
  %arrayidx951 = getelementptr inbounds i16* %177, i64 %idxprom943
  store i16 -1, i16* %arrayidx951, align 2, !tbaa !4
  %arrayidx964 = getelementptr inbounds i64** %170, i64 %idxprom948
  %178 = load i64** %arrayidx964, align 8, !tbaa !0
  %arrayidx965 = getelementptr inbounds i64* %178, i64 %idxprom943
  store i64 -1, i64* %arrayidx965, align 8, !tbaa !5
  %arrayidx978 = getelementptr inbounds i16*** %172, i64 %idxprom948
  %179 = load i16*** %arrayidx978, align 8, !tbaa !0
  %arrayidx979 = getelementptr inbounds i16** %179, i64 %idxprom943
  %180 = load i16** %arrayidx979, align 8, !tbaa !0
  store i16 0, i16* %180, align 2, !tbaa !4
  %arrayidx996 = getelementptr inbounds i16* %180, i64 1
  store i16 0, i16* %arrayidx996, align 2, !tbaa !4
  %indvars.iv.next8699 = add i64 %indvars.iv8698, 1
  %lftr.wideiv8700 = trunc i64 %indvars.iv.next8699 to i32
  %exitcond8701 = icmp eq i32 %lftr.wideiv8700, 4
  br i1 %exitcond8701, label %for.inc1000, label %for.body940

for.inc1000:                                      ; preds = %for.body940
  %indvars.iv.next8703 = add i64 %indvars.iv8702, 1
  %lftr.wideiv8704 = trunc i64 %indvars.iv.next8703 to i32
  %exitcond8705 = icmp eq i32 %lftr.wideiv8704, 4
  br i1 %exitcond8705, label %if.end1224, label %for.cond937.preheader

for.cond1008.preheader:                           ; preds = %for.inc1221, %for.cond1004.preheader
  %indvars.iv8694 = phi i64 [ 0, %for.cond1004.preheader ], [ %indvars.iv.next8695, %for.inc1221 ]
  %181 = trunc i64 %indvars.iv8694 to i32
  %add1029 = add i32 %181, %and1028
  br label %for.body1011

for.body1011:                                     ; preds = %for.inc1218, %for.cond1008.preheader
  %indvars.iv8690 = phi i64 [ 0, %for.cond1008.preheader ], [ %indvars.iv.next8691, %for.inc1218 ]
  %arrayidx1014 = getelementptr inbounds %struct.ImageParameters* %.pre9104.pre, i64 0, i32 74, i64 %indvars.iv8735
  %182 = load i16* %arrayidx1014, align 2, !tbaa !4
  switch i16 %182, label %cond.false1024 [
    i16 0, label %if.else1111
    i16 1, label %cond.true1023
  ]

cond.true1023:                                    ; preds = %for.body1011
  %bipred_mv1 = getelementptr inbounds %struct.ImageParameters* %.pre9104.pre, i64 0, i32 72
  br label %cond.end1025

cond.false1024:                                   ; preds = %for.body1011
  %bipred_mv2 = getelementptr inbounds %struct.ImageParameters* %.pre9104.pre, i64 0, i32 73
  br label %cond.end1025

cond.end1025:                                     ; preds = %cond.false1024, %cond.true1023
  %cond1026.in = phi i16******* [ %bipred_mv1, %cond.true1023 ], [ %bipred_mv2, %cond.false1024 ]
  %cond1026 = load i16******* %cond1026.in, align 8
  %block_y1027 = getelementptr inbounds %struct.ImageParameters* %.pre9104.pre, i64 0, i32 32
  %183 = load i32* %block_y1027, align 4, !tbaa !3
  %add1030 = add i32 %add1029, %183
  %idxprom1031 = sext i32 %add1030 to i64
  %block_x1032 = getelementptr inbounds %struct.ImageParameters* %.pre9104.pre, i64 0, i32 31
  %184 = load i32* %block_x1032, align 4, !tbaa !3
  %185 = trunc i64 %indvars.iv8690 to i32
  %add1035 = add i32 %185, %mul1034
  %add1036 = add i32 %add1035, %184
  %idxprom1037 = sext i32 %add1036 to i64
  %186 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %ref_idx1038 = getelementptr inbounds %struct.storable_picture* %186, i64 0, i32 32
  %187 = load i16**** %ref_idx1038, align 8, !tbaa !0
  %188 = load i16*** %187, align 8, !tbaa !0
  %arrayidx1040 = getelementptr inbounds i16** %188, i64 %idxprom1037
  %189 = load i16** %arrayidx1040, align 8, !tbaa !0
  %arrayidx1041 = getelementptr inbounds i16* %189, i64 %idxprom1031
  store i16 0, i16* %arrayidx1041, align 2, !tbaa !4
  %arrayidx1045 = getelementptr inbounds %struct.storable_picture* %186, i64 0, i32 6, i64 %idxprom5808171, i64 0
  %190 = load i64* %arrayidx1045, align 8, !tbaa !5
  %ref_pic_id1057 = getelementptr inbounds %struct.storable_picture* %186, i64 0, i32 33
  %191 = load i64**** %ref_pic_id1057, align 8, !tbaa !0
  %192 = load i64*** %191, align 8, !tbaa !0
  %arrayidx1059 = getelementptr inbounds i64** %192, i64 %idxprom1037
  %193 = load i64** %arrayidx1059, align 8, !tbaa !0
  %arrayidx1060 = getelementptr inbounds i64* %193, i64 %idxprom1031
  store i64 %190, i64* %arrayidx1060, align 8, !tbaa !5
  %arrayidx1064 = getelementptr inbounds i16****** %cond1026, i64 %indvars.iv8690
  %194 = load i16****** %arrayidx1064, align 8, !tbaa !0
  %arrayidx1065 = getelementptr inbounds i16***** %194, i64 %indvars.iv8694
  %195 = load i16***** %arrayidx1065, align 8, !tbaa !0
  %196 = load i16**** %195, align 8, !tbaa !0
  %197 = load i16*** %196, align 8, !tbaa !0
  %arrayidx1068 = getelementptr inbounds i16** %197, i64 %indvars.iv8735
  %198 = load i16** %arrayidx1068, align 8, !tbaa !0
  %199 = load i16* %198, align 2, !tbaa !4
  %mv1081 = getelementptr inbounds %struct.storable_picture* %186, i64 0, i32 35
  %200 = load i16***** %mv1081, align 8, !tbaa !0
  %201 = load i16**** %200, align 8, !tbaa !0
  %arrayidx1083 = getelementptr inbounds i16*** %201, i64 %idxprom1037
  %202 = load i16*** %arrayidx1083, align 8, !tbaa !0
  %arrayidx1084 = getelementptr inbounds i16** %202, i64 %idxprom1031
  %203 = load i16** %arrayidx1084, align 8, !tbaa !0
  store i16 %199, i16* %203, align 2, !tbaa !4
  %arrayidx1094 = getelementptr inbounds i16* %198, i64 1
  %204 = load i16* %arrayidx1094, align 2, !tbaa !4
  %arrayidx1110 = getelementptr inbounds i16* %203, i64 1
  store i16 %204, i16* %arrayidx1110, align 2, !tbaa !4
  br label %for.inc1218

if.else1111:                                      ; preds = %for.body1011
  %block_y1112 = getelementptr inbounds %struct.ImageParameters* %.pre9104.pre, i64 0, i32 32
  %205 = load i32* %block_y1112, align 4, !tbaa !3
  %add1115 = add i32 %add1029, %205
  %idxprom1116 = sext i32 %add1115 to i64
  %block_x1117 = getelementptr inbounds %struct.ImageParameters* %.pre9104.pre, i64 0, i32 31
  %206 = load i32* %block_x1117, align 4, !tbaa !3
  %207 = trunc i64 %indvars.iv8690 to i32
  %add1120 = add i32 %207, %mul1034
  %add1121 = add i32 %add1120, %206
  %idxprom1122 = sext i32 %add1121 to i64
  %208 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %ref_idx1123 = getelementptr inbounds %struct.storable_picture* %208, i64 0, i32 32
  %209 = load i16**** %ref_idx1123, align 8, !tbaa !0
  %210 = load i16*** %209, align 8, !tbaa !0
  %arrayidx1125 = getelementptr inbounds i16** %210, i64 %idxprom1122
  %211 = load i16** %arrayidx1125, align 8, !tbaa !0
  %arrayidx1126 = getelementptr inbounds i16* %211, i64 %idxprom1116
  store i16 %best_fw_ref.5, i16* %arrayidx1126, align 2, !tbaa !4
  %arrayidx1147 = getelementptr inbounds %struct.storable_picture* %208, i64 0, i32 6, i64 %idxprom5808171, i64 %idxprom1164
  %212 = load i64* %arrayidx1147, align 8, !tbaa !5
  %ref_pic_id1159 = getelementptr inbounds %struct.storable_picture* %208, i64 0, i32 33
  %213 = load i64**** %ref_pic_id1159, align 8, !tbaa !0
  %214 = load i64*** %213, align 8, !tbaa !0
  %arrayidx1161 = getelementptr inbounds i64** %214, i64 %idxprom1122
  %215 = load i64** %arrayidx1161, align 8, !tbaa !0
  %arrayidx1162 = getelementptr inbounds i64* %215, i64 %idxprom1116
  store i64 %212, i64* %arrayidx1162, align 8, !tbaa !5
  %all_mv1167 = getelementptr inbounds %struct.ImageParameters* %.pre9104.pre, i64 0, i32 71
  %216 = load i16******* %all_mv1167, align 8, !tbaa !0
  %arrayidx1168 = getelementptr inbounds i16****** %216, i64 %indvars.iv8690
  %217 = load i16****** %arrayidx1168, align 8, !tbaa !0
  %arrayidx1169 = getelementptr inbounds i16***** %217, i64 %indvars.iv8694
  %218 = load i16***** %arrayidx1169, align 8, !tbaa !0
  %219 = load i16**** %218, align 8, !tbaa !0
  %arrayidx1171 = getelementptr inbounds i16*** %219, i64 %idxprom1164
  %220 = load i16*** %arrayidx1171, align 8, !tbaa !0
  %arrayidx1172 = getelementptr inbounds i16** %220, i64 %indvars.iv8735
  %221 = load i16** %arrayidx1172, align 8, !tbaa !0
  %222 = load i16* %221, align 2, !tbaa !4
  %mv1185 = getelementptr inbounds %struct.storable_picture* %208, i64 0, i32 35
  %223 = load i16***** %mv1185, align 8, !tbaa !0
  %224 = load i16**** %223, align 8, !tbaa !0
  %arrayidx1187 = getelementptr inbounds i16*** %224, i64 %idxprom1122
  %225 = load i16*** %arrayidx1187, align 8, !tbaa !0
  %arrayidx1188 = getelementptr inbounds i16** %225, i64 %idxprom1116
  %226 = load i16** %arrayidx1188, align 8, !tbaa !0
  store i16 %222, i16* %226, align 2, !tbaa !4
  %arrayidx1200 = getelementptr inbounds i16* %221, i64 1
  %227 = load i16* %arrayidx1200, align 2, !tbaa !4
  %arrayidx1216 = getelementptr inbounds i16* %226, i64 1
  store i16 %227, i16* %arrayidx1216, align 2, !tbaa !4
  br label %for.inc1218

for.inc1218:                                      ; preds = %cond.end1025, %if.else1111
  %228 = phi i32 [ %184, %cond.end1025 ], [ %206, %if.else1111 ]
  %229 = phi i32 [ %183, %cond.end1025 ], [ %205, %if.else1111 ]
  %230 = phi %struct.storable_picture* [ %186, %cond.end1025 ], [ %208, %if.else1111 ]
  %indvars.iv.next8691 = add i64 %indvars.iv8690, 1
  %lftr.wideiv8692 = trunc i64 %indvars.iv.next8691 to i32
  %exitcond8693 = icmp eq i32 %lftr.wideiv8692, 4
  br i1 %exitcond8693, label %for.inc1221, label %for.body1011

for.inc1221:                                      ; preds = %for.inc1218
  %indvars.iv.next8695 = add i64 %indvars.iv8694, 1
  %lftr.wideiv8696 = trunc i64 %indvars.iv.next8695 to i32
  %exitcond8697 = icmp eq i32 %lftr.wideiv8696, 4
  br i1 %exitcond8697, label %if.end1224, label %for.cond1008.preheader

if.end1224:                                       ; preds = %for.inc1000, %for.inc1221
  %231 = phi i32 [ %228, %for.inc1221 ], [ %163, %for.inc1000 ]
  %232 = phi i32 [ %229, %for.inc1221 ], [ %162, %for.inc1000 ]
  %233 = phi %struct.storable_picture* [ %230, %for.inc1221 ], [ %166, %for.inc1000 ]
  %234 = phi %struct.ImageParameters* [ %.pre9104.pre, %for.inc1221 ], [ %161, %for.inc1000 ]
  br i1 %cmp15, label %if.then1226, label %if.end2087

if.then1226:                                      ; preds = %if.end1224
  %cmp1228 = icmp eq i16 %best_pdir.0, 0
  %and1240 = and i32 %105, 2
  %235 = shl i64 %indvars.iv8722, 1
  %236 = trunc i64 %235 to i32
  %mul1246 = and i32 %236, 2
  br i1 %cmp1228, label %for.cond1231.preheader, label %for.cond1308.preheader

for.cond1231.preheader:                           ; preds = %if.then1226
  %ref_idx1250 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 32
  %237 = load i16**** %ref_idx1250, align 8, !tbaa !0
  %arrayidx1251 = getelementptr inbounds i16*** %237, i64 1
  %238 = load i16*** %arrayidx1251, align 8, !tbaa !0
  %ref_pic_id1265 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 33
  %239 = load i64**** %ref_pic_id1265, align 8, !tbaa !0
  %arrayidx1266 = getelementptr inbounds i64*** %239, i64 1
  %240 = load i64*** %arrayidx1266, align 8, !tbaa !0
  %mv1280 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 35
  %241 = load i16***** %mv1280, align 8, !tbaa !0
  %arrayidx1281 = getelementptr inbounds i16**** %241, i64 1
  %242 = load i16**** %arrayidx1281, align 8, !tbaa !0
  br label %for.cond1235.preheader

for.cond1308.preheader:                           ; preds = %if.then1226
  %cmp1472 = icmp sgt i16 %best_bw_ref.5, -1
  %idxprom1476 = sext i16 %best_bw_ref.5 to i64
  br label %for.cond1312.preheader

for.cond1235.preheader:                           ; preds = %for.inc1304, %for.cond1231.preheader
  %indvars.iv8718 = phi i64 [ 0, %for.cond1231.preheader ], [ %indvars.iv.next8719, %for.inc1304 ]
  %243 = trunc i64 %indvars.iv8718 to i32
  %add1241 = add i32 %243, %and1240
  %add1242 = add i32 %add1241, %232
  %idxprom1243 = sext i32 %add1242 to i64
  br label %for.body1238

for.body1238:                                     ; preds = %for.body1238, %for.cond1235.preheader
  %indvars.iv8714 = phi i64 [ 0, %for.cond1235.preheader ], [ %indvars.iv.next8715, %for.body1238 ]
  %244 = trunc i64 %indvars.iv8714 to i32
  %add1247 = add i32 %244, %mul1246
  %add1248 = add i32 %add1247, %231
  %idxprom1249 = sext i32 %add1248 to i64
  %arrayidx1252 = getelementptr inbounds i16** %238, i64 %idxprom1249
  %245 = load i16** %arrayidx1252, align 8, !tbaa !0
  %arrayidx1253 = getelementptr inbounds i16* %245, i64 %idxprom1243
  store i16 -1, i16* %arrayidx1253, align 2, !tbaa !4
  %arrayidx1267 = getelementptr inbounds i64** %240, i64 %idxprom1249
  %246 = load i64** %arrayidx1267, align 8, !tbaa !0
  %arrayidx1268 = getelementptr inbounds i64* %246, i64 %idxprom1243
  store i64 -1, i64* %arrayidx1268, align 8, !tbaa !5
  %arrayidx1282 = getelementptr inbounds i16*** %242, i64 %idxprom1249
  %247 = load i16*** %arrayidx1282, align 8, !tbaa !0
  %arrayidx1283 = getelementptr inbounds i16** %247, i64 %idxprom1243
  %248 = load i16** %arrayidx1283, align 8, !tbaa !0
  store i16 0, i16* %248, align 2, !tbaa !4
  %arrayidx1300 = getelementptr inbounds i16* %248, i64 1
  store i16 0, i16* %arrayidx1300, align 2, !tbaa !4
  %indvars.iv.next8715 = add i64 %indvars.iv8714, 1
  %lftr.wideiv8716 = trunc i64 %indvars.iv.next8715 to i32
  %exitcond8717 = icmp eq i32 %lftr.wideiv8716, 4
  br i1 %exitcond8717, label %for.inc1304, label %for.body1238

for.inc1304:                                      ; preds = %for.body1238
  %indvars.iv.next8719 = add i64 %indvars.iv8718, 1
  %lftr.wideiv8720 = trunc i64 %indvars.iv.next8719 to i32
  %exitcond8721 = icmp eq i32 %lftr.wideiv8720, 4
  br i1 %exitcond8721, label %if.end2087, label %for.cond1235.preheader

for.cond1312.preheader:                           ; preds = %for.inc1534, %for.cond1308.preheader
  %indvars.iv8710 = phi i64 [ 0, %for.cond1308.preheader ], [ %indvars.iv.next8711, %for.inc1534 ]
  %249 = trunc i64 %indvars.iv8710 to i32
  %add1336 = add i32 %249, %and1240
  br label %for.body1315

for.body1315:                                     ; preds = %for.inc1531, %for.cond1312.preheader
  %indvars.iv8706 = phi i64 [ 0, %for.cond1312.preheader ], [ %indvars.iv.next8707, %for.inc1531 ]
  %arrayidx1318 = getelementptr inbounds %struct.ImageParameters* %234, i64 0, i32 74, i64 %indvars.iv8735
  %250 = load i16* %arrayidx1318, align 2, !tbaa !4
  switch i16 %250, label %cond.false1330 [
    i16 0, label %if.else1419
    i16 1, label %cond.true1328
  ]

cond.true1328:                                    ; preds = %for.body1315
  %bipred_mv11329 = getelementptr inbounds %struct.ImageParameters* %234, i64 0, i32 72
  br label %cond.end1332

cond.false1330:                                   ; preds = %for.body1315
  %bipred_mv21331 = getelementptr inbounds %struct.ImageParameters* %234, i64 0, i32 73
  br label %cond.end1332

cond.end1332:                                     ; preds = %cond.false1330, %cond.true1328
  %cond1333.in = phi i16******* [ %bipred_mv11329, %cond.true1328 ], [ %bipred_mv21331, %cond.false1330 ]
  %cond1333 = load i16******* %cond1333.in, align 8
  %add1337 = add i32 %add1336, %232
  %idxprom1338 = sext i32 %add1337 to i64
  %251 = trunc i64 %indvars.iv8706 to i32
  %add1342 = add i32 %251, %mul1246
  %add1343 = add i32 %add1342, %231
  %idxprom1344 = sext i32 %add1343 to i64
  %ref_idx1345 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 32
  %252 = load i16**** %ref_idx1345, align 8, !tbaa !0
  %arrayidx1346 = getelementptr inbounds i16*** %252, i64 1
  %253 = load i16*** %arrayidx1346, align 8, !tbaa !0
  %arrayidx1347 = getelementptr inbounds i16** %253, i64 %idxprom1344
  %254 = load i16** %arrayidx1347, align 8, !tbaa !0
  %arrayidx1348 = getelementptr inbounds i16* %254, i64 %idxprom1338
  store i16 0, i16* %arrayidx1348, align 2, !tbaa !4
  %arrayidx1353 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 6, i64 %idxprom13508184, i64 0
  %255 = load i64* %arrayidx1353, align 8, !tbaa !5
  %ref_pic_id1365 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 33
  %256 = load i64**** %ref_pic_id1365, align 8, !tbaa !0
  %arrayidx1366 = getelementptr inbounds i64*** %256, i64 1
  %257 = load i64*** %arrayidx1366, align 8, !tbaa !0
  %arrayidx1367 = getelementptr inbounds i64** %257, i64 %idxprom1344
  %258 = load i64** %arrayidx1367, align 8, !tbaa !0
  %arrayidx1368 = getelementptr inbounds i64* %258, i64 %idxprom1338
  store i64 %255, i64* %arrayidx1368, align 8, !tbaa !5
  %arrayidx1372 = getelementptr inbounds i16****** %cond1333, i64 %indvars.iv8706
  %259 = load i16****** %arrayidx1372, align 8, !tbaa !0
  %arrayidx1373 = getelementptr inbounds i16***** %259, i64 %indvars.iv8710
  %260 = load i16***** %arrayidx1373, align 8, !tbaa !0
  %arrayidx1374 = getelementptr inbounds i16**** %260, i64 1
  %261 = load i16**** %arrayidx1374, align 8, !tbaa !0
  %262 = load i16*** %261, align 8, !tbaa !0
  %arrayidx1376 = getelementptr inbounds i16** %262, i64 %indvars.iv8735
  %263 = load i16** %arrayidx1376, align 8, !tbaa !0
  %264 = load i16* %263, align 2, !tbaa !4
  %mv1389 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 35
  %265 = load i16***** %mv1389, align 8, !tbaa !0
  %arrayidx1390 = getelementptr inbounds i16**** %265, i64 1
  %266 = load i16**** %arrayidx1390, align 8, !tbaa !0
  %arrayidx1391 = getelementptr inbounds i16*** %266, i64 %idxprom1344
  %267 = load i16*** %arrayidx1391, align 8, !tbaa !0
  %arrayidx1392 = getelementptr inbounds i16** %267, i64 %idxprom1338
  %268 = load i16** %arrayidx1392, align 8, !tbaa !0
  store i16 %264, i16* %268, align 2, !tbaa !4
  %arrayidx1402 = getelementptr inbounds i16* %263, i64 1
  %269 = load i16* %arrayidx1402, align 2, !tbaa !4
  %arrayidx1418 = getelementptr inbounds i16* %268, i64 1
  store i16 %269, i16* %arrayidx1418, align 2, !tbaa !4
  br label %for.inc1531

if.else1419:                                      ; preds = %for.body1315
  %add1423 = add i32 %add1336, %232
  %idxprom1424 = sext i32 %add1423 to i64
  %270 = trunc i64 %indvars.iv8706 to i32
  %add1428 = add i32 %270, %mul1246
  %add1429 = add i32 %add1428, %231
  %idxprom1430 = sext i32 %add1429 to i64
  %ref_idx1431 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 32
  %271 = load i16**** %ref_idx1431, align 8, !tbaa !0
  %arrayidx1432 = getelementptr inbounds i16*** %271, i64 1
  %272 = load i16*** %arrayidx1432, align 8, !tbaa !0
  %arrayidx1433 = getelementptr inbounds i16** %272, i64 %idxprom1430
  %273 = load i16** %arrayidx1433, align 8, !tbaa !0
  %arrayidx1434 = getelementptr inbounds i16* %273, i64 %idxprom1424
  store i16 %best_bw_ref.5, i16* %arrayidx1434, align 2, !tbaa !4
  %arrayidx1455 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 6, i64 %idxprom13508184, i64 %idxprom1476
  %274 = load i64* %arrayidx1455, align 8, !tbaa !5
  %ref_pic_id1467 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 33
  %275 = load i64**** %ref_pic_id1467, align 8, !tbaa !0
  %arrayidx1468 = getelementptr inbounds i64*** %275, i64 1
  %276 = load i64*** %arrayidx1468, align 8, !tbaa !0
  %arrayidx1469 = getelementptr inbounds i64** %276, i64 %idxprom1430
  %277 = load i64** %arrayidx1469, align 8, !tbaa !0
  %arrayidx1470 = getelementptr inbounds i64* %277, i64 %idxprom1424
  store i64 %274, i64* %arrayidx1470, align 8, !tbaa !5
  br i1 %cmp1472, label %if.then1474, label %for.inc1531

if.then1474:                                      ; preds = %if.else1419
  %all_mv1479 = getelementptr inbounds %struct.ImageParameters* %234, i64 0, i32 71
  %278 = load i16******* %all_mv1479, align 8, !tbaa !0
  %arrayidx1480 = getelementptr inbounds i16****** %278, i64 %indvars.iv8706
  %279 = load i16****** %arrayidx1480, align 8, !tbaa !0
  %arrayidx1481 = getelementptr inbounds i16***** %279, i64 %indvars.iv8710
  %280 = load i16***** %arrayidx1481, align 8, !tbaa !0
  %arrayidx1482 = getelementptr inbounds i16**** %280, i64 1
  %281 = load i16**** %arrayidx1482, align 8, !tbaa !0
  %arrayidx1483 = getelementptr inbounds i16*** %281, i64 %idxprom1476
  %282 = load i16*** %arrayidx1483, align 8, !tbaa !0
  %arrayidx1484 = getelementptr inbounds i16** %282, i64 %indvars.iv8735
  %283 = load i16** %arrayidx1484, align 8, !tbaa !0
  %284 = load i16* %283, align 2, !tbaa !4
  %mv1497 = getelementptr inbounds %struct.storable_picture* %233, i64 0, i32 35
  %285 = load i16***** %mv1497, align 8, !tbaa !0
  %arrayidx1498 = getelementptr inbounds i16**** %285, i64 1
  %286 = load i16**** %arrayidx1498, align 8, !tbaa !0
  %arrayidx1499 = getelementptr inbounds i16*** %286, i64 %idxprom1430
  %287 = load i16*** %arrayidx1499, align 8, !tbaa !0
  %arrayidx1500 = getelementptr inbounds i16** %287, i64 %idxprom1424
  %288 = load i16** %arrayidx1500, align 8, !tbaa !0
  store i16 %284, i16* %288, align 2, !tbaa !4
  %arrayidx1512 = getelementptr inbounds i16* %283, i64 1
  %289 = load i16* %arrayidx1512, align 2, !tbaa !4
  %arrayidx1528 = getelementptr inbounds i16* %288, i64 1
  store i16 %289, i16* %arrayidx1528, align 2, !tbaa !4
  br label %for.inc1531

for.inc1531:                                      ; preds = %cond.end1332, %if.then1474, %if.else1419
  %indvars.iv.next8707 = add i64 %indvars.iv8706, 1
  %lftr.wideiv8708 = trunc i64 %indvars.iv.next8707 to i32
  %exitcond8709 = icmp eq i32 %lftr.wideiv8708, 4
  br i1 %exitcond8709, label %for.inc1534, label %for.body1315

for.inc1534:                                      ; preds = %for.inc1531
  %indvars.iv.next8711 = add i64 %indvars.iv8710, 1
  %lftr.wideiv8712 = trunc i64 %indvars.iv.next8711 to i32
  %exitcond8713 = icmp eq i32 %lftr.wideiv8712, 4
  br i1 %exitcond8713, label %if.end2087, label %for.cond1312.preheader

if.else1539:                                      ; preds = %if.end925
  %290 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br i1 %cmp1540, label %if.then1542, label %if.else1814

if.then1542:                                      ; preds = %if.else1539
  %block_y1543 = getelementptr inbounds %struct.ImageParameters* %290, i64 0, i32 32
  %291 = load i32* %block_y1543, align 4, !tbaa !3
  %292 = shl nsw i64 %indvars.iv8722, 1
  %293 = trunc i64 %292 to i32
  %add1545 = add nsw i32 %291, %293
  %cmp1555 = icmp eq i16 %best_pdir.0, 1
  %cmp1680 = icmp eq i16 %best_pdir.0, 0
  %cmp1756 = icmp sgt i16 %best_bw_ref.5, -1
  %idxprom1760 = sext i16 %best_bw_ref.5 to i64
  %idxprom1631 = sext i16 %best_fw_ref.5 to i64
  %294 = sext i32 %add1545 to i64
  %.pre9105.pre = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %block_x1560.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %290, i64 0, i32 31
  %.pre9144.pre = load i32* %block_x1560.phi.trans.insert.phi.trans.insert, align 4, !tbaa !3
  %ref_idx1563.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.storable_picture* %.pre9105.pre, i64 0, i32 32
  %.pre9145.pre = load i16**** %ref_idx1563.phi.trans.insert.phi.trans.insert, align 8, !tbaa !0
  %.pre9156.pre = load i16*** %.pre9145.pre, align 8, !tbaa !0
  br label %for.cond1550.preheader

for.cond1550.preheader:                           ; preds = %for.inc1811, %if.then1542
  %indvars.iv8683 = phi i64 [ 0, %if.then1542 ], [ %indvars.iv.next8684, %for.inc1811 ]
  %295 = add nsw i64 %294, %indvars.iv8683
  %296 = add nsw i64 %indvars.iv8683, %292
  br label %for.body1553

for.body1553:                                     ; preds = %for.inc1808, %for.cond1550.preheader
  %indvars.iv8679 = phi i64 [ 0, %for.cond1550.preheader ], [ %indvars.iv.next8680, %for.inc1808 ]
  %297 = trunc i64 %indvars.iv8679 to i32
  %add1561 = add nsw i32 %.pre9144.pre, %297
  %idxprom1562 = sext i32 %add1561 to i64
  %arrayidx1565 = getelementptr inbounds i16** %.pre9156.pre, i64 %idxprom1562
  %298 = load i16** %arrayidx1565, align 8, !tbaa !0
  %arrayidx1566 = getelementptr inbounds i16* %298, i64 %295
  br i1 %cmp1555, label %if.then1557, label %if.else1596

if.then1557:                                      ; preds = %for.body1553
  store i16 -1, i16* %arrayidx1566, align 2, !tbaa !4
  %ref_pic_id1572 = getelementptr inbounds %struct.storable_picture* %.pre9105.pre, i64 0, i32 33
  %299 = load i64**** %ref_pic_id1572, align 8, !tbaa !0
  %300 = load i64*** %299, align 8, !tbaa !0
  %arrayidx1574 = getelementptr inbounds i64** %300, i64 %idxprom1562
  %301 = load i64** %arrayidx1574, align 8, !tbaa !0
  %arrayidx1575 = getelementptr inbounds i64* %301, i64 %295
  store i64 -1, i64* %arrayidx1575, align 8, !tbaa !5
  %mv1581 = getelementptr inbounds %struct.storable_picture* %.pre9105.pre, i64 0, i32 35
  %302 = load i16***** %mv1581, align 8, !tbaa !0
  %303 = load i16**** %302, align 8, !tbaa !0
  %arrayidx1583 = getelementptr inbounds i16*** %303, i64 %idxprom1562
  %304 = load i16*** %arrayidx1583, align 8, !tbaa !0
  %arrayidx1584 = getelementptr inbounds i16** %304, i64 %295
  %305 = load i16** %arrayidx1584, align 8, !tbaa !0
  store i16 0, i16* %305, align 2, !tbaa !4
  %arrayidx1595 = getelementptr inbounds i16* %305, i64 1
  store i16 0, i16* %arrayidx1595, align 2, !tbaa !4
  br label %if.end1676

if.else1596:                                      ; preds = %for.body1553
  store i16 %best_fw_ref.5, i16* %arrayidx1566, align 2, !tbaa !4
  %arrayidx1620 = getelementptr inbounds %struct.storable_picture* %.pre9105.pre, i64 0, i32 6, i64 %idxprom5808171, i64 %idxprom1631
  %306 = load i64* %arrayidx1620, align 8, !tbaa !5
  %ref_pic_id1626 = getelementptr inbounds %struct.storable_picture* %.pre9105.pre, i64 0, i32 33
  %307 = load i64**** %ref_pic_id1626, align 8, !tbaa !0
  %308 = load i64*** %307, align 8, !tbaa !0
  %arrayidx1628 = getelementptr inbounds i64** %308, i64 %idxprom1562
  %309 = load i64** %arrayidx1628, align 8, !tbaa !0
  %arrayidx1629 = getelementptr inbounds i64* %309, i64 %295
  store i64 %306, i64* %arrayidx1629, align 8, !tbaa !5
  %all_mv1636 = getelementptr inbounds %struct.ImageParameters* %290, i64 0, i32 71
  %310 = load i16******* %all_mv1636, align 8, !tbaa !0
  %arrayidx1637 = getelementptr inbounds i16****** %310, i64 %indvars.iv8679
  %311 = load i16****** %arrayidx1637, align 8, !tbaa !0
  %arrayidx1638 = getelementptr inbounds i16***** %311, i64 %296
  %312 = load i16***** %arrayidx1638, align 8, !tbaa !0
  %313 = load i16**** %312, align 8, !tbaa !0
  %arrayidx1640 = getelementptr inbounds i16*** %313, i64 %idxprom1631
  %314 = load i16*** %arrayidx1640, align 8, !tbaa !0
  %arrayidx1641 = getelementptr inbounds i16** %314, i64 %indvars.iv8735
  %315 = load i16** %arrayidx1641, align 8, !tbaa !0
  %316 = load i16* %315, align 2, !tbaa !4
  %mv1648 = getelementptr inbounds %struct.storable_picture* %.pre9105.pre, i64 0, i32 35
  %317 = load i16***** %mv1648, align 8, !tbaa !0
  %318 = load i16**** %317, align 8, !tbaa !0
  %arrayidx1650 = getelementptr inbounds i16*** %318, i64 %idxprom1562
  %319 = load i16*** %arrayidx1650, align 8, !tbaa !0
  %arrayidx1651 = getelementptr inbounds i16** %319, i64 %295
  %320 = load i16** %arrayidx1651, align 8, !tbaa !0
  store i16 %316, i16* %320, align 2, !tbaa !4
  %arrayidx1665 = getelementptr inbounds i16* %315, i64 1
  %321 = load i16* %arrayidx1665, align 2, !tbaa !4
  %arrayidx1675 = getelementptr inbounds i16* %320, i64 1
  store i16 %321, i16* %arrayidx1675, align 2, !tbaa !4
  br label %if.end1676

if.end1676:                                       ; preds = %if.else1596, %if.then1557
  %322 = phi i64*** [ %307, %if.else1596 ], [ %299, %if.then1557 ]
  %323 = phi i16**** [ %317, %if.else1596 ], [ %302, %if.then1557 ]
  br i1 %cmp15, label %if.then1678, label %for.inc1808

if.then1678:                                      ; preds = %if.end1676
  %arrayidx1689 = getelementptr inbounds i16*** %.pre9145.pre, i64 1
  %324 = load i16*** %arrayidx1689, align 8, !tbaa !0
  %arrayidx1690 = getelementptr inbounds i16** %324, i64 %idxprom1562
  %325 = load i16** %arrayidx1690, align 8, !tbaa !0
  %arrayidx1691 = getelementptr inbounds i16* %325, i64 %295
  br i1 %cmp1680, label %if.then1682, label %if.else1721

if.then1682:                                      ; preds = %if.then1678
  store i16 -1, i16* %arrayidx1691, align 2, !tbaa !4
  %arrayidx1698 = getelementptr inbounds i64*** %322, i64 1
  %326 = load i64*** %arrayidx1698, align 8, !tbaa !0
  %arrayidx1699 = getelementptr inbounds i64** %326, i64 %idxprom1562
  %327 = load i64** %arrayidx1699, align 8, !tbaa !0
  %arrayidx1700 = getelementptr inbounds i64* %327, i64 %295
  store i64 -1, i64* %arrayidx1700, align 8, !tbaa !5
  %arrayidx1707 = getelementptr inbounds i16**** %323, i64 1
  %328 = load i16**** %arrayidx1707, align 8, !tbaa !0
  %arrayidx1708 = getelementptr inbounds i16*** %328, i64 %idxprom1562
  %329 = load i16*** %arrayidx1708, align 8, !tbaa !0
  %arrayidx1709 = getelementptr inbounds i16** %329, i64 %295
  %330 = load i16** %arrayidx1709, align 8, !tbaa !0
  store i16 0, i16* %330, align 2, !tbaa !4
  %arrayidx1720 = getelementptr inbounds i16* %330, i64 1
  store i16 0, i16* %arrayidx1720, align 2, !tbaa !4
  br label %for.inc1808

if.else1721:                                      ; preds = %if.then1678
  store i16 %best_bw_ref.5, i16* %arrayidx1691, align 2, !tbaa !4
  %arrayidx1745 = getelementptr inbounds %struct.storable_picture* %.pre9105.pre, i64 0, i32 6, i64 %idxprom13508184, i64 %idxprom1760
  %331 = load i64* %arrayidx1745, align 8, !tbaa !5
  %arrayidx1752 = getelementptr inbounds i64*** %322, i64 1
  %332 = load i64*** %arrayidx1752, align 8, !tbaa !0
  %arrayidx1753 = getelementptr inbounds i64** %332, i64 %idxprom1562
  %333 = load i64** %arrayidx1753, align 8, !tbaa !0
  %arrayidx1754 = getelementptr inbounds i64* %333, i64 %295
  store i64 %331, i64* %arrayidx1754, align 8, !tbaa !5
  br i1 %cmp1756, label %if.then1758, label %for.inc1808

if.then1758:                                      ; preds = %if.else1721
  %all_mv1765 = getelementptr inbounds %struct.ImageParameters* %290, i64 0, i32 71
  %334 = load i16******* %all_mv1765, align 8, !tbaa !0
  %arrayidx1766 = getelementptr inbounds i16****** %334, i64 %indvars.iv8679
  %335 = load i16****** %arrayidx1766, align 8, !tbaa !0
  %arrayidx1767 = getelementptr inbounds i16***** %335, i64 %296
  %336 = load i16***** %arrayidx1767, align 8, !tbaa !0
  %arrayidx1768 = getelementptr inbounds i16**** %336, i64 1
  %337 = load i16**** %arrayidx1768, align 8, !tbaa !0
  %arrayidx1769 = getelementptr inbounds i16*** %337, i64 %idxprom1760
  %338 = load i16*** %arrayidx1769, align 8, !tbaa !0
  %arrayidx1770 = getelementptr inbounds i16** %338, i64 %indvars.iv8735
  %339 = load i16** %arrayidx1770, align 8, !tbaa !0
  %340 = load i16* %339, align 2, !tbaa !4
  %arrayidx1778 = getelementptr inbounds i16**** %323, i64 1
  %341 = load i16**** %arrayidx1778, align 8, !tbaa !0
  %arrayidx1779 = getelementptr inbounds i16*** %341, i64 %idxprom1562
  %342 = load i16*** %arrayidx1779, align 8, !tbaa !0
  %arrayidx1780 = getelementptr inbounds i16** %342, i64 %295
  %343 = load i16** %arrayidx1780, align 8, !tbaa !0
  store i16 %340, i16* %343, align 2, !tbaa !4
  %arrayidx1794 = getelementptr inbounds i16* %339, i64 1
  %344 = load i16* %arrayidx1794, align 2, !tbaa !4
  %arrayidx1804 = getelementptr inbounds i16* %343, i64 1
  store i16 %344, i16* %arrayidx1804, align 2, !tbaa !4
  br label %for.inc1808

for.inc1808:                                      ; preds = %if.end1676, %if.else1721, %if.then1758, %if.then1682
  %indvars.iv.next8680 = add i64 %indvars.iv8679, 1
  %lftr.wideiv8681 = trunc i64 %indvars.iv.next8680 to i32
  %exitcond8682 = icmp eq i32 %lftr.wideiv8681, 4
  br i1 %exitcond8682, label %for.inc1811, label %for.body1553

for.inc1811:                                      ; preds = %for.inc1808
  %indvars.iv.next8684 = add i64 %indvars.iv8683, 1
  %lftr.wideiv8688 = trunc i64 %indvars.iv.next8684 to i32
  %exitcond8689 = icmp eq i32 %lftr.wideiv8688, 2
  br i1 %exitcond8689, label %if.end2087, label %for.cond1550.preheader

if.else1814:                                      ; preds = %if.else1539
  %block_x1815 = getelementptr inbounds %struct.ImageParameters* %290, i64 0, i32 31
  %345 = load i32* %block_x1815, align 4, !tbaa !3
  %346 = shl nsw i64 %indvars.iv8722, 1
  %347 = trunc i64 %346 to i32
  %add1817 = add nsw i32 %345, %347
  %cmp1827 = icmp eq i16 %best_pdir.0, 1
  %cmp1952 = icmp eq i16 %best_pdir.0, 0
  %cmp2028 = icmp sgt i16 %best_bw_ref.5, -1
  %idxprom2032 = sext i16 %best_bw_ref.5 to i64
  %idxprom1903 = sext i16 %best_fw_ref.5 to i64
  %348 = sext i32 %add1817 to i64
  %.pre9106.pre = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %block_y1830.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %290, i64 0, i32 32
  %.pre9147.pre = load i32* %block_y1830.phi.trans.insert.phi.trans.insert, align 4, !tbaa !3
  %ref_idx1835.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.storable_picture* %.pre9106.pre, i64 0, i32 32
  %.pre9148.pre = load i16**** %ref_idx1835.phi.trans.insert.phi.trans.insert, align 8, !tbaa !0
  %.pre9159.pre = load i16*** %.pre9148.pre, align 8, !tbaa !0
  br label %for.cond1822.preheader

for.cond1822.preheader:                           ; preds = %for.inc2083, %if.else1814
  %indvars.iv8675 = phi i64 [ 0, %if.else1814 ], [ %indvars.iv.next8676, %for.inc2083 ]
  br label %for.body1825

for.body1825:                                     ; preds = %for.inc2080, %for.cond1822.preheader
  %indvars.iv8668 = phi i64 [ 0, %for.cond1822.preheader ], [ %indvars.iv.next8669, %for.inc2080 ]
  %349 = trunc i64 %indvars.iv8675 to i32
  %add1831 = add nsw i32 %.pre9147.pre, %349
  %idxprom1832 = sext i32 %add1831 to i64
  %350 = add nsw i64 %348, %indvars.iv8668
  %arrayidx1837 = getelementptr inbounds i16** %.pre9159.pre, i64 %350
  %351 = load i16** %arrayidx1837, align 8, !tbaa !0
  %arrayidx1838 = getelementptr inbounds i16* %351, i64 %idxprom1832
  br i1 %cmp1827, label %if.then1829, label %if.else1868

if.then1829:                                      ; preds = %for.body1825
  store i16 -1, i16* %arrayidx1838, align 2, !tbaa !4
  %ref_pic_id1844 = getelementptr inbounds %struct.storable_picture* %.pre9106.pre, i64 0, i32 33
  %352 = load i64**** %ref_pic_id1844, align 8, !tbaa !0
  %353 = load i64*** %352, align 8, !tbaa !0
  %arrayidx1846 = getelementptr inbounds i64** %353, i64 %350
  %354 = load i64** %arrayidx1846, align 8, !tbaa !0
  %arrayidx1847 = getelementptr inbounds i64* %354, i64 %idxprom1832
  store i64 -1, i64* %arrayidx1847, align 8, !tbaa !5
  %mv1853 = getelementptr inbounds %struct.storable_picture* %.pre9106.pre, i64 0, i32 35
  %355 = load i16***** %mv1853, align 8, !tbaa !0
  %356 = load i16**** %355, align 8, !tbaa !0
  %arrayidx1855 = getelementptr inbounds i16*** %356, i64 %350
  %357 = load i16*** %arrayidx1855, align 8, !tbaa !0
  %arrayidx1856 = getelementptr inbounds i16** %357, i64 %idxprom1832
  %358 = load i16** %arrayidx1856, align 8, !tbaa !0
  store i16 0, i16* %358, align 2, !tbaa !4
  %arrayidx1867 = getelementptr inbounds i16* %358, i64 1
  store i16 0, i16* %arrayidx1867, align 2, !tbaa !4
  br label %if.end1948

if.else1868:                                      ; preds = %for.body1825
  store i16 %best_fw_ref.5, i16* %arrayidx1838, align 2, !tbaa !4
  %arrayidx1892 = getelementptr inbounds %struct.storable_picture* %.pre9106.pre, i64 0, i32 6, i64 %idxprom5808171, i64 %idxprom1903
  %359 = load i64* %arrayidx1892, align 8, !tbaa !5
  %ref_pic_id1898 = getelementptr inbounds %struct.storable_picture* %.pre9106.pre, i64 0, i32 33
  %360 = load i64**** %ref_pic_id1898, align 8, !tbaa !0
  %361 = load i64*** %360, align 8, !tbaa !0
  %arrayidx1900 = getelementptr inbounds i64** %361, i64 %350
  %362 = load i64** %arrayidx1900, align 8, !tbaa !0
  %arrayidx1901 = getelementptr inbounds i64* %362, i64 %idxprom1832
  store i64 %359, i64* %arrayidx1901, align 8, !tbaa !5
  %363 = add nsw i64 %indvars.iv8668, %346
  %all_mv1908 = getelementptr inbounds %struct.ImageParameters* %290, i64 0, i32 71
  %364 = load i16******* %all_mv1908, align 8, !tbaa !0
  %arrayidx1909 = getelementptr inbounds i16****** %364, i64 %363
  %365 = load i16****** %arrayidx1909, align 8, !tbaa !0
  %arrayidx1910 = getelementptr inbounds i16***** %365, i64 %indvars.iv8675
  %366 = load i16***** %arrayidx1910, align 8, !tbaa !0
  %367 = load i16**** %366, align 8, !tbaa !0
  %arrayidx1912 = getelementptr inbounds i16*** %367, i64 %idxprom1903
  %368 = load i16*** %arrayidx1912, align 8, !tbaa !0
  %arrayidx1913 = getelementptr inbounds i16** %368, i64 %indvars.iv8735
  %369 = load i16** %arrayidx1913, align 8, !tbaa !0
  %370 = load i16* %369, align 2, !tbaa !4
  %mv1920 = getelementptr inbounds %struct.storable_picture* %.pre9106.pre, i64 0, i32 35
  %371 = load i16***** %mv1920, align 8, !tbaa !0
  %372 = load i16**** %371, align 8, !tbaa !0
  %arrayidx1922 = getelementptr inbounds i16*** %372, i64 %350
  %373 = load i16*** %arrayidx1922, align 8, !tbaa !0
  %arrayidx1923 = getelementptr inbounds i16** %373, i64 %idxprom1832
  %374 = load i16** %arrayidx1923, align 8, !tbaa !0
  store i16 %370, i16* %374, align 2, !tbaa !4
  %arrayidx1937 = getelementptr inbounds i16* %369, i64 1
  %375 = load i16* %arrayidx1937, align 2, !tbaa !4
  %arrayidx1947 = getelementptr inbounds i16* %374, i64 1
  store i16 %375, i16* %arrayidx1947, align 2, !tbaa !4
  br label %if.end1948

if.end1948:                                       ; preds = %if.else1868, %if.then1829
  %376 = phi i64*** [ %360, %if.else1868 ], [ %352, %if.then1829 ]
  %377 = phi i16**** [ %371, %if.else1868 ], [ %355, %if.then1829 ]
  br i1 %cmp15, label %if.then1950, label %for.inc2080

if.then1950:                                      ; preds = %if.end1948
  %arrayidx1961 = getelementptr inbounds i16*** %.pre9148.pre, i64 1
  %378 = load i16*** %arrayidx1961, align 8, !tbaa !0
  %arrayidx1962 = getelementptr inbounds i16** %378, i64 %350
  %379 = load i16** %arrayidx1962, align 8, !tbaa !0
  %arrayidx1963 = getelementptr inbounds i16* %379, i64 %idxprom1832
  br i1 %cmp1952, label %if.then1954, label %if.else1993

if.then1954:                                      ; preds = %if.then1950
  store i16 -1, i16* %arrayidx1963, align 2, !tbaa !4
  %arrayidx1970 = getelementptr inbounds i64*** %376, i64 1
  %380 = load i64*** %arrayidx1970, align 8, !tbaa !0
  %arrayidx1971 = getelementptr inbounds i64** %380, i64 %350
  %381 = load i64** %arrayidx1971, align 8, !tbaa !0
  %arrayidx1972 = getelementptr inbounds i64* %381, i64 %idxprom1832
  store i64 -1, i64* %arrayidx1972, align 8, !tbaa !5
  %arrayidx1979 = getelementptr inbounds i16**** %377, i64 1
  %382 = load i16**** %arrayidx1979, align 8, !tbaa !0
  %arrayidx1980 = getelementptr inbounds i16*** %382, i64 %350
  %383 = load i16*** %arrayidx1980, align 8, !tbaa !0
  %arrayidx1981 = getelementptr inbounds i16** %383, i64 %idxprom1832
  %384 = load i16** %arrayidx1981, align 8, !tbaa !0
  store i16 0, i16* %384, align 2, !tbaa !4
  %arrayidx1992 = getelementptr inbounds i16* %384, i64 1
  store i16 0, i16* %arrayidx1992, align 2, !tbaa !4
  br label %for.inc2080

if.else1993:                                      ; preds = %if.then1950
  store i16 %best_bw_ref.5, i16* %arrayidx1963, align 2, !tbaa !4
  %arrayidx2017 = getelementptr inbounds %struct.storable_picture* %.pre9106.pre, i64 0, i32 6, i64 %idxprom13508184, i64 %idxprom2032
  %385 = load i64* %arrayidx2017, align 8, !tbaa !5
  %arrayidx2024 = getelementptr inbounds i64*** %376, i64 1
  %386 = load i64*** %arrayidx2024, align 8, !tbaa !0
  %arrayidx2025 = getelementptr inbounds i64** %386, i64 %350
  %387 = load i64** %arrayidx2025, align 8, !tbaa !0
  %arrayidx2026 = getelementptr inbounds i64* %387, i64 %idxprom1832
  store i64 %385, i64* %arrayidx2026, align 8, !tbaa !5
  br i1 %cmp2028, label %if.then2030, label %for.inc2080

if.then2030:                                      ; preds = %if.else1993
  %388 = add nsw i64 %indvars.iv8668, %346
  %all_mv2037 = getelementptr inbounds %struct.ImageParameters* %290, i64 0, i32 71
  %389 = load i16******* %all_mv2037, align 8, !tbaa !0
  %arrayidx2038 = getelementptr inbounds i16****** %389, i64 %388
  %390 = load i16****** %arrayidx2038, align 8, !tbaa !0
  %arrayidx2039 = getelementptr inbounds i16***** %390, i64 %indvars.iv8675
  %391 = load i16***** %arrayidx2039, align 8, !tbaa !0
  %arrayidx2040 = getelementptr inbounds i16**** %391, i64 1
  %392 = load i16**** %arrayidx2040, align 8, !tbaa !0
  %arrayidx2041 = getelementptr inbounds i16*** %392, i64 %idxprom2032
  %393 = load i16*** %arrayidx2041, align 8, !tbaa !0
  %arrayidx2042 = getelementptr inbounds i16** %393, i64 %indvars.iv8735
  %394 = load i16** %arrayidx2042, align 8, !tbaa !0
  %395 = load i16* %394, align 2, !tbaa !4
  %arrayidx2050 = getelementptr inbounds i16**** %377, i64 1
  %396 = load i16**** %arrayidx2050, align 8, !tbaa !0
  %arrayidx2051 = getelementptr inbounds i16*** %396, i64 %350
  %397 = load i16*** %arrayidx2051, align 8, !tbaa !0
  %arrayidx2052 = getelementptr inbounds i16** %397, i64 %idxprom1832
  %398 = load i16** %arrayidx2052, align 8, !tbaa !0
  store i16 %395, i16* %398, align 2, !tbaa !4
  %arrayidx2066 = getelementptr inbounds i16* %394, i64 1
  %399 = load i16* %arrayidx2066, align 2, !tbaa !4
  %arrayidx2076 = getelementptr inbounds i16* %398, i64 1
  store i16 %399, i16* %arrayidx2076, align 2, !tbaa !4
  br label %for.inc2080

for.inc2080:                                      ; preds = %if.end1948, %if.else1993, %if.then2030, %if.then1954
  %indvars.iv.next8669 = add i64 %indvars.iv8668, 1
  %lftr.wideiv8673 = trunc i64 %indvars.iv.next8669 to i32
  %exitcond8674 = icmp eq i32 %lftr.wideiv8673, 2
  br i1 %exitcond8674, label %for.inc2083, label %for.body1825

for.inc2083:                                      ; preds = %for.inc2080
  %indvars.iv.next8676 = add i64 %indvars.iv8675, 1
  %lftr.wideiv8677 = trunc i64 %indvars.iv.next8676 to i32
  %exitcond8678 = icmp eq i32 %lftr.wideiv8677, 4
  br i1 %exitcond8678, label %if.end2087, label %for.cond1822.preheader

if.end2087:                                       ; preds = %for.inc1304, %for.inc1534, %for.inc1811, %for.inc2083, %if.end1224
  switch i32 %104, label %if.else2131 [
    i32 3, label %if.then2090
    i32 2, label %if.then2109
  ]

if.then2090:                                      ; preds = %if.end2087
  %400 = add nsw i64 %indvars.iv8722, 2
  %arrayidx2093 = getelementptr inbounds [15 x [4 x i16]]* @best8x8fwref, i64 0, i64 3, i64 %400
  store i16 %best_fw_ref.5, i16* %arrayidx2093, align 2, !tbaa !4
  %arrayidx2095 = getelementptr inbounds [15 x [4 x i16]]* @best8x8fwref, i64 0, i64 3, i64 %indvars.iv8722
  store i16 %best_fw_ref.5, i16* %arrayidx2095, align 2, !tbaa !4
  %arrayidx2098 = getelementptr inbounds [15 x [4 x i16]]* @best8x8pdir, i64 0, i64 3, i64 %400
  store i16 %best_pdir.0, i16* %arrayidx2098, align 2, !tbaa !4
  %arrayidx2100 = getelementptr inbounds [15 x [4 x i16]]* @best8x8pdir, i64 0, i64 3, i64 %indvars.iv8722
  store i16 %best_pdir.0, i16* %arrayidx2100, align 2, !tbaa !4
  %arrayidx2103 = getelementptr inbounds [15 x [4 x i16]]* @best8x8bwref, i64 0, i64 3, i64 %400
  store i16 %best_bw_ref.5, i16* %arrayidx2103, align 2, !tbaa !4
  %arrayidx2105 = getelementptr inbounds [15 x [4 x i16]]* @best8x8bwref, i64 0, i64 3, i64 %indvars.iv8722
  store i16 %best_bw_ref.5, i16* %arrayidx2105, align 2, !tbaa !4
  br label %if.end2133

if.then2109:                                      ; preds = %if.end2087
  %401 = shl nsw i64 %indvars.iv8722, 1
  %402 = or i64 %401, 1
  %arrayidx2113 = getelementptr inbounds [15 x [4 x i16]]* @best8x8fwref, i64 0, i64 2, i64 %402
  store i16 %best_fw_ref.5, i16* %arrayidx2113, align 2, !tbaa !4
  %arrayidx2116 = getelementptr inbounds [15 x [4 x i16]]* @best8x8fwref, i64 0, i64 2, i64 %401
  store i16 %best_fw_ref.5, i16* %arrayidx2116, align 4, !tbaa !4
  %arrayidx2120 = getelementptr inbounds [15 x [4 x i16]]* @best8x8pdir, i64 0, i64 2, i64 %402
  store i16 %best_pdir.0, i16* %arrayidx2120, align 2, !tbaa !4
  %arrayidx2123 = getelementptr inbounds [15 x [4 x i16]]* @best8x8pdir, i64 0, i64 2, i64 %401
  store i16 %best_pdir.0, i16* %arrayidx2123, align 4, !tbaa !4
  %arrayidx2127 = getelementptr inbounds [15 x [4 x i16]]* @best8x8bwref, i64 0, i64 2, i64 %402
  store i16 %best_bw_ref.5, i16* %arrayidx2127, align 2, !tbaa !4
  %arrayidx2130 = getelementptr inbounds [15 x [4 x i16]]* @best8x8bwref, i64 0, i64 2, i64 %401
  store i16 %best_bw_ref.5, i16* %arrayidx2130, align 4, !tbaa !4
  br label %if.end2133

if.else2131:                                      ; preds = %if.end2087
  store i16 %best_fw_ref.5, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8fwref, i64 0, i64 1, i64 3), align 2, !tbaa !4
  store i16 %best_fw_ref.5, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8fwref, i64 0, i64 1, i64 2), align 4, !tbaa !4
  store i16 %best_fw_ref.5, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8fwref, i64 0, i64 1, i64 1), align 2, !tbaa !4
  store i16 %best_fw_ref.5, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8fwref, i64 0, i64 1, i64 0), align 8, !tbaa !4
  store i16 %best_pdir.0, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 3), align 2, !tbaa !4
  store i16 %best_pdir.0, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 2), align 4, !tbaa !4
  store i16 %best_pdir.0, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 1), align 2, !tbaa !4
  store i16 %best_pdir.0, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 0), align 8, !tbaa !4
  store i16 %best_bw_ref.5, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8bwref, i64 0, i64 1, i64 3), align 2, !tbaa !4
  store i16 %best_bw_ref.5, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8bwref, i64 0, i64 1, i64 2), align 4, !tbaa !4
  store i16 %best_bw_ref.5, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8bwref, i64 0, i64 1, i64 1), align 2, !tbaa !4
  store i16 %best_bw_ref.5, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8bwref, i64 0, i64 1, i64 0), align 8, !tbaa !4
  br label %if.end2133

if.end2133:                                       ; preds = %if.then2109, %if.else2131, %if.then2090
  %cmp2137 = icmp eq i32 %105, 0
  %or.cond8222 = and i1 %cmp2134, %cmp2137
  br i1 %or.cond8222, label %if.then2139, label %for.inc2144

if.then2139:                                      ; preds = %if.end2133
  %conv21408172 = zext i16 %best_pdir.0 to i32
  %conv2141 = sext i16 %best_fw_ref.5 to i32
  %conv2142 = sext i16 %best_bw_ref.5 to i32
  call void @SetRefAndMotionVectors(i32 0, i32 %104, i32 %conv21408172, i32 %conv2141, i32 %conv2142) #10
  br label %for.inc2144

for.inc2144:                                      ; preds = %if.end2133, %if.then2139
  %indvars.iv.next8723 = add i64 %indvars.iv8722, 1
  %403 = trunc i64 %indvars.iv.next8723 to i32
  %cmp558 = icmp slt i32 %403, %cond557
  br i1 %cmp558, label %for.body560, label %for.end2146

for.end2146:                                      ; preds = %for.inc2144
  %404 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt2147 = getelementptr inbounds %struct.InputParameters* %404, i64 0, i32 85
  %405 = load i32* %rdopt2147, align 4, !tbaa !3
  %tobool2148 = icmp eq i32 %405, 0
  br i1 %tobool2148, label %if.then2149, label %if.end2156

if.then2149:                                      ; preds = %for.end2146
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %AllowTransform8x82150 = getelementptr inbounds %struct.InputParameters* %404, i64 0, i32 123
  %406 = load i32* %AllowTransform8x82150, align 4, !tbaa !3
  %tobool2151 = icmp eq i32 %406, 0
  br i1 %tobool2151, label %if.end2156, label %if.then2152

if.then2152:                                      ; preds = %if.then2149
  call void @SetModesAndRefframeForBlocks(i32 %104) #10
  %call2153 = call i32 @TransformDecision(i32 -1, i32* %cost) #8
  store i32 %call2153, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end2156

if.end2156:                                       ; preds = %if.then2149, %for.end2146, %if.then2152
  %407 = load i32* %cost, align 4, !tbaa !3
  %cmp2157 = icmp slt i32 %407, %min_cost.18385
  br i1 %cmp2157, label %if.then2159, label %for.inc2163

if.then2159:                                      ; preds = %if.end2156
  store i32 %104, i32* @best_mode, align 4, !tbaa !3
  %408 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %for.inc2163

for.inc2163:                                      ; preds = %for.body546, %if.then2159, %if.end2156
  %best_fw_ref.6 = phi i16 [ %best_fw_ref.5, %if.then2159 ], [ %best_fw_ref.5, %if.end2156 ], [ %best_fw_ref.18384, %for.body546 ]
  %min_cost.2 = phi i32 [ %407, %if.then2159 ], [ %min_cost.18385, %if.end2156 ], [ %min_cost.18385, %for.body546 ]
  %best_transform_flag.2 = phi i32 [ %408, %if.then2159 ], [ %best_transform_flag.18386, %if.end2156 ], [ %best_transform_flag.18386, %for.body546 ]
  %best_bw_ref.6 = phi i16 [ %best_bw_ref.5, %if.then2159 ], [ %best_bw_ref.5, %if.end2156 ], [ %best_bw_ref.18387, %for.body546 ]
  %indvars.iv.next8736 = add i64 %indvars.iv8735, 1
  %lftr.wideiv8737 = trunc i64 %indvars.iv.next8736 to i32
  %exitcond8738 = icmp eq i32 %lftr.wideiv8737, 4
  br i1 %exitcond8738, label %for.end2165, label %for.body546

for.end2165:                                      ; preds = %for.inc2163
  %409 = load i32* %arrayidx148, align 16, !tbaa !3
  %tobool2167 = icmp eq i32 %409, 0
  br i1 %tobool2167, label %if.end3930, label %if.then2168

if.then2168:                                      ; preds = %for.end2165
  store i32 2147483647, i32* @cost8_8x8ts, align 4, !tbaa !3
  %410 = load %struct.CSobj** @cs_mb, align 8, !tbaa !0
  call void @store_coding_state(%struct.CSobj* %410) #8
  store i32 -1, i32* %all_blk_8x8, align 4, !tbaa !3
  %411 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x82169 = getelementptr inbounds %struct.InputParameters* %411, i64 0, i32 123
  %412 = load i32* %AllowTransform8x82169, align 4, !tbaa !3
  %tobool2170 = icmp eq i32 %412, 0
  br i1 %tobool2170, label %if.then2984, label %if.then2171

if.then2171:                                      ; preds = %if.then2168
  store i32 0, i32* @cnt_nonz_8x8, align 4, !tbaa !3
  store i32 0, i32* @cbp_blk8x8, align 4, !tbaa !3
  store i32 0, i32* @cbp8x8, align 4, !tbaa !3
  br label %for.body2187.lr.ph

for.body2187.lr.ph:                               ; preds = %if.then2171, %for.inc2975
  %indvars.iv8783 = phi i64 [ 0, %if.then2171 ], [ %indvars.iv.next8784, %for.inc2975 ]
  %best_bw_ref.78456 = phi i16 [ %best_bw_ref.6, %if.then2171 ], [ %best_bw_ref.13, %for.inc2975 ]
  %cost8x8_direct.18455 = phi i32 [ %cost8x8_direct.08602, %if.then2171 ], [ %cost8x8_direct.6, %for.inc2975 ]
  %have_direct.18454 = phi i32 [ %have_direct.08599, %if.then2171 ], [ %have_direct.5, %for.inc2975 ]
  %cost_direct.18453 = phi i32 [ 0, %if.then2171 ], [ %cost_direct.6, %for.inc2975 ]
  %cost8x8.08452 = phi i32 [ 0, %if.then2171 ], [ %cost8x8.1, %for.inc2975 ]
  %best_fw_ref.78451 = phi i16 [ %best_fw_ref.6, %if.then2171 ], [ %best_fw_ref.13, %for.inc2975 ]
  %best_cnt_nonz.18450 = phi i32 [ %best_cnt_nonz.08596, %if.then2171 ], [ %best_cnt_nonz.5, %for.inc2975 ]
  %rdcost.18449 = phi double [ %rdcost.08595, %if.then2171 ], [ %rdcost.4, %for.inc2975 ]
  %413 = trunc i64 %indvars.iv8783 to i32
  %div2176 = sdiv i32 %413, 2
  %shl = shl i32 %div2176, 3
  %rem2178 = srem i32 %413, 2
  %shl2179 = shl i32 %rem2178, 3
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %and2353 = and i32 %413, 2
  %414 = shl i64 %indvars.iv8783, 1
  %415 = trunc i64 %414 to i32
  %mul2359 = and i32 %415, 2
  %arrayidx2618 = getelementptr inbounds [4 x i32]* @part8x8mode, i64 0, i64 %indvars.iv8783
  %arrayidx2620 = getelementptr inbounds [4 x i16]* @part8x8pdir, i64 0, i64 %indvars.iv8783
  %arrayidx2622 = getelementptr inbounds [4 x i16]* @part8x8fwref, i64 0, i64 %indvars.iv8783
  %arrayidx2624 = getelementptr inbounds [4 x i16]* @part8x8bwref, i64 0, i64 %indvars.iv8783
  %shr26288163 = lshr i32 %413, 1
  %shl2629 = shl i32 %shr26288163, 3
  %shl2631 = shl i32 %rem2178, 1
  %add2632 = add nsw i32 %shl2631, %shl2629
  %shl2633 = shl i32 51, %add2632
  %neg = xor i32 %shl2633, -1
  %416 = shl i32 %rem2178, 3
  %417 = sext i32 %416 to i64
  %418 = shl i32 %div2176, 3
  %419 = sext i32 %418 to i64
  br label %for.body2187

for.body2187:                                     ; preds = %for.body2187.lr.ph, %for.inc2764
  %indvars.iv8765 = phi i64 [ %100, %for.body2187.lr.ph ], [ %indvars.iv.next8766, %for.inc2764 ]
  %rdcost.38459 = phi double [ 1.000000e+30, %for.body2187.lr.ph ], [ %rdcost.38460, %for.inc2764 ]
  %best_bw_ref.88433 = phi i16 [ %best_bw_ref.78456, %for.body2187.lr.ph ], [ %best_bw_ref.13, %for.inc2764 ]
  %cost8x8_direct.28432 = phi i32 [ %cost8x8_direct.18455, %for.body2187.lr.ph ], [ %cost8x8_direct.6, %for.inc2764 ]
  %have_direct.28431 = phi i32 [ %have_direct.18454, %for.body2187.lr.ph ], [ %have_direct.5, %for.inc2764 ]
  %cost_direct.28430 = phi i32 [ %cost_direct.18453, %for.body2187.lr.ph ], [ %cost_direct.6, %for.inc2764 ]
  %min_cost8x8.08426 = phi i32 [ 2147483647, %for.body2187.lr.ph ], [ %min_cost8x8.2, %for.inc2764 ]
  %best_fw_ref.88425 = phi i16 [ %best_fw_ref.78451, %for.body2187.lr.ph ], [ %best_fw_ref.13, %for.inc2764 ]
  %best_cnt_nonz.28423 = phi i32 [ %best_cnt_nonz.18450, %for.body2187.lr.ph ], [ %best_cnt_nonz.4, %for.inc2764 ]
  %rdcost.28421 = phi double [ %rdcost.18449, %for.body2187.lr.ph ], [ %rdcost.4, %for.inc2764 ]
  %arrayidx2189 = getelementptr inbounds [6 x i32]* @encode_one_macroblock.b8_mode_table, i64 0, i64 %indvars.iv8765
  %420 = load i32* %arrayidx2189, align 4, !tbaa !3
  %idxprom2190 = sext i32 %420 to i64
  %arrayidx2191 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 %idxprom2190
  %421 = load i32* %arrayidx2191, align 4, !tbaa !3
  %tobool2192 = icmp eq i32 %421, 0
  %422 = trunc i64 %indvars.iv8765 to i32
  br i1 %tobool2192, label %lor.lhs.false2196, label %land.lhs.true2193

land.lhs.true2193:                                ; preds = %for.body2187
  switch i32 %422, label %if.then2201 [
    i32 5, label %land.lhs.true2199
    i32 0, label %land.lhs.true2199
  ]

lor.lhs.false2196:                                ; preds = %for.body2187
  switch i32 %422, label %for.inc2764 [
    i32 5, label %land.lhs.true2199
    i32 0, label %land.lhs.true2199
  ]

land.lhs.true2199:                                ; preds = %lor.lhs.false2196, %lor.lhs.false2196, %land.lhs.true2193, %land.lhs.true2193
  %423 = load %struct.seq_parameter_set_rbsp_t** @active_sps, align 8, !tbaa !0
  %direct_8x8_inference_flag = getelementptr inbounds %struct.seq_parameter_set_rbsp_t* %423, i64 0, i32 27
  %424 = load i32* %direct_8x8_inference_flag, align 4, !tbaa !1
  %tobool2200 = icmp eq i32 %424, 0
  br i1 %tobool2200, label %for.inc2764, label %land.lhs.true2199.if.then2201_crit_edge

land.lhs.true2199.if.then2201_crit_edge:          ; preds = %land.lhs.true2199
  %.pre9165 = trunc i64 %indvars.iv8765 to i32
  br label %if.then2201

if.then2201:                                      ; preds = %land.lhs.true2199.if.then2201_crit_edge, %land.lhs.true2193
  %.pre-phi9166 = phi i32 [ %.pre9165, %land.lhs.true2199.if.then2201_crit_edge ], [ %422, %land.lhs.true2193 ]
  store i64 0, i64* %curr_cbp_blk, align 8, !tbaa !5
  switch i32 %.pre-phi9166, label %if.else2278 [
    i32 5, label %if.then2204
    i32 0, label %if.then2204
  ]

if.then2204:                                      ; preds = %if.then2201, %if.then2201
  %425 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt2205 = getelementptr inbounds %struct.InputParameters* %425, i64 0, i32 85
  %426 = load i32* %rdopt2205, align 4, !tbaa !3
  %tobool2206 = icmp eq i32 %426, 0
  br i1 %tobool2206, label %if.then2207, label %if.end2242

if.then2207:                                      ; preds = %if.then2204
  store i32 0, i32* %direct8x8_tmp, align 4, !tbaa !3
  %call2208 = call i32 @Get_Direct_Cost8x8(i32 %413, i32* %direct8x8_tmp) #8
  %cmp2209 = icmp eq i32 %call2208, 2147483647
  %cmp2212 = icmp eq i32 %cost_direct.28430, 2147483647
  %or.cond8223 = or i1 %cmp2209, %cmp2212
  br i1 %or.cond8223, label %if.end2218, label %if.else2215

if.else2215:                                      ; preds = %if.then2207
  %add2216 = add nsw i32 %call2208, %cost_direct.28430
  %427 = load i32* %direct8x8_tmp, align 4, !tbaa !3
  %add2217 = add nsw i32 %427, %cost8x8_direct.28432
  br label %if.end2218

if.end2218:                                       ; preds = %if.then2207, %if.else2215
  %cost_direct.3 = phi i32 [ %add2216, %if.else2215 ], [ 2147483647, %if.then2207 ]
  %cost8x8_direct.3 = phi i32 [ %add2217, %if.else2215 ], [ 2147483647, %if.then2207 ]
  %428 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x82219 = getelementptr inbounds %struct.InputParameters* %428, i64 0, i32 123
  %429 = load i32* %AllowTransform8x82219, align 4, !tbaa !3
  switch i32 %429, label %sw.default [
    i32 1, label %sw.bb
    i32 2, label %sw.bb2234
  ]

sw.bb:                                            ; preds = %if.end2218
  %430 = load i32* %direct8x8_tmp, align 4, !tbaa !3
  %cmp2220 = icmp slt i32 %430, %call2208
  br i1 %cmp2220, label %if.then2231, label %lor.lhs.false2222

lor.lhs.false2222:                                ; preds = %sw.bb
  %431 = load i32* %arrayidx11482818284, align 4, !tbaa !3
  %tobool2224 = icmp eq i32 %431, 0
  br i1 %tobool2224, label %if.then2231, label %land.lhs.true2225

land.lhs.true2225:                                ; preds = %lor.lhs.false2222
  %432 = load i32* %arrayidx1208286, align 8, !tbaa !3
  %tobool2227 = icmp eq i32 %432, 0
  br i1 %tobool2227, label %if.then2231, label %land.lhs.true2228

land.lhs.true2228:                                ; preds = %land.lhs.true2225
  %433 = load i32* %arrayidx126, align 4, !tbaa !3
  %tobool2230 = icmp eq i32 %433, 0
  br i1 %tobool2230, label %if.then2231, label %if.else2232

if.then2231:                                      ; preds = %land.lhs.true2228, %land.lhs.true2225, %lor.lhs.false2222, %sw.bb
  store i32 %430, i32* %cost, align 4, !tbaa !3
  br label %sw.epilog

if.else2232:                                      ; preds = %land.lhs.true2228
  store i32 %call2208, i32* %cost, align 4, !tbaa !3
  br label %sw.epilog

sw.bb2234:                                        ; preds = %if.end2218
  %434 = load i32* %direct8x8_tmp, align 4, !tbaa !3
  store i32 %434, i32* %cost, align 4, !tbaa !3
  br label %sw.epilog

sw.default:                                       ; preds = %if.end2218
  store i32 %call2208, i32* %cost, align 4, !tbaa !3
  br label %sw.epilog

sw.epilog:                                        ; preds = %if.then2231, %if.else2232, %sw.default, %sw.bb2234
  %435 = load i32* %AllowTransform8x82219, align 4, !tbaa !3
  %cmp2236 = icmp eq i32 %435, 2
  br i1 %cmp2236, label %if.then2238, label %if.end2240

if.then2238:                                      ; preds = %sw.epilog
  %add2239 = add nsw i32 %min_cost8x8.08426, 1
  store i32 %add2239, i32* %cost, align 4, !tbaa !3
  br label %if.end2240

if.end2240:                                       ; preds = %if.then2238, %sw.epilog
  %inc2241 = add nsw i32 %have_direct.28431, 1
  br label %if.end2242

if.end2242:                                       ; preds = %if.then2204, %if.end2240
  %cost_direct.4 = phi i32 [ %cost_direct.28430, %if.then2204 ], [ %cost_direct.3, %if.end2240 ]
  %have_direct.3 = phi i32 [ %have_direct.28431, %if.then2204 ], [ %inc2241, %if.end2240 ]
  %cost8x8_direct.4 = phi i32 [ %cost8x8_direct.28432, %if.then2204 ], [ %cost8x8_direct.3, %if.end2240 ]
  %436 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y2243 = getelementptr inbounds %struct.ImageParameters* %436, i64 0, i32 32
  %437 = load i32* %block_y2243, align 4, !tbaa !3
  %add2245 = add nsw i32 %437, %and2353
  %idxprom2246 = sext i32 %add2245 to i64
  %block_x2247 = getelementptr inbounds %struct.ImageParameters* %436, i64 0, i32 31
  %438 = load i32* %block_x2247, align 4, !tbaa !3
  %add2250 = add nsw i32 %438, %mul2359
  %idxprom2251 = sext i32 %add2250 to i64
  %439 = load i16**** @direct_ref_idx, align 8, !tbaa !0
  %440 = load i16*** %439, align 8, !tbaa !0
  %arrayidx2253 = getelementptr inbounds i16** %440, i64 %idxprom2251
  %441 = load i16** %arrayidx2253, align 8, !tbaa !0
  %arrayidx2254 = getelementptr inbounds i16* %441, i64 %idxprom2246
  %442 = load i16* %arrayidx2254, align 2, !tbaa !4
  %arrayidx2264 = getelementptr inbounds i16*** %439, i64 1
  %443 = load i16*** %arrayidx2264, align 8, !tbaa !0
  %arrayidx2265 = getelementptr inbounds i16** %443, i64 %idxprom2251
  %444 = load i16** %arrayidx2265, align 8, !tbaa !0
  %arrayidx2266 = getelementptr inbounds i16* %444, i64 %idxprom2246
  %445 = load i16* %arrayidx2266, align 2, !tbaa !4
  %446 = load i16*** @direct_pdir, align 8, !tbaa !0
  %arrayidx2276 = getelementptr inbounds i16** %446, i64 %idxprom2251
  %447 = load i16** %arrayidx2276, align 8, !tbaa !0
  %arrayidx2277 = getelementptr inbounds i16* %447, i64 %idxprom2246
  %448 = load i16* %arrayidx2277, align 2, !tbaa !4
  br label %if.end2573

if.else2278:                                      ; preds = %if.then2201
  call void @PartitionMotionSearch(i32 %420, i32 %413, double %lambda_motion.0) #8
  %449 = load i32* %arrayidx581, align 4, !tbaa !3
  %cmp22848390 = icmp sgt i32 %449, 0
  br i1 %cmp22848390, label %for.body2286.lr.ph, label %for.cond2344.loopexit

for.body2286.lr.ph:                               ; preds = %if.else2278
  %450 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt2297 = getelementptr inbounds %struct.InputParameters* %450, i64 0, i32 85
  %451 = load i32***** @motion_cost, align 8, !tbaa !0
  %arrayidx2331 = getelementptr inbounds i32**** %451, i64 %idxprom2190
  %452 = load i32** @refbits, align 8, !tbaa !0
  br label %for.body2286

for.body2286:                                     ; preds = %for.body2286.lr.ph, %for.inc2341
  %conv22808395 = phi i32 [ 0, %for.body2286.lr.ph ], [ %conv2280, %for.inc2341 ]
  %ref.28393 = phi i16 [ 0, %for.body2286.lr.ph ], [ %inc2342, %for.inc2341 ]
  %best_fw_ref.98392 = phi i16 [ %best_fw_ref.88425, %for.body2286.lr.ph ], [ %best_fw_ref.10, %for.inc2341 ]
  %fw_mcost.28391 = phi i32 [ 2147483647, %for.body2286.lr.ph ], [ %fw_mcost.3, %for.inc2341 ]
  %cmp2290 = icmp eq i16 %ref.28393, 0
  %or.cond8225 = or i1 %13, %cmp2290
  br i1 %or.cond8225, label %if.then2296, label %lor.lhs.false2292

lor.lhs.false2292:                                ; preds = %for.body2286
  %call2294 = call i32 @CheckReliabilityOfRef(i32 %413, i32 0, i32 %conv22808395, i32 %420) #10
  %tobool2295 = icmp eq i32 %call2294, 0
  br i1 %tobool2295, label %for.inc2341, label %if.then2296

if.then2296:                                      ; preds = %lor.lhs.false2292, %for.body2286
  %453 = load i32* %rdopt2297, align 4, !tbaa !3
  %tobool2298 = icmp eq i32 %453, 0
  br i1 %tobool2298, label %cond.false2313, label %cond.true2299

cond.true2299:                                    ; preds = %if.then2296
  %cmp2303 = icmp slt i32 %449, 2
  br i1 %cmp2303, label %cond.end2309, label %cond.false2306

cond.false2306:                                   ; preds = %cond.true2299
  %idxprom2307 = sext i16 %ref.28393 to i64
  %arrayidx2308 = getelementptr inbounds i32* %452, i64 %idxprom2307
  %454 = load i32* %arrayidx2308, align 4, !tbaa !3
  br label %cond.end2309

cond.end2309:                                     ; preds = %cond.true2299, %cond.false2306
  %cond2310 = phi i32 [ %454, %cond.false2306 ], [ 0, %cond.true2299 ]
  %mul2311 = mul nsw i32 %cond2310, %conv513
  %shr2312 = ashr i32 %mul2311, 16
  br label %cond.end2326

cond.false2313:                                   ; preds = %if.then2296
  %cmp2316 = icmp slt i16 %ref.28393, 1
  br i1 %cmp2316, label %cond.true2318, label %cond.end2321

cond.true2318:                                    ; preds = %cond.false2313
  %phitmp8170 = sitofp i16 %ref.28393 to double
  br label %cond.end2321

cond.end2321:                                     ; preds = %cond.false2313, %cond.true2318
  %cond2322 = phi double [ %phitmp8170, %cond.true2318 ], [ 1.000000e+00, %cond.false2313 ]
  %mul2324 = fmul double %mul781, %cond2322
  %conv2325 = fptosi double %mul2324 to i32
  br label %cond.end2326

cond.end2326:                                     ; preds = %cond.end2321, %cond.end2309
  %cond2327 = phi i32 [ %shr2312, %cond.end2309 ], [ %conv2325, %cond.end2321 ]
  %idxprom2329 = sext i16 %ref.28393 to i64
  %455 = load i32**** %arrayidx2331, align 8, !tbaa !0
  %456 = load i32*** %455, align 8, !tbaa !0
  %arrayidx2333 = getelementptr inbounds i32** %456, i64 %idxprom2329
  %457 = load i32** %arrayidx2333, align 8, !tbaa !0
  %arrayidx2334 = getelementptr inbounds i32* %457, i64 %indvars.iv8783
  %458 = load i32* %arrayidx2334, align 4, !tbaa !3
  %add2335 = add nsw i32 %458, %cond2327
  %cmp2336 = icmp slt i32 %add2335, %fw_mcost.28391
  %add2335.fw_mcost.2 = select i1 %cmp2336, i32 %add2335, i32 %fw_mcost.28391
  %ref.2.best_fw_ref.9 = select i1 %cmp2336, i16 %ref.28393, i16 %best_fw_ref.98392
  br label %for.inc2341

for.inc2341:                                      ; preds = %cond.end2326, %lor.lhs.false2292
  %fw_mcost.3 = phi i32 [ %fw_mcost.28391, %lor.lhs.false2292 ], [ %add2335.fw_mcost.2, %cond.end2326 ]
  %best_fw_ref.10 = phi i16 [ %best_fw_ref.98392, %lor.lhs.false2292 ], [ %ref.2.best_fw_ref.9, %cond.end2326 ]
  %inc2342 = add i16 %ref.28393, 1
  %conv2280 = sext i16 %inc2342 to i32
  %cmp2284 = icmp slt i32 %conv2280, %449
  br i1 %cmp2284, label %for.body2286, label %for.cond2344.loopexit

for.cond2344.loopexit:                            ; preds = %for.inc2341, %if.else2278
  %best_fw_ref.9.lcssa = phi i16 [ %best_fw_ref.88425, %if.else2278 ], [ %best_fw_ref.10, %for.inc2341 ]
  %fw_mcost.2.lcssa = phi i32 [ 2147483647, %if.else2278 ], [ %fw_mcost.3, %for.inc2341 ]
  %.pre9095.pre = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y2352.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %.pre9095.pre, i64 0, i32 32
  %.pre9096.pre = load i32* %block_y2352.phi.trans.insert.phi.trans.insert, align 4, !tbaa !3
  %block_x2357.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %.pre9095.pre, i64 0, i32 31
  %.pre9097.pre = load i32* %block_x2357.phi.trans.insert.phi.trans.insert, align 4, !tbaa !3
  %.pre9098.pre = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %ref_idx2363.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.storable_picture* %.pre9098.pre, i64 0, i32 32
  %.pre9099.pre = load i16**** %ref_idx2363.phi.trans.insert.phi.trans.insert, align 8, !tbaa !0
  %.pre9100.pre = load i16*** %.pre9099.pre, align 8, !tbaa !0
  %ref_pic_id2399.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.storable_picture* %.pre9098.pre, i64 0, i32 33
  %.pre9101.pre = load i64**** %ref_pic_id2399.phi.trans.insert.phi.trans.insert, align 8, !tbaa !0
  %.pre9102.pre = load i64*** %.pre9101.pre, align 8, !tbaa !0
  br label %for.cond2348.preheader

for.cond2348.preheader:                           ; preds = %for.inc2406, %for.cond2344.loopexit
  %j.68401 = phi i32 [ 0, %for.cond2344.loopexit ], [ %inc2407, %for.inc2406 ]
  %add2354 = add i32 %j.68401, %and2353
  br label %for.body2351

for.body2351:                                     ; preds = %for.body2351, %for.cond2348.preheader
  %i.68400 = phi i32 [ 0, %for.cond2348.preheader ], [ %inc2404, %for.body2351 ]
  %add2355 = add i32 %add2354, %.pre9096.pre
  %idxprom2356 = sext i32 %add2355 to i64
  %add2360 = add i32 %i.68400, %mul2359
  %add2361 = add i32 %add2360, %.pre9097.pre
  %idxprom2362 = sext i32 %add2361 to i64
  %arrayidx2365 = getelementptr inbounds i16** %.pre9100.pre, i64 %idxprom2362
  %459 = load i16** %arrayidx2365, align 8, !tbaa !0
  %arrayidx2366 = getelementptr inbounds i16* %459, i64 %idxprom2356
  store i16 %best_fw_ref.9.lcssa, i16* %arrayidx2366, align 2, !tbaa !4
  %idxprom2382 = sext i16 %best_fw_ref.9.lcssa to i64
  %arrayidx2387 = getelementptr inbounds %struct.storable_picture* %.pre9098.pre, i64 0, i32 6, i64 %idxprom5808171, i64 %idxprom2382
  %460 = load i64* %arrayidx2387, align 8, !tbaa !5
  %arrayidx2401 = getelementptr inbounds i64** %.pre9102.pre, i64 %idxprom2362
  %461 = load i64** %arrayidx2401, align 8, !tbaa !0
  %arrayidx2402 = getelementptr inbounds i64* %461, i64 %idxprom2356
  store i64 %460, i64* %arrayidx2402, align 8, !tbaa !5
  %inc2404 = add nsw i32 %i.68400, 1
  %exitcond8739 = icmp eq i32 %inc2404, 2
  br i1 %exitcond8739, label %for.inc2406, label %for.body2351

for.inc2406:                                      ; preds = %for.body2351
  %inc2407 = add nsw i32 %j.68401, 1
  %exitcond8740 = icmp eq i32 %inc2407, 2
  br i1 %exitcond8740, label %for.end2408, label %for.cond2348.preheader

for.end2408:                                      ; preds = %for.inc2406
  br i1 %cmp15, label %for.cond2411.preheader, label %if.else2571

for.cond2411.preheader:                           ; preds = %for.end2408
  %462 = load i32* %arrayidx647, align 4, !tbaa !3
  %cmp24168402 = icmp sgt i32 %462, 0
  %463 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt24198403 = getelementptr inbounds %struct.InputParameters* %463, i64 0, i32 85
  %464 = load i32* %rdopt24198403, align 4, !tbaa !3
  %tobool24208404 = icmp ne i32 %464, 0
  br i1 %cmp24168402, label %for.body2418.lr.ph, label %for.end2464

for.body2418.lr.ph:                               ; preds = %for.cond2411.preheader
  %465 = load i32** @refbits, align 8, !tbaa !0
  %466 = load i32***** @motion_cost, align 8, !tbaa !0
  %arrayidx2453 = getelementptr inbounds i32**** %466, i64 %idxprom2190
  %467 = load i32**** %arrayidx2453, align 8, !tbaa !0
  %arrayidx2454 = getelementptr inbounds i32*** %467, i64 1
  %468 = load i32*** %arrayidx2454, align 8, !tbaa !0
  br label %for.body2418

for.body2418:                                     ; preds = %for.body2418.lr.ph, %cond.end2448
  %best_bw_ref.98407 = phi i16 [ %best_bw_ref.88433, %for.body2418.lr.ph ], [ %ref.3.best_bw_ref.9, %cond.end2448 ]
  %ref.38406 = phi i16 [ 0, %for.body2418.lr.ph ], [ %inc2463, %cond.end2448 ]
  %bw_mcost.28405 = phi i32 [ 2147483647, %for.body2418.lr.ph ], [ %add2457.bw_mcost.2, %cond.end2448 ]
  br i1 %tobool24208404, label %cond.true2421, label %cond.false2435

cond.true2421:                                    ; preds = %for.body2418
  %cmp2425 = icmp slt i32 %462, 2
  br i1 %cmp2425, label %cond.end2431, label %cond.false2428

cond.false2428:                                   ; preds = %cond.true2421
  %idxprom2429 = sext i16 %ref.38406 to i64
  %arrayidx2430 = getelementptr inbounds i32* %465, i64 %idxprom2429
  %469 = load i32* %arrayidx2430, align 4, !tbaa !3
  br label %cond.end2431

cond.end2431:                                     ; preds = %cond.true2421, %cond.false2428
  %cond2432 = phi i32 [ %469, %cond.false2428 ], [ 0, %cond.true2421 ]
  %mul2433 = mul nsw i32 %cond2432, %conv513
  %shr2434 = ashr i32 %mul2433, 16
  br label %cond.end2448

cond.false2435:                                   ; preds = %for.body2418
  %cmp2438 = icmp slt i16 %ref.38406, 1
  br i1 %cmp2438, label %cond.true2440, label %cond.end2443

cond.true2440:                                    ; preds = %cond.false2435
  %phitmp8169 = sitofp i16 %ref.38406 to double
  br label %cond.end2443

cond.end2443:                                     ; preds = %cond.false2435, %cond.true2440
  %cond2444 = phi double [ %phitmp8169, %cond.true2440 ], [ 1.000000e+00, %cond.false2435 ]
  %mul2446 = fmul double %mul781, %cond2444
  %conv2447 = fptosi double %mul2446 to i32
  br label %cond.end2448

cond.end2448:                                     ; preds = %cond.end2443, %cond.end2431
  %cond2449 = phi i32 [ %shr2434, %cond.end2431 ], [ %conv2447, %cond.end2443 ]
  %idxprom2451 = sext i16 %ref.38406 to i64
  %arrayidx2455 = getelementptr inbounds i32** %468, i64 %idxprom2451
  %470 = load i32** %arrayidx2455, align 8, !tbaa !0
  %arrayidx2456 = getelementptr inbounds i32* %470, i64 %indvars.iv8783
  %471 = load i32* %arrayidx2456, align 4, !tbaa !3
  %add2457 = add nsw i32 %471, %cond2449
  %cmp2458 = icmp slt i32 %add2457, %bw_mcost.28405
  %add2457.bw_mcost.2 = select i1 %cmp2458, i32 %add2457, i32 %bw_mcost.28405
  %ref.3.best_bw_ref.9 = select i1 %cmp2458, i16 %ref.38406, i16 %best_bw_ref.98407
  %inc2463 = add i16 %ref.38406, 1
  %conv2412 = sext i16 %inc2463 to i32
  %cmp2416 = icmp slt i32 %conv2412, %462
  br i1 %cmp2416, label %for.body2418, label %for.end2464

for.end2464:                                      ; preds = %cond.end2448, %for.cond2411.preheader
  %best_bw_ref.9.lcssa = phi i16 [ %best_bw_ref.88433, %for.cond2411.preheader ], [ %ref.3.best_bw_ref.9, %cond.end2448 ]
  %bw_mcost.2.lcssa = phi i32 [ 2147483647, %for.cond2411.preheader ], [ %add2457.bw_mcost.2, %cond.end2448 ]
  br i1 %tobool24208404, label %cond.true2467, label %cond.false2494

cond.true2467:                                    ; preds = %for.end2464
  %cmp2471 = icmp slt i32 %449, 2
  br i1 %cmp2471, label %cond.end2477, label %cond.false2474

cond.false2474:                                   ; preds = %cond.true2467
  %472 = load i32** @refbits, align 8, !tbaa !0
  %arrayidx2476 = getelementptr inbounds i32* %472, i64 %idxprom2382
  %473 = load i32* %arrayidx2476, align 4, !tbaa !3
  br label %cond.end2477

cond.end2477:                                     ; preds = %cond.true2467, %cond.false2474
  %cond2478 = phi i32 [ %473, %cond.false2474 ], [ 0, %cond.true2467 ]
  %mul2479 = mul nsw i32 %cond2478, %conv513
  %shr2480 = ashr i32 %mul2479, 16
  %cmp2484 = icmp slt i32 %462, 2
  br i1 %cmp2484, label %cond.end2489, label %cond.false2487

cond.false2487:                                   ; preds = %cond.end2477
  %474 = load i32** @refbits, align 8, !tbaa !0
  %475 = load i32* %474, align 4, !tbaa !3
  br label %cond.end2489

cond.end2489:                                     ; preds = %cond.end2477, %cond.false2487
  %cond2490 = phi i32 [ %475, %cond.false2487 ], [ 0, %cond.end2477 ]
  %mul2491 = mul nsw i32 %cond2490, %conv513
  %shr2492 = ashr i32 %mul2491, 16
  %add2493 = add nsw i32 %shr2492, %shr2480
  br label %cond.end2507

cond.false2494:                                   ; preds = %for.end2464
  %cmp2497 = icmp slt i16 %best_fw_ref.9.lcssa, 1
  br i1 %cmp2497, label %cond.true2499, label %cond.end2502

cond.true2499:                                    ; preds = %cond.false2494
  %phitmp8168 = sitofp i16 %best_fw_ref.9.lcssa to double
  br label %cond.end2502

cond.end2502:                                     ; preds = %cond.false2494, %cond.true2499
  %cond2503 = phi double [ %phitmp8168, %cond.true2499 ], [ 1.000000e+00, %cond.false2494 ]
  %mul2505 = fmul double %mul781, %cond2503
  %conv2506 = fptosi double %mul2505 to i32
  br label %cond.end2507

cond.end2507:                                     ; preds = %cond.end2502, %cond.end2489
  %cond2508 = phi i32 [ %add2493, %cond.end2489 ], [ %conv2506, %cond.end2502 ]
  %call2509 = call i32 @BIDPartitionCost(i32 %420, i32 %413, i16 signext %best_fw_ref.9.lcssa, i16 signext 0, i32 %conv513) #8
  %add2510 = add nsw i32 %call2509, %cond2508
  %cmp2511 = icmp sgt i32 %fw_mcost.2.lcssa, %bw_mcost.2.lcssa
  %cmp2514 = icmp sgt i32 %fw_mcost.2.lcssa, %add2510
  %or.cond8226 = or i1 %cmp2511, %cmp2514
  br i1 %or.cond8226, label %if.else2517, label %if.then2516

if.then2516:                                      ; preds = %cond.end2507
  store i32 %fw_mcost.2.lcssa, i32* %cost, align 4, !tbaa !3
  br label %if.end2526

if.else2517:                                      ; preds = %cond.end2507
  %cmp2518 = icmp sgt i32 %bw_mcost.2.lcssa, %fw_mcost.2.lcssa
  %cmp2521 = icmp sgt i32 %bw_mcost.2.lcssa, %add2510
  %or.cond8227 = or i1 %cmp2518, %cmp2521
  br i1 %or.cond8227, label %if.else2524, label %if.then2523

if.then2523:                                      ; preds = %if.else2517
  store i32 %bw_mcost.2.lcssa, i32* %cost, align 4, !tbaa !3
  br label %if.end2526

if.else2524:                                      ; preds = %if.else2517
  store i32 %add2510, i32* %cost, align 4, !tbaa !3
  br label %if.end2526

if.end2526:                                       ; preds = %if.then2523, %if.else2524, %if.then2516
  %best_fw_ref.11 = phi i16 [ %best_fw_ref.9.lcssa, %if.then2516 ], [ -1, %if.then2523 ], [ %best_fw_ref.9.lcssa, %if.else2524 ]
  %best_pdir.1 = phi i16 [ 0, %if.then2516 ], [ 1, %if.then2523 ], [ 2, %if.else2524 ]
  %best_bw_ref.11 = phi i16 [ -1, %if.then2516 ], [ %best_bw_ref.9.lcssa, %if.then2523 ], [ 0, %if.else2524 ]
  %476 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y2535 = getelementptr inbounds %struct.ImageParameters* %476, i64 0, i32 32
  %477 = load i32* %block_y2535, align 4, !tbaa !3
  %block_x2540 = getelementptr inbounds %struct.ImageParameters* %476, i64 0, i32 31
  %478 = load i32* %block_x2540, align 4, !tbaa !3
  %479 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %ref_idx2546 = getelementptr inbounds %struct.storable_picture* %479, i64 0, i32 32
  %480 = load i16**** %ref_idx2546, align 8, !tbaa !0
  %481 = load i16*** %480, align 8, !tbaa !0
  %arrayidx2562 = getelementptr inbounds i16*** %480, i64 1
  %482 = load i16*** %arrayidx2562, align 8, !tbaa !0
  br label %for.cond2531.preheader

for.cond2531.preheader:                           ; preds = %for.inc2568, %if.end2526
  %indvars.iv8745 = phi i64 [ 0, %if.end2526 ], [ %indvars.iv.next8746, %for.inc2568 ]
  %483 = trunc i64 %indvars.iv8745 to i32
  %add2537 = add i32 %483, %and2353
  %add2538 = add i32 %add2537, %477
  %idxprom2539 = sext i32 %add2538 to i64
  br label %for.body2534

for.body2534:                                     ; preds = %for.body2534, %for.cond2531.preheader
  %indvars.iv8741 = phi i64 [ 0, %for.cond2531.preheader ], [ %indvars.iv.next8742, %for.body2534 ]
  %484 = trunc i64 %indvars.iv8741 to i32
  %add2543 = add i32 %484, %mul2359
  %add2544 = add i32 %add2543, %478
  %idxprom2545 = sext i32 %add2544 to i64
  %arrayidx2548 = getelementptr inbounds i16** %481, i64 %idxprom2545
  %485 = load i16** %arrayidx2548, align 8, !tbaa !0
  %arrayidx2549 = getelementptr inbounds i16* %485, i64 %idxprom2539
  store i16 %best_fw_ref.11, i16* %arrayidx2549, align 2, !tbaa !4
  %arrayidx2563 = getelementptr inbounds i16** %482, i64 %idxprom2545
  %486 = load i16** %arrayidx2563, align 8, !tbaa !0
  %arrayidx2564 = getelementptr inbounds i16* %486, i64 %idxprom2539
  store i16 %best_bw_ref.11, i16* %arrayidx2564, align 2, !tbaa !4
  %indvars.iv.next8742 = add i64 %indvars.iv8741, 1
  %lftr.wideiv8743 = trunc i64 %indvars.iv.next8742 to i32
  %exitcond8744 = icmp eq i32 %lftr.wideiv8743, 2
  br i1 %exitcond8744, label %for.inc2568, label %for.body2534

for.inc2568:                                      ; preds = %for.body2534
  %indvars.iv.next8746 = add i64 %indvars.iv8745, 1
  %lftr.wideiv8747 = trunc i64 %indvars.iv.next8746 to i32
  %exitcond8748 = icmp eq i32 %lftr.wideiv8747, 2
  br i1 %exitcond8748, label %if.end2573, label %for.cond2531.preheader

if.else2571:                                      ; preds = %for.end2408
  store i32 %fw_mcost.2.lcssa, i32* %cost, align 4, !tbaa !3
  br label %if.end2573

if.end2573:                                       ; preds = %for.inc2568, %if.else2571, %if.end2242
  %best_fw_ref.12 = phi i16 [ %442, %if.end2242 ], [ %best_fw_ref.9.lcssa, %if.else2571 ], [ %best_fw_ref.11, %for.inc2568 ]
  %cost_direct.5 = phi i32 [ %cost_direct.4, %if.end2242 ], [ %cost_direct.28430, %if.else2571 ], [ %cost_direct.28430, %for.inc2568 ]
  %have_direct.4 = phi i32 [ %have_direct.3, %if.end2242 ], [ %have_direct.28431, %if.else2571 ], [ %have_direct.28431, %for.inc2568 ]
  %cost8x8_direct.5 = phi i32 [ %cost8x8_direct.4, %if.end2242 ], [ %cost8x8_direct.28432, %if.else2571 ], [ %cost8x8_direct.28432, %for.inc2568 ]
  %best_pdir.2 = phi i16 [ %448, %if.end2242 ], [ 0, %if.else2571 ], [ %best_pdir.1, %for.inc2568 ]
  %best_bw_ref.12 = phi i16 [ %445, %if.end2242 ], [ %best_bw_ref.88433, %if.else2571 ], [ %best_bw_ref.11, %for.inc2568 ]
  %487 = load %struct.CSobj** @cs_cm, align 8, !tbaa !0
  call void @store_coding_state(%struct.CSobj* %487) #8
  %488 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt2574 = getelementptr inbounds %struct.InputParameters* %488, i64 0, i32 85
  %489 = load i32* %rdopt2574, align 4, !tbaa !3
  %tobool2575 = icmp eq i32 %489, 0
  br i1 %tobool2575, label %if.else2578, label %if.then2576

if.then2576:                                      ; preds = %if.end2573
  %call2577 = call double @RDCost_for_8x8blocks(i32* %cnt_nonz, i64* %curr_cbp_blk, double %lambda_mode.4, i32 %413, i32 %420, i16 signext %best_pdir.2, i16 signext %best_fw_ref.12, i16 signext %best_bw_ref.12) #10
  br label %if.end2604

if.else2578:                                      ; preds = %if.end2573
  %490 = load i32* %cost, align 4, !tbaa !3
  %cmp2579 = icmp eq i32 %490, 2147483647
  br i1 %cmp2579, label %if.end2604, label %if.then2581

if.then2581:                                      ; preds = %if.else2578
  %not.cmp2583 = icmp sgt i16 %best_pdir.2, 0
  %cond2585 = zext i1 %not.cmp2583 to i32
  %add2586 = or i32 %cond2585, %list_offset.0
  %idxprom25878165 = zext i32 %add2586 to i64
  %arrayidx2588 = getelementptr inbounds [6 x i32]* @listXsize, i64 0, i64 %idxprom25878165
  %491 = load i32* %arrayidx2588, align 4, !tbaa !3
  %cmp2589 = icmp slt i32 %491, 2
  br i1 %cmp2589, label %cond.end2597, label %cond.false2592

cond.false2592:                                   ; preds = %if.then2581
  %conv2582 = sext i16 %best_pdir.2 to i32
  %call2594 = call i32 @B8Mode2Value(i32 %420, i32 %conv2582) #8
  %idxprom2595 = sext i32 %call2594 to i64
  %492 = load i32** @refbits, align 8, !tbaa !0
  %arrayidx2596 = getelementptr inbounds i32* %492, i64 %idxprom2595
  %493 = load i32* %arrayidx2596, align 4, !tbaa !3
  %.pre9103 = load i32* %cost, align 4, !tbaa !3
  br label %cond.end2597

cond.end2597:                                     ; preds = %if.then2581, %cond.false2592
  %494 = phi i32 [ %.pre9103, %cond.false2592 ], [ %490, %if.then2581 ]
  %cond2598 = phi i32 [ %493, %cond.false2592 ], [ 0, %if.then2581 ]
  %mul2599 = mul nsw i32 %cond2598, %conv513
  %shr2600 = ashr i32 %mul2599, 16
  %sub2601 = add i32 %494, -1
  %add2602 = add i32 %sub2601, %shr2600
  store i32 %add2602, i32* %cost, align 4, !tbaa !3
  br label %if.end2604

if.end2604:                                       ; preds = %if.else2578, %cond.end2597, %if.then2576
  %rdcost.3 = phi double [ %call2577, %if.then2576 ], [ %rdcost.28421, %cond.end2597 ], [ %rdcost.28421, %if.else2578 ]
  %495 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt2605 = getelementptr inbounds %struct.InputParameters* %495, i64 0, i32 85
  %496 = load i32* %rdopt2605, align 4, !tbaa !3
  %tobool2606 = icmp eq i32 %496, 0
  br i1 %tobool2606, label %land.lhs.true2613, label %land.lhs.true2607

land.lhs.true2607:                                ; preds = %if.end2604
  %cmp2608 = fcmp olt double %rdcost.3, %rdcost.38459
  br i1 %cmp2608, label %land.lhs.true2607.if.then2616_crit_edge, label %if.end2762

land.lhs.true2607.if.then2616_crit_edge:          ; preds = %land.lhs.true2607
  %.pre9141 = load i32* %cost, align 4, !tbaa !3
  br label %if.then2616

land.lhs.true2613:                                ; preds = %if.end2604
  %497 = load i32* %cost, align 4, !tbaa !3
  %cmp2614 = icmp slt i32 %497, %min_cost8x8.08426
  br i1 %cmp2614, label %if.then2616, label %if.end2762

if.then2616:                                      ; preds = %land.lhs.true2613, %land.lhs.true2607.if.then2616_crit_edge
  %498 = phi i32 [ %.pre9141, %land.lhs.true2607.if.then2616_crit_edge ], [ %497, %land.lhs.true2613 ]
  store i32 %420, i32* %arrayidx2618, align 4, !tbaa !3
  store i16 %best_pdir.2, i16* %arrayidx2620, align 2, !tbaa !4
  store i16 %best_fw_ref.12, i16* %arrayidx2622, align 2, !tbaa !4
  store i16 %best_bw_ref.12, i16* %arrayidx2624, align 2, !tbaa !4
  %499 = load i32* %cnt_nonz, align 4, !tbaa !3
  %500 = load i32* %rdopt2605, align 4, !tbaa !3
  %tobool2626 = icmp eq i32 %500, 0
  br i1 %tobool2626, label %if.end2761, label %if.then2627

if.then2627:                                      ; preds = %if.then2616
  %501 = load i32* @cbp_blk8x8, align 4, !tbaa !3
  %and2634 = and i32 %501, %neg
  %502 = load i64* %curr_cbp_blk, align 8, !tbaa !5
  %conv26358164 = zext i32 %and2634 to i64
  %or2636 = or i64 %conv26358164, %502
  %conv2637 = trunc i64 %or2636 to i32
  store i32 %conv2637, i32* @cbp_blk8x8, align 4, !tbaa !3
  %503 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %cofAC = getelementptr inbounds %struct.ImageParameters* %503, i64 0, i32 47
  %504 = load i32***** %cofAC, align 8, !tbaa !0
  %arrayidx2654 = getelementptr inbounds i32**** %504, i64 %indvars.iv8783
  %505 = load i32**** %arrayidx2654, align 8, !tbaa !0
  %506 = load i32***** @cofAC_8x8ts, align 8, !tbaa !0
  %arrayidx2662 = getelementptr inbounds i32**** %506, i64 %indvars.iv8783
  %507 = load i32**** %arrayidx2662, align 8, !tbaa !0
  br label %for.cond2642.preheader

for.cond2642.preheader:                           ; preds = %for.inc2672, %if.then2627
  %indvars.iv8757 = phi i64 [ 0, %if.then2627 ], [ %indvars.iv.next8758, %for.inc2672 ]
  %arrayidx2655 = getelementptr inbounds i32*** %505, i64 %indvars.iv8757
  %508 = load i32*** %arrayidx2655, align 8, !tbaa !0
  %arrayidx2663 = getelementptr inbounds i32*** %507, i64 %indvars.iv8757
  %509 = load i32*** %arrayidx2663, align 8, !tbaa !0
  br label %for.cond2646.preheader

for.cond2646.preheader:                           ; preds = %for.inc2669, %for.cond2642.preheader
  %indvars.iv8753 = phi i64 [ 0, %for.cond2642.preheader ], [ %indvars.iv.next8754, %for.inc2669 ]
  %arrayidx2656 = getelementptr inbounds i32** %508, i64 %indvars.iv8753
  %510 = load i32** %arrayidx2656, align 8, !tbaa !0
  %arrayidx2664 = getelementptr inbounds i32** %509, i64 %indvars.iv8753
  %511 = load i32** %arrayidx2664, align 8, !tbaa !0
  br label %for.body2649

for.body2649:                                     ; preds = %for.body2649, %for.cond2646.preheader
  %indvars.iv8749 = phi i64 [ 0, %for.cond2646.preheader ], [ %indvars.iv.next8750, %for.body2649 ]
  %arrayidx2657 = getelementptr inbounds i32* %510, i64 %indvars.iv8749
  %512 = load i32* %arrayidx2657, align 4, !tbaa !3
  %arrayidx2665 = getelementptr inbounds i32* %511, i64 %indvars.iv8749
  store i32 %512, i32* %arrayidx2665, align 4, !tbaa !3
  %indvars.iv.next8750 = add i64 %indvars.iv8749, 1
  %lftr.wideiv8751 = trunc i64 %indvars.iv.next8750 to i32
  %exitcond8752 = icmp eq i32 %lftr.wideiv8751, 65
  br i1 %exitcond8752, label %for.inc2669, label %for.body2649

for.inc2669:                                      ; preds = %for.body2649
  %indvars.iv.next8754 = add i64 %indvars.iv8753, 1
  %lftr.wideiv8755 = trunc i64 %indvars.iv.next8754 to i32
  %exitcond8756 = icmp eq i32 %lftr.wideiv8755, 2
  br i1 %exitcond8756, label %for.inc2672, label %for.cond2646.preheader

for.inc2672:                                      ; preds = %for.inc2669
  %indvars.iv.next8758 = add i64 %indvars.iv8757, 1
  %lftr.wideiv8759 = trunc i64 %indvars.iv.next8758 to i32
  %exitcond8760 = icmp eq i32 %lftr.wideiv8759, 4
  br i1 %exitcond8760, label %for.cond2675.loopexit, label %for.cond2642.preheader

for.cond2675.loopexit:                            ; preds = %for.inc2672
  %residue_transform_flag = getelementptr inbounds %struct.ImageParameters* %503, i64 0, i32 164
  %pix_x = getelementptr inbounds %struct.ImageParameters* %503, i64 0, i32 33
  %pix_y = getelementptr inbounds %struct.ImageParameters* %503, i64 0, i32 34
  %513 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgY = getelementptr inbounds %struct.storable_picture* %513, i64 0, i32 25
  br label %for.cond2680.preheader

for.cond2680.preheader:                           ; preds = %for.cond2675.loopexit, %for.inc2758
  %indvars.iv8763 = phi i64 [ %419, %for.cond2675.loopexit ], [ %indvars.iv.next8764, %for.inc2758 ]
  br label %for.body2684

for.body2684:                                     ; preds = %for.inc2755.for.body2684_crit_edge, %for.cond2680.preheader
  %indvars.iv8761 = phi i64 [ %417, %for.cond2680.preheader ], [ %indvars.iv.next8762, %for.inc2755.for.body2684_crit_edge ]
  %514 = load i32* %residue_transform_flag, align 4, !tbaa !3
  %tobool2685 = icmp eq i32 %514, 0
  br i1 %tobool2685, label %if.then2686, label %if.else2705

if.then2686:                                      ; preds = %for.body2684
  %515 = load i32* %pix_x, align 4, !tbaa !3
  %516 = trunc i64 %indvars.iv8761 to i32
  %add2687 = add nsw i32 %515, %516
  %idxprom2688 = sext i32 %add2687 to i64
  %517 = load i32* %pix_y, align 4, !tbaa !3
  %518 = trunc i64 %indvars.iv8763 to i32
  %add2689 = add nsw i32 %517, %518
  %idxprom2690 = sext i32 %add2689 to i64
  %519 = load i16*** %imgY, align 8, !tbaa !0
  %arrayidx2691 = getelementptr inbounds i16** %519, i64 %idxprom2690
  %520 = load i16** %arrayidx2691, align 8, !tbaa !0
  %arrayidx2692 = getelementptr inbounds i16* %520, i64 %idxprom2688
  %521 = load i16* %arrayidx2692, align 2, !tbaa !4
  %arrayidx2696 = getelementptr inbounds [16 x [16 x i16]]* @rec_mbY_8x8ts, i64 0, i64 %indvars.iv8763, i64 %indvars.iv8761
  store i16 %521, i16* %arrayidx2696, align 2, !tbaa !4
  %arrayidx2700 = getelementptr inbounds %struct.ImageParameters* %503, i64 0, i32 45, i64 %indvars.iv8761, i64 %indvars.iv8763
  %522 = load i16* %arrayidx2700, align 2, !tbaa !4
  %arrayidx2704 = getelementptr inbounds [16 x [16 x i16]]* @mpr_8x8ts, i64 0, i64 %indvars.iv8763, i64 %indvars.iv8761
  store i16 %522, i16* %arrayidx2704, align 2, !tbaa !4
  br label %for.inc2755

if.else2705:                                      ; preds = %for.body2684
  %arrayidx2709 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG, i64 0, i64 %indvars.iv8761, i64 %indvars.iv8763
  %523 = load i32* %arrayidx2709, align 4, !tbaa !3
  %arrayidx2713 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG_8x8ts, i64 0, i64 %indvars.iv8761, i64 %indvars.iv8763
  store i32 %523, i32* %arrayidx2713, align 4, !tbaa !3
  %arrayidx2717 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R, i64 0, i64 %indvars.iv8761, i64 %indvars.iv8763
  %524 = load i32* %arrayidx2717, align 4, !tbaa !3
  %arrayidx2721 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R_8x8ts, i64 0, i64 %indvars.iv8761, i64 %indvars.iv8763
  store i32 %524, i32* %arrayidx2721, align 4, !tbaa !3
  %arrayidx2725 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B, i64 0, i64 %indvars.iv8761, i64 %indvars.iv8763
  %525 = load i32* %arrayidx2725, align 4, !tbaa !3
  %arrayidx2729 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B_8x8ts, i64 0, i64 %indvars.iv8761, i64 %indvars.iv8763
  store i32 %525, i32* %arrayidx2729, align 4, !tbaa !3
  %arrayidx2733 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 0, i64 %indvars.iv8761, i64 %indvars.iv8763
  %526 = load i32* %arrayidx2733, align 4, !tbaa !3
  %arrayidx2737 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8ts, i64 0, i64 0, i64 %indvars.iv8761, i64 %indvars.iv8763
  store i32 %526, i32* %arrayidx2737, align 4, !tbaa !3
  %arrayidx2741 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 1, i64 %indvars.iv8761, i64 %indvars.iv8763
  %527 = load i32* %arrayidx2741, align 4, !tbaa !3
  %arrayidx2745 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8ts, i64 0, i64 1, i64 %indvars.iv8761, i64 %indvars.iv8763
  store i32 %527, i32* %arrayidx2745, align 4, !tbaa !3
  %arrayidx2749 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 2, i64 %indvars.iv8761, i64 %indvars.iv8763
  %528 = load i32* %arrayidx2749, align 4, !tbaa !3
  %arrayidx2753 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8ts, i64 0, i64 2, i64 %indvars.iv8761, i64 %indvars.iv8763
  store i32 %528, i32* %arrayidx2753, align 4, !tbaa !3
  %.pre9163 = trunc i64 %indvars.iv8761 to i32
  br label %for.inc2755

for.inc2755:                                      ; preds = %if.then2686, %if.else2705
  %.pre-phi9164 = phi i32 [ %516, %if.then2686 ], [ %.pre9163, %if.else2705 ]
  %529 = or i32 %shl2179, 7
  %cmp2682 = icmp slt i32 %.pre-phi9164, %529
  br i1 %cmp2682, label %for.inc2755.for.body2684_crit_edge, label %for.inc2758

for.inc2755.for.body2684_crit_edge:               ; preds = %for.inc2755
  %indvars.iv.next8762 = add i64 %indvars.iv8761, 1
  br label %for.body2684

for.inc2758:                                      ; preds = %for.inc2755
  %indvars.iv.next8764 = add i64 %indvars.iv8763, 1
  %530 = or i32 %shl, 7
  %531 = trunc i64 %indvars.iv8763 to i32
  %cmp2677 = icmp slt i32 %531, %530
  br i1 %cmp2677, label %for.cond2680.preheader, label %if.end2761

if.end2761:                                       ; preds = %for.inc2758, %if.then2616
  %532 = load %struct.CSobj** @cs_b8, align 8, !tbaa !0
  call void @store_coding_state(%struct.CSobj* %532) #8
  br label %if.end2762

if.end2762:                                       ; preds = %land.lhs.true2607, %if.end2761, %land.lhs.true2613
  %rdcost.38461 = phi double [ %rdcost.3, %if.end2761 ], [ %rdcost.38459, %land.lhs.true2613 ], [ %rdcost.38459, %land.lhs.true2607 ]
  %best_cnt_nonz.3 = phi i32 [ %499, %if.end2761 ], [ %best_cnt_nonz.28423, %land.lhs.true2613 ], [ %best_cnt_nonz.28423, %land.lhs.true2607 ]
  %min_cost8x8.1 = phi i32 [ %498, %if.end2761 ], [ %min_cost8x8.08426, %land.lhs.true2613 ], [ %min_cost8x8.08426, %land.lhs.true2607 ]
  %533 = load %struct.CSobj** @cs_cm, align 8, !tbaa !0
  call void @reset_coding_state(%struct.CSobj* %533) #8
  br label %for.inc2764

for.inc2764:                                      ; preds = %lor.lhs.false2196, %land.lhs.true2199, %if.end2762
  %rdcost.38460 = phi double [ %rdcost.38461, %if.end2762 ], [ %rdcost.38459, %land.lhs.true2199 ], [ %rdcost.38459, %lor.lhs.false2196 ]
  %rdcost.4 = phi double [ %rdcost.3, %if.end2762 ], [ %rdcost.28421, %land.lhs.true2199 ], [ %rdcost.28421, %lor.lhs.false2196 ]
  %best_cnt_nonz.4 = phi i32 [ %best_cnt_nonz.3, %if.end2762 ], [ %best_cnt_nonz.28423, %land.lhs.true2199 ], [ %best_cnt_nonz.28423, %lor.lhs.false2196 ]
  %best_fw_ref.13 = phi i16 [ %best_fw_ref.12, %if.end2762 ], [ %best_fw_ref.88425, %land.lhs.true2199 ], [ %best_fw_ref.88425, %lor.lhs.false2196 ]
  %min_cost8x8.2 = phi i32 [ %min_cost8x8.1, %if.end2762 ], [ %min_cost8x8.08426, %land.lhs.true2199 ], [ %min_cost8x8.08426, %lor.lhs.false2196 ]
  %cost_direct.6 = phi i32 [ %cost_direct.5, %if.end2762 ], [ %cost_direct.28430, %land.lhs.true2199 ], [ %cost_direct.28430, %lor.lhs.false2196 ]
  %have_direct.5 = phi i32 [ %have_direct.4, %if.end2762 ], [ %have_direct.28431, %land.lhs.true2199 ], [ %have_direct.28431, %lor.lhs.false2196 ]
  %cost8x8_direct.6 = phi i32 [ %cost8x8_direct.5, %if.end2762 ], [ %cost8x8_direct.28432, %land.lhs.true2199 ], [ %cost8x8_direct.28432, %lor.lhs.false2196 ]
  %best_bw_ref.13 = phi i16 [ %best_bw_ref.12, %if.end2762 ], [ %best_bw_ref.88433, %land.lhs.true2199 ], [ %best_bw_ref.88433, %lor.lhs.false2196 ]
  %indvars.iv.next8766 = add i64 %indvars.iv8765, 1
  %534 = trunc i64 %indvars.iv.next8766 to i32
  %cmp2185 = icmp slt i32 %534, 2
  br i1 %cmp2185, label %for.body2187, label %for.end2766

for.end2766:                                      ; preds = %for.inc2764
  %535 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt2767 = getelementptr inbounds %struct.InputParameters* %535, i64 0, i32 85
  %536 = load i32* %rdopt2767, align 4, !tbaa !3
  %tobool2768 = icmp eq i32 %536, 0
  br i1 %tobool2768, label %if.then2769, label %if.end2942

if.then2769:                                      ; preds = %for.end2766
  %add2770 = add nsw i32 %min_cost8x8.2, %cost8x8.08452
  %arrayidx2772 = getelementptr inbounds [4 x i32]* @part8x8mode, i64 0, i64 %indvars.iv8783
  %537 = load i32* %arrayidx2772, align 4, !tbaa !3
  %arrayidx2774 = getelementptr inbounds [4 x i16]* @part8x8pdir, i64 0, i64 %indvars.iv8783
  %538 = load i16* %arrayidx2774, align 2, !tbaa !4
  store i64 0, i64* %curr_cbp_blk, align 8, !tbaa !5
  switch i16 %538, label %cond.end2784 [
    i16 0, label %cond.true2782
    i16 2, label %cond.true2782
  ]

cond.true2782:                                    ; preds = %if.then2769, %if.then2769
  br label %cond.end2784

cond.end2784:                                     ; preds = %if.then2769, %cond.true2782
  %cond2785 = phi i32 [ %537, %cond.true2782 ], [ 0, %if.then2769 ]
  %.off8267 = add i16 %538, -1
  %switch = icmp ult i16 %.off8267, 2
  %.8268 = select i1 %switch, i32 %537, i32 0
  %arrayidx2798 = getelementptr inbounds [4 x i16]* @part8x8fwref, i64 0, i64 %indvars.iv8783
  %539 = load i16* %arrayidx2798, align 2, !tbaa !4
  %arrayidx2800 = getelementptr inbounds [4 x i16]* @part8x8bwref, i64 0, i64 %indvars.iv8783
  %540 = load i16* %arrayidx2800, align 2, !tbaa !4
  %call2801 = call i32 @LumaResidualCoding8x8(i32* %dummy, i64* %curr_cbp_blk, i32 %413, i16 signext %538, i32 %cond2785, i32 %.8268, i16 signext %539, i16 signext %540) #8
  %shr28028160 = lshr i32 %413, 1
  %shl2803 = shl i32 %shr28028160, 3
  %shl2805 = shl i32 %rem2178, 1
  %add2806 = add nsw i32 %shl2805, %shl2803
  %shl2807 = shl i32 51, %add2806
  %neg2808 = xor i32 %shl2807, -1
  %541 = load i32* @cbp_blk8x8, align 4, !tbaa !3
  %and2809 = and i32 %541, %neg2808
  %542 = load i64* %curr_cbp_blk, align 8, !tbaa !5
  %conv28108161 = zext i32 %and2809 to i64
  %or2811 = or i64 %conv28108161, %542
  %conv2812 = trunc i64 %or2811 to i32
  store i32 %conv2812, i32* @cbp_blk8x8, align 4, !tbaa !3
  %543 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %cofAC2829 = getelementptr inbounds %struct.ImageParameters* %543, i64 0, i32 47
  %544 = load i32***** %cofAC2829, align 8, !tbaa !0
  %arrayidx2830 = getelementptr inbounds i32**** %544, i64 %indvars.iv8783
  %545 = load i32**** %arrayidx2830, align 8, !tbaa !0
  %546 = load i32***** @cofAC_8x8ts, align 8, !tbaa !0
  %arrayidx2838 = getelementptr inbounds i32**** %546, i64 %indvars.iv8783
  %547 = load i32**** %arrayidx2838, align 8, !tbaa !0
  br label %for.cond2817.preheader

for.cond2817.preheader:                           ; preds = %for.inc2848, %cond.end2784
  %indvars.iv8775 = phi i64 [ 0, %cond.end2784 ], [ %indvars.iv.next8776, %for.inc2848 ]
  %arrayidx2831 = getelementptr inbounds i32*** %545, i64 %indvars.iv8775
  %548 = load i32*** %arrayidx2831, align 8, !tbaa !0
  %arrayidx2839 = getelementptr inbounds i32*** %547, i64 %indvars.iv8775
  %549 = load i32*** %arrayidx2839, align 8, !tbaa !0
  br label %for.cond2821.preheader

for.cond2821.preheader:                           ; preds = %for.inc2845, %for.cond2817.preheader
  %indvars.iv8771 = phi i64 [ 0, %for.cond2817.preheader ], [ %indvars.iv.next8772, %for.inc2845 ]
  %arrayidx2832 = getelementptr inbounds i32** %548, i64 %indvars.iv8771
  %550 = load i32** %arrayidx2832, align 8, !tbaa !0
  %arrayidx2840 = getelementptr inbounds i32** %549, i64 %indvars.iv8771
  %551 = load i32** %arrayidx2840, align 8, !tbaa !0
  br label %for.body2824

for.body2824:                                     ; preds = %for.body2824, %for.cond2821.preheader
  %indvars.iv8767 = phi i64 [ 0, %for.cond2821.preheader ], [ %indvars.iv.next8768, %for.body2824 ]
  %arrayidx2833 = getelementptr inbounds i32* %550, i64 %indvars.iv8767
  %552 = load i32* %arrayidx2833, align 4, !tbaa !3
  %arrayidx2841 = getelementptr inbounds i32* %551, i64 %indvars.iv8767
  store i32 %552, i32* %arrayidx2841, align 4, !tbaa !3
  %indvars.iv.next8768 = add i64 %indvars.iv8767, 1
  %lftr.wideiv8769 = trunc i64 %indvars.iv.next8768 to i32
  %exitcond8770 = icmp eq i32 %lftr.wideiv8769, 65
  br i1 %exitcond8770, label %for.inc2845, label %for.body2824

for.inc2845:                                      ; preds = %for.body2824
  %indvars.iv.next8772 = add i64 %indvars.iv8771, 1
  %lftr.wideiv8773 = trunc i64 %indvars.iv.next8772 to i32
  %exitcond8774 = icmp eq i32 %lftr.wideiv8773, 2
  br i1 %exitcond8774, label %for.inc2848, label %for.cond2821.preheader

for.inc2848:                                      ; preds = %for.inc2845
  %indvars.iv.next8776 = add i64 %indvars.iv8775, 1
  %lftr.wideiv8777 = trunc i64 %indvars.iv.next8776 to i32
  %exitcond8778 = icmp eq i32 %lftr.wideiv8777, 4
  br i1 %exitcond8778, label %for.cond2851.loopexit, label %for.cond2817.preheader

for.cond2851.loopexit:                            ; preds = %for.inc2848
  %residue_transform_flag2861 = getelementptr inbounds %struct.ImageParameters* %543, i64 0, i32 164
  %pix_x2864 = getelementptr inbounds %struct.ImageParameters* %543, i64 0, i32 33
  %pix_y2867 = getelementptr inbounds %struct.ImageParameters* %543, i64 0, i32 34
  %553 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgY2870 = getelementptr inbounds %struct.storable_picture* %553, i64 0, i32 25
  %554 = shl i32 %rem2178, 3
  %555 = sext i32 %554 to i64
  %556 = shl i32 %div2176, 3
  %557 = sext i32 %556 to i64
  br label %for.cond2856.preheader

for.cond2856.preheader:                           ; preds = %for.cond2851.loopexit, %for.inc2939
  %indvars.iv8781 = phi i64 [ %557, %for.cond2851.loopexit ], [ %indvars.iv.next8782, %for.inc2939 ]
  br label %for.body2860

for.body2860:                                     ; preds = %for.inc2936.for.body2860_crit_edge, %for.cond2856.preheader
  %indvars.iv8779 = phi i64 [ %555, %for.cond2856.preheader ], [ %indvars.iv.next8780, %for.inc2936.for.body2860_crit_edge ]
  %558 = load i32* %residue_transform_flag2861, align 4, !tbaa !3
  %tobool2862 = icmp eq i32 %558, 0
  br i1 %tobool2862, label %if.then2863, label %if.else2886

if.then2863:                                      ; preds = %for.body2860
  %559 = load i32* %pix_x2864, align 4, !tbaa !3
  %560 = trunc i64 %indvars.iv8779 to i32
  %add2865 = add nsw i32 %559, %560
  %idxprom2866 = sext i32 %add2865 to i64
  %561 = load i32* %pix_y2867, align 4, !tbaa !3
  %562 = trunc i64 %indvars.iv8781 to i32
  %add2868 = add nsw i32 %561, %562
  %idxprom2869 = sext i32 %add2868 to i64
  %563 = load i16*** %imgY2870, align 8, !tbaa !0
  %arrayidx2871 = getelementptr inbounds i16** %563, i64 %idxprom2869
  %564 = load i16** %arrayidx2871, align 8, !tbaa !0
  %arrayidx2872 = getelementptr inbounds i16* %564, i64 %idxprom2866
  %565 = load i16* %arrayidx2872, align 2, !tbaa !4
  %arrayidx2876 = getelementptr inbounds [16 x [16 x i16]]* @rec_mbY_8x8ts, i64 0, i64 %indvars.iv8781, i64 %indvars.iv8779
  store i16 %565, i16* %arrayidx2876, align 2, !tbaa !4
  %arrayidx2881 = getelementptr inbounds %struct.ImageParameters* %543, i64 0, i32 45, i64 %indvars.iv8779, i64 %indvars.iv8781
  %566 = load i16* %arrayidx2881, align 2, !tbaa !4
  %arrayidx2885 = getelementptr inbounds [16 x [16 x i16]]* @mpr_8x8ts, i64 0, i64 %indvars.iv8781, i64 %indvars.iv8779
  store i16 %566, i16* %arrayidx2885, align 2, !tbaa !4
  br label %for.inc2936

if.else2886:                                      ; preds = %for.body2860
  %arrayidx2890 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG, i64 0, i64 %indvars.iv8779, i64 %indvars.iv8781
  %567 = load i32* %arrayidx2890, align 4, !tbaa !3
  %arrayidx2894 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG_8x8ts, i64 0, i64 %indvars.iv8779, i64 %indvars.iv8781
  store i32 %567, i32* %arrayidx2894, align 4, !tbaa !3
  %arrayidx2898 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R, i64 0, i64 %indvars.iv8779, i64 %indvars.iv8781
  %568 = load i32* %arrayidx2898, align 4, !tbaa !3
  %arrayidx2902 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R_8x8ts, i64 0, i64 %indvars.iv8779, i64 %indvars.iv8781
  store i32 %568, i32* %arrayidx2902, align 4, !tbaa !3
  %arrayidx2906 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B, i64 0, i64 %indvars.iv8779, i64 %indvars.iv8781
  %569 = load i32* %arrayidx2906, align 4, !tbaa !3
  %arrayidx2910 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B_8x8ts, i64 0, i64 %indvars.iv8779, i64 %indvars.iv8781
  store i32 %569, i32* %arrayidx2910, align 4, !tbaa !3
  %arrayidx2914 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 0, i64 %indvars.iv8779, i64 %indvars.iv8781
  %570 = load i32* %arrayidx2914, align 4, !tbaa !3
  %arrayidx2918 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8ts, i64 0, i64 0, i64 %indvars.iv8779, i64 %indvars.iv8781
  store i32 %570, i32* %arrayidx2918, align 4, !tbaa !3
  %arrayidx2922 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 1, i64 %indvars.iv8779, i64 %indvars.iv8781
  %571 = load i32* %arrayidx2922, align 4, !tbaa !3
  %arrayidx2926 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8ts, i64 0, i64 1, i64 %indvars.iv8779, i64 %indvars.iv8781
  store i32 %571, i32* %arrayidx2926, align 4, !tbaa !3
  %arrayidx2930 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 2, i64 %indvars.iv8779, i64 %indvars.iv8781
  %572 = load i32* %arrayidx2930, align 4, !tbaa !3
  %arrayidx2934 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8ts, i64 0, i64 2, i64 %indvars.iv8779, i64 %indvars.iv8781
  store i32 %572, i32* %arrayidx2934, align 4, !tbaa !3
  %.pre9162 = trunc i64 %indvars.iv8779 to i32
  br label %for.inc2936

for.inc2936:                                      ; preds = %if.then2863, %if.else2886
  %.pre-phi = phi i32 [ %560, %if.then2863 ], [ %.pre9162, %if.else2886 ]
  %573 = or i32 %shl2179, 7
  %cmp2858 = icmp slt i32 %.pre-phi, %573
  br i1 %cmp2858, label %for.inc2936.for.body2860_crit_edge, label %for.inc2939

for.inc2936.for.body2860_crit_edge:               ; preds = %for.inc2936
  %indvars.iv.next8780 = add i64 %indvars.iv8779, 1
  br label %for.body2860

for.inc2939:                                      ; preds = %for.inc2936
  %indvars.iv.next8782 = add i64 %indvars.iv8781, 1
  %574 = or i32 %shl, 7
  %575 = trunc i64 %indvars.iv8781 to i32
  %cmp2853 = icmp slt i32 %575, %574
  br i1 %cmp2853, label %for.cond2856.preheader, label %if.end2942

if.end2942:                                       ; preds = %for.inc2939, %for.end2766
  %best_cnt_nonz.5 = phi i32 [ %best_cnt_nonz.4, %for.end2766 ], [ %call2801, %for.inc2939 ]
  %cost8x8.1 = phi i32 [ %cost8x8.08452, %for.end2766 ], [ %add2770, %for.inc2939 ]
  %tobool2943 = icmp eq i32 %best_cnt_nonz.5, 0
  br i1 %tobool2943, label %if.end2948, label %if.then2944

if.then2944:                                      ; preds = %if.end2942
  %shl2945 = shl i32 1, %413
  %576 = load i32* @cbp8x8, align 4, !tbaa !3
  %or2946 = or i32 %576, %shl2945
  store i32 %or2946, i32* @cbp8x8, align 4, !tbaa !3
  %577 = load i32* @cnt_nonz_8x8, align 4, !tbaa !3
  %add2947 = add nsw i32 %577, %best_cnt_nonz.5
  store i32 %add2947, i32* @cnt_nonz_8x8, align 4, !tbaa !3
  br label %if.end2948

if.end2948:                                       ; preds = %if.end2942, %if.then2944
  %arrayidx2950 = getelementptr inbounds [4 x i32]* @part8x8mode, i64 0, i64 %indvars.iv8783
  %578 = load i32* %arrayidx2950, align 4, !tbaa !3
  %arrayidx2952 = getelementptr inbounds [4 x i16]* @part8x8fwref, i64 0, i64 %indvars.iv8783
  %579 = load i16* %arrayidx2952, align 2, !tbaa !4
  %conv2953 = sext i16 %579 to i32
  %arrayidx2955 = getelementptr inbounds [4 x i16]* @part8x8bwref, i64 0, i64 %indvars.iv8783
  %580 = load i16* %arrayidx2955, align 2, !tbaa !4
  %conv2956 = sext i16 %580 to i32
  %arrayidx2958 = getelementptr inbounds [4 x i16]* @part8x8pdir, i64 0, i64 %indvars.iv8783
  %581 = load i16* %arrayidx2958, align 2, !tbaa !4
  %conv2959 = sext i16 %581 to i32
  call void @StoreNewMotionVectorsBlock8x8(i32 0, i32 %413, i32 %578, i32 %conv2953, i32 %conv2956, i32 %conv2959, i32 %conv16) #10
  %582 = load i32* %arrayidx2950, align 4, !tbaa !3
  %583 = load i16* %arrayidx2958, align 2, !tbaa !4
  %conv2964 = sext i16 %583 to i32
  %584 = load i16* %arrayidx2952, align 2, !tbaa !4
  %conv2967 = sext i16 %584 to i32
  %585 = load i16* %arrayidx2955, align 2, !tbaa !4
  %conv2970 = sext i16 %585 to i32
  call void @SetRefAndMotionVectors(i32 %413, i32 %582, i32 %conv2964, i32 %conv2967, i32 %conv2970) #10
  %cmp2971 = icmp slt i32 %413, 3
  br i1 %cmp2971, label %if.then2973, label %for.inc2975

if.then2973:                                      ; preds = %if.end2948
  %586 = load %struct.CSobj** @cs_b8, align 8, !tbaa !0
  call void @reset_coding_state(%struct.CSobj* %586) #8
  br label %for.inc2975

for.inc2975:                                      ; preds = %if.end2948, %if.then2973
  %indvars.iv.next8784 = add i64 %indvars.iv8783, 1
  %lftr.wideiv8788 = trunc i64 %indvars.iv.next8784 to i32
  %exitcond8789 = icmp eq i32 %lftr.wideiv8788, 4
  br i1 %exitcond8789, label %if.end2980, label %for.body2187.lr.ph

if.end2980:                                       ; preds = %for.inc2975
  store double %rdcost.38460, double* %min_rdcost, align 8, !tbaa !6
  %587 = load i32* @cbp8x8, align 4, !tbaa !3
  store i32 %587, i32* @cbp8_8x8ts, align 4, !tbaa !3
  %588 = load i32* @cbp_blk8x8, align 4, !tbaa !3
  %conv2978 = sext i32 %588 to i64
  store i64 %conv2978, i64* @cbp_blk8_8x8ts, align 8, !tbaa !5
  %589 = load i32* @cnt_nonz_8x8, align 4, !tbaa !3
  store i32 %589, i32* @cnt_nonz8_8x8ts, align 4, !tbaa !3
  store i32 %cost8x8.1, i32* @cost8_8x8ts, align 4, !tbaa !3
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %.pre9084 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x82981.phi.trans.insert = getelementptr inbounds %struct.InputParameters* %.pre9084, i64 0, i32 123
  %.pre9085 = load i32* %AllowTransform8x82981.phi.trans.insert, align 4, !tbaa !3
  %phitmp9167 = icmp eq i32 %.pre9085, 2
  br i1 %phitmp9167, label %if.end3861, label %if.then2984

if.then2984:                                      ; preds = %if.then2168, %if.end2980
  %best_bw_ref.149179 = phi i16 [ %best_bw_ref.13, %if.end2980 ], [ %best_bw_ref.6, %if.then2168 ]
  %cost8x8_direct.79177 = phi i32 [ %cost8x8_direct.6, %if.end2980 ], [ %cost8x8_direct.08602, %if.then2168 ]
  %have_direct.69176 = phi i32 [ %have_direct.5, %if.end2980 ], [ %have_direct.08599, %if.then2168 ]
  %best_fw_ref.149175 = phi i16 [ %best_fw_ref.13, %if.end2980 ], [ %best_fw_ref.6, %if.then2168 ]
  %best_cnt_nonz.69174 = phi i32 [ %best_cnt_nonz.5, %if.end2980 ], [ %best_cnt_nonz.08596, %if.then2168 ]
  %rdcost.59173 = phi double [ %rdcost.4, %if.end2980 ], [ %rdcost.08595, %if.then2168 ]
  store i32 0, i32* @cnt_nonz_8x8, align 4, !tbaa !3
  store i32 0, i32* @cbp_blk8x8, align 4, !tbaa !3
  store i32 0, i32* @cbp8x8, align 4, !tbaa !3
  br label %for.body3000.lr.ph

for.body3000.lr.ph:                               ; preds = %if.then2984, %if.end3848
  %indvars.iv8863 = phi i64 [ 0, %if.then2984 ], [ %indvars.iv.next8864, %if.end3848 ]
  %indvars.iv8852 = phi i64 [ 0, %if.then2984 ], [ %indvars.iv.next8853, %if.end3848 ]
  %best_bw_ref.158530 = phi i16 [ %best_bw_ref.149179, %if.then2984 ], [ %best_bw_ref.21, %if.end3848 ]
  %have_direct.78529 = phi i32 [ %have_direct.69176, %if.then2984 ], [ %have_direct.11, %if.end3848 ]
  %cost_direct.88528 = phi i32 [ 0, %if.then2984 ], [ %cost_direct.13, %if.end3848 ]
  %cost8x8.28527 = phi i32 [ 0, %if.then2984 ], [ %add3572, %if.end3848 ]
  %best_fw_ref.158526 = phi i16 [ %best_fw_ref.149175, %if.then2984 ], [ %best_fw_ref.21, %if.end3848 ]
  %best_cnt_nonz.78525 = phi i32 [ %best_cnt_nonz.69174, %if.then2984 ], [ %best_cnt_nonz.11, %if.end3848 ]
  %rdcost.68524 = phi double [ %rdcost.59173, %if.then2984 ], [ %rdcost.9, %if.end3848 ]
  %590 = trunc i64 %indvars.iv8863 to i32
  %div2989 = sdiv i32 %590, 2
  %shl2990 = shl i32 %div2989, 3
  %rem2992 = srem i32 %590, 2
  %shl2993 = shl i32 %rem2992, 3
  %and3135 = and i32 %590, 2
  %591 = shl i64 %indvars.iv8863, 1
  %592 = trunc i64 %591 to i32
  %mul3141 = and i32 %592, 2
  %arrayidx3401 = getelementptr inbounds [4 x i16]* @best8x8mode, i64 0, i64 %indvars.iv8863
  %arrayidx3403 = getelementptr inbounds [15 x [4 x i16]]* @best8x8pdir, i64 0, i64 8, i64 %indvars.iv8863
  %arrayidx3405 = getelementptr inbounds [15 x [4 x i16]]* @best8x8fwref, i64 0, i64 8, i64 %indvars.iv8863
  %arrayidx3407 = getelementptr inbounds [15 x [4 x i16]]* @best8x8bwref, i64 0, i64 8, i64 %indvars.iv8863
  %shr34118152 = lshr i32 %590, 1
  %shl3412 = shl i32 %shr34118152, 3
  %shl3414 = shl i32 %rem2992, 1
  %add3415 = add nsw i32 %shl3414, %shl3412
  %shl3416 = shl i32 51, %add3415
  %neg3417 = xor i32 %shl3416, -1
  %593 = shl i32 %rem2992, 3
  %594 = sext i32 %593 to i64
  %595 = shl i32 %div2989, 3
  %596 = sext i32 %595 to i64
  br label %for.body3000

for.body3000:                                     ; preds = %for.body3000.lr.ph, %for.inc3569
  %indvars.iv8823 = phi i64 [ %100, %for.body3000.lr.ph ], [ %indvars.iv.next8824, %for.inc3569 ]
  %rdcost.88532 = phi double [ 1.000000e+30, %for.body3000.lr.ph ], [ %rdcost.88533, %for.inc3569 ]
  %best_bw_ref.168502 = phi i16 [ %best_bw_ref.158530, %for.body3000.lr.ph ], [ %best_bw_ref.21, %for.inc3569 ]
  %have_direct.88501 = phi i32 [ %have_direct.78529, %for.body3000.lr.ph ], [ %have_direct.11, %for.inc3569 ]
  %cost_direct.98500 = phi i32 [ %cost_direct.88528, %for.body3000.lr.ph ], [ %cost_direct.13, %for.inc3569 ]
  %min_cost8x8.38499 = phi i32 [ 2147483647, %for.body3000.lr.ph ], [ %min_cost8x8.5, %for.inc3569 ]
  %best_fw_ref.168498 = phi i16 [ %best_fw_ref.158526, %for.body3000.lr.ph ], [ %best_fw_ref.21, %for.inc3569 ]
  %best_cnt_nonz.88497 = phi i32 [ %best_cnt_nonz.78525, %for.body3000.lr.ph ], [ %best_cnt_nonz.10, %for.inc3569 ]
  %rdcost.78496 = phi double [ %rdcost.68524, %for.body3000.lr.ph ], [ %rdcost.9, %for.inc3569 ]
  %arrayidx3002 = getelementptr inbounds [6 x i32]* @encode_one_macroblock.b8_mode_table, i64 0, i64 %indvars.iv8823
  %597 = load i32* %arrayidx3002, align 4, !tbaa !3
  %idxprom3003 = sext i32 %597 to i64
  %arrayidx3004 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 %idxprom3003
  %598 = load i32* %arrayidx3004, align 4, !tbaa !3
  %tobool3005 = icmp eq i32 %598, 0
  br i1 %tobool3005, label %for.inc3569, label %if.then3006

if.then3006:                                      ; preds = %for.body3000
  store i64 0, i64* %curr_cbp_blk, align 8, !tbaa !5
  %599 = trunc i64 %indvars.iv8823 to i32
  switch i32 %599, label %if.else3060 [
    i32 5, label %if.then3009
    i32 0, label %if.then3009
  ]

if.then3009:                                      ; preds = %if.then3006, %if.then3006
  %600 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt3010 = getelementptr inbounds %struct.InputParameters* %600, i64 0, i32 85
  %601 = load i32* %rdopt3010, align 4, !tbaa !3
  %tobool3011 = icmp eq i32 %601, 0
  br i1 %tobool3011, label %if.then3012, label %if.end3024

if.then3012:                                      ; preds = %if.then3009
  %call3013 = call i32 @Get_Direct_Cost8x8(i32 %590, i32* %direct8x8_tmp) #8
  store i32 %call3013, i32* %cost, align 4, !tbaa !3
  %cmp3014 = icmp eq i32 %call3013, 2147483647
  %cmp3017 = icmp eq i32 %cost_direct.98500, 2147483647
  %or.cond8228 = or i1 %cmp3014, %cmp3017
  %add3021 = add nsw i32 %call3013, %cost_direct.98500
  %cost_direct.10 = select i1 %or.cond8228, i32 2147483647, i32 %add3021
  %inc3023 = add nsw i32 %have_direct.88501, 1
  br label %if.end3024

if.end3024:                                       ; preds = %if.then3009, %if.then3012
  %cost_direct.11 = phi i32 [ %cost_direct.98500, %if.then3009 ], [ %cost_direct.10, %if.then3012 ]
  %have_direct.9 = phi i32 [ %have_direct.88501, %if.then3009 ], [ %inc3023, %if.then3012 ]
  %602 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y3025 = getelementptr inbounds %struct.ImageParameters* %602, i64 0, i32 32
  %603 = load i32* %block_y3025, align 4, !tbaa !3
  %add3027 = add nsw i32 %603, %and3135
  %idxprom3028 = sext i32 %add3027 to i64
  %block_x3029 = getelementptr inbounds %struct.ImageParameters* %602, i64 0, i32 31
  %604 = load i32* %block_x3029, align 4, !tbaa !3
  %add3032 = add nsw i32 %604, %mul3141
  %idxprom3033 = sext i32 %add3032 to i64
  %605 = load i16**** @direct_ref_idx, align 8, !tbaa !0
  %606 = load i16*** %605, align 8, !tbaa !0
  %arrayidx3035 = getelementptr inbounds i16** %606, i64 %idxprom3033
  %607 = load i16** %arrayidx3035, align 8, !tbaa !0
  %arrayidx3036 = getelementptr inbounds i16* %607, i64 %idxprom3028
  %608 = load i16* %arrayidx3036, align 2, !tbaa !4
  %arrayidx3046 = getelementptr inbounds i16*** %605, i64 1
  %609 = load i16*** %arrayidx3046, align 8, !tbaa !0
  %arrayidx3047 = getelementptr inbounds i16** %609, i64 %idxprom3033
  %610 = load i16** %arrayidx3047, align 8, !tbaa !0
  %arrayidx3048 = getelementptr inbounds i16* %610, i64 %idxprom3028
  %611 = load i16* %arrayidx3048, align 2, !tbaa !4
  %612 = load i16*** @direct_pdir, align 8, !tbaa !0
  %arrayidx3058 = getelementptr inbounds i16** %612, i64 %idxprom3033
  %613 = load i16** %arrayidx3058, align 8, !tbaa !0
  %arrayidx3059 = getelementptr inbounds i16* %613, i64 %idxprom3028
  %614 = load i16* %arrayidx3059, align 2, !tbaa !4
  br label %if.end3355

if.else3060:                                      ; preds = %if.then3006
  call void @PartitionMotionSearch(i32 %597, i32 %590, double %lambda_motion.0) #8
  %615 = load i32* %arrayidx581, align 4, !tbaa !3
  %cmp30668463 = icmp sgt i32 %615, 0
  br i1 %cmp30668463, label %for.body3068.lr.ph, label %for.cond3126.loopexit

for.body3068.lr.ph:                               ; preds = %if.else3060
  %616 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt3079 = getelementptr inbounds %struct.InputParameters* %616, i64 0, i32 85
  %617 = load i32***** @motion_cost, align 8, !tbaa !0
  %arrayidx3113 = getelementptr inbounds i32**** %617, i64 %idxprom3003
  %618 = load i32** @refbits, align 8, !tbaa !0
  br label %for.body3068

for.body3068:                                     ; preds = %for.body3068.lr.ph, %for.inc3123
  %conv30628468 = phi i32 [ 0, %for.body3068.lr.ph ], [ %conv3062, %for.inc3123 ]
  %ref.48466 = phi i16 [ 0, %for.body3068.lr.ph ], [ %inc3124, %for.inc3123 ]
  %best_fw_ref.178465 = phi i16 [ %best_fw_ref.168498, %for.body3068.lr.ph ], [ %best_fw_ref.18, %for.inc3123 ]
  %fw_mcost.48464 = phi i32 [ 2147483647, %for.body3068.lr.ph ], [ %fw_mcost.5, %for.inc3123 ]
  %cmp3072 = icmp eq i16 %ref.48466, 0
  %or.cond8230 = or i1 %13, %cmp3072
  br i1 %or.cond8230, label %if.then3078, label %lor.lhs.false3074

lor.lhs.false3074:                                ; preds = %for.body3068
  %call3076 = call i32 @CheckReliabilityOfRef(i32 %590, i32 0, i32 %conv30628468, i32 %597) #10
  %tobool3077 = icmp eq i32 %call3076, 0
  br i1 %tobool3077, label %for.inc3123, label %if.then3078

if.then3078:                                      ; preds = %lor.lhs.false3074, %for.body3068
  %619 = load i32* %rdopt3079, align 4, !tbaa !3
  %tobool3080 = icmp eq i32 %619, 0
  br i1 %tobool3080, label %cond.false3095, label %cond.true3081

cond.true3081:                                    ; preds = %if.then3078
  %cmp3085 = icmp slt i32 %615, 2
  br i1 %cmp3085, label %cond.end3091, label %cond.false3088

cond.false3088:                                   ; preds = %cond.true3081
  %idxprom3089 = sext i16 %ref.48466 to i64
  %arrayidx3090 = getelementptr inbounds i32* %618, i64 %idxprom3089
  %620 = load i32* %arrayidx3090, align 4, !tbaa !3
  br label %cond.end3091

cond.end3091:                                     ; preds = %cond.true3081, %cond.false3088
  %cond3092 = phi i32 [ %620, %cond.false3088 ], [ 0, %cond.true3081 ]
  %mul3093 = mul nsw i32 %cond3092, %conv513
  %shr3094 = ashr i32 %mul3093, 16
  br label %cond.end3108

cond.false3095:                                   ; preds = %if.then3078
  %cmp3098 = icmp slt i16 %ref.48466, 1
  br i1 %cmp3098, label %cond.true3100, label %cond.end3103

cond.true3100:                                    ; preds = %cond.false3095
  %phitmp8159 = sitofp i16 %ref.48466 to double
  br label %cond.end3103

cond.end3103:                                     ; preds = %cond.false3095, %cond.true3100
  %cond3104 = phi double [ %phitmp8159, %cond.true3100 ], [ 1.000000e+00, %cond.false3095 ]
  %mul3106 = fmul double %mul781, %cond3104
  %conv3107 = fptosi double %mul3106 to i32
  br label %cond.end3108

cond.end3108:                                     ; preds = %cond.end3103, %cond.end3091
  %cond3109 = phi i32 [ %shr3094, %cond.end3091 ], [ %conv3107, %cond.end3103 ]
  %idxprom3111 = sext i16 %ref.48466 to i64
  %621 = load i32**** %arrayidx3113, align 8, !tbaa !0
  %622 = load i32*** %621, align 8, !tbaa !0
  %arrayidx3115 = getelementptr inbounds i32** %622, i64 %idxprom3111
  %623 = load i32** %arrayidx3115, align 8, !tbaa !0
  %arrayidx3116 = getelementptr inbounds i32* %623, i64 %indvars.iv8863
  %624 = load i32* %arrayidx3116, align 4, !tbaa !3
  %add3117 = add nsw i32 %624, %cond3109
  %cmp3118 = icmp slt i32 %add3117, %fw_mcost.48464
  %add3117.fw_mcost.4 = select i1 %cmp3118, i32 %add3117, i32 %fw_mcost.48464
  %ref.4.best_fw_ref.17 = select i1 %cmp3118, i16 %ref.48466, i16 %best_fw_ref.178465
  br label %for.inc3123

for.inc3123:                                      ; preds = %cond.end3108, %lor.lhs.false3074
  %fw_mcost.5 = phi i32 [ %fw_mcost.48464, %lor.lhs.false3074 ], [ %add3117.fw_mcost.4, %cond.end3108 ]
  %best_fw_ref.18 = phi i16 [ %best_fw_ref.178465, %lor.lhs.false3074 ], [ %ref.4.best_fw_ref.17, %cond.end3108 ]
  %inc3124 = add i16 %ref.48466, 1
  %conv3062 = sext i16 %inc3124 to i32
  %cmp3066 = icmp slt i32 %conv3062, %615
  br i1 %cmp3066, label %for.body3068, label %for.cond3126.loopexit

for.cond3126.loopexit:                            ; preds = %for.inc3123, %if.else3060
  %best_fw_ref.17.lcssa = phi i16 [ %best_fw_ref.168498, %if.else3060 ], [ %best_fw_ref.18, %for.inc3123 ]
  %fw_mcost.4.lcssa = phi i32 [ 2147483647, %if.else3060 ], [ %fw_mcost.5, %for.inc3123 ]
  %.pre9086.pre = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y3134.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %.pre9086.pre, i64 0, i32 32
  %.pre9087.pre = load i32* %block_y3134.phi.trans.insert.phi.trans.insert, align 4, !tbaa !3
  %block_x3139.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %.pre9086.pre, i64 0, i32 31
  %.pre9088.pre = load i32* %block_x3139.phi.trans.insert.phi.trans.insert, align 4, !tbaa !3
  %.pre9089.pre = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %ref_idx3145.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.storable_picture* %.pre9089.pre, i64 0, i32 32
  %.pre9090.pre = load i16**** %ref_idx3145.phi.trans.insert.phi.trans.insert, align 8, !tbaa !0
  %.pre9091.pre = load i16*** %.pre9090.pre, align 8, !tbaa !0
  %ref_pic_id3181.phi.trans.insert.phi.trans.insert = getelementptr inbounds %struct.storable_picture* %.pre9089.pre, i64 0, i32 33
  %.pre9092.pre = load i64**** %ref_pic_id3181.phi.trans.insert.phi.trans.insert, align 8, !tbaa !0
  %.pre9093.pre = load i64*** %.pre9092.pre, align 8, !tbaa !0
  br label %for.cond3130.preheader

for.cond3130.preheader:                           ; preds = %for.inc3188, %for.cond3126.loopexit
  %j.128474 = phi i32 [ 0, %for.cond3126.loopexit ], [ %inc3189, %for.inc3188 ]
  %add3136 = add i32 %j.128474, %and3135
  br label %for.body3133

for.body3133:                                     ; preds = %for.body3133, %for.cond3130.preheader
  %i.128473 = phi i32 [ 0, %for.cond3130.preheader ], [ %inc3186, %for.body3133 ]
  %add3137 = add i32 %add3136, %.pre9087.pre
  %idxprom3138 = sext i32 %add3137 to i64
  %add3142 = add i32 %i.128473, %mul3141
  %add3143 = add i32 %add3142, %.pre9088.pre
  %idxprom3144 = sext i32 %add3143 to i64
  %arrayidx3147 = getelementptr inbounds i16** %.pre9091.pre, i64 %idxprom3144
  %625 = load i16** %arrayidx3147, align 8, !tbaa !0
  %arrayidx3148 = getelementptr inbounds i16* %625, i64 %idxprom3138
  store i16 %best_fw_ref.17.lcssa, i16* %arrayidx3148, align 2, !tbaa !4
  %idxprom3164 = sext i16 %best_fw_ref.17.lcssa to i64
  %arrayidx3169 = getelementptr inbounds %struct.storable_picture* %.pre9089.pre, i64 0, i32 6, i64 %idxprom5808171, i64 %idxprom3164
  %626 = load i64* %arrayidx3169, align 8, !tbaa !5
  %arrayidx3183 = getelementptr inbounds i64** %.pre9093.pre, i64 %idxprom3144
  %627 = load i64** %arrayidx3183, align 8, !tbaa !0
  %arrayidx3184 = getelementptr inbounds i64* %627, i64 %idxprom3138
  store i64 %626, i64* %arrayidx3184, align 8, !tbaa !5
  %inc3186 = add nsw i32 %i.128473, 1
  %exitcond8790 = icmp eq i32 %inc3186, 2
  br i1 %exitcond8790, label %for.inc3188, label %for.body3133

for.inc3188:                                      ; preds = %for.body3133
  %inc3189 = add nsw i32 %j.128474, 1
  %exitcond8791 = icmp eq i32 %inc3189, 2
  br i1 %exitcond8791, label %for.end3190, label %for.cond3130.preheader

for.end3190:                                      ; preds = %for.inc3188
  br i1 %cmp15, label %for.cond3193.preheader, label %if.else3353

for.cond3193.preheader:                           ; preds = %for.end3190
  %628 = load i32* %arrayidx647, align 4, !tbaa !3
  %cmp31988475 = icmp sgt i32 %628, 0
  %629 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt32018476 = getelementptr inbounds %struct.InputParameters* %629, i64 0, i32 85
  %630 = load i32* %rdopt32018476, align 4, !tbaa !3
  %tobool32028477 = icmp ne i32 %630, 0
  br i1 %cmp31988475, label %for.body3200.lr.ph, label %for.end3246

for.body3200.lr.ph:                               ; preds = %for.cond3193.preheader
  %631 = load i32** @refbits, align 8, !tbaa !0
  %632 = load i32***** @motion_cost, align 8, !tbaa !0
  %arrayidx3235 = getelementptr inbounds i32**** %632, i64 %idxprom3003
  %633 = load i32**** %arrayidx3235, align 8, !tbaa !0
  %arrayidx3236 = getelementptr inbounds i32*** %633, i64 1
  %634 = load i32*** %arrayidx3236, align 8, !tbaa !0
  br label %for.body3200

for.body3200:                                     ; preds = %for.body3200.lr.ph, %cond.end3230
  %best_bw_ref.178480 = phi i16 [ %best_bw_ref.168502, %for.body3200.lr.ph ], [ %ref.5.best_bw_ref.17, %cond.end3230 ]
  %ref.58479 = phi i16 [ 0, %for.body3200.lr.ph ], [ %inc3245, %cond.end3230 ]
  %bw_mcost.48478 = phi i32 [ 2147483647, %for.body3200.lr.ph ], [ %add3239.bw_mcost.4, %cond.end3230 ]
  br i1 %tobool32028477, label %cond.true3203, label %cond.false3217

cond.true3203:                                    ; preds = %for.body3200
  %cmp3207 = icmp slt i32 %628, 2
  br i1 %cmp3207, label %cond.end3213, label %cond.false3210

cond.false3210:                                   ; preds = %cond.true3203
  %idxprom3211 = sext i16 %ref.58479 to i64
  %arrayidx3212 = getelementptr inbounds i32* %631, i64 %idxprom3211
  %635 = load i32* %arrayidx3212, align 4, !tbaa !3
  br label %cond.end3213

cond.end3213:                                     ; preds = %cond.true3203, %cond.false3210
  %cond3214 = phi i32 [ %635, %cond.false3210 ], [ 0, %cond.true3203 ]
  %mul3215 = mul nsw i32 %cond3214, %conv513
  %shr3216 = ashr i32 %mul3215, 16
  br label %cond.end3230

cond.false3217:                                   ; preds = %for.body3200
  %cmp3220 = icmp slt i16 %ref.58479, 1
  br i1 %cmp3220, label %cond.true3222, label %cond.end3225

cond.true3222:                                    ; preds = %cond.false3217
  %phitmp8158 = sitofp i16 %ref.58479 to double
  br label %cond.end3225

cond.end3225:                                     ; preds = %cond.false3217, %cond.true3222
  %cond3226 = phi double [ %phitmp8158, %cond.true3222 ], [ 1.000000e+00, %cond.false3217 ]
  %mul3228 = fmul double %mul781, %cond3226
  %conv3229 = fptosi double %mul3228 to i32
  br label %cond.end3230

cond.end3230:                                     ; preds = %cond.end3225, %cond.end3213
  %cond3231 = phi i32 [ %shr3216, %cond.end3213 ], [ %conv3229, %cond.end3225 ]
  %idxprom3233 = sext i16 %ref.58479 to i64
  %arrayidx3237 = getelementptr inbounds i32** %634, i64 %idxprom3233
  %636 = load i32** %arrayidx3237, align 8, !tbaa !0
  %arrayidx3238 = getelementptr inbounds i32* %636, i64 %indvars.iv8863
  %637 = load i32* %arrayidx3238, align 4, !tbaa !3
  %add3239 = add nsw i32 %637, %cond3231
  %cmp3240 = icmp slt i32 %add3239, %bw_mcost.48478
  %add3239.bw_mcost.4 = select i1 %cmp3240, i32 %add3239, i32 %bw_mcost.48478
  %ref.5.best_bw_ref.17 = select i1 %cmp3240, i16 %ref.58479, i16 %best_bw_ref.178480
  %inc3245 = add i16 %ref.58479, 1
  %conv3194 = sext i16 %inc3245 to i32
  %cmp3198 = icmp slt i32 %conv3194, %628
  br i1 %cmp3198, label %for.body3200, label %for.end3246

for.end3246:                                      ; preds = %cond.end3230, %for.cond3193.preheader
  %best_bw_ref.17.lcssa = phi i16 [ %best_bw_ref.168502, %for.cond3193.preheader ], [ %ref.5.best_bw_ref.17, %cond.end3230 ]
  %bw_mcost.4.lcssa = phi i32 [ 2147483647, %for.cond3193.preheader ], [ %add3239.bw_mcost.4, %cond.end3230 ]
  br i1 %tobool32028477, label %cond.true3249, label %cond.false3276

cond.true3249:                                    ; preds = %for.end3246
  %cmp3253 = icmp slt i32 %615, 2
  br i1 %cmp3253, label %cond.end3259, label %cond.false3256

cond.false3256:                                   ; preds = %cond.true3249
  %638 = load i32** @refbits, align 8, !tbaa !0
  %arrayidx3258 = getelementptr inbounds i32* %638, i64 %idxprom3164
  %639 = load i32* %arrayidx3258, align 4, !tbaa !3
  br label %cond.end3259

cond.end3259:                                     ; preds = %cond.true3249, %cond.false3256
  %cond3260 = phi i32 [ %639, %cond.false3256 ], [ 0, %cond.true3249 ]
  %mul3261 = mul nsw i32 %cond3260, %conv513
  %shr3262 = ashr i32 %mul3261, 16
  %cmp3266 = icmp slt i32 %628, 2
  br i1 %cmp3266, label %cond.end3271, label %cond.false3269

cond.false3269:                                   ; preds = %cond.end3259
  %640 = load i32** @refbits, align 8, !tbaa !0
  %641 = load i32* %640, align 4, !tbaa !3
  br label %cond.end3271

cond.end3271:                                     ; preds = %cond.end3259, %cond.false3269
  %cond3272 = phi i32 [ %641, %cond.false3269 ], [ 0, %cond.end3259 ]
  %mul3273 = mul nsw i32 %cond3272, %conv513
  %shr3274 = ashr i32 %mul3273, 16
  %add3275 = add nsw i32 %shr3274, %shr3262
  br label %cond.end3289

cond.false3276:                                   ; preds = %for.end3246
  %cmp3279 = icmp slt i16 %best_fw_ref.17.lcssa, 1
  br i1 %cmp3279, label %cond.true3281, label %cond.end3284

cond.true3281:                                    ; preds = %cond.false3276
  %phitmp8157 = sitofp i16 %best_fw_ref.17.lcssa to double
  br label %cond.end3284

cond.end3284:                                     ; preds = %cond.false3276, %cond.true3281
  %cond3285 = phi double [ %phitmp8157, %cond.true3281 ], [ 1.000000e+00, %cond.false3276 ]
  %mul3287 = fmul double %mul781, %cond3285
  %conv3288 = fptosi double %mul3287 to i32
  br label %cond.end3289

cond.end3289:                                     ; preds = %cond.end3284, %cond.end3271
  %cond3290 = phi i32 [ %add3275, %cond.end3271 ], [ %conv3288, %cond.end3284 ]
  %call3291 = call i32 @BIDPartitionCost(i32 %597, i32 %590, i16 signext %best_fw_ref.17.lcssa, i16 signext 0, i32 %conv513) #8
  %add3292 = add nsw i32 %call3291, %cond3290
  %cmp3293 = icmp sgt i32 %fw_mcost.4.lcssa, %bw_mcost.4.lcssa
  %cmp3296 = icmp sgt i32 %fw_mcost.4.lcssa, %add3292
  %or.cond8231 = or i1 %cmp3293, %cmp3296
  br i1 %or.cond8231, label %if.else3299, label %if.then3298

if.then3298:                                      ; preds = %cond.end3289
  store i32 %fw_mcost.4.lcssa, i32* %cost, align 4, !tbaa !3
  br label %if.end3308

if.else3299:                                      ; preds = %cond.end3289
  %cmp3300 = icmp sgt i32 %bw_mcost.4.lcssa, %fw_mcost.4.lcssa
  %cmp3303 = icmp sgt i32 %bw_mcost.4.lcssa, %add3292
  %or.cond8232 = or i1 %cmp3300, %cmp3303
  br i1 %or.cond8232, label %if.else3306, label %if.then3305

if.then3305:                                      ; preds = %if.else3299
  store i32 %bw_mcost.4.lcssa, i32* %cost, align 4, !tbaa !3
  br label %if.end3308

if.else3306:                                      ; preds = %if.else3299
  store i32 %add3292, i32* %cost, align 4, !tbaa !3
  br label %if.end3308

if.end3308:                                       ; preds = %if.then3305, %if.else3306, %if.then3298
  %best_fw_ref.19 = phi i16 [ %best_fw_ref.17.lcssa, %if.then3298 ], [ -1, %if.then3305 ], [ %best_fw_ref.17.lcssa, %if.else3306 ]
  %best_pdir.3 = phi i16 [ 0, %if.then3298 ], [ 1, %if.then3305 ], [ 2, %if.else3306 ]
  %best_bw_ref.19 = phi i16 [ -1, %if.then3298 ], [ %best_bw_ref.17.lcssa, %if.then3305 ], [ 0, %if.else3306 ]
  %642 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y3317 = getelementptr inbounds %struct.ImageParameters* %642, i64 0, i32 32
  %643 = load i32* %block_y3317, align 4, !tbaa !3
  %block_x3322 = getelementptr inbounds %struct.ImageParameters* %642, i64 0, i32 31
  %644 = load i32* %block_x3322, align 4, !tbaa !3
  %645 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %ref_idx3328 = getelementptr inbounds %struct.storable_picture* %645, i64 0, i32 32
  %646 = load i16**** %ref_idx3328, align 8, !tbaa !0
  %647 = load i16*** %646, align 8, !tbaa !0
  %arrayidx3344 = getelementptr inbounds i16*** %646, i64 1
  %648 = load i16*** %arrayidx3344, align 8, !tbaa !0
  br label %for.cond3313.preheader

for.cond3313.preheader:                           ; preds = %for.inc3350, %if.end3308
  %indvars.iv8796 = phi i64 [ 0, %if.end3308 ], [ %indvars.iv.next8797, %for.inc3350 ]
  %649 = trunc i64 %indvars.iv8796 to i32
  %add3319 = add i32 %649, %and3135
  %add3320 = add i32 %add3319, %643
  %idxprom3321 = sext i32 %add3320 to i64
  br label %for.body3316

for.body3316:                                     ; preds = %for.body3316, %for.cond3313.preheader
  %indvars.iv8792 = phi i64 [ 0, %for.cond3313.preheader ], [ %indvars.iv.next8793, %for.body3316 ]
  %650 = trunc i64 %indvars.iv8792 to i32
  %add3325 = add i32 %650, %mul3141
  %add3326 = add i32 %add3325, %644
  %idxprom3327 = sext i32 %add3326 to i64
  %arrayidx3330 = getelementptr inbounds i16** %647, i64 %idxprom3327
  %651 = load i16** %arrayidx3330, align 8, !tbaa !0
  %arrayidx3331 = getelementptr inbounds i16* %651, i64 %idxprom3321
  store i16 %best_fw_ref.19, i16* %arrayidx3331, align 2, !tbaa !4
  %arrayidx3345 = getelementptr inbounds i16** %648, i64 %idxprom3327
  %652 = load i16** %arrayidx3345, align 8, !tbaa !0
  %arrayidx3346 = getelementptr inbounds i16* %652, i64 %idxprom3321
  store i16 %best_bw_ref.19, i16* %arrayidx3346, align 2, !tbaa !4
  %indvars.iv.next8793 = add i64 %indvars.iv8792, 1
  %lftr.wideiv8794 = trunc i64 %indvars.iv.next8793 to i32
  %exitcond8795 = icmp eq i32 %lftr.wideiv8794, 2
  br i1 %exitcond8795, label %for.inc3350, label %for.body3316

for.inc3350:                                      ; preds = %for.body3316
  %indvars.iv.next8797 = add i64 %indvars.iv8796, 1
  %lftr.wideiv8798 = trunc i64 %indvars.iv.next8797 to i32
  %exitcond8799 = icmp eq i32 %lftr.wideiv8798, 2
  br i1 %exitcond8799, label %if.end3355, label %for.cond3313.preheader

if.else3353:                                      ; preds = %for.end3190
  store i32 %fw_mcost.4.lcssa, i32* %cost, align 4, !tbaa !3
  br label %if.end3355

if.end3355:                                       ; preds = %for.inc3350, %if.else3353, %if.end3024
  %best_fw_ref.20 = phi i16 [ %608, %if.end3024 ], [ %best_fw_ref.17.lcssa, %if.else3353 ], [ %best_fw_ref.19, %for.inc3350 ]
  %cost_direct.12 = phi i32 [ %cost_direct.11, %if.end3024 ], [ %cost_direct.98500, %if.else3353 ], [ %cost_direct.98500, %for.inc3350 ]
  %have_direct.10 = phi i32 [ %have_direct.9, %if.end3024 ], [ %have_direct.88501, %if.else3353 ], [ %have_direct.88501, %for.inc3350 ]
  %best_pdir.4 = phi i16 [ %614, %if.end3024 ], [ 0, %if.else3353 ], [ %best_pdir.3, %for.inc3350 ]
  %best_bw_ref.20 = phi i16 [ %611, %if.end3024 ], [ %best_bw_ref.168502, %if.else3353 ], [ %best_bw_ref.19, %for.inc3350 ]
  %653 = load %struct.CSobj** @cs_cm, align 8, !tbaa !0
  call void @store_coding_state(%struct.CSobj* %653) #8
  %654 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt3356 = getelementptr inbounds %struct.InputParameters* %654, i64 0, i32 85
  %655 = load i32* %rdopt3356, align 4, !tbaa !3
  %tobool3357 = icmp eq i32 %655, 0
  br i1 %tobool3357, label %if.else3360, label %if.then3358

if.then3358:                                      ; preds = %if.end3355
  %call3359 = call double @RDCost_for_8x8blocks(i32* %cnt_nonz, i64* %curr_cbp_blk, double %lambda_mode.4, i32 %590, i32 %597, i16 signext %best_pdir.4, i16 signext %best_fw_ref.20, i16 signext %best_bw_ref.20) #10
  br label %if.end3386

if.else3360:                                      ; preds = %if.end3355
  %656 = load i32* %cost, align 4, !tbaa !3
  %cmp3361 = icmp eq i32 %656, 2147483647
  br i1 %cmp3361, label %if.end3386, label %if.then3363

if.then3363:                                      ; preds = %if.else3360
  %not.cmp3365 = icmp sgt i16 %best_pdir.4, 0
  %cond3367 = zext i1 %not.cmp3365 to i32
  %add3368 = or i32 %cond3367, %list_offset.0
  %idxprom33698154 = zext i32 %add3368 to i64
  %arrayidx3370 = getelementptr inbounds [6 x i32]* @listXsize, i64 0, i64 %idxprom33698154
  %657 = load i32* %arrayidx3370, align 4, !tbaa !3
  %cmp3371 = icmp slt i32 %657, 2
  br i1 %cmp3371, label %cond.end3379, label %cond.false3374

cond.false3374:                                   ; preds = %if.then3363
  %conv3364 = sext i16 %best_pdir.4 to i32
  %call3376 = call i32 @B8Mode2Value(i32 %597, i32 %conv3364) #8
  %idxprom3377 = sext i32 %call3376 to i64
  %658 = load i32** @refbits, align 8, !tbaa !0
  %arrayidx3378 = getelementptr inbounds i32* %658, i64 %idxprom3377
  %659 = load i32* %arrayidx3378, align 4, !tbaa !3
  %.pre9094 = load i32* %cost, align 4, !tbaa !3
  br label %cond.end3379

cond.end3379:                                     ; preds = %if.then3363, %cond.false3374
  %660 = phi i32 [ %.pre9094, %cond.false3374 ], [ %656, %if.then3363 ]
  %cond3380 = phi i32 [ %659, %cond.false3374 ], [ 0, %if.then3363 ]
  %mul3381 = mul nsw i32 %cond3380, %conv513
  %shr3382 = ashr i32 %mul3381, 16
  %sub3383 = add i32 %660, -1
  %add3384 = add i32 %sub3383, %shr3382
  store i32 %add3384, i32* %cost, align 4, !tbaa !3
  br label %if.end3386

if.end3386:                                       ; preds = %if.else3360, %cond.end3379, %if.then3358
  %rdcost.8 = phi double [ %call3359, %if.then3358 ], [ %rdcost.78496, %cond.end3379 ], [ %rdcost.78496, %if.else3360 ]
  %661 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt3387 = getelementptr inbounds %struct.InputParameters* %661, i64 0, i32 85
  %662 = load i32* %rdopt3387, align 4, !tbaa !3
  %tobool3388 = icmp eq i32 %662, 0
  br i1 %tobool3388, label %land.lhs.true3395, label %land.lhs.true3389

land.lhs.true3389:                                ; preds = %if.end3386
  %cmp3390 = fcmp olt double %rdcost.8, %rdcost.88532
  br i1 %cmp3390, label %if.then3410, label %if.end3567

land.lhs.true3395:                                ; preds = %if.end3386
  %663 = load i32* %cost, align 4, !tbaa !3
  %cmp3396 = icmp slt i32 %663, %min_cost8x8.38499
  br i1 %cmp3396, label %if.then3398.if.end3498_crit_edge, label %if.end3567

if.then3398.if.end3498_crit_edge:                 ; preds = %land.lhs.true3395
  %conv33999180 = trunc i32 %597 to i16
  store i16 %conv33999180, i16* %arrayidx3401, align 2, !tbaa !4
  store i16 %best_pdir.4, i16* %arrayidx3403, align 2, !tbaa !4
  store i16 %best_fw_ref.20, i16* %arrayidx3405, align 2, !tbaa !4
  store i16 %best_bw_ref.20, i16* %arrayidx3407, align 2, !tbaa !4
  %664 = load i32* %cnt_nonz, align 4, !tbaa !3
  %.pre9132 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %if.end3498

if.then3410:                                      ; preds = %land.lhs.true3389
  %.pre9131 = load i32* %cost, align 4, !tbaa !3
  %conv3399 = trunc i32 %597 to i16
  store i16 %conv3399, i16* %arrayidx3401, align 2, !tbaa !4
  store i16 %best_pdir.4, i16* %arrayidx3403, align 2, !tbaa !4
  store i16 %best_fw_ref.20, i16* %arrayidx3405, align 2, !tbaa !4
  store i16 %best_bw_ref.20, i16* %arrayidx3407, align 2, !tbaa !4
  %665 = load i32* %cnt_nonz, align 4, !tbaa !3
  %666 = load i32* @cbp_blk8x8, align 4, !tbaa !3
  %and3418 = and i32 %666, %neg3417
  %667 = load i64* %curr_cbp_blk, align 8, !tbaa !5
  %conv34198153 = zext i32 %and3418 to i64
  %or3420 = or i64 %conv34198153, %667
  %conv3421 = trunc i64 %or3420 to i32
  store i32 %conv3421, i32* @cbp_blk8x8, align 4, !tbaa !3
  %668 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %cofAC3438 = getelementptr inbounds %struct.ImageParameters* %668, i64 0, i32 47
  %669 = load i32***** %cofAC3438, align 8, !tbaa !0
  %arrayidx3439 = getelementptr inbounds i32**** %669, i64 %indvars.iv8863
  %670 = load i32**** %arrayidx3439, align 8, !tbaa !0
  %671 = load i32***** @cofAC8x8, align 8, !tbaa !0
  %arrayidx3447 = getelementptr inbounds i32**** %671, i64 %indvars.iv8863
  %672 = load i32**** %arrayidx3447, align 8, !tbaa !0
  br label %for.cond3426.preheader

for.cond3426.preheader:                           ; preds = %for.inc3457, %if.then3410
  %indvars.iv8808 = phi i64 [ 0, %if.then3410 ], [ %indvars.iv.next8809, %for.inc3457 ]
  %arrayidx3440 = getelementptr inbounds i32*** %670, i64 %indvars.iv8808
  %673 = load i32*** %arrayidx3440, align 8, !tbaa !0
  %arrayidx3448 = getelementptr inbounds i32*** %672, i64 %indvars.iv8808
  %674 = load i32*** %arrayidx3448, align 8, !tbaa !0
  br label %for.cond3430.preheader

for.cond3430.preheader:                           ; preds = %for.inc3454, %for.cond3426.preheader
  %indvars.iv8804 = phi i64 [ 0, %for.cond3426.preheader ], [ %indvars.iv.next8805, %for.inc3454 ]
  %arrayidx3441 = getelementptr inbounds i32** %673, i64 %indvars.iv8804
  %675 = load i32** %arrayidx3441, align 8, !tbaa !0
  %arrayidx3449 = getelementptr inbounds i32** %674, i64 %indvars.iv8804
  %676 = load i32** %arrayidx3449, align 8, !tbaa !0
  br label %for.body3433

for.body3433:                                     ; preds = %for.body3433, %for.cond3430.preheader
  %indvars.iv8800 = phi i64 [ 0, %for.cond3430.preheader ], [ %indvars.iv.next8801, %for.body3433 ]
  %arrayidx3442 = getelementptr inbounds i32* %675, i64 %indvars.iv8800
  %677 = load i32* %arrayidx3442, align 4, !tbaa !3
  %arrayidx3450 = getelementptr inbounds i32* %676, i64 %indvars.iv8800
  store i32 %677, i32* %arrayidx3450, align 4, !tbaa !3
  %indvars.iv.next8801 = add i64 %indvars.iv8800, 1
  %lftr.wideiv8802 = trunc i64 %indvars.iv.next8801 to i32
  %exitcond8803 = icmp eq i32 %lftr.wideiv8802, 65
  br i1 %exitcond8803, label %for.inc3454, label %for.body3433

for.inc3454:                                      ; preds = %for.body3433
  %indvars.iv.next8805 = add i64 %indvars.iv8804, 1
  %lftr.wideiv8806 = trunc i64 %indvars.iv.next8805 to i32
  %exitcond8807 = icmp eq i32 %lftr.wideiv8806, 2
  br i1 %exitcond8807, label %for.inc3457, label %for.cond3430.preheader

for.inc3457:                                      ; preds = %for.inc3454
  %indvars.iv.next8809 = add i64 %indvars.iv8808, 1
  %lftr.wideiv8810 = trunc i64 %indvars.iv.next8809 to i32
  %exitcond8811 = icmp eq i32 %lftr.wideiv8810, 4
  br i1 %exitcond8811, label %for.cond3460.loopexit, label %for.cond3426.preheader

for.cond3460.loopexit:                            ; preds = %for.inc3457
  %pix_x3470 = getelementptr inbounds %struct.ImageParameters* %668, i64 0, i32 33
  %678 = load i32* %pix_x3470, align 4, !tbaa !3
  %pix_y3473 = getelementptr inbounds %struct.ImageParameters* %668, i64 0, i32 34
  %679 = load i32* %pix_y3473, align 4, !tbaa !3
  %680 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgY3476 = getelementptr inbounds %struct.storable_picture* %680, i64 0, i32 25
  %681 = load i16*** %imgY3476, align 8, !tbaa !0
  %682 = sext i32 %678 to i64
  %683 = sext i32 %679 to i64
  br label %for.cond3465.preheader

for.cond3465.preheader:                           ; preds = %for.cond3460.loopexit, %for.inc3495
  %indvars.iv8816 = phi i64 [ %596, %for.cond3460.loopexit ], [ %indvars.iv.next8817, %for.inc3495 ]
  %684 = add nsw i64 %683, %indvars.iv8816
  %arrayidx3477 = getelementptr inbounds i16** %681, i64 %684
  %685 = load i16** %arrayidx3477, align 8, !tbaa !0
  br label %for.body3469

for.body3469:                                     ; preds = %for.cond3465.preheader, %for.body3469
  %indvars.iv8812 = phi i64 [ %594, %for.cond3465.preheader ], [ %indvars.iv.next8813, %for.body3469 ]
  %686 = add nsw i64 %682, %indvars.iv8812
  %arrayidx3478 = getelementptr inbounds i16* %685, i64 %686
  %687 = load i16* %arrayidx3478, align 2, !tbaa !4
  %arrayidx3482 = getelementptr inbounds [16 x [16 x i16]]* @rec_mbY8x8, i64 0, i64 %indvars.iv8816, i64 %indvars.iv8812
  store i16 %687, i16* %arrayidx3482, align 2, !tbaa !4
  %arrayidx3487 = getelementptr inbounds %struct.ImageParameters* %668, i64 0, i32 45, i64 %indvars.iv8812, i64 %indvars.iv8816
  %688 = load i16* %arrayidx3487, align 2, !tbaa !4
  %arrayidx3491 = getelementptr inbounds [16 x [16 x i16]]* @mpr8x8, i64 0, i64 %indvars.iv8816, i64 %indvars.iv8812
  store i16 %688, i16* %arrayidx3491, align 2, !tbaa !4
  %indvars.iv.next8813 = add i64 %indvars.iv8812, 1
  %689 = or i32 %shl2993, 7
  %690 = trunc i64 %indvars.iv8812 to i32
  %cmp3467 = icmp slt i32 %690, %689
  br i1 %cmp3467, label %for.body3469, label %for.inc3495

for.inc3495:                                      ; preds = %for.body3469
  %indvars.iv.next8817 = add i64 %indvars.iv8816, 1
  %691 = or i32 %shl2990, 7
  %692 = trunc i64 %indvars.iv8816 to i32
  %cmp3462 = icmp slt i32 %692, %691
  br i1 %cmp3462, label %for.cond3465.preheader, label %if.end3498

if.end3498:                                       ; preds = %for.inc3495, %if.then3398.if.end3498_crit_edge
  %693 = phi i32 [ %664, %if.then3398.if.end3498_crit_edge ], [ %665, %for.inc3495 ]
  %694 = phi i32 [ %663, %if.then3398.if.end3498_crit_edge ], [ %.pre9131, %for.inc3495 ]
  %695 = phi %struct.ImageParameters* [ %.pre9132, %if.then3398.if.end3498_crit_edge ], [ %668, %for.inc3495 ]
  %residue_transform_flag3499 = getelementptr inbounds %struct.ImageParameters* %695, i64 0, i32 164
  %696 = load i32* %residue_transform_flag3499, align 4, !tbaa !3
  %tobool3500 = icmp eq i32 %696, 0
  br i1 %tobool3500, label %if.end3566, label %for.cond3507.preheader

for.cond3507.preheader:                           ; preds = %if.end3498, %for.inc3563
  %indvars.iv8821 = phi i64 [ %indvars.iv.next8822, %for.inc3563 ], [ %596, %if.end3498 ]
  br label %for.body3511

for.body3511:                                     ; preds = %for.cond3507.preheader, %for.body3511
  %indvars.iv8819 = phi i64 [ %594, %for.cond3507.preheader ], [ %indvars.iv.next8820, %for.body3511 ]
  %arrayidx3515 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG, i64 0, i64 %indvars.iv8819, i64 %indvars.iv8821
  %697 = load i32* %arrayidx3515, align 4, !tbaa !3
  %arrayidx3519 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG_8x8, i64 0, i64 %indvars.iv8819, i64 %indvars.iv8821
  store i32 %697, i32* %arrayidx3519, align 4, !tbaa !3
  %arrayidx3523 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R, i64 0, i64 %indvars.iv8819, i64 %indvars.iv8821
  %698 = load i32* %arrayidx3523, align 4, !tbaa !3
  %arrayidx3527 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R_8x8, i64 0, i64 %indvars.iv8819, i64 %indvars.iv8821
  store i32 %698, i32* %arrayidx3527, align 4, !tbaa !3
  %arrayidx3531 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B, i64 0, i64 %indvars.iv8819, i64 %indvars.iv8821
  %699 = load i32* %arrayidx3531, align 4, !tbaa !3
  %arrayidx3535 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B_8x8, i64 0, i64 %indvars.iv8819, i64 %indvars.iv8821
  store i32 %699, i32* %arrayidx3535, align 4, !tbaa !3
  %arrayidx3539 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 0, i64 %indvars.iv8819, i64 %indvars.iv8821
  %700 = load i32* %arrayidx3539, align 4, !tbaa !3
  %arrayidx3543 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8, i64 0, i64 0, i64 %indvars.iv8819, i64 %indvars.iv8821
  store i32 %700, i32* %arrayidx3543, align 4, !tbaa !3
  %arrayidx3547 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 1, i64 %indvars.iv8819, i64 %indvars.iv8821
  %701 = load i32* %arrayidx3547, align 4, !tbaa !3
  %arrayidx3551 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8, i64 0, i64 1, i64 %indvars.iv8819, i64 %indvars.iv8821
  store i32 %701, i32* %arrayidx3551, align 4, !tbaa !3
  %arrayidx3555 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 2, i64 %indvars.iv8819, i64 %indvars.iv8821
  %702 = load i32* %arrayidx3555, align 4, !tbaa !3
  %arrayidx3559 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8, i64 0, i64 2, i64 %indvars.iv8819, i64 %indvars.iv8821
  store i32 %702, i32* %arrayidx3559, align 4, !tbaa !3
  %indvars.iv.next8820 = add i64 %indvars.iv8819, 1
  %703 = or i32 %shl2993, 7
  %704 = trunc i64 %indvars.iv8819 to i32
  %cmp3509 = icmp slt i32 %704, %703
  br i1 %cmp3509, label %for.body3511, label %for.inc3563

for.inc3563:                                      ; preds = %for.body3511
  %indvars.iv.next8822 = add i64 %indvars.iv8821, 1
  %705 = or i32 %shl2990, 7
  %706 = trunc i64 %indvars.iv8821 to i32
  %cmp3504 = icmp slt i32 %706, %705
  br i1 %cmp3504, label %for.cond3507.preheader, label %if.end3566

if.end3566:                                       ; preds = %for.inc3563, %if.end3498
  %707 = load %struct.CSobj** @cs_b8, align 8, !tbaa !0
  call void @store_coding_state(%struct.CSobj* %707) #8
  br label %if.end3567

if.end3567:                                       ; preds = %land.lhs.true3389, %if.end3566, %land.lhs.true3395
  %rdcost.88534 = phi double [ %rdcost.8, %if.end3566 ], [ %rdcost.88532, %land.lhs.true3395 ], [ %rdcost.88532, %land.lhs.true3389 ]
  %best_cnt_nonz.9 = phi i32 [ %693, %if.end3566 ], [ %best_cnt_nonz.88497, %land.lhs.true3395 ], [ %best_cnt_nonz.88497, %land.lhs.true3389 ]
  %min_cost8x8.4 = phi i32 [ %694, %if.end3566 ], [ %min_cost8x8.38499, %land.lhs.true3395 ], [ %min_cost8x8.38499, %land.lhs.true3389 ]
  %708 = load %struct.CSobj** @cs_cm, align 8, !tbaa !0
  call void @reset_coding_state(%struct.CSobj* %708) #8
  br label %for.inc3569

for.inc3569:                                      ; preds = %for.body3000, %if.end3567
  %rdcost.88533 = phi double [ %rdcost.88534, %if.end3567 ], [ %rdcost.88532, %for.body3000 ]
  %rdcost.9 = phi double [ %rdcost.8, %if.end3567 ], [ %rdcost.78496, %for.body3000 ]
  %best_cnt_nonz.10 = phi i32 [ %best_cnt_nonz.9, %if.end3567 ], [ %best_cnt_nonz.88497, %for.body3000 ]
  %best_fw_ref.21 = phi i16 [ %best_fw_ref.20, %if.end3567 ], [ %best_fw_ref.168498, %for.body3000 ]
  %min_cost8x8.5 = phi i32 [ %min_cost8x8.4, %if.end3567 ], [ %min_cost8x8.38499, %for.body3000 ]
  %cost_direct.13 = phi i32 [ %cost_direct.12, %if.end3567 ], [ %cost_direct.98500, %for.body3000 ]
  %have_direct.11 = phi i32 [ %have_direct.10, %if.end3567 ], [ %have_direct.88501, %for.body3000 ]
  %best_bw_ref.21 = phi i16 [ %best_bw_ref.20, %if.end3567 ], [ %best_bw_ref.168502, %for.body3000 ]
  %indvars.iv.next8824 = add i64 %indvars.iv8823, 1
  %709 = trunc i64 %indvars.iv.next8824 to i32
  %cmp2998 = icmp slt i32 %709, 5
  br i1 %cmp2998, label %for.body3000, label %for.end3571

for.end3571:                                      ; preds = %for.inc3569
  %add3572 = add nsw i32 %min_cost8x8.5, %cost8x8.28527
  %710 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt3573 = getelementptr inbounds %struct.InputParameters* %710, i64 0, i32 85
  %711 = load i32* %rdopt3573, align 4, !tbaa !3
  %tobool3574 = icmp eq i32 %711, 0
  br i1 %tobool3574, label %if.then3575, label %if.end3763

if.then3575:                                      ; preds = %for.end3571
  %arrayidx3577 = getelementptr inbounds [4 x i16]* @best8x8mode, i64 0, i64 %indvars.iv8863
  %712 = load i16* %arrayidx3577, align 2, !tbaa !4
  %conv3578 = sext i16 %712 to i32
  %arrayidx3580 = getelementptr inbounds [15 x [4 x i16]]* @best8x8pdir, i64 0, i64 8, i64 %indvars.iv8863
  %713 = load i16* %arrayidx3580, align 2, !tbaa !4
  store i64 0, i64* %curr_cbp_blk, align 8, !tbaa !5
  switch i16 %713, label %cond.end3590 [
    i16 0, label %cond.true3588
    i16 2, label %cond.true3588
  ]

cond.true3588:                                    ; preds = %if.then3575, %if.then3575
  br label %cond.end3590

cond.end3590:                                     ; preds = %if.then3575, %cond.true3588
  %cond3591 = phi i32 [ %conv3578, %cond.true3588 ], [ 0, %if.then3575 ]
  %.off8269 = add i16 %713, -1
  %switch8270 = icmp ult i16 %.off8269, 2
  %conv3578. = select i1 %switch8270, i32 %conv3578, i32 0
  %arrayidx3604 = getelementptr inbounds [15 x [4 x i16]]* @best8x8fwref, i64 0, i64 8, i64 %indvars.iv8863
  %714 = load i16* %arrayidx3604, align 2, !tbaa !4
  %arrayidx3606 = getelementptr inbounds [15 x [4 x i16]]* @best8x8bwref, i64 0, i64 8, i64 %indvars.iv8863
  %715 = load i16* %arrayidx3606, align 2, !tbaa !4
  %call3607 = call i32 @LumaResidualCoding8x8(i32* %dummy, i64* %curr_cbp_blk, i32 %590, i16 signext %713, i32 %cond3591, i32 %conv3578., i16 signext %714, i16 signext %715) #8
  %shr36088149 = lshr i32 %590, 1
  %shl3609 = shl i32 %shr36088149, 3
  %shl3611 = shl i32 %rem2992, 1
  %add3612 = add nsw i32 %shl3611, %shl3609
  %shl3613 = shl i32 51, %add3612
  %neg3614 = xor i32 %shl3613, -1
  %716 = load i32* @cbp_blk8x8, align 4, !tbaa !3
  %and3615 = and i32 %716, %neg3614
  %717 = load i64* %curr_cbp_blk, align 8, !tbaa !5
  %conv36168150 = zext i32 %and3615 to i64
  %or3617 = or i64 %conv36168150, %717
  %conv3618 = trunc i64 %or3617 to i32
  store i32 %conv3618, i32* @cbp_blk8x8, align 4, !tbaa !3
  %718 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %cofAC3635 = getelementptr inbounds %struct.ImageParameters* %718, i64 0, i32 47
  %719 = load i32***** %cofAC3635, align 8, !tbaa !0
  %arrayidx3636 = getelementptr inbounds i32**** %719, i64 %indvars.iv8863
  %720 = load i32**** %arrayidx3636, align 8, !tbaa !0
  %721 = load i32***** @cofAC8x8, align 8, !tbaa !0
  %arrayidx3644 = getelementptr inbounds i32**** %721, i64 %indvars.iv8863
  %722 = load i32**** %arrayidx3644, align 8, !tbaa !0
  br label %for.cond3623.preheader

for.cond3623.preheader:                           ; preds = %for.inc3654, %cond.end3590
  %indvars.iv8833 = phi i64 [ 0, %cond.end3590 ], [ %indvars.iv.next8834, %for.inc3654 ]
  %arrayidx3637 = getelementptr inbounds i32*** %720, i64 %indvars.iv8833
  %723 = load i32*** %arrayidx3637, align 8, !tbaa !0
  %arrayidx3645 = getelementptr inbounds i32*** %722, i64 %indvars.iv8833
  %724 = load i32*** %arrayidx3645, align 8, !tbaa !0
  br label %for.cond3627.preheader

for.cond3627.preheader:                           ; preds = %for.inc3651, %for.cond3623.preheader
  %indvars.iv8829 = phi i64 [ 0, %for.cond3623.preheader ], [ %indvars.iv.next8830, %for.inc3651 ]
  %arrayidx3638 = getelementptr inbounds i32** %723, i64 %indvars.iv8829
  %725 = load i32** %arrayidx3638, align 8, !tbaa !0
  %arrayidx3646 = getelementptr inbounds i32** %724, i64 %indvars.iv8829
  %726 = load i32** %arrayidx3646, align 8, !tbaa !0
  br label %for.body3630

for.body3630:                                     ; preds = %for.body3630, %for.cond3627.preheader
  %indvars.iv8825 = phi i64 [ 0, %for.cond3627.preheader ], [ %indvars.iv.next8826, %for.body3630 ]
  %arrayidx3639 = getelementptr inbounds i32* %725, i64 %indvars.iv8825
  %727 = load i32* %arrayidx3639, align 4, !tbaa !3
  %arrayidx3647 = getelementptr inbounds i32* %726, i64 %indvars.iv8825
  store i32 %727, i32* %arrayidx3647, align 4, !tbaa !3
  %indvars.iv.next8826 = add i64 %indvars.iv8825, 1
  %lftr.wideiv8827 = trunc i64 %indvars.iv.next8826 to i32
  %exitcond8828 = icmp eq i32 %lftr.wideiv8827, 65
  br i1 %exitcond8828, label %for.inc3651, label %for.body3630

for.inc3651:                                      ; preds = %for.body3630
  %indvars.iv.next8830 = add i64 %indvars.iv8829, 1
  %lftr.wideiv8831 = trunc i64 %indvars.iv.next8830 to i32
  %exitcond8832 = icmp eq i32 %lftr.wideiv8831, 2
  br i1 %exitcond8832, label %for.inc3654, label %for.cond3627.preheader

for.inc3654:                                      ; preds = %for.inc3651
  %indvars.iv.next8834 = add i64 %indvars.iv8833, 1
  %lftr.wideiv8835 = trunc i64 %indvars.iv.next8834 to i32
  %exitcond8836 = icmp eq i32 %lftr.wideiv8835, 4
  br i1 %exitcond8836, label %for.cond3657.loopexit, label %for.cond3623.preheader

for.cond3657.loopexit:                            ; preds = %for.inc3654
  %add3658 = add nsw i32 %shl2990, 8
  %pix_x3667 = getelementptr inbounds %struct.ImageParameters* %718, i64 0, i32 33
  %728 = load i32* %pix_x3667, align 4, !tbaa !3
  %pix_y3670 = getelementptr inbounds %struct.ImageParameters* %718, i64 0, i32 34
  %729 = load i32* %pix_y3670, align 4, !tbaa !3
  %730 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgY3673 = getelementptr inbounds %struct.storable_picture* %730, i64 0, i32 25
  %731 = load i16*** %imgY3673, align 8, !tbaa !0
  %732 = shl i32 %rem2992, 3
  %733 = sext i32 %732 to i64
  %734 = sext i32 %728 to i64
  %735 = shl i32 %div2989, 3
  %736 = sext i32 %735 to i64
  %737 = sext i32 %729 to i64
  br label %for.cond3662.preheader

for.cond3662.preheader:                           ; preds = %for.cond3657.loopexit, %for.inc3692
  %indvars.iv8841 = phi i64 [ %736, %for.cond3657.loopexit ], [ %indvars.iv.next8842, %for.inc3692 ]
  %738 = add nsw i64 %737, %indvars.iv8841
  %arrayidx3674 = getelementptr inbounds i16** %731, i64 %738
  %739 = load i16** %arrayidx3674, align 8, !tbaa !0
  br label %for.body3666

for.body3666:                                     ; preds = %for.cond3662.preheader, %for.body3666
  %indvars.iv8837 = phi i64 [ %733, %for.cond3662.preheader ], [ %indvars.iv.next8838, %for.body3666 ]
  %740 = add nsw i64 %734, %indvars.iv8837
  %arrayidx3675 = getelementptr inbounds i16* %739, i64 %740
  %741 = load i16* %arrayidx3675, align 2, !tbaa !4
  %arrayidx3679 = getelementptr inbounds [16 x [16 x i16]]* @rec_mbY8x8, i64 0, i64 %indvars.iv8841, i64 %indvars.iv8837
  store i16 %741, i16* %arrayidx3679, align 2, !tbaa !4
  %arrayidx3684 = getelementptr inbounds %struct.ImageParameters* %718, i64 0, i32 45, i64 %indvars.iv8837, i64 %indvars.iv8841
  %742 = load i16* %arrayidx3684, align 2, !tbaa !4
  %arrayidx3688 = getelementptr inbounds [16 x [16 x i16]]* @mpr8x8, i64 0, i64 %indvars.iv8841, i64 %indvars.iv8837
  store i16 %742, i16* %arrayidx3688, align 2, !tbaa !4
  %indvars.iv.next8838 = add i64 %indvars.iv8837, 1
  %743 = or i32 %shl2993, 7
  %744 = trunc i64 %indvars.iv8837 to i32
  %cmp3664 = icmp slt i32 %744, %743
  br i1 %cmp3664, label %for.body3666, label %for.inc3692

for.inc3692:                                      ; preds = %for.body3666
  %indvars.iv.next8842 = add i64 %indvars.iv8841, 1
  %745 = trunc i64 %indvars.iv.next8842 to i32
  %cmp3659 = icmp slt i32 %745, %add3658
  br i1 %cmp3659, label %for.cond3662.preheader, label %for.end3694

for.end3694:                                      ; preds = %for.inc3692
  %residue_transform_flag3695 = getelementptr inbounds %struct.ImageParameters* %718, i64 0, i32 164
  %746 = load i32* %residue_transform_flag3695, align 4, !tbaa !3
  %tobool3696 = icmp eq i32 %746, 0
  br i1 %tobool3696, label %if.end3763, label %for.cond3703.preheader

for.cond3703.preheader:                           ; preds = %for.end3694, %for.inc3759
  %indvars.iv8846 = phi i64 [ %indvars.iv.next8847, %for.inc3759 ], [ %736, %for.end3694 ]
  br label %for.body3707

for.body3707:                                     ; preds = %for.cond3703.preheader, %for.body3707
  %indvars.iv8844 = phi i64 [ %733, %for.cond3703.preheader ], [ %indvars.iv.next8845, %for.body3707 ]
  %arrayidx3711 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG, i64 0, i64 %indvars.iv8844, i64 %indvars.iv8846
  %747 = load i32* %arrayidx3711, align 4, !tbaa !3
  %arrayidx3715 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG_8x8, i64 0, i64 %indvars.iv8844, i64 %indvars.iv8846
  store i32 %747, i32* %arrayidx3715, align 4, !tbaa !3
  %arrayidx3719 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R, i64 0, i64 %indvars.iv8844, i64 %indvars.iv8846
  %748 = load i32* %arrayidx3719, align 4, !tbaa !3
  %arrayidx3723 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R_8x8, i64 0, i64 %indvars.iv8844, i64 %indvars.iv8846
  store i32 %748, i32* %arrayidx3723, align 4, !tbaa !3
  %arrayidx3727 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B, i64 0, i64 %indvars.iv8844, i64 %indvars.iv8846
  %749 = load i32* %arrayidx3727, align 4, !tbaa !3
  %arrayidx3731 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B_8x8, i64 0, i64 %indvars.iv8844, i64 %indvars.iv8846
  store i32 %749, i32* %arrayidx3731, align 4, !tbaa !3
  %arrayidx3735 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 0, i64 %indvars.iv8844, i64 %indvars.iv8846
  %750 = load i32* %arrayidx3735, align 4, !tbaa !3
  %arrayidx3739 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8, i64 0, i64 0, i64 %indvars.iv8844, i64 %indvars.iv8846
  store i32 %750, i32* %arrayidx3739, align 4, !tbaa !3
  %arrayidx3743 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 1, i64 %indvars.iv8844, i64 %indvars.iv8846
  %751 = load i32* %arrayidx3743, align 4, !tbaa !3
  %arrayidx3747 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8, i64 0, i64 1, i64 %indvars.iv8844, i64 %indvars.iv8846
  store i32 %751, i32* %arrayidx3747, align 4, !tbaa !3
  %arrayidx3751 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB, i64 0, i64 2, i64 %indvars.iv8844, i64 %indvars.iv8846
  %752 = load i32* %arrayidx3751, align 4, !tbaa !3
  %arrayidx3755 = getelementptr inbounds [3 x [16 x [16 x i32]]]* @mprRGB_8x8, i64 0, i64 2, i64 %indvars.iv8844, i64 %indvars.iv8846
  store i32 %752, i32* %arrayidx3755, align 4, !tbaa !3
  %indvars.iv.next8845 = add i64 %indvars.iv8844, 1
  %753 = trunc i64 %indvars.iv8844 to i32
  %cmp3705 = icmp slt i32 %753, %743
  br i1 %cmp3705, label %for.body3707, label %for.inc3759

for.inc3759:                                      ; preds = %for.body3707
  %indvars.iv.next8847 = add i64 %indvars.iv8846, 1
  %754 = trunc i64 %indvars.iv.next8847 to i32
  %cmp3700 = icmp slt i32 %754, %add3658
  br i1 %cmp3700, label %for.cond3703.preheader, label %if.end3763

if.end3763:                                       ; preds = %for.inc3759, %for.end3694, %for.end3571
  %best_cnt_nonz.11 = phi i32 [ %best_cnt_nonz.10, %for.end3571 ], [ %call3607, %for.end3694 ], [ %call3607, %for.inc3759 ]
  %tobool3764 = icmp eq i32 %best_cnt_nonz.11, 0
  br i1 %tobool3764, label %if.end3769, label %if.then3765

if.then3765:                                      ; preds = %if.end3763
  %shl3766 = shl i32 1, %590
  %755 = load i32* @cbp8x8, align 4, !tbaa !3
  %or3767 = or i32 %755, %shl3766
  store i32 %or3767, i32* @cbp8x8, align 4, !tbaa !3
  %756 = load i32* @cnt_nonz_8x8, align 4, !tbaa !3
  %add3768 = add nsw i32 %756, %best_cnt_nonz.11
  store i32 %add3768, i32* @cnt_nonz_8x8, align 4, !tbaa !3
  br label %if.end3769

if.end3769:                                       ; preds = %if.end3763, %if.then3765
  %arrayidx3771 = getelementptr inbounds [4 x i16]* @best8x8mode, i64 0, i64 %indvars.iv8863
  %757 = load i16* %arrayidx3771, align 2, !tbaa !4
  %758 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y3773 = getelementptr inbounds %struct.ImageParameters* %758, i64 0, i32 32
  %759 = load i32* %block_y3773, align 4, !tbaa !3
  %mul3775 = shl nsw i32 %div2989, 1
  %add3776 = add nsw i32 %759, %mul3775
  %block_x3777 = getelementptr inbounds %struct.ImageParameters* %758, i64 0, i32 31
  %760 = load i32* %block_x3777, align 4, !tbaa !3
  %mul3779 = shl nsw i32 %rem2992, 1
  %add3780 = add nsw i32 %760, %mul3779
  %761 = shl i32 %rem2992, 1
  %762 = add i32 %760, %761
  %763 = sext i32 %762 to i64
  %764 = shl i32 %div2989, 1
  %765 = add i32 %759, %764
  %766 = sext i32 %765 to i64
  br label %for.cond3786.preheader

for.cond3786.preheader:                           ; preds = %if.end3769, %for.inc3798
  %indvars.iv8850 = phi i64 [ %766, %if.end3769 ], [ %indvars.iv.next8851, %for.inc3798 ]
  br label %for.body3790

for.body3790:                                     ; preds = %for.cond3786.preheader, %for.body3790
  %indvars.iv8848 = phi i64 [ %763, %for.cond3786.preheader ], [ %indvars.iv.next8849, %for.body3790 ]
  %arrayidx3793 = getelementptr inbounds i32** %16, i64 %indvars.iv8848
  %767 = load i32** %arrayidx3793, align 8, !tbaa !0
  %arrayidx3794 = getelementptr inbounds i32* %767, i64 %indvars.iv8850
  store i32 2, i32* %arrayidx3794, align 4, !tbaa !3
  %indvars.iv.next8849 = add i64 %indvars.iv8848, 1
  %768 = add nsw i32 %add3780, 1
  %769 = trunc i64 %indvars.iv8848 to i32
  %cmp3788 = icmp slt i32 %769, %768
  br i1 %cmp3788, label %for.body3790, label %for.inc3798

for.inc3798:                                      ; preds = %for.body3790
  %indvars.iv.next8851 = add i64 %indvars.iv8850, 1
  %770 = add nsw i32 %add3776, 1
  %771 = trunc i64 %indvars.iv8850 to i32
  %cmp3783 = icmp slt i32 %771, %770
  br i1 %cmp3783, label %for.cond3786.preheader, label %for.end3800

for.end3800:                                      ; preds = %for.inc3798
  %772 = shl nsw i64 %indvars.iv8863, 2
  br label %for.body3806

for.body3806:                                     ; preds = %for.end3800, %for.body3806
  %indvars.iv8854 = phi i64 [ %indvars.iv8852, %for.end3800 ], [ %indvars.iv.next8855, %for.body3806 ]
  %arrayidx3808 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 10, i64 %indvars.iv8854
  store i32 2, i32* %arrayidx3808, align 4, !tbaa !3
  %indvars.iv.next8855 = add i64 %indvars.iv8854, 1
  %773 = or i64 %772, 3
  %774 = trunc i64 %indvars.iv8854 to i32
  %775 = trunc i64 %773 to i32
  %cmp3804 = icmp slt i32 %774, %775
  br i1 %cmp3804, label %for.body3806, label %for.end3811

for.end3811:                                      ; preds = %for.body3806
  %conv3772 = sext i16 %757 to i32
  %cmp3812 = icmp slt i32 %590, 3
  br i1 %cmp3812, label %if.then3814, label %if.end3848

if.then3814:                                      ; preds = %for.end3811
  %pix_x3833 = getelementptr inbounds %struct.ImageParameters* %758, i64 0, i32 33
  %776 = load i32* %pix_x3833, align 4, !tbaa !3
  %pix_y3836 = getelementptr inbounds %struct.ImageParameters* %758, i64 0, i32 34
  %777 = load i32* %pix_y3836, align 4, !tbaa !3
  %778 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgY3839 = getelementptr inbounds %struct.storable_picture* %778, i64 0, i32 25
  %779 = load i16*** %imgY3839, align 8, !tbaa !0
  %780 = shl i32 %rem2992, 3
  %781 = sext i32 %780 to i64
  %782 = sext i32 %776 to i64
  %783 = shl i32 %div2989, 3
  %784 = sext i32 %783 to i64
  %785 = sext i32 %777 to i64
  br label %for.cond3824.preheader

for.cond3824.preheader:                           ; preds = %if.then3814, %for.inc3845
  %indvars.iv8860 = phi i64 [ %784, %if.then3814 ], [ %indvars.iv.next8861, %for.inc3845 ]
  %786 = add nsw i64 %785, %indvars.iv8860
  %arrayidx3840 = getelementptr inbounds i16** %779, i64 %786
  %787 = load i16** %arrayidx3840, align 8, !tbaa !0
  br label %for.body3828

for.body3828:                                     ; preds = %for.cond3824.preheader, %for.body3828
  %indvars.iv8856 = phi i64 [ %781, %for.cond3824.preheader ], [ %indvars.iv.next8857, %for.body3828 ]
  %arrayidx3832 = getelementptr inbounds [16 x [16 x i16]]* @rec_mbY8x8, i64 0, i64 %indvars.iv8860, i64 %indvars.iv8856
  %788 = load i16* %arrayidx3832, align 2, !tbaa !4
  %789 = add nsw i64 %782, %indvars.iv8856
  %arrayidx3841 = getelementptr inbounds i16* %787, i64 %789
  store i16 %788, i16* %arrayidx3841, align 2, !tbaa !4
  %indvars.iv.next8857 = add i64 %indvars.iv8856, 1
  %790 = or i32 %shl2993, 7
  %791 = trunc i64 %indvars.iv8856 to i32
  %cmp3826 = icmp slt i32 %791, %790
  br i1 %cmp3826, label %for.body3828, label %for.inc3845

for.inc3845:                                      ; preds = %for.body3828
  %indvars.iv.next8861 = add i64 %indvars.iv8860, 1
  %792 = or i32 %shl2990, 7
  %793 = trunc i64 %indvars.iv8860 to i32
  %cmp3821 = icmp slt i32 %793, %792
  br i1 %cmp3821, label %for.cond3824.preheader, label %if.end3848

if.end3848:                                       ; preds = %for.inc3845, %for.end3811
  %arrayidx3850 = getelementptr inbounds [15 x [4 x i16]]* @best8x8pdir, i64 0, i64 8, i64 %indvars.iv8863
  %794 = load i16* %arrayidx3850, align 2, !tbaa !4
  %conv3851 = sext i16 %794 to i32
  %arrayidx3853 = getelementptr inbounds [15 x [4 x i16]]* @best8x8fwref, i64 0, i64 8, i64 %indvars.iv8863
  %795 = load i16* %arrayidx3853, align 2, !tbaa !4
  %conv3854 = sext i16 %795 to i32
  %arrayidx3856 = getelementptr inbounds [15 x [4 x i16]]* @best8x8bwref, i64 0, i64 8, i64 %indvars.iv8863
  %796 = load i16* %arrayidx3856, align 2, !tbaa !4
  %conv3857 = sext i16 %796 to i32
  call void @SetRefAndMotionVectors(i32 %590, i32 %conv3772, i32 %conv3851, i32 %conv3854, i32 %conv3857) #10
  %797 = load %struct.CSobj** @cs_b8, align 8, !tbaa !0
  call void @reset_coding_state(%struct.CSobj* %797) #8
  %indvars.iv.next8864 = add i64 %indvars.iv8863, 1
  %indvars.iv.next8853 = add i64 %indvars.iv8852, 4
  %lftr.wideiv8869 = trunc i64 %indvars.iv.next8864 to i32
  %exitcond8870 = icmp eq i32 %lftr.wideiv8869, 4
  br i1 %exitcond8870, label %if.end3861.loopexit, label %for.body3000.lr.ph

if.end3861.loopexit:                              ; preds = %if.end3848
  store double %rdcost.88533, double* %min_rdcost, align 8, !tbaa !6
  br label %if.end3861

if.end3861:                                       ; preds = %if.end3861.loopexit, %if.end2980
  %cost8x8_direct.79178 = phi i32 [ %cost8x8_direct.6, %if.end2980 ], [ %cost8x8_direct.79177, %if.end3861.loopexit ]
  %rdcost.10 = phi double [ %rdcost.4, %if.end2980 ], [ %rdcost.9, %if.end3861.loopexit ]
  %best_cnt_nonz.12 = phi i32 [ %best_cnt_nonz.5, %if.end2980 ], [ %best_cnt_nonz.11, %if.end3861.loopexit ]
  %best_fw_ref.22 = phi i16 [ %best_fw_ref.13, %if.end2980 ], [ %best_fw_ref.21, %if.end3861.loopexit ]
  %cost8x8.3 = phi i32 [ 2147483647, %if.end2980 ], [ %add3572, %if.end3861.loopexit ]
  %cost_direct.14 = phi i32 [ %cost_direct.6, %if.end2980 ], [ %cost_direct.13, %if.end3861.loopexit ]
  %have_direct.12 = phi i32 [ %have_direct.5, %if.end2980 ], [ %have_direct.11, %if.end3861.loopexit ]
  %best_bw_ref.22 = phi i16 [ %best_bw_ref.13, %if.end2980 ], [ %best_bw_ref.21, %if.end3861.loopexit ]
  %798 = load %struct.CSobj** @cs_mb, align 8, !tbaa !0
  call void @reset_coding_state(%struct.CSobj* %798) #8
  %799 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %opix_x = getelementptr inbounds %struct.ImageParameters* %799, i64 0, i32 37
  %opix_y = getelementptr inbounds %struct.ImageParameters* %799, i64 0, i32 38
  %800 = load i16*** @imgY_org, align 8, !tbaa !0
  br label %for.cond3866.preheader

for.cond3866.preheader:                           ; preds = %for.inc3891, %if.end3861
  %indvars.iv8875 = phi i64 [ 0, %if.end3861 ], [ %indvars.iv.next8876, %for.inc3891 ]
  br label %for.body3869

for.body3869:                                     ; preds = %for.body3869, %for.cond3866.preheader
  %indvars.iv8871 = phi i64 [ 0, %for.cond3866.preheader ], [ %indvars.iv.next8872, %for.body3869 ]
  %801 = load i32* %opix_x, align 4, !tbaa !3
  %802 = trunc i64 %indvars.iv8875 to i32
  %add3870 = add nsw i32 %801, %802
  %idxprom3871 = sext i32 %add3870 to i64
  %803 = load i32* %opix_y, align 4, !tbaa !3
  %804 = trunc i64 %indvars.iv8871 to i32
  %add3872 = add nsw i32 %803, %804
  %idxprom3873 = sext i32 %add3872 to i64
  %arrayidx3874 = getelementptr inbounds i16** %800, i64 %idxprom3873
  %805 = load i16** %arrayidx3874, align 8, !tbaa !0
  %arrayidx3875 = getelementptr inbounds i16* %805, i64 %idxprom3871
  %806 = load i16* %arrayidx3875, align 2, !tbaa !4
  %conv3876 = zext i16 %806 to i32
  %arrayidx3881 = getelementptr inbounds %struct.ImageParameters* %799, i64 0, i32 45, i64 %indvars.iv8875, i64 %indvars.iv8871
  %807 = load i16* %arrayidx3881, align 2, !tbaa !4
  %conv3882 = zext i16 %807 to i32
  %sub3883 = sub nsw i32 %conv3876, %conv3882
  %arrayidx3887 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8871, i64 %indvars.iv8875
  store i32 %sub3883, i32* %arrayidx3887, align 4, !tbaa !3
  %indvars.iv.next8872 = add i64 %indvars.iv8871, 1
  %lftr.wideiv8873 = trunc i64 %indvars.iv.next8872 to i32
  %exitcond8874 = icmp eq i32 %lftr.wideiv8873, 16
  br i1 %exitcond8874, label %for.inc3891, label %for.body3869

for.inc3891:                                      ; preds = %for.body3869
  %indvars.iv.next8876 = add i64 %indvars.iv8875, 1
  %lftr.wideiv8877 = trunc i64 %indvars.iv.next8876 to i32
  %exitcond8878 = icmp eq i32 %lftr.wideiv8877, 16
  br i1 %exitcond8878, label %for.end3893, label %for.cond3866.preheader

for.end3893:                                      ; preds = %for.inc3891
  %808 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt3894 = getelementptr inbounds %struct.InputParameters* %808, i64 0, i32 85
  %809 = load i32* %rdopt3894, align 4, !tbaa !3
  %tobool3895 = icmp eq i32 %809, 0
  br i1 %tobool3895, label %land.lhs.true3896, label %if.end3930

land.lhs.true3896:                                ; preds = %for.end3893
  %cmp3897 = icmp slt i32 %cost8x8.3, %min_cost.2
  %810 = load i32* @cost8_8x8ts, align 4, !tbaa !3
  %cmp3900 = icmp slt i32 %810, %min_cost.2
  %or.cond8234 = or i1 %cmp3897, %cmp3900
  br i1 %or.cond8234, label %if.then3902, label %if.end3930

if.then3902:                                      ; preds = %land.lhs.true3896
  store i32 8, i32* @best_mode, align 4, !tbaa !3
  %AllowTransform8x83903 = getelementptr inbounds %struct.InputParameters* %808, i64 0, i32 123
  %811 = load i32* %AllowTransform8x83903, align 4, !tbaa !3
  %tobool3904 = icmp eq i32 %811, 0
  br i1 %tobool3904, label %if.else3925, label %if.then3905

if.then3905:                                      ; preds = %if.then3902
  %cmp3906 = icmp slt i32 %810, %cost8x8.3
  br i1 %cmp3906, label %if.then3908, label %if.else3910

if.then3908:                                      ; preds = %if.then3905
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end3930

if.else3910:                                      ; preds = %if.then3905
  %cmp3911 = icmp slt i32 %cost8x8.3, %810
  br i1 %cmp3911, label %if.then3913, label %if.else3915

if.then3913:                                      ; preds = %if.else3910
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end3930

if.else3915:                                      ; preds = %if.else3910
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %call3917 = call i32 @GetBestTransformP8x8() #10
  %cmp3918 = icmp eq i32 %call3917, 0
  br i1 %cmp3918, label %if.then3920, label %if.end3930

if.then3920:                                      ; preds = %if.else3915
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end3930

if.else3925:                                      ; preds = %if.then3902
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end3930

if.end3930:                                       ; preds = %if.else3915, %for.end2165, %land.lhs.true3896, %for.end3893, %if.then3908, %if.then3920, %if.then3913, %if.else3925
  %rdcost.11 = phi double [ %rdcost.10, %for.end3893 ], [ %rdcost.10, %if.then3908 ], [ %rdcost.10, %if.then3913 ], [ %rdcost.10, %if.then3920 ], [ %rdcost.10, %if.else3925 ], [ %rdcost.10, %land.lhs.true3896 ], [ %rdcost.08595, %for.end2165 ], [ %rdcost.10, %if.else3915 ]
  %best_cnt_nonz.13 = phi i32 [ %best_cnt_nonz.12, %for.end3893 ], [ %best_cnt_nonz.12, %if.then3908 ], [ %best_cnt_nonz.12, %if.then3913 ], [ %best_cnt_nonz.12, %if.then3920 ], [ %best_cnt_nonz.12, %if.else3925 ], [ %best_cnt_nonz.12, %land.lhs.true3896 ], [ %best_cnt_nonz.08596, %for.end2165 ], [ %best_cnt_nonz.12, %if.else3915 ]
  %best_fw_ref.23 = phi i16 [ %best_fw_ref.22, %for.end3893 ], [ %best_fw_ref.22, %if.then3908 ], [ %best_fw_ref.22, %if.then3913 ], [ %best_fw_ref.22, %if.then3920 ], [ %best_fw_ref.22, %if.else3925 ], [ %best_fw_ref.22, %land.lhs.true3896 ], [ %best_fw_ref.6, %for.end2165 ], [ %best_fw_ref.22, %if.else3915 ]
  %min_cost.3 = phi i32 [ %min_cost.2, %for.end3893 ], [ %810, %if.then3908 ], [ %cost8x8.3, %if.then3913 ], [ %cost8x8.3, %if.then3920 ], [ %cost8x8.3, %if.else3925 ], [ %min_cost.2, %land.lhs.true3896 ], [ %min_cost.2, %for.end2165 ], [ %810, %if.else3915 ]
  %cost_direct.15 = phi i32 [ %cost_direct.14, %for.end3893 ], [ %cost_direct.14, %if.then3908 ], [ %cost_direct.14, %if.then3913 ], [ %cost_direct.14, %if.then3920 ], [ %cost_direct.14, %if.else3925 ], [ %cost_direct.14, %land.lhs.true3896 ], [ %cost_direct.08598, %for.end2165 ], [ %cost_direct.14, %if.else3915 ]
  %have_direct.13 = phi i32 [ %have_direct.12, %for.end3893 ], [ %have_direct.12, %if.then3908 ], [ %have_direct.12, %if.then3913 ], [ %have_direct.12, %if.then3920 ], [ %have_direct.12, %if.else3925 ], [ %have_direct.12, %land.lhs.true3896 ], [ %have_direct.08599, %for.end2165 ], [ %have_direct.12, %if.else3915 ]
  %cost8x8_direct.8 = phi i32 [ %cost8x8_direct.79178, %for.end3893 ], [ %cost8x8_direct.79178, %if.then3908 ], [ %cost8x8_direct.79178, %if.then3913 ], [ %cost8x8_direct.79178, %if.then3920 ], [ %cost8x8_direct.79178, %if.else3925 ], [ %cost8x8_direct.79178, %land.lhs.true3896 ], [ %cost8x8_direct.08602, %for.end2165 ], [ %cost8x8_direct.79178, %if.else3915 ]
  %best_bw_ref.23 = phi i16 [ %best_bw_ref.22, %for.end3893 ], [ %best_bw_ref.22, %if.then3908 ], [ %best_bw_ref.22, %if.then3913 ], [ %best_bw_ref.22, %if.then3920 ], [ %best_bw_ref.22, %if.else3925 ], [ %best_bw_ref.22, %land.lhs.true3896 ], [ %best_bw_ref.6, %for.end2165 ], [ %best_bw_ref.22, %if.else3915 ]
  %812 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %type3931 = getelementptr inbounds %struct.ImageParameters* %812, i64 0, i32 6
  %813 = load i32* %type3931, align 4, !tbaa !3
  switch i32 %813, label %if.end3941 [
    i32 0, label %if.then3938
    i32 3, label %if.then3938
  ]

if.then3938:                                      ; preds = %if.end3930, %if.end3930
  call void (...)* @FindSkipModeMotionVector() #8
  br label %if.end3941

if.end3941:                                       ; preds = %if.end3930, %if.end537, %if.then3938
  %rdcost.12 = phi double [ %rdcost.11, %if.then3938 ], [ %rdcost.08595, %if.end537 ], [ %rdcost.11, %if.end3930 ]
  %best_cnt_nonz.14 = phi i32 [ %best_cnt_nonz.13, %if.then3938 ], [ %best_cnt_nonz.08596, %if.end537 ], [ %best_cnt_nonz.13, %if.end3930 ]
  %best_fw_ref.24 = phi i16 [ %best_fw_ref.23, %if.then3938 ], [ %best_fw_ref.08597, %if.end537 ], [ %best_fw_ref.23, %if.end3930 ]
  %min_cost.4 = phi i32 [ %min_cost.3, %if.then3938 ], [ 2147483647, %if.end537 ], [ %min_cost.3, %if.end3930 ]
  %cost_direct.16 = phi i32 [ %cost_direct.15, %if.then3938 ], [ %cost_direct.08598, %if.end537 ], [ %cost_direct.15, %if.end3930 ]
  %have_direct.14 = phi i32 [ %have_direct.13, %if.then3938 ], [ %have_direct.08599, %if.end537 ], [ %have_direct.13, %if.end3930 ]
  %best_transform_flag.3 = phi i32 [ %best_transform_flag.2, %if.then3938 ], [ %best_transform_flag.08601, %if.end537 ], [ %best_transform_flag.2, %if.end3930 ]
  %cost8x8_direct.9 = phi i32 [ %cost8x8_direct.8, %if.then3938 ], [ %cost8x8_direct.08602, %if.end537 ], [ %cost8x8_direct.8, %if.end3930 ]
  %best_bw_ref.24 = phi i16 [ %best_bw_ref.23, %if.then3938 ], [ %best_bw_ref.08603, %if.end537 ], [ %best_bw_ref.23, %if.end3930 ]
  %814 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt3942 = getelementptr inbounds %struct.InputParameters* %814, i64 0, i32 85
  %815 = load i32* %rdopt3942, align 4, !tbaa !3
  %tobool3943 = icmp eq i32 %815, 0
  br i1 %tobool3943, label %if.else4690, label %if.then3944

if.then3944:                                      ; preds = %if.end3941
  store double 1.000000e+30, double* %min_rdcost, align 8, !tbaa !6
  %816 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %yuv_format = getelementptr inbounds %struct.ImageParameters* %816, i64 0, i32 159
  %817 = load i32* %yuv_format, align 4, !tbaa !3
  %cmp3945 = icmp eq i32 %817, 0
  br i1 %cmp3945, label %if.else4365, label %if.then3947

if.then3947:                                      ; preds = %if.then3944
  call void @IntraChromaPrediction(i32* %mb_available_up, i32* %mb_available_left, i32* %mb_available_up_left) #8
  store i32 0, i32* %c_ipred_mode, align 4, !tbaa !3
  %.pre9082 = load %struct.InputParameters** @input, align 8, !tbaa !0
  br label %for.body3953

for.body3953:                                     ; preds = %for.inc4361.thread9189, %if.then3947, %for.inc4361
  %818 = phi %struct.InputParameters* [ %.pre9082, %if.then3947 ], [ %903, %for.inc4361 ], [ %818, %for.inc4361.thread9189 ]
  %.pr = phi i32 [ 0, %if.then3947 ], [ %inc4363, %for.inc4361 ], [ %.ph9188, %for.inc4361.thread9189 ]
  %ChromaIntraDisable = getelementptr inbounds %struct.InputParameters* %818, i64 0, i32 75
  %819 = load i32* %ChromaIntraDisable, align 4, !tbaa !3
  %cmp3954 = icmp ne i32 %819, 1
  %cmp3958 = icmp eq i32 %.pr, 0
  %or.cond8235 = or i1 %cmp3954, %cmp3958
  br i1 %or.cond8235, label %lor.lhs.false3960, label %for.inc4361

lor.lhs.false3960:                                ; preds = %for.body3953
  switch i32 %.pr, label %if.end3983 [
    i32 2, label %land.lhs.true3964
    i32 1, label %land.lhs.true3970
    i32 3, label %land.lhs.true3976
  ]

land.lhs.true3964:                                ; preds = %lor.lhs.false3960
  %820 = load i32* %mb_available_up, align 4, !tbaa !3
  %tobool3965 = icmp eq i32 %820, 0
  br i1 %tobool3965, label %for.inc4361.thread9189, label %if.end3983

land.lhs.true3970:                                ; preds = %lor.lhs.false3960
  %821 = load i32* %mb_available_left, align 4, !tbaa !3
  %tobool3971 = icmp eq i32 %821, 0
  br i1 %tobool3971, label %for.inc4361.thread9189, label %if.end3983

land.lhs.true3976:                                ; preds = %lor.lhs.false3960
  %822 = load i32* %mb_available_left, align 4, !tbaa !3
  %tobool3977 = icmp eq i32 %822, 0
  br i1 %tobool3977, label %for.inc4361.thread, label %lor.lhs.false3978

lor.lhs.false3978:                                ; preds = %land.lhs.true3976
  %823 = load i32* %mb_available_up, align 4, !tbaa !3
  %tobool3979 = icmp eq i32 %823, 0
  br i1 %tobool3979, label %for.inc4361.thread, label %lor.lhs.false3980

lor.lhs.false3980:                                ; preds = %lor.lhs.false3978
  %824 = load i32* %mb_available_up_left, align 4, !tbaa !3
  %tobool3981 = icmp eq i32 %824, 0
  br i1 %tobool3981, label %for.inc4361.thread, label %if.end3983

if.end3983:                                       ; preds = %lor.lhs.false3960, %land.lhs.true3964, %land.lhs.true3970, %lor.lhs.false3980
  %825 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %residue_transform_flag3984 = getelementptr inbounds %struct.ImageParameters* %825, i64 0, i32 164
  %826 = load i32* %residue_transform_flag3984, align 4, !tbaa !3
  %tobool3985 = icmp eq i32 %826, 0
  %.8236 = select i1 %tobool3985, i32 8, i32 11
  %BiPredMotionEstimation3989 = getelementptr inbounds %struct.InputParameters* %818, i64 0, i32 39
  %827 = load i32* %BiPredMotionEstimation3989, align 4, !tbaa !3
  %tobool3990 = icmp eq i32 %827, 0
  br i1 %tobool3990, label %for.body3998, label %if.then3991

if.then3991:                                      ; preds = %if.end3983
  %arrayidx3993 = getelementptr inbounds %struct.ImageParameters* %825, i64 0, i32 74, i64 1
  store i16 0, i16* %arrayidx3993, align 2, !tbaa !4
  br label %for.body3998

for.body3998:                                     ; preds = %if.then3991, %if.end3983, %for.inc4358.for.body3998_crit_edge
  %828 = phi i32 [ %.pre9122, %for.inc4358.for.body3998_crit_edge ], [ %826, %if.end3983 ], [ %826, %if.then3991 ]
  %829 = phi %struct.ImageParameters* [ %.pre9121, %for.inc4358.for.body3998_crit_edge ], [ %825, %if.end3983 ], [ %825, %if.then3991 ]
  %830 = phi %struct.InputParameters* [ %901, %for.inc4358.for.body3998_crit_edge ], [ %818, %if.end3983 ], [ %818, %if.then3991 ]
  %index.28546 = phi i32 [ %inc4359, %for.inc4358.for.body3998_crit_edge ], [ 0, %if.end3983 ], [ 0, %if.then3991 ]
  %ctr16x16.08545 = phi i32 [ %ctr16x16.3, %for.inc4358.for.body3998_crit_edge ], [ 0, %if.end3983 ], [ 0, %if.then3991 ]
  %idxprom3999 = sext i32 %index.28546 to i64
  %tobool4002 = icmp eq i32 %828, 0
  br i1 %tobool4002, label %if.else4034, label %if.then4003

if.then4003:                                      ; preds = %for.body3998
  %arrayidx4005 = getelementptr inbounds [11 x i32]* @encode_one_macroblock.mb_mode_table_RCT, i64 0, i64 %idxprom3999
  %831 = load i32* %arrayidx4005, align 4, !tbaa !3
  %832 = add i64 %idxprom3999, -5
  %cmp4006 = icmp ult i64 %832, 4
  br i1 %cmp4006, label %if.then4008, label %if.end4037

if.then4008:                                      ; preds = %if.then4003
  %sub4009 = add nsw i32 %index.28546, -5
  store i32 %sub4009, i32* %i16mode, align 4, !tbaa !3
  switch i32 %index.28546, label %if.end4037 [
    i32 5, label %land.lhs.true4016
    i32 6, label %land.lhs.true4021
    i32 8, label %land.lhs.true4026
  ]

land.lhs.true4016:                                ; preds = %if.then4008
  %833 = load i32* %mb_available_up, align 4, !tbaa !3
  %tobool4017 = icmp eq i32 %833, 0
  br i1 %tobool4017, label %for.inc4358, label %if.end4037

land.lhs.true4021:                                ; preds = %if.then4008
  %834 = load i32* %mb_available_left, align 4, !tbaa !3
  %tobool4022 = icmp eq i32 %834, 0
  br i1 %tobool4022, label %for.inc4358, label %if.end4037

land.lhs.true4026:                                ; preds = %if.then4008
  %835 = load i32* %mb_available_left, align 4, !tbaa !3
  %tobool4027 = icmp eq i32 %835, 0
  br i1 %tobool4027, label %for.inc4358, label %lor.lhs.false4028

lor.lhs.false4028:                                ; preds = %land.lhs.true4026
  %836 = load i32* %mb_available_up, align 4, !tbaa !3
  %tobool4029 = icmp eq i32 %836, 0
  br i1 %tobool4029, label %for.inc4358, label %lor.lhs.false4030

lor.lhs.false4030:                                ; preds = %lor.lhs.false4028
  %837 = load i32* %mb_available_up_left, align 4, !tbaa !3
  %tobool4031 = icmp eq i32 %837, 0
  br i1 %tobool4031, label %for.inc4358, label %if.end4037

if.else4034:                                      ; preds = %for.body3998
  %arrayidx4000 = getelementptr inbounds [8 x i32]* @encode_one_macroblock.mb_mode_table, i64 0, i64 %idxprom3999
  %838 = load i32* %arrayidx4000, align 4, !tbaa !3
  store i32 0, i32* %i16mode, align 4, !tbaa !3
  br label %if.end4037

if.end4037:                                       ; preds = %if.then4008, %land.lhs.true4016, %land.lhs.true4021, %if.then4003, %lor.lhs.false4030, %if.else4034
  %mode.2 = phi i32 [ %831, %lor.lhs.false4030 ], [ %838, %if.else4034 ], [ %831, %if.then4003 ], [ %831, %land.lhs.true4021 ], [ %831, %land.lhs.true4016 ], [ %831, %if.then4008 ]
  %cmp4038 = icmp eq i32 %mode.2, 1
  br i1 %cmp4038, label %land.lhs.true4040, label %if.end4074

land.lhs.true4040:                                ; preds = %if.end4037
  %type4041 = getelementptr inbounds %struct.ImageParameters* %829, i64 0, i32 6
  %839 = load i32* %type4041, align 4, !tbaa !3
  %cmp4042 = icmp eq i32 %839, 1
  br i1 %cmp4042, label %if.then4044, label %if.end4074

if.then4044:                                      ; preds = %land.lhs.true4040
  %conv4045 = trunc i32 %ctr16x16.08545 to i16
  store i16 %conv4045, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 3), align 2, !tbaa !4
  store i16 %conv4045, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 2), align 4, !tbaa !4
  store i16 %conv4045, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 1), align 2, !tbaa !4
  store i16 %conv4045, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 0), align 8, !tbaa !4
  %BiPredMotionEstimation4046 = getelementptr inbounds %struct.InputParameters* %830, i64 0, i32 39
  %840 = load i32* %BiPredMotionEstimation4046, align 4, !tbaa !3
  %tobool4047 = icmp ne i32 %840, 0
  %cmp4053 = icmp eq i32 %ctr16x16.08545, 2
  %or.cond9193 = and i1 %tobool4047, %cmp4053
  br i1 %or.cond9193, label %land.lhs.true4055, label %if.end4067

land.lhs.true4055:                                ; preds = %if.then4044
  %arrayidx4058 = getelementptr inbounds %struct.ImageParameters* %829, i64 0, i32 74, i64 1
  %841 = load i16* %arrayidx4058, align 2, !tbaa !4
  %cmp4060 = icmp slt i16 %841, 2
  %. = select i1 %cmp4060, i32 1, i32 2
  br label %if.end4067

if.end4067:                                       ; preds = %land.lhs.true4055, %if.then4044
  %ctr16x16.1 = phi i32 [ %ctr16x16.08545, %if.then4044 ], [ %., %land.lhs.true4055 ]
  %cmp4068 = icmp slt i32 %ctr16x16.1, 2
  %dec4071 = sext i1 %cmp4068 to i32
  %dec4071.index.2 = add nsw i32 %dec4071, %index.28546
  %inc4073 = add nsw i32 %ctr16x16.1, 1
  br label %if.end4074

if.end4074:                                       ; preds = %if.end4067, %land.lhs.true4040, %if.end4037
  %ctr16x16.2 = phi i32 [ %inc4073, %if.end4067 ], [ %ctr16x16.08545, %land.lhs.true4040 ], [ %ctr16x16.08545, %if.end4037 ]
  %index.4 = phi i32 [ %dec4071.index.2, %if.end4067 ], [ %index.28546, %land.lhs.true4040 ], [ %index.28546, %if.end4037 ]
  %NoResidueDirect = getelementptr inbounds %struct.ImageParameters* %829, i64 0, i32 88
  store i32 0, i32* %NoResidueDirect, align 4, !tbaa !3
  %SkipIntraInInterSlices = getelementptr inbounds %struct.InputParameters* %830, i64 0, i32 53
  %842 = load i32* %SkipIntraInInterSlices, align 4, !tbaa !3
  %tobool4075 = icmp eq i32 %842, 0
  br i1 %tobool4075, label %if.end4093, label %land.lhs.true4076

land.lhs.true4076:                                ; preds = %if.end4074
  %type4077 = getelementptr inbounds %struct.ImageParameters* %829, i64 0, i32 6
  %843 = load i32* %type4077, align 4, !tbaa !3
  %cmp4078 = icmp eq i32 %843, 2
  br i1 %cmp4078, label %if.end4093, label %if.then4080

if.then4080:                                      ; preds = %land.lhs.true4076
  %cmp4081 = icmp sgt i32 %mode.2, 9
  %844 = load i32* @best_mode, align 4, !tbaa !3
  %cmp4084 = icmp eq i32 %844, 0
  %or.cond = and i1 %cmp4081, %cmp4084
  br i1 %or.cond, label %land.lhs.true4086, label %if.end4093

land.lhs.true4086:                                ; preds = %if.then4080
  %845 = load i32* %cbp5202, align 4, !tbaa !3
  %cmp4087 = icmp eq i32 %845, 0
  br i1 %cmp4087, label %if.then4089, label %if.end4093

if.then4089:                                      ; preds = %land.lhs.true4086
  %idxprom4090 = sext i32 %mode.2 to i64
  %arrayidx4091 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 %idxprom4090
  store i32 0, i32* %arrayidx4091, align 4, !tbaa !3
  br label %if.end4093

if.end4093:                                       ; preds = %land.lhs.true4086, %if.then4080, %land.lhs.true4076, %if.end4074, %if.then4089
  %idxprom4094 = sext i32 %mode.2 to i64
  %arrayidx4095 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 %idxprom4094
  %846 = load i32* %arrayidx4095, align 4, !tbaa !3
  %tobool4096 = icmp eq i32 %846, 0
  br i1 %tobool4096, label %if.end4322, label %if.then4097

if.then4097:                                      ; preds = %if.end4093
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %AllowTransform8x84099 = getelementptr inbounds %struct.InputParameters* %830, i64 0, i32 123
  %847 = load i32* %AllowTransform8x84099, align 4, !tbaa !3
  %cmp4100 = icmp eq i32 %847, 2
  br i1 %cmp4100, label %if.then4102, label %if.end4131

if.then4102:                                      ; preds = %if.then4097
  %mode.2.off8148 = add i32 %mode.2, -1
  %848 = icmp ult i32 %mode.2.off8148, 3
  br i1 %848, label %if.then4108, label %if.else4110

if.then4108:                                      ; preds = %if.then4102
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4131

if.else4110:                                      ; preds = %if.then4102
  %cmp4111.not = icmp ne i32 %mode.2, 0
  %brmerge8239 = or i1 %cmp4111.not, %cmp15.not8265
  br i1 %brmerge8239, label %if.else4120, label %land.lhs.true4115

land.lhs.true4115:                                ; preds = %if.else4110
  %849 = load %struct.seq_parameter_set_rbsp_t** @active_sps, align 8, !tbaa !0
  %direct_8x8_inference_flag4116 = getelementptr inbounds %struct.seq_parameter_set_rbsp_t* %849, i64 0, i32 27
  %850 = load i32* %direct_8x8_inference_flag4116, align 4, !tbaa !1
  %tobool4117 = icmp eq i32 %850, 0
  br i1 %tobool4117, label %if.else4120, label %if.then4118

if.then4118:                                      ; preds = %land.lhs.true4115
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4131

if.else4120:                                      ; preds = %if.else4110, %land.lhs.true4115
  %cmp4121 = icmp eq i32 %mode.2, 8
  br i1 %cmp4121, label %land.lhs.true4123, label %if.end4131

land.lhs.true4123:                                ; preds = %if.else4120
  %851 = load i32* %arrayidx108827782808285, align 16, !tbaa !3
  %tobool4125 = icmp eq i32 %851, 0
  br i1 %tobool4125, label %if.end4131, label %if.then4126

if.then4126:                                      ; preds = %land.lhs.true4123
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4131

if.end4131:                                       ; preds = %land.lhs.true4123, %if.then4108, %if.else4120, %if.then4126, %if.then4118, %if.then4097
  call void @SetModesAndRefframeForBlocks(i32 %mode.2) #10
  %852 = load i32* %c_ipred_mode, align 4, !tbaa !3
  %cmp4133 = icmp eq i32 %852, 0
  br i1 %cmp4133, label %while.body.preheader, label %lor.lhs.false4135

lor.lhs.false4135:                                ; preds = %if.end4131
  %853 = load i32* %mb_type4962, align 4, !tbaa !3
  switch i32 %853, label %if.end4265 [
    i32 9, label %while.body.preheader
    i32 10, label %while.body.preheader
    i32 13, label %while.body.preheader
  ]

while.body.preheader:                             ; preds = %if.end4131, %lor.lhs.false4135, %lor.lhs.false4135, %lor.lhs.false4135
  %mode.2.off = add i32 %mode.2, -1
  %854 = icmp ult i32 %mode.2.off, 3
  %cmp4237.not = icmp ne i32 %mode.2, 0
  %brmerge8241 = or i1 %cmp4237.not, %cmp15.not8265
  %cmp4251 = icmp eq i32 %mode.2, 8
  br label %while.body

while.body:                                       ; preds = %if.then4234, %if.then4248, %if.then4260, %while.body.preheader
  %855 = load i32* %i16mode, align 4, !tbaa !3
  %call4147 = call i32 @RDCost_for_macroblocks(double %lambda_mode.4, i32 %mode.2, double* %min_rdcost, i32 %855) #10
  %tobool4148 = icmp eq i32 %call4147, 0
  br i1 %tobool4148, label %if.end4220, label %if.then4149

if.then4149:                                      ; preds = %while.body
  %856 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %opix_x4161 = getelementptr inbounds %struct.ImageParameters* %856, i64 0, i32 37
  %opix_y4164 = getelementptr inbounds %struct.ImageParameters* %856, i64 0, i32 38
  %857 = load i16*** @imgY_org, align 8, !tbaa !0
  br i1 %cmp4251, label %for.cond4157.preheader, label %for.cond4191.preheader

for.cond4157.preheader:                           ; preds = %if.then4149, %for.inc4183
  %indvars.iv8891 = phi i64 [ %indvars.iv.next8892, %for.inc4183 ], [ 0, %if.then4149 ]
  br label %for.body4160

for.body4160:                                     ; preds = %for.body4160, %for.cond4157.preheader
  %indvars.iv8887 = phi i64 [ 0, %for.cond4157.preheader ], [ %indvars.iv.next8888, %for.body4160 ]
  %858 = load i32* %opix_x4161, align 4, !tbaa !3
  %859 = trunc i64 %indvars.iv8891 to i32
  %add4162 = add nsw i32 %858, %859
  %idxprom4163 = sext i32 %add4162 to i64
  %860 = load i32* %opix_y4164, align 4, !tbaa !3
  %861 = trunc i64 %indvars.iv8887 to i32
  %add4165 = add nsw i32 %860, %861
  %idxprom4166 = sext i32 %add4165 to i64
  %arrayidx4167 = getelementptr inbounds i16** %857, i64 %idxprom4166
  %862 = load i16** %arrayidx4167, align 8, !tbaa !0
  %arrayidx4168 = getelementptr inbounds i16* %862, i64 %idxprom4163
  %863 = load i16* %arrayidx4168, align 2, !tbaa !4
  %conv4169 = zext i16 %863 to i32
  %arrayidx4173 = getelementptr inbounds [16 x [16 x i16]]* @mpr8x8, i64 0, i64 %indvars.iv8887, i64 %indvars.iv8891
  %864 = load i16* %arrayidx4173, align 2, !tbaa !4
  %conv4174 = zext i16 %864 to i32
  %sub4175 = sub nsw i32 %conv4169, %conv4174
  %arrayidx4179 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8887, i64 %indvars.iv8891
  store i32 %sub4175, i32* %arrayidx4179, align 4, !tbaa !3
  %indvars.iv.next8888 = add i64 %indvars.iv8887, 1
  %lftr.wideiv8889 = trunc i64 %indvars.iv.next8888 to i32
  %exitcond8890 = icmp eq i32 %lftr.wideiv8889, 16
  br i1 %exitcond8890, label %for.inc4183, label %for.body4160

for.inc4183:                                      ; preds = %for.body4160
  %indvars.iv.next8892 = add i64 %indvars.iv8891, 1
  %lftr.wideiv8893 = trunc i64 %indvars.iv.next8892 to i32
  %exitcond8894 = icmp eq i32 %lftr.wideiv8893, 16
  br i1 %exitcond8894, label %if.end4219, label %for.cond4157.preheader

for.cond4191.preheader:                           ; preds = %if.then4149, %for.inc4216
  %indvars.iv8883 = phi i64 [ %indvars.iv.next8884, %for.inc4216 ], [ 0, %if.then4149 ]
  br label %for.body4194

for.body4194:                                     ; preds = %for.body4194, %for.cond4191.preheader
  %indvars.iv8879 = phi i64 [ 0, %for.cond4191.preheader ], [ %indvars.iv.next8880, %for.body4194 ]
  %865 = load i32* %opix_x4161, align 4, !tbaa !3
  %866 = trunc i64 %indvars.iv8883 to i32
  %add4196 = add nsw i32 %865, %866
  %idxprom4197 = sext i32 %add4196 to i64
  %867 = load i32* %opix_y4164, align 4, !tbaa !3
  %868 = trunc i64 %indvars.iv8879 to i32
  %add4199 = add nsw i32 %867, %868
  %idxprom4200 = sext i32 %add4199 to i64
  %arrayidx4201 = getelementptr inbounds i16** %857, i64 %idxprom4200
  %869 = load i16** %arrayidx4201, align 8, !tbaa !0
  %arrayidx4202 = getelementptr inbounds i16* %869, i64 %idxprom4197
  %870 = load i16* %arrayidx4202, align 2, !tbaa !4
  %conv4203 = zext i16 %870 to i32
  %arrayidx4207 = getelementptr inbounds [16 x [16 x i32]]* @pred, i64 0, i64 %indvars.iv8879, i64 %indvars.iv8883
  %871 = load i32* %arrayidx4207, align 4, !tbaa !3
  %sub4208 = sub nsw i32 %conv4203, %871
  %arrayidx4212 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8879, i64 %indvars.iv8883
  store i32 %sub4208, i32* %arrayidx4212, align 4, !tbaa !3
  %indvars.iv.next8880 = add i64 %indvars.iv8879, 1
  %lftr.wideiv8881 = trunc i64 %indvars.iv.next8880 to i32
  %exitcond8882 = icmp eq i32 %lftr.wideiv8881, 16
  br i1 %exitcond8882, label %for.inc4216, label %for.body4194

for.inc4216:                                      ; preds = %for.body4194
  %indvars.iv.next8884 = add i64 %indvars.iv8883, 1
  %lftr.wideiv8885 = trunc i64 %indvars.iv.next8884 to i32
  %exitcond8886 = icmp eq i32 %lftr.wideiv8885, 16
  br i1 %exitcond8886, label %if.end4219, label %for.cond4191.preheader

if.end4219:                                       ; preds = %for.inc4183, %for.inc4216
  call void @store_macroblock_parameters(i32 %mode.2) #10
  br label %if.end4220

if.end4220:                                       ; preds = %while.body, %if.end4219
  %872 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x84221 = getelementptr inbounds %struct.InputParameters* %872, i64 0, i32 123
  %873 = load i32* %AllowTransform8x84221, align 4, !tbaa !3
  %cmp4222 = icmp eq i32 %873, 1
  br i1 %cmp4222, label %if.then4224, label %if.end4265

if.then4224:                                      ; preds = %if.end4220
  br i1 %854, label %land.lhs.true4230, label %if.else4236

land.lhs.true4230:                                ; preds = %if.then4224
  %874 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %cmp4232 = icmp eq i32 %874, 0
  br i1 %cmp4232, label %if.then4234, label %if.else4262

if.then4234:                                      ; preds = %land.lhs.true4230
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %while.body

if.else4236:                                      ; preds = %if.then4224
  br i1 %brmerge8241, label %if.else4250, label %land.lhs.true4241

land.lhs.true4241:                                ; preds = %if.else4236
  %875 = load %struct.seq_parameter_set_rbsp_t** @active_sps, align 8, !tbaa !0
  %direct_8x8_inference_flag4242 = getelementptr inbounds %struct.seq_parameter_set_rbsp_t* %875, i64 0, i32 27
  %876 = load i32* %direct_8x8_inference_flag4242, align 4, !tbaa !1
  %tobool4243 = icmp eq i32 %876, 0
  br i1 %tobool4243, label %if.else4250, label %land.lhs.true4244

land.lhs.true4244:                                ; preds = %land.lhs.true4241
  %877 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %cmp4246 = icmp eq i32 %877, 0
  br i1 %cmp4246, label %if.then4248, label %if.else4250

if.then4248:                                      ; preds = %land.lhs.true4244
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %while.body

if.else4250:                                      ; preds = %if.else4236, %land.lhs.true4241, %land.lhs.true4244
  br i1 %cmp4251, label %land.lhs.true4253, label %if.else4262

land.lhs.true4253:                                ; preds = %if.else4250
  %878 = load i32* %arrayidx108827782808285, align 16, !tbaa !3
  %tobool4255 = icmp eq i32 %878, 0
  br i1 %tobool4255, label %if.else4262, label %land.lhs.true4256

land.lhs.true4256:                                ; preds = %land.lhs.true4253
  %879 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %cmp4258 = icmp eq i32 %879, 0
  br i1 %cmp4258, label %if.then4260, label %if.else4262

if.then4260:                                      ; preds = %land.lhs.true4256
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %while.body

if.else4262:                                      ; preds = %land.lhs.true4230, %land.lhs.true4253, %land.lhs.true4256, %if.else4250
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4265

if.end4265:                                       ; preds = %if.end4220, %lor.lhs.false4135, %if.else4262
  %880 = load i32* %arrayidx84, align 16, !tbaa !3
  %tobool4267.not = icmp ne i32 %880, 0
  %brmerge8243.not = and i1 %cmp15, %tobool4267.not
  %cmp4271 = icmp eq i32 %mode.2, 0
  %or.cond8244 = and i1 %brmerge8243.not, %cmp4271
  br i1 %or.cond8244, label %land.lhs.true4273, label %if.end4322

land.lhs.true4273:                                ; preds = %if.end4265
  %881 = load i32* %cbp5202, align 4, !tbaa !3
  %tobool4275 = icmp eq i32 %881, 0
  %and4278 = and i32 %881, 15
  %cmp4279 = icmp eq i32 %and4278, 15
  %or.cond8246 = or i1 %tobool4275, %cmp4279
  br i1 %or.cond8246, label %if.end4322, label %land.lhs.true4281

land.lhs.true4281:                                ; preds = %land.lhs.true4273
  %882 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %nobskip = getelementptr inbounds %struct.InputParameters* %882, i64 0, i32 87
  %883 = load i32* %nobskip, align 4, !tbaa !3
  %tobool4282 = icmp eq i32 %883, 0
  br i1 %tobool4282, label %if.then4283, label %if.end4322

if.then4283:                                      ; preds = %land.lhs.true4281
  %884 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %NoResidueDirect4284 = getelementptr inbounds %struct.ImageParameters* %884, i64 0, i32 88
  store i32 1, i32* %NoResidueDirect4284, align 4, !tbaa !3
  %885 = load i32* %i16mode, align 4, !tbaa !3
  %call4285 = call i32 @RDCost_for_macroblocks(double %lambda_mode.4, i32 0, double* %min_rdcost, i32 %885) #10
  %tobool4286 = icmp eq i32 %call4285, 0
  br i1 %tobool4286, label %if.end4322, label %for.cond4288.preheader

for.cond4288.preheader:                           ; preds = %if.then4283
  %886 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %opix_x4296 = getelementptr inbounds %struct.ImageParameters* %886, i64 0, i32 37
  %opix_y4299 = getelementptr inbounds %struct.ImageParameters* %886, i64 0, i32 38
  %887 = load i16*** @imgY_org, align 8, !tbaa !0
  br label %for.cond4292.preheader

for.cond4292.preheader:                           ; preds = %for.inc4317, %for.cond4288.preheader
  %indvars.iv8899 = phi i64 [ 0, %for.cond4288.preheader ], [ %indvars.iv.next8900, %for.inc4317 ]
  br label %for.body4295

for.body4295:                                     ; preds = %for.body4295, %for.cond4292.preheader
  %indvars.iv8895 = phi i64 [ 0, %for.cond4292.preheader ], [ %indvars.iv.next8896, %for.body4295 ]
  %888 = load i32* %opix_x4296, align 4, !tbaa !3
  %889 = trunc i64 %indvars.iv8899 to i32
  %add4297 = add nsw i32 %888, %889
  %idxprom4298 = sext i32 %add4297 to i64
  %890 = load i32* %opix_y4299, align 4, !tbaa !3
  %891 = trunc i64 %indvars.iv8895 to i32
  %add4300 = add nsw i32 %890, %891
  %idxprom4301 = sext i32 %add4300 to i64
  %arrayidx4302 = getelementptr inbounds i16** %887, i64 %idxprom4301
  %892 = load i16** %arrayidx4302, align 8, !tbaa !0
  %arrayidx4303 = getelementptr inbounds i16* %892, i64 %idxprom4298
  %893 = load i16* %arrayidx4303, align 2, !tbaa !4
  %conv4304 = zext i16 %893 to i32
  %arrayidx4308 = getelementptr inbounds [16 x [16 x i32]]* @pred, i64 0, i64 %indvars.iv8895, i64 %indvars.iv8899
  %894 = load i32* %arrayidx4308, align 4, !tbaa !3
  %sub4309 = sub nsw i32 %conv4304, %894
  %arrayidx4313 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8895, i64 %indvars.iv8899
  store i32 %sub4309, i32* %arrayidx4313, align 4, !tbaa !3
  %indvars.iv.next8896 = add i64 %indvars.iv8895, 1
  %lftr.wideiv8897 = trunc i64 %indvars.iv.next8896 to i32
  %exitcond8898 = icmp eq i32 %lftr.wideiv8897, 16
  br i1 %exitcond8898, label %for.inc4317, label %for.body4295

for.inc4317:                                      ; preds = %for.body4295
  %indvars.iv.next8900 = add i64 %indvars.iv8899, 1
  %lftr.wideiv8901 = trunc i64 %indvars.iv.next8900 to i32
  %exitcond8902 = icmp eq i32 %lftr.wideiv8901, 16
  br i1 %exitcond8902, label %for.end4319, label %for.cond4292.preheader

for.end4319:                                      ; preds = %for.inc4317
  call void @store_macroblock_parameters(i32 0) #10
  br label %if.end4322

if.end4322:                                       ; preds = %if.then4283, %land.lhs.true4273, %if.end4265, %land.lhs.true4281, %if.end4093, %for.end4319
  %895 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %BiPredMotionEstimation4323 = getelementptr inbounds %struct.InputParameters* %895, i64 0, i32 39
  %896 = load i32* %BiPredMotionEstimation4323, align 4, !tbaa !3
  %tobool4324 = icmp eq i32 %896, 0
  br i1 %tobool4324, label %for.inc4358, label %land.lhs.true4325

land.lhs.true4325:                                ; preds = %if.end4322
  %897 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %type4326 = getelementptr inbounds %struct.ImageParameters* %897, i64 0, i32 6
  %898 = load i32* %type4326, align 4, !tbaa !3
  %cmp4327 = icmp eq i32 %898, 1
  %cmp4330 = icmp eq i32 %ctr16x16.2, 2
  %or.cond8247 = and i1 %cmp4327, %cmp4330
  br i1 %or.cond8247, label %land.lhs.true4332, label %for.inc4358

land.lhs.true4332:                                ; preds = %land.lhs.true4325
  %arrayidx4335 = getelementptr inbounds %struct.ImageParameters* %897, i64 0, i32 74, i64 %idxprom4094
  %899 = load i16* %arrayidx4335, align 2, !tbaa !4
  %cmp4337.not.not = icmp slt i16 %899, 2
  %brmerge8248.not = and i1 %cmp4038, %cmp4337.not.not
  %900 = load i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 0), align 8, !tbaa !4
  %cmp4344 = icmp eq i16 %900, 2
  %or.cond8250 = and i1 %brmerge8248.not, %cmp4344
  br i1 %or.cond8250, label %if.then4346, label %for.inc4358

if.then4346:                                      ; preds = %land.lhs.true4332
  %add4351 = add i16 %899, 1
  store i16 %add4351, i16* %arrayidx4335, align 2, !tbaa !4
  br label %for.inc4358

for.inc4358:                                      ; preds = %land.lhs.true4332, %land.lhs.true4016, %land.lhs.true4021, %lor.lhs.false4030, %lor.lhs.false4028, %land.lhs.true4026, %if.end4322, %land.lhs.true4325, %if.then4346
  %901 = phi %struct.InputParameters* [ %895, %if.then4346 ], [ %895, %land.lhs.true4332 ], [ %895, %land.lhs.true4325 ], [ %895, %if.end4322 ], [ %830, %lor.lhs.false4030 ], [ %830, %lor.lhs.false4028 ], [ %830, %land.lhs.true4026 ], [ %830, %land.lhs.true4021 ], [ %830, %land.lhs.true4016 ]
  %ctr16x16.3 = phi i32 [ 2, %if.then4346 ], [ 2, %land.lhs.true4332 ], [ %ctr16x16.2, %land.lhs.true4325 ], [ %ctr16x16.2, %if.end4322 ], [ %ctr16x16.08545, %lor.lhs.false4030 ], [ %ctr16x16.08545, %lor.lhs.false4028 ], [ %ctr16x16.08545, %land.lhs.true4026 ], [ %ctr16x16.08545, %land.lhs.true4021 ], [ %ctr16x16.08545, %land.lhs.true4016 ]
  %index.5 = phi i32 [ %index.4, %if.then4346 ], [ %index.4, %land.lhs.true4332 ], [ %index.4, %land.lhs.true4325 ], [ %index.4, %if.end4322 ], [ %index.28546, %lor.lhs.false4030 ], [ %index.28546, %lor.lhs.false4028 ], [ %index.28546, %land.lhs.true4026 ], [ %index.28546, %land.lhs.true4021 ], [ %index.28546, %land.lhs.true4016 ]
  %inc4359 = add nsw i32 %index.5, 1
  %cmp3996 = icmp slt i32 %inc4359, %.8236
  br i1 %cmp3996, label %for.inc4358.for.body3998_crit_edge, label %for.inc4361.loopexit

for.inc4358.for.body3998_crit_edge:               ; preds = %for.inc4358
  %.pre9121 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %residue_transform_flag4001.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %.pre9121, i64 0, i32 164
  %.pre9122 = load i32* %residue_transform_flag4001.phi.trans.insert, align 4, !tbaa !3
  br label %for.body3998

for.inc4361.loopexit:                             ; preds = %for.inc4358
  %.pre9083 = load i32* %c_ipred_mode, align 4, !tbaa !3
  br label %for.inc4361

for.inc4361.thread:                               ; preds = %lor.lhs.false3980, %lor.lhs.false3978, %land.lhs.true3976
  store i32 4, i32* %c_ipred_mode, align 4, !tbaa !3
  br label %if.end5558

for.inc4361.thread9189:                           ; preds = %land.lhs.true3964, %land.lhs.true3970
  %.ph9188 = phi i32 [ 3, %land.lhs.true3964 ], [ 2, %land.lhs.true3970 ]
  store i32 %.ph9188, i32* %c_ipred_mode, align 4, !tbaa !3
  br label %for.body3953

for.inc4361:                                      ; preds = %for.inc4361.loopexit, %for.body3953
  %902 = phi i32 [ %.pre9083, %for.inc4361.loopexit ], [ %.pr, %for.body3953 ]
  %903 = phi %struct.InputParameters* [ %901, %for.inc4361.loopexit ], [ %818, %for.body3953 ]
  %inc4363 = add nsw i32 %902, 1
  store i32 %inc4363, i32* %c_ipred_mode, align 4, !tbaa !3
  %cmp3951 = icmp slt i32 %inc4363, 4
  br i1 %cmp3951, label %for.body3953, label %if.end5558

if.else4365:                                      ; preds = %if.then3944
  %BiPredMotionEstimation4366 = getelementptr inbounds %struct.InputParameters* %814, i64 0, i32 39
  %904 = load i32* %BiPredMotionEstimation4366, align 4, !tbaa !3
  %tobool4367 = icmp eq i32 %904, 0
  br i1 %tobool4367, label %for.body4375, label %if.then4368

if.then4368:                                      ; preds = %if.else4365
  %arrayidx4370 = getelementptr inbounds %struct.ImageParameters* %816, i64 0, i32 74, i64 1
  store i16 0, i16* %arrayidx4370, align 2, !tbaa !4
  br label %for.body4375

for.body4375:                                     ; preds = %if.then4368, %if.else4365, %for.inc4686
  %905 = phi i32 [ %959, %for.inc4686 ], [ 0, %if.else4365 ], [ %904, %if.then4368 ]
  %906 = phi %struct.InputParameters* [ %958, %for.inc4686 ], [ %814, %if.else4365 ], [ %814, %if.then4368 ]
  %index.68557 = phi i32 [ %inc4687, %for.inc4686 ], [ 0, %if.else4365 ], [ 0, %if.then4368 ]
  %ctr16x16.48556 = phi i32 [ %ctr16x16.6, %for.inc4686 ], [ 0, %if.else4365 ], [ 0, %if.then4368 ]
  %idxprom4376 = sext i32 %index.68557 to i64
  %arrayidx4377 = getelementptr inbounds [8 x i32]* @encode_one_macroblock.mb_mode_table, i64 0, i64 %idxprom4376
  %907 = load i32* %arrayidx4377, align 4, !tbaa !3
  %cmp4378 = icmp eq i32 %index.68557, 1
  %908 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br i1 %cmp4378, label %land.lhs.true4380, label %if.end4415

land.lhs.true4380:                                ; preds = %for.body4375
  %type4381 = getelementptr inbounds %struct.ImageParameters* %908, i64 0, i32 6
  %909 = load i32* %type4381, align 4, !tbaa !3
  %cmp4382 = icmp eq i32 %909, 1
  br i1 %cmp4382, label %if.then4384, label %if.end4415

if.then4384:                                      ; preds = %land.lhs.true4380
  %conv4385 = trunc i32 %ctr16x16.48556 to i16
  store i16 %conv4385, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 3), align 2, !tbaa !4
  store i16 %conv4385, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 2), align 4, !tbaa !4
  store i16 %conv4385, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 1), align 2, !tbaa !4
  store i16 %conv4385, i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 0), align 8, !tbaa !4
  %tobool4387 = icmp ne i32 %905, 0
  %cmp4393 = icmp eq i32 %ctr16x16.48556, 2
  %or.cond9194 = and i1 %tobool4387, %cmp4393
  br i1 %or.cond9194, label %land.lhs.true4395, label %if.end4408

land.lhs.true4395:                                ; preds = %if.then4384
  %idxprom4396 = sext i32 %907 to i64
  %arrayidx4398 = getelementptr inbounds %struct.ImageParameters* %908, i64 0, i32 74, i64 %idxprom4396
  %910 = load i16* %arrayidx4398, align 2, !tbaa !4
  %cmp4400 = icmp slt i16 %910, 2
  %.9195 = select i1 %cmp4400, i32 1, i32 2
  br label %if.end4408

if.end4408:                                       ; preds = %land.lhs.true4395, %if.then4384
  %ctr16x16.5 = phi i32 [ %ctr16x16.48556, %if.then4384 ], [ %.9195, %land.lhs.true4395 ]
  %cmp4409 = icmp slt i32 %ctr16x16.5, 2
  %dec4412 = sext i1 %cmp4409 to i32
  %dec4412.index.6 = add nsw i32 %dec4412, 1
  %inc4414 = add nsw i32 %ctr16x16.5, 1
  br label %if.end4415

if.end4415:                                       ; preds = %for.body4375, %if.end4408, %land.lhs.true4380
  %ctr16x16.6 = phi i32 [ %inc4414, %if.end4408 ], [ %ctr16x16.48556, %land.lhs.true4380 ], [ %ctr16x16.48556, %for.body4375 ]
  %index.8 = phi i32 [ %dec4412.index.6, %if.end4408 ], [ 1, %land.lhs.true4380 ], [ %index.68557, %for.body4375 ]
  %NoResidueDirect4416 = getelementptr inbounds %struct.ImageParameters* %908, i64 0, i32 88
  store i32 0, i32* %NoResidueDirect4416, align 4, !tbaa !3
  %idxprom4417 = sext i32 %907 to i64
  %arrayidx4418 = getelementptr inbounds [15 x i32]* %valid, i64 0, i64 %idxprom4417
  %911 = load i32* %arrayidx4418, align 4, !tbaa !3
  %tobool4419 = icmp eq i32 %911, 0
  br i1 %tobool4419, label %if.end4650, label %if.then4420

if.then4420:                                      ; preds = %if.end4415
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %AllowTransform8x84422 = getelementptr inbounds %struct.InputParameters* %906, i64 0, i32 123
  %912 = load i32* %AllowTransform8x84422, align 4, !tbaa !3
  %cmp4423 = icmp eq i32 %912, 2
  br i1 %cmp4423, label %if.then4425, label %if.end4454

if.then4425:                                      ; preds = %if.then4420
  %cmp4426 = icmp ne i32 %index.68557, 0
  %cmp4429 = icmp ult i32 %index.68557, 4
  %or.cond6332 = and i1 %cmp4426, %cmp4429
  br i1 %or.cond6332, label %if.then4431, label %if.else4433

if.then4431:                                      ; preds = %if.then4425
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4454

if.else4433:                                      ; preds = %if.then4425
  %brmerge8253 = or i1 %cmp4426, %cmp15.not8265
  br i1 %brmerge8253, label %if.else4443, label %land.lhs.true4438

land.lhs.true4438:                                ; preds = %if.else4433
  %913 = load %struct.seq_parameter_set_rbsp_t** @active_sps, align 8, !tbaa !0
  %direct_8x8_inference_flag4439 = getelementptr inbounds %struct.seq_parameter_set_rbsp_t* %913, i64 0, i32 27
  %914 = load i32* %direct_8x8_inference_flag4439, align 4, !tbaa !1
  %tobool4440 = icmp eq i32 %914, 0
  br i1 %tobool4440, label %if.else4443, label %if.then4441

if.then4441:                                      ; preds = %land.lhs.true4438
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4454

if.else4443:                                      ; preds = %if.else4433, %land.lhs.true4438
  %cmp4444 = icmp eq i32 %index.68557, 4
  br i1 %cmp4444, label %land.lhs.true4446, label %if.end4454

land.lhs.true4446:                                ; preds = %if.else4443
  %915 = load i32* %arrayidx108827782808285, align 16, !tbaa !3
  %tobool4448 = icmp eq i32 %915, 0
  br i1 %tobool4448, label %if.end4454, label %if.then4449

if.then4449:                                      ; preds = %land.lhs.true4446
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4454

if.end4454:                                       ; preds = %land.lhs.true4446, %if.then4431, %if.else4443, %if.then4449, %if.then4441, %if.then4420
  call void @SetModesAndRefframeForBlocks(i32 %907) #10
  %916 = load i32* %c_ipred_mode, align 4, !tbaa !3
  %cmp4456 = icmp eq i32 %916, 0
  br i1 %cmp4456, label %while.body4472.preheader, label %lor.lhs.false4458

lor.lhs.false4458:                                ; preds = %if.end4454
  %917 = load i32* %mb_type4962, align 4, !tbaa !3
  switch i32 %917, label %if.end4592 [
    i32 9, label %while.body4472.preheader
    i32 10, label %while.body4472.preheader
    i32 13, label %while.body4472.preheader
  ]

while.body4472.preheader:                         ; preds = %if.end4454, %lor.lhs.false4458, %lor.lhs.false4458, %lor.lhs.false4458
  %cmp4551 = icmp ne i32 %index.68557, 0
  %cmp4554 = icmp ult i32 %index.68557, 4
  %or.cond6333 = and i1 %cmp4551, %cmp4554
  %brmerge8255 = or i1 %cmp4551, %cmp15.not8265
  %cmp4577 = icmp eq i32 %index.68557, 4
  br label %while.body4472

while.body4472:                                   ; preds = %if.then4560, %if.then4574, %if.then4586, %while.body4472.preheader
  %918 = load i32* %i16mode, align 4, !tbaa !3
  %call4473 = call i32 @RDCost_for_macroblocks(double %lambda_mode.4, i32 %907, double* %min_rdcost, i32 %918) #10
  %tobool4474 = icmp eq i32 %call4473, 0
  br i1 %tobool4474, label %if.end4546, label %if.then4475

if.then4475:                                      ; preds = %while.body4472
  %919 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %opix_x4487 = getelementptr inbounds %struct.ImageParameters* %919, i64 0, i32 37
  %opix_y4490 = getelementptr inbounds %struct.ImageParameters* %919, i64 0, i32 38
  %920 = load i16*** @imgY_org, align 8, !tbaa !0
  br i1 %cmp4577, label %for.cond4483.preheader, label %for.cond4517.preheader

for.cond4483.preheader:                           ; preds = %if.then4475, %for.inc4509
  %indvars.iv8915 = phi i64 [ %indvars.iv.next8916, %for.inc4509 ], [ 0, %if.then4475 ]
  br label %for.body4486

for.body4486:                                     ; preds = %for.body4486, %for.cond4483.preheader
  %indvars.iv8911 = phi i64 [ 0, %for.cond4483.preheader ], [ %indvars.iv.next8912, %for.body4486 ]
  %921 = load i32* %opix_x4487, align 4, !tbaa !3
  %922 = trunc i64 %indvars.iv8915 to i32
  %add4488 = add nsw i32 %921, %922
  %idxprom4489 = sext i32 %add4488 to i64
  %923 = load i32* %opix_y4490, align 4, !tbaa !3
  %924 = trunc i64 %indvars.iv8911 to i32
  %add4491 = add nsw i32 %923, %924
  %idxprom4492 = sext i32 %add4491 to i64
  %arrayidx4493 = getelementptr inbounds i16** %920, i64 %idxprom4492
  %925 = load i16** %arrayidx4493, align 8, !tbaa !0
  %arrayidx4494 = getelementptr inbounds i16* %925, i64 %idxprom4489
  %926 = load i16* %arrayidx4494, align 2, !tbaa !4
  %conv4495 = zext i16 %926 to i32
  %arrayidx4499 = getelementptr inbounds [16 x [16 x i16]]* @mpr8x8, i64 0, i64 %indvars.iv8911, i64 %indvars.iv8915
  %927 = load i16* %arrayidx4499, align 2, !tbaa !4
  %conv4500 = zext i16 %927 to i32
  %sub4501 = sub nsw i32 %conv4495, %conv4500
  %arrayidx4505 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8911, i64 %indvars.iv8915
  store i32 %sub4501, i32* %arrayidx4505, align 4, !tbaa !3
  %indvars.iv.next8912 = add i64 %indvars.iv8911, 1
  %lftr.wideiv8913 = trunc i64 %indvars.iv.next8912 to i32
  %exitcond8914 = icmp eq i32 %lftr.wideiv8913, 16
  br i1 %exitcond8914, label %for.inc4509, label %for.body4486

for.inc4509:                                      ; preds = %for.body4486
  %indvars.iv.next8916 = add i64 %indvars.iv8915, 1
  %lftr.wideiv8917 = trunc i64 %indvars.iv.next8916 to i32
  %exitcond8918 = icmp eq i32 %lftr.wideiv8917, 16
  br i1 %exitcond8918, label %if.end4545, label %for.cond4483.preheader

for.cond4517.preheader:                           ; preds = %if.then4475, %for.inc4542
  %indvars.iv8907 = phi i64 [ %indvars.iv.next8908, %for.inc4542 ], [ 0, %if.then4475 ]
  br label %for.body4520

for.body4520:                                     ; preds = %for.body4520, %for.cond4517.preheader
  %indvars.iv8903 = phi i64 [ 0, %for.cond4517.preheader ], [ %indvars.iv.next8904, %for.body4520 ]
  %928 = load i32* %opix_x4487, align 4, !tbaa !3
  %929 = trunc i64 %indvars.iv8907 to i32
  %add4522 = add nsw i32 %928, %929
  %idxprom4523 = sext i32 %add4522 to i64
  %930 = load i32* %opix_y4490, align 4, !tbaa !3
  %931 = trunc i64 %indvars.iv8903 to i32
  %add4525 = add nsw i32 %930, %931
  %idxprom4526 = sext i32 %add4525 to i64
  %arrayidx4527 = getelementptr inbounds i16** %920, i64 %idxprom4526
  %932 = load i16** %arrayidx4527, align 8, !tbaa !0
  %arrayidx4528 = getelementptr inbounds i16* %932, i64 %idxprom4523
  %933 = load i16* %arrayidx4528, align 2, !tbaa !4
  %conv4529 = zext i16 %933 to i32
  %arrayidx4533 = getelementptr inbounds [16 x [16 x i32]]* @pred, i64 0, i64 %indvars.iv8903, i64 %indvars.iv8907
  %934 = load i32* %arrayidx4533, align 4, !tbaa !3
  %sub4534 = sub nsw i32 %conv4529, %934
  %arrayidx4538 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8903, i64 %indvars.iv8907
  store i32 %sub4534, i32* %arrayidx4538, align 4, !tbaa !3
  %indvars.iv.next8904 = add i64 %indvars.iv8903, 1
  %lftr.wideiv8905 = trunc i64 %indvars.iv.next8904 to i32
  %exitcond8906 = icmp eq i32 %lftr.wideiv8905, 16
  br i1 %exitcond8906, label %for.inc4542, label %for.body4520

for.inc4542:                                      ; preds = %for.body4520
  %indvars.iv.next8908 = add i64 %indvars.iv8907, 1
  %lftr.wideiv8909 = trunc i64 %indvars.iv.next8908 to i32
  %exitcond8910 = icmp eq i32 %lftr.wideiv8909, 16
  br i1 %exitcond8910, label %if.end4545, label %for.cond4517.preheader

if.end4545:                                       ; preds = %for.inc4509, %for.inc4542
  call void @store_macroblock_parameters(i32 %907) #10
  br label %if.end4546

if.end4546:                                       ; preds = %while.body4472, %if.end4545
  %935 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x84547 = getelementptr inbounds %struct.InputParameters* %935, i64 0, i32 123
  %936 = load i32* %AllowTransform8x84547, align 4, !tbaa !3
  %cmp4548 = icmp eq i32 %936, 1
  br i1 %cmp4548, label %if.then4550, label %if.end4592

if.then4550:                                      ; preds = %if.end4546
  br i1 %or.cond6333, label %land.lhs.true4556, label %if.else4562

land.lhs.true4556:                                ; preds = %if.then4550
  %937 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %cmp4558 = icmp eq i32 %937, 0
  br i1 %cmp4558, label %if.then4560, label %if.else4562

if.then4560:                                      ; preds = %land.lhs.true4556
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %while.body4472

if.else4562:                                      ; preds = %land.lhs.true4556, %if.then4550
  br i1 %brmerge8255, label %if.else4576, label %land.lhs.true4567

land.lhs.true4567:                                ; preds = %if.else4562
  %938 = load %struct.seq_parameter_set_rbsp_t** @active_sps, align 8, !tbaa !0
  %direct_8x8_inference_flag4568 = getelementptr inbounds %struct.seq_parameter_set_rbsp_t* %938, i64 0, i32 27
  %939 = load i32* %direct_8x8_inference_flag4568, align 4, !tbaa !1
  %tobool4569 = icmp eq i32 %939, 0
  br i1 %tobool4569, label %if.else4576, label %land.lhs.true4570

land.lhs.true4570:                                ; preds = %land.lhs.true4567
  %940 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %cmp4572 = icmp eq i32 %940, 0
  br i1 %cmp4572, label %if.then4574, label %if.else4576

if.then4574:                                      ; preds = %land.lhs.true4570
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %while.body4472

if.else4576:                                      ; preds = %if.else4562, %land.lhs.true4567, %land.lhs.true4570
  br i1 %cmp4577, label %land.lhs.true4579, label %if.else4588

land.lhs.true4579:                                ; preds = %if.else4576
  %941 = load i32* %arrayidx108827782808285, align 16, !tbaa !3
  %tobool4581 = icmp eq i32 %941, 0
  br i1 %tobool4581, label %if.else4588, label %land.lhs.true4582

land.lhs.true4582:                                ; preds = %land.lhs.true4579
  %942 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %cmp4584 = icmp eq i32 %942, 0
  br i1 %cmp4584, label %if.then4586, label %if.else4588

if.then4586:                                      ; preds = %land.lhs.true4582
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %while.body4472

if.else4588:                                      ; preds = %land.lhs.true4579, %land.lhs.true4582, %if.else4576
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4592

if.end4592:                                       ; preds = %if.end4546, %lor.lhs.false4458, %if.else4588
  %943 = load i32* %arrayidx84, align 16, !tbaa !3
  %tobool4594.not = icmp ne i32 %943, 0
  %brmerge8257.not = and i1 %cmp15, %tobool4594.not
  %cmp4598 = icmp eq i32 %index.68557, 0
  %or.cond8258 = and i1 %brmerge8257.not, %cmp4598
  br i1 %or.cond8258, label %land.lhs.true4600, label %if.end4650

land.lhs.true4600:                                ; preds = %if.end4592
  %944 = load i32* %cbp5202, align 4, !tbaa !3
  %tobool4602 = icmp eq i32 %944, 0
  %and4605 = and i32 %944, 15
  %cmp4606 = icmp eq i32 %and4605, 15
  %or.cond8260 = or i1 %tobool4602, %cmp4606
  br i1 %or.cond8260, label %if.end4650, label %land.lhs.true4608

land.lhs.true4608:                                ; preds = %land.lhs.true4600
  %945 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %nobskip4609 = getelementptr inbounds %struct.InputParameters* %945, i64 0, i32 87
  %946 = load i32* %nobskip4609, align 4, !tbaa !3
  %tobool4610 = icmp eq i32 %946, 0
  br i1 %tobool4610, label %if.then4611, label %if.end4650

if.then4611:                                      ; preds = %land.lhs.true4608
  %947 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %NoResidueDirect4612 = getelementptr inbounds %struct.ImageParameters* %947, i64 0, i32 88
  store i32 1, i32* %NoResidueDirect4612, align 4, !tbaa !3
  %948 = load i32* %i16mode, align 4, !tbaa !3
  %call4613 = call i32 @RDCost_for_macroblocks(double %lambda_mode.4, i32 %907, double* %min_rdcost, i32 %948) #10
  %tobool4614 = icmp eq i32 %call4613, 0
  br i1 %tobool4614, label %if.end4650, label %for.cond4616.preheader

for.cond4616.preheader:                           ; preds = %if.then4611
  %949 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %opix_x4624 = getelementptr inbounds %struct.ImageParameters* %949, i64 0, i32 37
  %opix_y4627 = getelementptr inbounds %struct.ImageParameters* %949, i64 0, i32 38
  %950 = load i16*** @imgY_org, align 8, !tbaa !0
  br label %for.cond4620.preheader

for.cond4620.preheader:                           ; preds = %for.inc4645, %for.cond4616.preheader
  %indvars.iv8923 = phi i64 [ 0, %for.cond4616.preheader ], [ %indvars.iv.next8924, %for.inc4645 ]
  br label %for.body4623

for.body4623:                                     ; preds = %for.body4623, %for.cond4620.preheader
  %indvars.iv8919 = phi i64 [ 0, %for.cond4620.preheader ], [ %indvars.iv.next8920, %for.body4623 ]
  %951 = load i32* %opix_x4624, align 4, !tbaa !3
  %952 = trunc i64 %indvars.iv8923 to i32
  %add4625 = add nsw i32 %951, %952
  %idxprom4626 = sext i32 %add4625 to i64
  %953 = load i32* %opix_y4627, align 4, !tbaa !3
  %954 = trunc i64 %indvars.iv8919 to i32
  %add4628 = add nsw i32 %953, %954
  %idxprom4629 = sext i32 %add4628 to i64
  %arrayidx4630 = getelementptr inbounds i16** %950, i64 %idxprom4629
  %955 = load i16** %arrayidx4630, align 8, !tbaa !0
  %arrayidx4631 = getelementptr inbounds i16* %955, i64 %idxprom4626
  %956 = load i16* %arrayidx4631, align 2, !tbaa !4
  %conv4632 = zext i16 %956 to i32
  %arrayidx4636 = getelementptr inbounds [16 x [16 x i32]]* @pred, i64 0, i64 %indvars.iv8919, i64 %indvars.iv8923
  %957 = load i32* %arrayidx4636, align 4, !tbaa !3
  %sub4637 = sub nsw i32 %conv4632, %957
  %arrayidx4641 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8919, i64 %indvars.iv8923
  store i32 %sub4637, i32* %arrayidx4641, align 4, !tbaa !3
  %indvars.iv.next8920 = add i64 %indvars.iv8919, 1
  %lftr.wideiv8921 = trunc i64 %indvars.iv.next8920 to i32
  %exitcond8922 = icmp eq i32 %lftr.wideiv8921, 16
  br i1 %exitcond8922, label %for.inc4645, label %for.body4623

for.inc4645:                                      ; preds = %for.body4623
  %indvars.iv.next8924 = add i64 %indvars.iv8923, 1
  %lftr.wideiv8925 = trunc i64 %indvars.iv.next8924 to i32
  %exitcond8926 = icmp eq i32 %lftr.wideiv8925, 16
  br i1 %exitcond8926, label %for.end4647, label %for.cond4620.preheader

for.end4647:                                      ; preds = %for.inc4645
  call void @store_macroblock_parameters(i32 %907) #10
  br label %if.end4650

if.end4650:                                       ; preds = %if.then4611, %land.lhs.true4600, %if.end4592, %land.lhs.true4608, %if.end4415, %for.end4647
  %958 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %BiPredMotionEstimation4651 = getelementptr inbounds %struct.InputParameters* %958, i64 0, i32 39
  %959 = load i32* %BiPredMotionEstimation4651, align 4, !tbaa !3
  %tobool4652 = icmp eq i32 %959, 0
  br i1 %tobool4652, label %for.inc4686, label %land.lhs.true4653

land.lhs.true4653:                                ; preds = %if.end4650
  %960 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %type4654 = getelementptr inbounds %struct.ImageParameters* %960, i64 0, i32 6
  %961 = load i32* %type4654, align 4, !tbaa !3
  %cmp4655 = icmp eq i32 %961, 1
  %cmp4658 = icmp eq i32 %ctr16x16.6, 2
  %or.cond8261 = and i1 %cmp4655, %cmp4658
  br i1 %or.cond8261, label %land.lhs.true4660, label %for.inc4686

land.lhs.true4660:                                ; preds = %land.lhs.true4653
  %arrayidx4663 = getelementptr inbounds %struct.ImageParameters* %960, i64 0, i32 74, i64 %idxprom4417
  %962 = load i16* %arrayidx4663, align 2, !tbaa !4
  %cmp4665.not.not = icmp slt i16 %962, 2
  %brmerge8262.not = and i1 %cmp4378, %cmp4665.not.not
  %963 = load i16* getelementptr inbounds ([15 x [4 x i16]]* @best8x8pdir, i64 0, i64 1, i64 0), align 8, !tbaa !4
  %cmp4672 = icmp eq i16 %963, 2
  %or.cond8264 = and i1 %brmerge8262.not, %cmp4672
  br i1 %or.cond8264, label %if.then4674, label %for.inc4686

if.then4674:                                      ; preds = %land.lhs.true4660
  %add4679 = add i16 %962, 1
  store i16 %add4679, i16* %arrayidx4663, align 2, !tbaa !4
  br label %for.inc4686

for.inc4686:                                      ; preds = %land.lhs.true4660, %if.end4650, %land.lhs.true4653, %if.then4674
  %inc4687 = add nsw i32 %index.8, 1
  %cmp4373 = icmp slt i32 %inc4687, 8
  br i1 %cmp4373, label %for.body4375, label %if.end5558

if.else4690:                                      ; preds = %if.end3941
  %964 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %965 = load i32* %NoMbPartLessThan8x8Flag, align 4, !tbaa !3
  %966 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %yuv_format4692 = getelementptr inbounds %struct.ImageParameters* %966, i64 0, i32 159
  %967 = load i32* %yuv_format4692, align 4, !tbaa !3
  %cmp4693 = icmp eq i32 %967, 0
  br i1 %cmp4693, label %if.end4696, label %if.then4695

if.then4695:                                      ; preds = %if.else4690
  call void @IntraChromaPrediction(i32* null, i32* null, i32* null) #8
  br label %if.end4696

if.end4696:                                       ; preds = %if.else4690, %if.then4695
  %968 = load i32* %arrayidx84, align 16, !tbaa !3
  %tobool4698 = icmp eq i32 %968, 0
  %brmerge8266 = or i1 %tobool4698, %cmp15.not8265
  br i1 %brmerge8266, label %if.end4795, label %if.then4701

if.then4701:                                      ; preds = %if.end4696
  %tobool4702 = icmp eq i32 %have_direct.14, 0
  br i1 %tobool4702, label %if.else4723, label %if.then4703

if.then4703:                                      ; preds = %if.then4701
  %969 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x84704 = getelementptr inbounds %struct.InputParameters* %969, i64 0, i32 123
  %970 = load i32* %AllowTransform8x84704, align 4, !tbaa !3
  switch i32 %970, label %sw.default4721 [
    i32 1, label %sw.bb4705
    i32 2, label %sw.bb4720
  ]

sw.bb4705:                                        ; preds = %if.then4703
  %cmp4706 = icmp slt i32 %cost8x8_direct.9, %cost_direct.16
  br i1 %cmp4706, label %if.then4717, label %lor.lhs.false4708

lor.lhs.false4708:                                ; preds = %sw.bb4705
  %971 = load i32* %arrayidx11482818284, align 4, !tbaa !3
  %tobool4710 = icmp eq i32 %971, 0
  br i1 %tobool4710, label %if.then4717, label %land.lhs.true4711

land.lhs.true4711:                                ; preds = %lor.lhs.false4708
  %972 = load i32* %arrayidx1208286, align 8, !tbaa !3
  %tobool4713 = icmp eq i32 %972, 0
  br i1 %tobool4713, label %if.then4717, label %land.lhs.true4714

land.lhs.true4714:                                ; preds = %land.lhs.true4711
  %973 = load i32* %arrayidx126, align 4, !tbaa !3
  %tobool4716 = icmp eq i32 %973, 0
  br i1 %tobool4716, label %if.then4717, label %if.else4718

if.then4717:                                      ; preds = %land.lhs.true4714, %land.lhs.true4711, %lor.lhs.false4708, %sw.bb4705
  store i32 %cost8x8_direct.9, i32* %cost, align 4, !tbaa !3
  br label %if.end4725

if.else4718:                                      ; preds = %land.lhs.true4714
  store i32 %cost_direct.16, i32* %cost, align 4, !tbaa !3
  br label %if.end4725

sw.bb4720:                                        ; preds = %if.then4703
  store i32 %cost8x8_direct.9, i32* %cost, align 4, !tbaa !3
  br label %if.end4725

sw.default4721:                                   ; preds = %if.then4703
  store i32 %cost_direct.16, i32* %cost, align 4, !tbaa !3
  br label %if.end4725

if.else4723:                                      ; preds = %if.then4701
  %call4724 = call i32 @Get_Direct_CostMB(double %lambda_mode.4) #8
  store i32 %call4724, i32* %cost, align 4, !tbaa !3
  br label %if.end4725

if.end4725:                                       ; preds = %sw.bb4720, %sw.default4721, %if.else4718, %if.then4717, %if.else4723
  %974 = phi i32 [ %cost8x8_direct.9, %sw.bb4720 ], [ %cost_direct.16, %sw.default4721 ], [ %cost_direct.16, %if.else4718 ], [ %cost8x8_direct.9, %if.then4717 ], [ %call4724, %if.else4723 ]
  %call4728 = call double @floor(double %add4727) #9
  %conv4729 = fptosi double %call4728 to i32
  %sub4730 = sub nsw i32 %974, %conv4729
  store i32 %sub4730, i32* %cost, align 4, !tbaa !3
  %cmp4731 = icmp sgt i32 %sub4730, %min_cost.4
  br i1 %cmp4731, label %if.else4791, label %if.then4733

if.then4733:                                      ; preds = %if.end4725
  %975 = load %struct.seq_parameter_set_rbsp_t** @active_sps, align 8, !tbaa !0
  %direct_8x8_inference_flag4734 = getelementptr inbounds %struct.seq_parameter_set_rbsp_t* %975, i64 0, i32 27
  %976 = load i32* %direct_8x8_inference_flag4734, align 4, !tbaa !1
  %tobool4735 = icmp eq i32 %976, 0
  br i1 %tobool4735, label %if.else4754, label %land.lhs.true4736

land.lhs.true4736:                                ; preds = %if.then4733
  %977 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x84737 = getelementptr inbounds %struct.InputParameters* %977, i64 0, i32 123
  %978 = load i32* %AllowTransform8x84737, align 4, !tbaa !3
  switch i32 %978, label %if.else4745 [
    i32 0, label %if.else4754
    i32 2, label %if.then4743
  ]

if.then4743:                                      ; preds = %land.lhs.true4736
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %for.cond4757.preheader

if.else4745:                                      ; preds = %land.lhs.true4736
  %cmp4746 = icmp slt i32 %cost8x8_direct.9, %cost_direct.16
  br i1 %cmp4746, label %if.then4748, label %if.else4750

if.then4748:                                      ; preds = %if.else4745
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %for.cond4757.preheader

if.else4750:                                      ; preds = %if.else4745
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %for.cond4757.preheader

if.else4754:                                      ; preds = %land.lhs.true4736, %if.then4733
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %for.cond4757.preheader

for.cond4757.preheader:                           ; preds = %if.then4743, %if.else4750, %if.then4748, %if.else4754
  %979 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %pix_x4765 = getelementptr inbounds %struct.ImageParameters* %979, i64 0, i32 33
  %pix_y4768 = getelementptr inbounds %struct.ImageParameters* %979, i64 0, i32 34
  %980 = load i16*** @imgY_org, align 8, !tbaa !0
  br label %for.cond4761.preheader

for.cond4761.preheader:                           ; preds = %for.inc4788, %for.cond4757.preheader
  %indvars.iv8931 = phi i64 [ 0, %for.cond4757.preheader ], [ %indvars.iv.next8932, %for.inc4788 ]
  br label %for.body4764

for.body4764:                                     ; preds = %for.body4764, %for.cond4761.preheader
  %indvars.iv8927 = phi i64 [ 0, %for.cond4761.preheader ], [ %indvars.iv.next8928, %for.body4764 ]
  %981 = load i32* %pix_x4765, align 4, !tbaa !3
  %982 = trunc i64 %indvars.iv8931 to i32
  %add4766 = add nsw i32 %981, %982
  %idxprom4767 = sext i32 %add4766 to i64
  %983 = load i32* %pix_y4768, align 4, !tbaa !3
  %984 = trunc i64 %indvars.iv8927 to i32
  %add4769 = add nsw i32 %983, %984
  %idxprom4770 = sext i32 %add4769 to i64
  %arrayidx4771 = getelementptr inbounds i16** %980, i64 %idxprom4770
  %985 = load i16** %arrayidx4771, align 8, !tbaa !0
  %arrayidx4772 = getelementptr inbounds i16* %985, i64 %idxprom4767
  %986 = load i16* %arrayidx4772, align 2, !tbaa !4
  %conv4773 = zext i16 %986 to i32
  %arrayidx4778 = getelementptr inbounds %struct.ImageParameters* %979, i64 0, i32 45, i64 %indvars.iv8931, i64 %indvars.iv8927
  %987 = load i16* %arrayidx4778, align 2, !tbaa !4
  %conv4779 = zext i16 %987 to i32
  %sub4780 = sub nsw i32 %conv4773, %conv4779
  %arrayidx4784 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8927, i64 %indvars.iv8931
  store i32 %sub4780, i32* %arrayidx4784, align 4, !tbaa !3
  %indvars.iv.next8928 = add i64 %indvars.iv8927, 1
  %lftr.wideiv8929 = trunc i64 %indvars.iv.next8928 to i32
  %exitcond8930 = icmp eq i32 %lftr.wideiv8929, 16
  br i1 %exitcond8930, label %for.inc4788, label %for.body4764

for.inc4788:                                      ; preds = %for.body4764
  %indvars.iv.next8932 = add i64 %indvars.iv8931, 1
  %lftr.wideiv8933 = trunc i64 %indvars.iv.next8932 to i32
  %exitcond8934 = icmp eq i32 %lftr.wideiv8933, 16
  br i1 %exitcond8934, label %for.end4790, label %for.cond4761.preheader

for.end4790:                                      ; preds = %for.inc4788
  %988 = load i32* %cost, align 4, !tbaa !3
  store i32 0, i32* @best_mode, align 4, !tbaa !3
  br label %if.end4795

if.else4791:                                      ; preds = %if.end4725
  store i32 %964, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  store i32 %965, i32* %NoMbPartLessThan8x8Flag, align 4, !tbaa !3
  br label %if.end4795

if.end4795:                                       ; preds = %if.end4696, %for.end4790, %if.else4791
  %min_cost.5 = phi i32 [ %988, %for.end4790 ], [ %min_cost.4, %if.else4791 ], [ %min_cost.4, %if.end4696 ]
  %989 = load i32* %arrayidx76, align 4, !tbaa !3
  %tobool4797 = icmp eq i32 %989, 0
  br i1 %tobool4797, label %if.end4957, label %if.then4798

if.then4798:                                      ; preds = %if.end4795
  store i32 1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  store i32 13, i32* %mb_type4962, align 4, !tbaa !3
  %call4801 = call i32 @Mode_Decision_for_new_Intra8x8Macroblock(double %lambda_mode.4, i32* %cost) #8
  %990 = load i32* %cost, align 4, !tbaa !3
  %cmp4802 = icmp sgt i32 %990, %min_cost.5
  br i1 %cmp4802, label %if.else4954, label %if.then4804

if.then4804:                                      ; preds = %if.then4798
  %991 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %residue_transform_flag4805 = getelementptr inbounds %struct.ImageParameters* %991, i64 0, i32 164
  %992 = load i32* %residue_transform_flag4805, align 4, !tbaa !3
  %tobool4806 = icmp eq i32 %992, 0
  br i1 %tobool4806, label %if.end4883, label %for.cond4812.preheader

for.cond4812.preheader:                           ; preds = %if.then4804, %for.inc4835
  %indvars.iv8943 = phi i64 [ %indvars.iv.next8944, %for.inc4835 ], [ 0, %if.then4804 ]
  %cr_cbp.18567 = phi i32 [ %cr_cbp.3., %for.inc4835 ], [ %cr_cbp.08604, %if.then4804 ]
  br label %for.cond4816.preheader

for.cond4816.preheader:                           ; preds = %for.inc4832, %for.cond4812.preheader
  %indvars.iv8939 = phi i64 [ 0, %for.cond4812.preheader ], [ %indvars.iv.next8940, %for.inc4832 ]
  %cr_cbp.28565 = phi i32 [ %cr_cbp.18567, %for.cond4812.preheader ], [ %cr_cbp.3., %for.inc4832 ]
  br label %for.body4819

for.body4819:                                     ; preds = %for.body4819, %for.cond4816.preheader
  %indvars.iv8935 = phi i64 [ 0, %for.cond4816.preheader ], [ %indvars.iv.next8936, %for.body4819 ]
  %cr_cbp.38563 = phi i32 [ %cr_cbp.28565, %for.cond4816.preheader ], [ %cr_cbp.3., %for.body4819 ]
  %arrayidx4825 = getelementptr inbounds [2 x [4 x [4 x i32]]]* @cbp_chroma_block, i64 0, i64 %indvars.iv8943, i64 %indvars.iv8939, i64 %indvars.iv8935
  %993 = load i32* %arrayidx4825, align 4, !tbaa !3
  %tobool4826 = icmp eq i32 %993, 0
  %cr_cbp.3. = select i1 %tobool4826, i32 %cr_cbp.38563, i32 2
  %indvars.iv.next8936 = add i64 %indvars.iv8935, 1
  %lftr.wideiv8937 = trunc i64 %indvars.iv.next8936 to i32
  %exitcond8938 = icmp eq i32 %lftr.wideiv8937, 4
  br i1 %exitcond8938, label %for.inc4832, label %for.body4819

for.inc4832:                                      ; preds = %for.body4819
  %indvars.iv.next8940 = add i64 %indvars.iv8939, 1
  %lftr.wideiv8941 = trunc i64 %indvars.iv.next8940 to i32
  %exitcond8942 = icmp eq i32 %lftr.wideiv8941, 4
  br i1 %exitcond8942, label %for.inc4835, label %for.cond4816.preheader

for.inc4835:                                      ; preds = %for.inc4832
  %indvars.iv.next8944 = add i64 %indvars.iv8943, 1
  %lftr.wideiv8945 = trunc i64 %indvars.iv.next8944 to i32
  %exitcond8946 = icmp eq i32 %lftr.wideiv8945, 2
  br i1 %exitcond8946, label %for.end4837, label %for.cond4812.preheader

for.end4837:                                      ; preds = %for.inc4835
  %call4838 = call i32 @dct_chroma_DC(i32 0, i32 %cr_cbp.3.) #8
  %call4839 = call i32 @dct_chroma_DC(i32 1, i32 %call4838) #8
  %shl4840 = shl i32 %call4839, 4
  %994 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %pix_x4850 = getelementptr inbounds %struct.ImageParameters* %994, i64 0, i32 33
  %995 = load i32* %pix_x4850, align 4, !tbaa !3
  %pix_y4853 = getelementptr inbounds %struct.ImageParameters* %994, i64 0, i32 34
  %996 = load i32* %pix_y4853, align 4, !tbaa !3
  %997 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgUV = getelementptr inbounds %struct.storable_picture* %997, i64 0, i32 30
  %998 = load i16**** %imgUV, align 8, !tbaa !0
  %999 = load i16*** %998, align 8, !tbaa !0
  %arrayidx4870 = getelementptr inbounds i16*** %998, i64 1
  %1000 = load i16*** %arrayidx4870, align 8, !tbaa !0
  %1001 = sext i32 %995 to i64
  %1002 = sext i32 %996 to i64
  br label %for.cond4846.preheader

for.cond4846.preheader:                           ; preds = %for.inc4880, %for.end4837
  %indvars.iv8955 = phi i64 [ 0, %for.end4837 ], [ %indvars.iv.next8956, %for.inc4880 ]
  %1003 = add nsw i64 %1002, %indvars.iv8955
  %arrayidx4857 = getelementptr inbounds i16** %999, i64 %1003
  %1004 = load i16** %arrayidx4857, align 8, !tbaa !0
  %arrayidx4871 = getelementptr inbounds i16** %1000, i64 %1003
  %1005 = load i16** %arrayidx4871, align 8, !tbaa !0
  br label %for.body4849

for.body4849:                                     ; preds = %for.body4849, %for.cond4846.preheader
  %indvars.iv8947 = phi i64 [ 0, %for.cond4846.preheader ], [ %indvars.iv.next8948, %for.body4849 ]
  %1006 = add nsw i64 %1001, %indvars.iv8947
  %arrayidx4858 = getelementptr inbounds i16* %1004, i64 %1006
  %1007 = load i16* %arrayidx4858, align 2, !tbaa !4
  %arrayidx4862 = getelementptr inbounds [16 x [16 x i16]]* @temp_imgU, i64 0, i64 %indvars.iv8955, i64 %indvars.iv8947
  store i16 %1007, i16* %arrayidx4862, align 2, !tbaa !4
  %arrayidx4872 = getelementptr inbounds i16* %1005, i64 %1006
  %1008 = load i16* %arrayidx4872, align 2, !tbaa !4
  %arrayidx4876 = getelementptr inbounds [16 x [16 x i16]]* @temp_imgV, i64 0, i64 %indvars.iv8955, i64 %indvars.iv8947
  store i16 %1008, i16* %arrayidx4876, align 2, !tbaa !4
  %indvars.iv.next8948 = add i64 %indvars.iv8947, 1
  %lftr.wideiv8951 = trunc i64 %indvars.iv.next8948 to i32
  %exitcond8952 = icmp eq i32 %lftr.wideiv8951, 16
  br i1 %exitcond8952, label %for.inc4880, label %for.body4849

for.inc4880:                                      ; preds = %for.body4849
  %indvars.iv.next8956 = add i64 %indvars.iv8955, 1
  %lftr.wideiv8959 = trunc i64 %indvars.iv.next8956 to i32
  %exitcond8960 = icmp eq i32 %lftr.wideiv8959, 16
  br i1 %exitcond8960, label %if.end4883.loopexit, label %for.cond4846.preheader

if.end4883.loopexit:                              ; preds = %for.inc4880
  %add4841 = add nsw i32 %shl4840, %call4801
  br label %if.end4883

if.end4883:                                       ; preds = %if.end4883.loopexit, %if.then4804
  %1009 = phi %struct.ImageParameters* [ %991, %if.then4804 ], [ %994, %if.end4883.loopexit ]
  %temp_cpb.0 = phi i32 [ %call4801, %if.then4804 ], [ %add4841, %if.end4883.loopexit ]
  %cr_cbp.5 = phi i32 [ %cr_cbp.08604, %if.then4804 ], [ %call4839, %if.end4883.loopexit ]
  store i32 %temp_cpb.0, i32* %cbp5202, align 4, !tbaa !3
  %1010 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x84885 = getelementptr inbounds %struct.InputParameters* %1010, i64 0, i32 123
  %1011 = load i32* %AllowTransform8x84885, align 4, !tbaa !3
  %cmp4886 = icmp eq i32 %1011, 2
  br i1 %cmp4886, label %for.cond4892.preheader, label %if.then4888

if.then4888:                                      ; preds = %if.end4883
  %1012 = load i32***** @cofAC, align 8, !tbaa !0
  %cofAC4889 = getelementptr inbounds %struct.ImageParameters* %1009, i64 0, i32 47
  %1013 = load i32***** %cofAC4889, align 8, !tbaa !0
  store i32**** %1013, i32***** @cofAC, align 8, !tbaa !0
  store i32**** %1012, i32***** %cofAC4889, align 8, !tbaa !0
  %.pre9075 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %for.cond4892.preheader

for.cond4892.preheader:                           ; preds = %if.end4883, %if.then4888
  %1014 = phi %struct.ImageParameters* [ %.pre9075, %if.then4888 ], [ %1009, %if.end4883 ]
  %pix_x4900 = getelementptr inbounds %struct.ImageParameters* %1014, i64 0, i32 33
  %1015 = load i32* %pix_x4900, align 4, !tbaa !3
  %pix_y4903 = getelementptr inbounds %struct.ImageParameters* %1014, i64 0, i32 34
  %1016 = load i32* %pix_y4903, align 4, !tbaa !3
  %1017 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgY4906 = getelementptr inbounds %struct.storable_picture* %1017, i64 0, i32 25
  %1018 = load i16*** %imgY4906, align 8, !tbaa !0
  %1019 = sext i32 %1015 to i64
  %1020 = sext i32 %1016 to i64
  br label %for.cond4896.preheader

for.cond4896.preheader:                           ; preds = %for.inc4916, %for.cond4892.preheader
  %indvars.iv8967 = phi i64 [ 0, %for.cond4892.preheader ], [ %indvars.iv.next8968, %for.inc4916 ]
  %1021 = add nsw i64 %1020, %indvars.iv8967
  %arrayidx4907 = getelementptr inbounds i16** %1018, i64 %1021
  %1022 = load i16** %arrayidx4907, align 8, !tbaa !0
  br label %for.body4899

for.body4899:                                     ; preds = %for.body4899, %for.cond4896.preheader
  %indvars.iv8961 = phi i64 [ 0, %for.cond4896.preheader ], [ %indvars.iv.next8962, %for.body4899 ]
  %1023 = add nsw i64 %1019, %indvars.iv8961
  %arrayidx4908 = getelementptr inbounds i16* %1022, i64 %1023
  %1024 = load i16* %arrayidx4908, align 2, !tbaa !4
  %arrayidx4912 = getelementptr inbounds [16 x [16 x i16]]* @temp_imgY, i64 0, i64 %indvars.iv8967, i64 %indvars.iv8961
  store i16 %1024, i16* %arrayidx4912, align 2, !tbaa !4
  %indvars.iv.next8962 = add i64 %indvars.iv8961, 1
  %lftr.wideiv8964 = trunc i64 %indvars.iv.next8962 to i32
  %exitcond8965 = icmp eq i32 %lftr.wideiv8964, 16
  br i1 %exitcond8965, label %for.inc4916, label %for.body4899

for.inc4916:                                      ; preds = %for.body4899
  %indvars.iv.next8968 = add i64 %indvars.iv8967, 1
  %lftr.wideiv8970 = trunc i64 %indvars.iv.next8968 to i32
  %exitcond8971 = icmp eq i32 %lftr.wideiv8970, 16
  br i1 %exitcond8971, label %for.cond4919.loopexit, label %for.cond4896.preheader

for.cond4919.loopexit:                            ; preds = %for.inc4916
  %1025 = load i16*** @imgY_org, align 8, !tbaa !0
  br label %for.cond4923.preheader

for.cond4923.preheader:                           ; preds = %for.inc4950, %for.cond4919.loopexit
  %indvars.iv8976 = phi i64 [ 0, %for.cond4919.loopexit ], [ %indvars.iv.next8977, %for.inc4950 ]
  br label %for.body4926

for.body4926:                                     ; preds = %for.body4926, %for.cond4923.preheader
  %indvars.iv8972 = phi i64 [ 0, %for.cond4923.preheader ], [ %indvars.iv.next8973, %for.body4926 ]
  %1026 = load i32* %pix_x4900, align 4, !tbaa !3
  %1027 = trunc i64 %indvars.iv8976 to i32
  %add4928 = add nsw i32 %1026, %1027
  %idxprom4929 = sext i32 %add4928 to i64
  %1028 = load i32* %pix_y4903, align 4, !tbaa !3
  %1029 = trunc i64 %indvars.iv8972 to i32
  %add4931 = add nsw i32 %1028, %1029
  %idxprom4932 = sext i32 %add4931 to i64
  %arrayidx4933 = getelementptr inbounds i16** %1025, i64 %idxprom4932
  %1030 = load i16** %arrayidx4933, align 8, !tbaa !0
  %arrayidx4934 = getelementptr inbounds i16* %1030, i64 %idxprom4929
  %1031 = load i16* %arrayidx4934, align 2, !tbaa !4
  %conv4935 = zext i16 %1031 to i32
  %arrayidx4940 = getelementptr inbounds %struct.ImageParameters* %1014, i64 0, i32 45, i64 %indvars.iv8976, i64 %indvars.iv8972
  %1032 = load i16* %arrayidx4940, align 2, !tbaa !4
  %conv4941 = zext i16 %1032 to i32
  %sub4942 = sub nsw i32 %conv4935, %conv4941
  %arrayidx4946 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8972, i64 %indvars.iv8976
  store i32 %sub4942, i32* %arrayidx4946, align 4, !tbaa !3
  %indvars.iv.next8973 = add i64 %indvars.iv8972, 1
  %lftr.wideiv8974 = trunc i64 %indvars.iv.next8973 to i32
  %exitcond8975 = icmp eq i32 %lftr.wideiv8974, 16
  br i1 %exitcond8975, label %for.inc4950, label %for.body4926

for.inc4950:                                      ; preds = %for.body4926
  %indvars.iv.next8977 = add i64 %indvars.iv8976, 1
  %lftr.wideiv8978 = trunc i64 %indvars.iv.next8977 to i32
  %exitcond8979 = icmp eq i32 %lftr.wideiv8978, 16
  br i1 %exitcond8979, label %for.end4952, label %for.cond4923.preheader

for.end4952:                                      ; preds = %for.inc4950
  %1033 = load i32* %cost, align 4, !tbaa !3
  store i32 13, i32* @best_mode, align 4, !tbaa !3
  %1034 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4957

if.else4954:                                      ; preds = %if.then4798
  store i32 %964, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end4957

if.end4957:                                       ; preds = %if.end4795, %for.end4952, %if.else4954
  %min_cost.6 = phi i32 [ %1033, %for.end4952 ], [ %min_cost.5, %if.else4954 ], [ %min_cost.5, %if.end4795 ]
  %tmp_8x8_flag.0 = phi i32 [ %1034, %for.end4952 ], [ %964, %if.else4954 ], [ %964, %if.end4795 ]
  %cr_cbp.6 = phi i32 [ %cr_cbp.5, %for.end4952 ], [ %cr_cbp.08604, %if.else4954 ], [ %cr_cbp.08604, %if.end4795 ]
  %1035 = load i32* %arrayidx81, align 4, !tbaa !3
  %tobool4959 = icmp eq i32 %1035, 0
  br i1 %tobool4959, label %if.end5046, label %if.then4960

if.then4960:                                      ; preds = %if.end4957
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  store i32 9, i32* %mb_type4962, align 4, !tbaa !3
  %call4963 = call i32 @Mode_Decision_for_Intra4x4Macroblock(double %lambda_mode.4, i32* %cost) #10
  %1036 = load i32* %cost, align 4, !tbaa !3
  %cmp4964 = icmp sgt i32 %1036, %min_cost.6
  br i1 %cmp4964, label %if.else5041, label %if.then4966

if.then4966:                                      ; preds = %if.then4960
  %1037 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %residue_transform_flag4967 = getelementptr inbounds %struct.ImageParameters* %1037, i64 0, i32 164
  %1038 = load i32* %residue_transform_flag4967, align 4, !tbaa !3
  %tobool4968 = icmp eq i32 %1038, 0
  br i1 %tobool4968, label %if.end5004, label %for.cond4974.preheader

for.cond4974.preheader:                           ; preds = %if.then4966, %for.inc4997
  %indvars.iv8988 = phi i64 [ %indvars.iv.next8989, %for.inc4997 ], [ 0, %if.then4966 ]
  %cr_cbp.78579 = phi i32 [ %cr_cbp.9., %for.inc4997 ], [ %cr_cbp.6, %if.then4966 ]
  br label %for.cond4978.preheader

for.cond4978.preheader:                           ; preds = %for.inc4994, %for.cond4974.preheader
  %indvars.iv8984 = phi i64 [ 0, %for.cond4974.preheader ], [ %indvars.iv.next8985, %for.inc4994 ]
  %cr_cbp.88577 = phi i32 [ %cr_cbp.78579, %for.cond4974.preheader ], [ %cr_cbp.9., %for.inc4994 ]
  br label %for.body4981

for.body4981:                                     ; preds = %for.body4981, %for.cond4978.preheader
  %indvars.iv8980 = phi i64 [ 0, %for.cond4978.preheader ], [ %indvars.iv.next8981, %for.body4981 ]
  %cr_cbp.98575 = phi i32 [ %cr_cbp.88577, %for.cond4978.preheader ], [ %cr_cbp.9., %for.body4981 ]
  %arrayidx4987 = getelementptr inbounds [2 x [4 x [4 x i32]]]* @cbp_chroma_block, i64 0, i64 %indvars.iv8988, i64 %indvars.iv8984, i64 %indvars.iv8980
  %1039 = load i32* %arrayidx4987, align 4, !tbaa !3
  %tobool4988 = icmp eq i32 %1039, 0
  %cr_cbp.9. = select i1 %tobool4988, i32 %cr_cbp.98575, i32 2
  %indvars.iv.next8981 = add i64 %indvars.iv8980, 1
  %lftr.wideiv8982 = trunc i64 %indvars.iv.next8981 to i32
  %exitcond8983 = icmp eq i32 %lftr.wideiv8982, 4
  br i1 %exitcond8983, label %for.inc4994, label %for.body4981

for.inc4994:                                      ; preds = %for.body4981
  %indvars.iv.next8985 = add i64 %indvars.iv8984, 1
  %lftr.wideiv8986 = trunc i64 %indvars.iv.next8985 to i32
  %exitcond8987 = icmp eq i32 %lftr.wideiv8986, 4
  br i1 %exitcond8987, label %for.inc4997, label %for.cond4978.preheader

for.inc4997:                                      ; preds = %for.inc4994
  %indvars.iv.next8989 = add i64 %indvars.iv8988, 1
  %lftr.wideiv8990 = trunc i64 %indvars.iv.next8989 to i32
  %exitcond8991 = icmp eq i32 %lftr.wideiv8990, 2
  br i1 %exitcond8991, label %for.end4999, label %for.cond4974.preheader

for.end4999:                                      ; preds = %for.inc4997
  %call5000 = call i32 @dct_chroma_DC(i32 0, i32 %cr_cbp.9.) #8
  %call5001 = call i32 @dct_chroma_DC(i32 1, i32 %call5000) #8
  %shl5002 = shl i32 %call5001, 4
  %add5003 = add nsw i32 %shl5002, %call4963
  %.pre9074 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %if.end5004

if.end5004:                                       ; preds = %if.then4966, %for.end4999
  %1040 = phi %struct.ImageParameters* [ %.pre9074, %for.end4999 ], [ %1037, %if.then4966 ]
  %temp_cpb.1 = phi i32 [ %add5003, %for.end4999 ], [ %call4963, %if.then4966 ]
  %cr_cbp.11 = phi i32 [ %call5001, %for.end4999 ], [ %cr_cbp.6, %if.then4966 ]
  store i32 %temp_cpb.1, i32* %cbp5202, align 4, !tbaa !3
  %pix_x5014 = getelementptr inbounds %struct.ImageParameters* %1040, i64 0, i32 33
  %pix_y5017 = getelementptr inbounds %struct.ImageParameters* %1040, i64 0, i32 34
  %1041 = load i16*** @imgY_org, align 8, !tbaa !0
  br label %for.cond5010.preheader

for.cond5010.preheader:                           ; preds = %for.inc5037, %if.end5004
  %indvars.iv8996 = phi i64 [ 0, %if.end5004 ], [ %indvars.iv.next8997, %for.inc5037 ]
  br label %for.body5013

for.body5013:                                     ; preds = %for.body5013, %for.cond5010.preheader
  %indvars.iv8992 = phi i64 [ 0, %for.cond5010.preheader ], [ %indvars.iv.next8993, %for.body5013 ]
  %1042 = load i32* %pix_x5014, align 4, !tbaa !3
  %1043 = trunc i64 %indvars.iv8996 to i32
  %add5015 = add nsw i32 %1042, %1043
  %idxprom5016 = sext i32 %add5015 to i64
  %1044 = load i32* %pix_y5017, align 4, !tbaa !3
  %1045 = trunc i64 %indvars.iv8992 to i32
  %add5018 = add nsw i32 %1044, %1045
  %idxprom5019 = sext i32 %add5018 to i64
  %arrayidx5020 = getelementptr inbounds i16** %1041, i64 %idxprom5019
  %1046 = load i16** %arrayidx5020, align 8, !tbaa !0
  %arrayidx5021 = getelementptr inbounds i16* %1046, i64 %idxprom5016
  %1047 = load i16* %arrayidx5021, align 2, !tbaa !4
  %conv5022 = zext i16 %1047 to i32
  %arrayidx5027 = getelementptr inbounds %struct.ImageParameters* %1040, i64 0, i32 45, i64 %indvars.iv8996, i64 %indvars.iv8992
  %1048 = load i16* %arrayidx5027, align 2, !tbaa !4
  %conv5028 = zext i16 %1048 to i32
  %sub5029 = sub nsw i32 %conv5022, %conv5028
  %arrayidx5033 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv8992, i64 %indvars.iv8996
  store i32 %sub5029, i32* %arrayidx5033, align 4, !tbaa !3
  %indvars.iv.next8993 = add i64 %indvars.iv8992, 1
  %lftr.wideiv8994 = trunc i64 %indvars.iv.next8993 to i32
  %exitcond8995 = icmp eq i32 %lftr.wideiv8994, 16
  br i1 %exitcond8995, label %for.inc5037, label %for.body5013

for.inc5037:                                      ; preds = %for.body5013
  %indvars.iv.next8997 = add i64 %indvars.iv8996, 1
  %lftr.wideiv8998 = trunc i64 %indvars.iv.next8997 to i32
  %exitcond8999 = icmp eq i32 %lftr.wideiv8998, 16
  br i1 %exitcond8999, label %for.end5039, label %for.cond5010.preheader

for.end5039:                                      ; preds = %for.inc5037
  %1049 = load i32* %cost, align 4, !tbaa !3
  store i32 9, i32* @best_mode, align 4, !tbaa !3
  %1050 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end5046

if.else5041:                                      ; preds = %if.then4960
  store i32 %tmp_8x8_flag.0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %1051 = load i32***** @cofAC, align 8, !tbaa !0
  %1052 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %cofAC5043 = getelementptr inbounds %struct.ImageParameters* %1052, i64 0, i32 47
  %1053 = load i32***** %cofAC5043, align 8, !tbaa !0
  store i32**** %1053, i32***** @cofAC, align 8, !tbaa !0
  store i32**** %1051, i32***** %cofAC5043, align 8, !tbaa !0
  br label %if.end5046

if.end5046:                                       ; preds = %if.end4957, %for.end5039, %if.else5041
  %min_cost.7 = phi i32 [ %1049, %for.end5039 ], [ %min_cost.6, %if.else5041 ], [ %min_cost.6, %if.end4957 ]
  %tmp_8x8_flag.1 = phi i32 [ %1050, %for.end5039 ], [ %tmp_8x8_flag.0, %if.else5041 ], [ %tmp_8x8_flag.0, %if.end4957 ]
  %cr_cbp.12 = phi i32 [ %cr_cbp.11, %for.end5039 ], [ %cr_cbp.6, %if.else5041 ], [ %cr_cbp.6, %if.end4957 ]
  %1054 = load i32* %arrayidx82, align 8, !tbaa !3
  %tobool5048 = icmp eq i32 %1054, 0
  br i1 %tobool5048, label %if.end5558, label %if.then5049

if.then5049:                                      ; preds = %if.end5046
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  call void (...)* @intrapred_luma_16x16() #8
  %call5051 = call i32 @find_sad_16x16(i32* %i16mode) #8
  store i32 %call5051, i32* %cost, align 4, !tbaa !3
  %cmp5052 = icmp slt i32 %call5051, %min_cost.7
  br i1 %cmp5052, label %for.cond5055.preheader, label %if.else5553

for.cond5055.preheader:                           ; preds = %if.then5049
  %1055 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %pix_x5063 = getelementptr inbounds %struct.ImageParameters* %1055, i64 0, i32 33
  %pix_y5066 = getelementptr inbounds %struct.ImageParameters* %1055, i64 0, i32 34
  %1056 = load i16*** @imgY_org, align 8, !tbaa !0
  %.pre9066.pre = load i32* %i16mode, align 4, !tbaa !3
  br label %for.cond5059.preheader

for.cond5059.preheader:                           ; preds = %for.inc5087, %for.cond5055.preheader
  %indvars.iv9004 = phi i64 [ 0, %for.cond5055.preheader ], [ %indvars.iv.next9005, %for.inc5087 ]
  br label %for.body5062

for.body5062:                                     ; preds = %for.body5062, %for.cond5059.preheader
  %indvars.iv9000 = phi i64 [ 0, %for.cond5059.preheader ], [ %indvars.iv.next9001, %for.body5062 ]
  %1057 = load i32* %pix_x5063, align 4, !tbaa !3
  %1058 = trunc i64 %indvars.iv9004 to i32
  %add5064 = add nsw i32 %1057, %1058
  %idxprom5065 = sext i32 %add5064 to i64
  %1059 = load i32* %pix_y5066, align 4, !tbaa !3
  %1060 = trunc i64 %indvars.iv9000 to i32
  %add5067 = add nsw i32 %1059, %1060
  %idxprom5068 = sext i32 %add5067 to i64
  %arrayidx5069 = getelementptr inbounds i16** %1056, i64 %idxprom5068
  %1061 = load i16** %arrayidx5069, align 8, !tbaa !0
  %arrayidx5070 = getelementptr inbounds i16* %1061, i64 %idxprom5065
  %1062 = load i16* %arrayidx5070, align 2, !tbaa !4
  %conv5071 = zext i16 %1062 to i32
  %idxprom5074 = sext i32 %.pre9066.pre to i64
  %arrayidx5077 = getelementptr inbounds %struct.ImageParameters* %1055, i64 0, i32 42, i64 %idxprom5074, i64 %indvars.iv9000, i64 %indvars.iv9004
  %1063 = load i16* %arrayidx5077, align 2, !tbaa !4
  %conv5078 = zext i16 %1063 to i32
  %sub5079 = sub nsw i32 %conv5071, %conv5078
  %arrayidx5083 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv9000, i64 %indvars.iv9004
  store i32 %sub5079, i32* %arrayidx5083, align 4, !tbaa !3
  %indvars.iv.next9001 = add i64 %indvars.iv9000, 1
  %lftr.wideiv9002 = trunc i64 %indvars.iv.next9001 to i32
  %exitcond9003 = icmp eq i32 %lftr.wideiv9002, 16
  br i1 %exitcond9003, label %for.inc5087, label %for.body5062

for.inc5087:                                      ; preds = %for.body5062
  %indvars.iv.next9005 = add i64 %indvars.iv9004, 1
  %lftr.wideiv9006 = trunc i64 %indvars.iv.next9005 to i32
  %exitcond9007 = icmp eq i32 %lftr.wideiv9006, 16
  br i1 %exitcond9007, label %for.end5089, label %for.cond5059.preheader

for.end5089:                                      ; preds = %for.inc5087
  %residue_transform_flag5090 = getelementptr inbounds %struct.ImageParameters* %1055, i64 0, i32 164
  %1064 = load i32* %residue_transform_flag5090, align 4, !tbaa !3
  %tobool5091 = icmp eq i32 %1064, 0
  br i1 %tobool5091, label %if.end5200, label %for.cond5093.preheader

for.cond5093.preheader:                           ; preds = %for.end5089
  %1065 = load i16**** @imgUV_org, align 8, !tbaa !0
  %1066 = load i16*** %1065, align 8, !tbaa !0
  %arrayidx5145 = getelementptr inbounds i16*** %1065, i64 1
  %1067 = load i16*** %arrayidx5145, align 8, !tbaa !0
  br label %for.cond5097.preheader

for.cond5097.preheader:                           ; preds = %for.inc5197, %for.cond5093.preheader
  %indvars.iv9012 = phi i64 [ 0, %for.cond5093.preheader ], [ %indvars.iv.next9013, %for.inc5197 ]
  br label %for.body5100

for.body5100:                                     ; preds = %for.body5100, %for.cond5097.preheader
  %indvars.iv9008 = phi i64 [ 0, %for.cond5097.preheader ], [ %indvars.iv.next9009, %for.body5100 ]
  %1068 = load i32* %pix_x5063, align 4, !tbaa !3
  %1069 = trunc i64 %indvars.iv9008 to i32
  %add5102 = add nsw i32 %1068, %1069
  %idxprom5103 = sext i32 %add5102 to i64
  %1070 = load i32* %pix_y5066, align 4, !tbaa !3
  %1071 = trunc i64 %indvars.iv9012 to i32
  %add5105 = add nsw i32 %1070, %1071
  %idxprom5106 = sext i32 %add5105 to i64
  %arrayidx5108 = getelementptr inbounds i16** %1066, i64 %idxprom5106
  %1072 = load i16** %arrayidx5108, align 8, !tbaa !0
  %arrayidx5109 = getelementptr inbounds i16* %1072, i64 %idxprom5103
  %1073 = load i16* %arrayidx5109, align 2, !tbaa !4
  %conv5110 = zext i16 %1073 to i32
  %1074 = load i32* %c_ipred_mode, align 4, !tbaa !3
  %idxprom5114 = sext i32 %1074 to i64
  %arrayidx5118 = getelementptr inbounds %struct.ImageParameters* %1055, i64 0, i32 44, i64 0, i64 %idxprom5114, i64 %indvars.iv9008, i64 %indvars.iv9012
  %1075 = load i16* %arrayidx5118, align 2, !tbaa !4
  %conv5119 = zext i16 %1075 to i32
  %sub5120 = sub nsw i32 %conv5110, %conv5119
  %arrayidx5127 = getelementptr inbounds i16** %1056, i64 %idxprom5106
  %1076 = load i16** %arrayidx5127, align 8, !tbaa !0
  %arrayidx5128 = getelementptr inbounds i16* %1076, i64 %idxprom5103
  %1077 = load i16* %arrayidx5128, align 2, !tbaa !4
  %conv5129 = zext i16 %1077 to i32
  %1078 = load i32* %i16mode, align 4, !tbaa !3
  %idxprom5132 = sext i32 %1078 to i64
  %arrayidx5136 = getelementptr inbounds %struct.ImageParameters* %1055, i64 0, i32 42, i64 %idxprom5132, i64 %indvars.iv9012, i64 %indvars.iv9008
  %1079 = load i16* %arrayidx5136, align 2, !tbaa !4
  %conv5137 = zext i16 %1079 to i32
  %sub5138 = sub nsw i32 %conv5129, %conv5137
  %arrayidx5146 = getelementptr inbounds i16** %1067, i64 %idxprom5106
  %1080 = load i16** %arrayidx5146, align 8, !tbaa !0
  %arrayidx5147 = getelementptr inbounds i16* %1080, i64 %idxprom5103
  %1081 = load i16* %arrayidx5147, align 2, !tbaa !4
  %conv5148 = zext i16 %1081 to i32
  %arrayidx5157 = getelementptr inbounds %struct.ImageParameters* %1055, i64 0, i32 44, i64 1, i64 %idxprom5114, i64 %indvars.iv9008, i64 %indvars.iv9012
  %1082 = load i16* %arrayidx5157, align 2, !tbaa !4
  %conv5158 = zext i16 %1082 to i32
  %sub5159 = sub nsw i32 %conv5148, %conv5158
  %sub5160 = sub i32 %sub5159, %sub5120
  %arrayidx5164 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R, i64 0, i64 %indvars.iv9008, i64 %indvars.iv9012
  store i32 %sub5160, i32* %arrayidx5164, align 4, !tbaa !3
  %shr5169 = ashr i32 %sub5160, 1
  %add5170 = add nsw i32 %shr5169, %sub5120
  %sub5171 = sub i32 %sub5138, %add5170
  %arrayidx5175 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B, i64 0, i64 %indvars.iv9008, i64 %indvars.iv9012
  store i32 %sub5171, i32* %arrayidx5175, align 4, !tbaa !3
  %shr5180 = ashr i32 %sub5171, 1
  %add5181 = add nsw i32 %shr5180, %add5170
  %arrayidx5185 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_G, i64 0, i64 %indvars.iv9008, i64 %indvars.iv9012
  store i32 %add5181, i32* %arrayidx5185, align 4, !tbaa !3
  %arrayidx5193 = getelementptr inbounds %struct.ImageParameters* %1055, i64 0, i32 46, i64 %indvars.iv9008, i64 %indvars.iv9012
  store i32 %add5181, i32* %arrayidx5193, align 4, !tbaa !3
  %indvars.iv.next9009 = add i64 %indvars.iv9008, 1
  %lftr.wideiv9010 = trunc i64 %indvars.iv.next9009 to i32
  %exitcond9011 = icmp eq i32 %lftr.wideiv9010, 16
  br i1 %exitcond9011, label %for.inc5197, label %for.body5100

for.inc5197:                                      ; preds = %for.body5100
  %indvars.iv.next9013 = add i64 %indvars.iv9012, 1
  %lftr.wideiv9014 = trunc i64 %indvars.iv.next9013 to i32
  %exitcond9015 = icmp eq i32 %lftr.wideiv9014, 16
  br i1 %exitcond9015, label %if.end5200.loopexit, label %for.cond5097.preheader

if.end5200.loopexit:                              ; preds = %for.inc5197
  %.pre9067 = load i32* %i16mode, align 4, !tbaa !3
  br label %if.end5200

if.end5200:                                       ; preds = %if.end5200.loopexit, %for.end5089
  %1083 = phi i32 [ %.pre9067, %if.end5200.loopexit ], [ %.pre9066.pre, %for.end5089 ]
  store i32 10, i32* @best_mode, align 4, !tbaa !3
  %call5201 = call i32 @dct_luma_16x16(i32 %1083) #8
  store i32 %call5201, i32* %cbp5202, align 4, !tbaa !3
  %1084 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %residue_transform_flag5203 = getelementptr inbounds %struct.ImageParameters* %1084, i64 0, i32 164
  %1085 = load i32* %residue_transform_flag5203, align 4, !tbaa !3
  %tobool5204 = icmp eq i32 %1085, 0
  br i1 %tobool5204, label %if.end5558, label %for.cond5210.preheader

for.cond5210.preheader:                           ; preds = %if.end5200, %for.inc5235
  %indvars.iv9020 = phi i64 [ %indvars.iv.next9021, %for.inc5235 ], [ 0, %if.end5200 ]
  br label %for.body5213

for.body5213:                                     ; preds = %for.body5213, %for.cond5210.preheader
  %indvars.iv9016 = phi i64 [ 0, %for.cond5210.preheader ], [ %indvars.iv.next9017, %for.body5213 ]
  %arrayidx5218 = getelementptr inbounds %struct.ImageParameters* %1084, i64 0, i32 46, i64 %indvars.iv9016, i64 %indvars.iv9020
  %1086 = load i32* %arrayidx5218, align 4, !tbaa !3
  %arrayidx5222 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG, i64 0, i64 %indvars.iv9016, i64 %indvars.iv9020
  store i32 %1086, i32* %arrayidx5222, align 4, !tbaa !3
  %arrayidx5226 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_R, i64 0, i64 %indvars.iv9016, i64 %indvars.iv9020
  %1087 = load i32* %arrayidx5226, align 4, !tbaa !3
  store i32 %1087, i32* %arrayidx5218, align 4, !tbaa !3
  %indvars.iv.next9017 = add i64 %indvars.iv9016, 1
  %lftr.wideiv9018 = trunc i64 %indvars.iv.next9017 to i32
  %exitcond9019 = icmp eq i32 %lftr.wideiv9018, 16
  br i1 %exitcond9019, label %for.inc5235, label %for.body5213

for.inc5235:                                      ; preds = %for.body5213
  %indvars.iv.next9021 = add i64 %indvars.iv9020, 1
  %lftr.wideiv9022 = trunc i64 %indvars.iv.next9021 to i32
  %exitcond9023 = icmp eq i32 %lftr.wideiv9022, 16
  br i1 %exitcond9023, label %for.end5237, label %for.cond5210.preheader

for.end5237:                                      ; preds = %for.inc5235
  %call5238 = call i32 @dct_chroma(i32 0, i32 0) #8
  %1088 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %for.cond5243.preheader

for.cond5243.preheader:                           ; preds = %for.inc5268, %for.end5237
  %indvars.iv9028 = phi i64 [ 0, %for.end5237 ], [ %indvars.iv.next9029, %for.inc5268 ]
  br label %for.body5246

for.body5246:                                     ; preds = %for.body5246, %for.cond5243.preheader
  %indvars.iv9024 = phi i64 [ 0, %for.cond5243.preheader ], [ %indvars.iv.next9025, %for.body5246 ]
  %arrayidx5251 = getelementptr inbounds %struct.ImageParameters* %1088, i64 0, i32 46, i64 %indvars.iv9024, i64 %indvars.iv9028
  %1089 = load i32* %arrayidx5251, align 4, !tbaa !3
  %arrayidx5255 = getelementptr inbounds [16 x [16 x i32]]* @rec_resR, i64 0, i64 %indvars.iv9024, i64 %indvars.iv9028
  store i32 %1089, i32* %arrayidx5255, align 4, !tbaa !3
  %arrayidx5259 = getelementptr inbounds [16 x [16 x i32]]* @resTrans_B, i64 0, i64 %indvars.iv9024, i64 %indvars.iv9028
  %1090 = load i32* %arrayidx5259, align 4, !tbaa !3
  store i32 %1090, i32* %arrayidx5251, align 4, !tbaa !3
  %indvars.iv.next9025 = add i64 %indvars.iv9024, 1
  %lftr.wideiv9026 = trunc i64 %indvars.iv.next9025 to i32
  %exitcond9027 = icmp eq i32 %lftr.wideiv9026, 16
  br i1 %exitcond9027, label %for.inc5268, label %for.body5246

for.inc5268:                                      ; preds = %for.body5246
  %indvars.iv.next9029 = add i64 %indvars.iv9028, 1
  %lftr.wideiv9030 = trunc i64 %indvars.iv.next9029 to i32
  %exitcond9031 = icmp eq i32 %lftr.wideiv9030, 16
  br i1 %exitcond9031, label %for.end5270, label %for.cond5243.preheader

for.end5270:                                      ; preds = %for.inc5268
  %call5271 = call i32 @dct_chroma(i32 1, i32 %call5238) #8
  %1091 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %for.cond5276.preheader

for.cond5276.preheader:                           ; preds = %for.inc5292, %for.end5270
  %indvars.iv9036 = phi i64 [ 0, %for.end5270 ], [ %indvars.iv.next9037, %for.inc5292 ]
  br label %for.body5279

for.body5279:                                     ; preds = %for.body5279, %for.cond5276.preheader
  %indvars.iv9032 = phi i64 [ 0, %for.cond5276.preheader ], [ %indvars.iv.next9033, %for.body5279 ]
  %arrayidx5284 = getelementptr inbounds %struct.ImageParameters* %1091, i64 0, i32 46, i64 %indvars.iv9032, i64 %indvars.iv9036
  %1092 = load i32* %arrayidx5284, align 4, !tbaa !3
  %arrayidx5288 = getelementptr inbounds [16 x [16 x i32]]* @rec_resB, i64 0, i64 %indvars.iv9032, i64 %indvars.iv9036
  store i32 %1092, i32* %arrayidx5288, align 4, !tbaa !3
  %indvars.iv.next9033 = add i64 %indvars.iv9032, 1
  %lftr.wideiv9034 = trunc i64 %indvars.iv.next9033 to i32
  %exitcond9035 = icmp eq i32 %lftr.wideiv9034, 16
  br i1 %exitcond9035, label %for.inc5292, label %for.body5279

for.inc5292:                                      ; preds = %for.body5279
  %indvars.iv.next9037 = add i64 %indvars.iv9036, 1
  %lftr.wideiv9038 = trunc i64 %indvars.iv.next9037 to i32
  %exitcond9039 = icmp eq i32 %lftr.wideiv9038, 16
  br i1 %exitcond9039, label %for.end5294, label %for.cond5276.preheader

for.end5294:                                      ; preds = %for.inc5292
  %shl5295 = shl i32 %call5271, 4
  %1093 = load i32* %cbp5202, align 4, !tbaa !3
  %add5297 = add nsw i32 %1093, %shl5295
  store i32 %add5297, i32* %cbp5202, align 4, !tbaa !3
  %max_imgpel_value_uv = getelementptr inbounds %struct.ImageParameters* %1091, i64 0, i32 156
  %pix_x5396 = getelementptr inbounds %struct.ImageParameters* %1091, i64 0, i32 33
  %pix_y5399 = getelementptr inbounds %struct.ImageParameters* %1091, i64 0, i32 34
  %1094 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgUV5402 = getelementptr inbounds %struct.storable_picture* %1094, i64 0, i32 30
  %1095 = load i16**** %imgUV5402, align 8, !tbaa !0
  %1096 = load i16*** %1095, align 8, !tbaa !0
  %max_imgpel_value = getelementptr inbounds %struct.ImageParameters* %1091, i64 0, i32 155
  %imgY5468 = getelementptr inbounds %struct.storable_picture* %1094, i64 0, i32 25
  %1097 = load i16*** %imgY5468, align 8, !tbaa !0
  %arrayidx5543 = getelementptr inbounds i16*** %1095, i64 1
  %1098 = load i16*** %arrayidx5543, align 8, !tbaa !0
  %.pre9068.pre = load i32* %max_imgpel_value_uv, align 4, !tbaa !3
  %.pre9069.pre = load i32* %c_ipred_mode, align 4, !tbaa !3
  %.pre9070.pre = load i32* %pix_x5396, align 4, !tbaa !3
  %.pre9071.pre = load i32* %pix_y5399, align 4, !tbaa !3
  %.pre9072.pre = load i32* %max_imgpel_value, align 4, !tbaa !3
  %.pre9073.pre = load i32* %i16mode, align 4, !tbaa !3
  br label %for.cond5302.preheader

for.cond5302.preheader:                           ; preds = %for.inc5549, %for.end5294
  %indvars.iv9044 = phi i64 [ 0, %for.end5294 ], [ %indvars.iv.next9045, %for.inc5549 ]
  br label %for.body5305

for.body5305:                                     ; preds = %for.body5305, %for.cond5302.preheader
  %indvars.iv9040 = phi i64 [ 0, %for.cond5302.preheader ], [ %indvars.iv.next9041, %for.body5305 ]
  %arrayidx5309 = getelementptr inbounds [16 x [16 x i32]]* @rec_resG, i64 0, i64 %indvars.iv9040, i64 %indvars.iv9044
  %1099 = load i32* %arrayidx5309, align 4, !tbaa !3
  %arrayidx5313 = getelementptr inbounds [16 x [16 x i32]]* @rec_resB, i64 0, i64 %indvars.iv9040, i64 %indvars.iv9044
  %1100 = load i32* %arrayidx5313, align 4, !tbaa !3
  %shr5314 = ashr i32 %1100, 1
  %sub5315 = sub nsw i32 %1099, %shr5314
  %add5320 = add nsw i32 %sub5315, %1100
  %arrayidx5324 = getelementptr inbounds [16 x [16 x i32]]* @rec_resR, i64 0, i64 %indvars.iv9040, i64 %indvars.iv9044
  %1101 = load i32* %arrayidx5324, align 4, !tbaa !3
  %shr5325 = ashr i32 %1101, 1
  %sub5326 = sub nsw i32 %sub5315, %shr5325
  %add5331 = add nsw i32 %sub5326, %1101
  %idxprom5335 = sext i32 %.pre9069.pre to i64
  %arrayidx5340 = getelementptr inbounds %struct.ImageParameters* %1091, i64 0, i32 44, i64 0, i64 %idxprom5335, i64 %indvars.iv9040, i64 %indvars.iv9044
  %1102 = load i16* %arrayidx5340, align 2, !tbaa !4
  %conv5341 = zext i16 %1102 to i32
  %add5342 = add nsw i32 %conv5341, %sub5326
  %cmp5343 = icmp slt i32 %add5342, 0
  %.add5342 = select i1 %cmp5343, i32 0, i32 %add5342
  %cmp5360 = icmp slt i32 %.pre9068.pre, %.add5342
  %..add5342 = select i1 %cmp5360, i32 %.pre9068.pre, i32 %.add5342
  %conv5395 = trunc i32 %..add5342 to i16
  %1103 = trunc i64 %indvars.iv9040 to i32
  %add5397 = add nsw i32 %.pre9070.pre, %1103
  %idxprom5398 = sext i32 %add5397 to i64
  %1104 = trunc i64 %indvars.iv9044 to i32
  %add5400 = add nsw i32 %.pre9071.pre, %1104
  %idxprom5401 = sext i32 %add5400 to i64
  %arrayidx5404 = getelementptr inbounds i16** %1096, i64 %idxprom5401
  %1105 = load i16** %arrayidx5404, align 8, !tbaa !0
  %arrayidx5405 = getelementptr inbounds i16* %1105, i64 %idxprom5398
  store i16 %conv5395, i16* %arrayidx5405, align 2, !tbaa !4
  %idxprom5408 = sext i32 %.pre9073.pre to i64
  %arrayidx5412 = getelementptr inbounds %struct.ImageParameters* %1091, i64 0, i32 42, i64 %idxprom5408, i64 %indvars.iv9044, i64 %indvars.iv9040
  %1106 = load i16* %arrayidx5412, align 2, !tbaa !4
  %conv5413 = zext i16 %1106 to i32
  %add5414 = add nsw i32 %add5320, %conv5413
  %cmp5415 = icmp slt i32 %add5414, 0
  %.add5414 = select i1 %cmp5415, i32 0, i32 %add5414
  %cmp5430 = icmp slt i32 %.pre9072.pre, %.add5414
  %cond5460 = select i1 %cmp5430, i32 %.pre9072.pre, i32 %.add5414
  %conv5461 = trunc i32 %cond5460 to i16
  %arrayidx5469 = getelementptr inbounds i16** %1097, i64 %idxprom5401
  %1107 = load i16** %arrayidx5469, align 8, !tbaa !0
  %arrayidx5470 = getelementptr inbounds i16* %1107, i64 %idxprom5398
  store i16 %conv5461, i16* %arrayidx5470, align 2, !tbaa !4
  %arrayidx5480 = getelementptr inbounds %struct.ImageParameters* %1091, i64 0, i32 44, i64 1, i64 %idxprom5335, i64 %indvars.iv9040, i64 %indvars.iv9044
  %1108 = load i16* %arrayidx5480, align 2, !tbaa !4
  %conv5481 = zext i16 %1108 to i32
  %add5482 = add nsw i32 %add5331, %conv5481
  %cmp5483 = icmp slt i32 %add5482, 0
  %.add5482 = select i1 %cmp5483, i32 0, i32 %add5482
  %cmp5500 = icmp slt i32 %.pre9068.pre, %.add5482
  %..add5482 = select i1 %cmp5500, i32 %.pre9068.pre, i32 %.add5482
  %conv5535 = trunc i32 %..add5482 to i16
  %arrayidx5544 = getelementptr inbounds i16** %1098, i64 %idxprom5401
  %1109 = load i16** %arrayidx5544, align 8, !tbaa !0
  %arrayidx5545 = getelementptr inbounds i16* %1109, i64 %idxprom5398
  store i16 %conv5535, i16* %arrayidx5545, align 2, !tbaa !4
  %indvars.iv.next9041 = add i64 %indvars.iv9040, 1
  %lftr.wideiv9042 = trunc i64 %indvars.iv.next9041 to i32
  %exitcond9043 = icmp eq i32 %lftr.wideiv9042, 16
  br i1 %exitcond9043, label %for.inc5549, label %for.body5305

for.inc5549:                                      ; preds = %for.body5305
  %indvars.iv.next9045 = add i64 %indvars.iv9044, 1
  %lftr.wideiv9046 = trunc i64 %indvars.iv.next9045 to i32
  %exitcond9047 = icmp eq i32 %lftr.wideiv9046, 16
  br i1 %exitcond9047, label %if.end5558, label %for.cond5302.preheader

if.else5553:                                      ; preds = %if.then5049
  store i32 %tmp_8x8_flag.1, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  store i32 %965, i32* %NoMbPartLessThan8x8Flag, align 4, !tbaa !3
  br label %if.end5558

if.end5558:                                       ; preds = %for.inc5549, %for.inc4686, %for.inc4361, %for.inc4361.thread, %if.end5200, %if.end5046, %if.else5553
  %min_cost.8 = phi i32 [ %min_cost.7, %if.end5200 ], [ %min_cost.7, %if.else5553 ], [ %min_cost.7, %if.end5046 ], [ %min_cost.4, %for.inc4361.thread ], [ %min_cost.4, %for.inc4361 ], [ %min_cost.4, %for.inc4686 ], [ %min_cost.7, %for.inc5549 ]
  %cr_cbp.13 = phi i32 [ %cr_cbp.12, %if.end5200 ], [ %cr_cbp.12, %if.else5553 ], [ %cr_cbp.12, %if.end5046 ], [ %cr_cbp.08604, %for.inc4361.thread ], [ %cr_cbp.08604, %for.inc4361 ], [ %cr_cbp.08604, %for.inc4686 ], [ %call5271, %for.inc5549 ]
  %cmp5559 = icmp eq i32 %rerun.08605, 0
  br i1 %cmp5559, label %if.then5561, label %for.inc5577

if.then5561:                                      ; preds = %if.end5558
  %1110 = load i32* %mb_type4962, align 4, !tbaa !3
  switch i32 %1110, label %lor.rhs5569 [
    i32 10, label %for.inc5577
    i32 9, label %for.inc5577
    i32 13, label %for.inc5577
  ]

lor.rhs5569:                                      ; preds = %if.then5561
  br label %for.inc5577

for.inc5577:                                      ; preds = %lor.rhs5569, %if.then5561, %if.then5561, %if.then5561, %if.end5558
  %intra1.1 = phi i32 [ %intra1.08600, %if.end5558 ], [ 1, %if.then5561 ], [ 0, %lor.rhs5569 ], [ 1, %if.then5561 ], [ 1, %if.then5561 ]
  %inc5578 = add nsw i32 %rerun.08605, 1
  %cmp524 = icmp slt i32 %inc5578, %cond9171
  br i1 %cmp524, label %for.body526, label %for.end5579

for.end5579:                                      ; preds = %for.inc5577
  %1111 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %rdopt5580 = getelementptr inbounds %struct.InputParameters* %1111, i64 0, i32 85
  %1112 = load i32* %rdopt5580, align 4, !tbaa !3
  %tobool5581 = icmp eq i32 %1112, 0
  br i1 %tobool5581, label %if.else5601, label %if.then5582

if.then5582:                                      ; preds = %for.end5579
  %1113 = load i32* @cbp, align 4, !tbaa !3
  %cmp5583 = icmp ne i32 %1113, 0
  %1114 = load i32* @best_mode, align 4, !tbaa !3
  %cmp5586 = icmp eq i32 %1114, 10
  %or.cond6334 = or i1 %cmp5583, %cmp5586
  br i1 %or.cond6334, label %if.then5588, label %land.lhs.true5592

if.then5588:                                      ; preds = %if.then5582
  %prev_cbp = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 38
  store i32 1, i32* %prev_cbp, align 4, !tbaa !3
  br label %if.end5600

land.lhs.true5592:                                ; preds = %if.then5582
  %RCEnable = getelementptr inbounds %struct.InputParameters* %1111, i64 0, i32 127
  %1115 = load i32* %RCEnable, align 4, !tbaa !3
  %tobool5593 = icmp eq i32 %1115, 0
  br i1 %tobool5593, label %if.then5594, label %if.end5600

if.then5594:                                      ; preds = %land.lhs.true5592
  %delta_qp = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 2
  store i32 0, i32* %delta_qp, align 4, !tbaa !3
  %prev_qp = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 36
  %1116 = load i32* %prev_qp, align 4, !tbaa !3
  %qp5595 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 3
  store i32 %1116, i32* %qp5595, align 4, !tbaa !3
  %1117 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %qp5597 = getelementptr inbounds %struct.ImageParameters* %1117, i64 0, i32 10
  store i32 %1116, i32* %qp5597, align 4, !tbaa !3
  %prev_cbp5598 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 38
  store i32 0, i32* %prev_cbp5598, align 4, !tbaa !3
  br label %if.end5600

if.end5600:                                       ; preds = %land.lhs.true5592, %if.then5594, %if.then5588
  call void @set_stored_macroblock_parameters() #10
  br label %if.end5976

if.else5601:                                      ; preds = %for.end5579
  %1118 = load i32* @best_mode, align 4, !tbaa !3
  call void @SetModesAndRefframeForBlocks(i32 %1118) #10
  %1119 = load i32* @best_mode, align 4, !tbaa !3
  switch i32 %1119, label %if.end5759 [
    i32 8, label %if.then5604
    i32 13, label %for.cond5649.preheader
  ]

for.cond5649.preheader:                           ; preds = %if.else5601
  %1120 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y5657 = getelementptr inbounds %struct.ImageParameters* %1120, i64 0, i32 32
  %block_x5660 = getelementptr inbounds %struct.ImageParameters* %1120, i64 0, i32 31
  %ipredmode8x8 = getelementptr inbounds %struct.ImageParameters* %1120, i64 0, i32 26
  %1121 = load i32*** %ipredmode8x8, align 8, !tbaa !0
  %ipredmode5671 = getelementptr inbounds %struct.ImageParameters* %1120, i64 0, i32 25
  %1122 = load i32*** %ipredmode5671, align 8, !tbaa !0
  br label %for.cond5653.preheader

if.then5604:                                      ; preds = %if.else5601
  %1123 = load i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %tobool5606 = icmp ne i32 %1123, 0
  %1124 = load i32* @cbp8_8x8ts, align 4, !tbaa !3
  %cmp5608 = icmp eq i32 %1124, 0
  %or.cond6335 = and i1 %tobool5606, %cmp5608
  br i1 %or.cond6335, label %land.lhs.true5610, label %for.body5623.lr.ph

land.lhs.true5610:                                ; preds = %if.then5604
  %1125 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %AllowTransform8x85611 = getelementptr inbounds %struct.InputParameters* %1125, i64 0, i32 123
  %1126 = load i32* %AllowTransform8x85611, align 4, !tbaa !3
  %cmp5612 = icmp eq i32 %1126, 2
  br i1 %cmp5612, label %for.body5623.lr.ph, label %if.then5614

if.then5614:                                      ; preds = %land.lhs.true5610
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %for.body5623.lr.ph

for.body5623.lr.ph:                               ; preds = %if.then5604, %if.then5614, %land.lhs.true5610
  call void @SetCoeffAndReconstruction8x8(%struct.macroblock* %arrayidx) #10
  %1127 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y5617 = getelementptr inbounds %struct.ImageParameters* %1127, i64 0, i32 32
  %1128 = load i32* %block_y5617, align 4, !tbaa !3
  %block_x56268322 = getelementptr inbounds %struct.ImageParameters* %1127, i64 0, i32 31
  %1129 = sext i32 %1128 to i64
  %.pre9080 = load i32* %block_x56268322, align 4, !tbaa !3
  br label %for.body5630.lr.ph

for.body5630.lr.ph:                               ; preds = %for.inc5642, %for.body5623.lr.ph
  %1130 = phi i32 [ %.pre9080, %for.body5623.lr.ph ], [ %1134, %for.inc5642 ]
  %indvars.iv8634 = phi i64 [ %1129, %for.body5623.lr.ph ], [ %indvars.iv.next8635, %for.inc5642 ]
  %k.98332 = phi i32 [ 0, %for.body5623.lr.ph ], [ %inc5640, %for.inc5642 ]
  %1131 = sext i32 %1130 to i64
  %1132 = sext i32 %k.98332 to i64
  br label %for.body5630

for.body5630:                                     ; preds = %for.body5630.lr.ph, %for.body5630
  %indvars.iv8632 = phi i64 [ %1132, %for.body5630.lr.ph ], [ %indvars.iv.next8633, %for.body5630 ]
  %indvars.iv8630 = phi i64 [ %1131, %for.body5630.lr.ph ], [ %indvars.iv.next8631, %for.body5630 ]
  %k.108325 = phi i32 [ %k.98332, %for.body5630.lr.ph ], [ %inc5640, %for.body5630 ]
  %arrayidx5633 = getelementptr inbounds i32** %16, i64 %indvars.iv8630
  %1133 = load i32** %arrayidx5633, align 8, !tbaa !0
  %arrayidx5634 = getelementptr inbounds i32* %1133, i64 %indvars.iv8634
  store i32 2, i32* %arrayidx5634, align 4, !tbaa !3
  %arrayidx5637 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 10, i64 %indvars.iv8632
  store i32 2, i32* %arrayidx5637, align 4, !tbaa !3
  %indvars.iv.next8631 = add i64 %indvars.iv8630, 1
  %indvars.iv.next8633 = add i64 %indvars.iv8632, 1
  %inc5640 = add nsw i32 %k.108325, 1
  %1134 = load i32* %block_x56268322, align 4, !tbaa !3
  %1135 = add nsw i32 %1134, 3
  %1136 = trunc i64 %indvars.iv8630 to i32
  %cmp5628 = icmp slt i32 %1136, %1135
  br i1 %cmp5628, label %for.body5630, label %for.inc5642

for.inc5642:                                      ; preds = %for.body5630
  %.pre9081 = load i32* %block_y5617, align 4, !tbaa !3
  %indvars.iv.next8635 = add i64 %indvars.iv8634, 1
  %1137 = add nsw i32 %.pre9081, 3
  %1138 = trunc i64 %indvars.iv8634 to i32
  %cmp5621 = icmp slt i32 %1138, %1137
  br i1 %cmp5621, label %for.body5630.lr.ph, label %if.end5850

for.cond5653.preheader:                           ; preds = %for.inc5683, %for.cond5649.preheader
  %indvars.iv8665 = phi i64 [ 0, %for.cond5649.preheader ], [ %indvars.iv.next8666, %for.inc5683 ]
  %i.448341 = phi i32 [ 0, %for.cond5649.preheader ], [ %inc5684, %for.inc5683 ]
  br label %for.body5656

for.cond5686.preheader:                           ; preds = %for.inc5683
  %pix_x5698 = getelementptr inbounds %struct.ImageParameters* %1120, i64 0, i32 33
  %1139 = load i32* %pix_x5698, align 4, !tbaa !3
  %pix_y5701 = getelementptr inbounds %struct.ImageParameters* %1120, i64 0, i32 34
  %1140 = load i32* %pix_y5701, align 4, !tbaa !3
  %1141 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %imgY5704 = getelementptr inbounds %struct.storable_picture* %1141, i64 0, i32 25
  %1142 = load i16*** %imgY5704, align 8, !tbaa !0
  %1143 = sext i32 %1139 to i64
  %1144 = sext i32 %1140 to i64
  br label %for.cond5690.preheader

for.body5656:                                     ; preds = %for.body5656, %for.cond5653.preheader
  %indvars.iv8661 = phi i64 [ %indvars.iv8665, %for.cond5653.preheader ], [ %indvars.iv.next8662, %for.body5656 ]
  %j.438339 = phi i32 [ 0, %for.cond5653.preheader ], [ %inc5680, %for.body5656 ]
  %1145 = load i32* %block_y5657, align 4, !tbaa !3
  %add5658 = add nsw i32 %1145, %j.438339
  %idxprom5659 = sext i32 %add5658 to i64
  %1146 = load i32* %block_x5660, align 4, !tbaa !3
  %add5661 = add nsw i32 %1146, %i.448341
  %idxprom5662 = sext i32 %add5661 to i64
  %arrayidx5663 = getelementptr inbounds i32** %1121, i64 %idxprom5662
  %1147 = load i32** %arrayidx5663, align 8, !tbaa !0
  %arrayidx5664 = getelementptr inbounds i32* %1147, i64 %idxprom5659
  %1148 = load i32* %arrayidx5664, align 4, !tbaa !3
  %arrayidx5672 = getelementptr inbounds i32** %1122, i64 %idxprom5662
  %1149 = load i32** %arrayidx5672, align 8, !tbaa !0
  %arrayidx5673 = getelementptr inbounds i32* %1149, i64 %idxprom5659
  store i32 %1148, i32* %arrayidx5673, align 4, !tbaa !3
  %arrayidx5675 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 11, i64 %indvars.iv8661
  %1150 = load i32* %arrayidx5675, align 4, !tbaa !3
  %arrayidx5678 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 10, i64 %indvars.iv8661
  store i32 %1150, i32* %arrayidx5678, align 4, !tbaa !3
  %inc5680 = add nsw i32 %j.438339, 1
  %indvars.iv.next8662 = add i64 %indvars.iv8661, 1
  %exitcond8663 = icmp eq i32 %inc5680, 4
  br i1 %exitcond8663, label %for.inc5683, label %for.body5656

for.inc5683:                                      ; preds = %for.body5656
  %indvars.iv.next8666 = add i64 %indvars.iv8665, 4
  %inc5684 = add nsw i32 %i.448341, 1
  %exitcond8667 = icmp eq i32 %inc5684, 4
  br i1 %exitcond8667, label %for.cond5686.preheader, label %for.cond5653.preheader

for.cond5690.preheader:                           ; preds = %for.inc5710, %for.cond5686.preheader
  %indvars.iv8656 = phi i64 [ 0, %for.cond5686.preheader ], [ %indvars.iv.next8657, %for.inc5710 ]
  %1151 = add nsw i64 %1144, %indvars.iv8656
  %arrayidx5705 = getelementptr inbounds i16** %1142, i64 %1151
  %1152 = load i16** %arrayidx5705, align 8, !tbaa !0
  br label %for.body5693

for.body5693:                                     ; preds = %for.body5693, %for.cond5690.preheader
  %indvars.iv8650 = phi i64 [ 0, %for.cond5690.preheader ], [ %indvars.iv.next8651, %for.body5693 ]
  %arrayidx5697 = getelementptr inbounds [16 x [16 x i16]]* @temp_imgY, i64 0, i64 %indvars.iv8656, i64 %indvars.iv8650
  %1153 = load i16* %arrayidx5697, align 2, !tbaa !4
  %1154 = add nsw i64 %1143, %indvars.iv8650
  %arrayidx5706 = getelementptr inbounds i16* %1152, i64 %1154
  store i16 %1153, i16* %arrayidx5706, align 2, !tbaa !4
  %indvars.iv.next8651 = add i64 %indvars.iv8650, 1
  %lftr.wideiv8653 = trunc i64 %indvars.iv.next8651 to i32
  %exitcond8654 = icmp eq i32 %lftr.wideiv8653, 16
  br i1 %exitcond8654, label %for.inc5710, label %for.body5693

for.inc5710:                                      ; preds = %for.body5693
  %indvars.iv.next8657 = add i64 %indvars.iv8656, 1
  %lftr.wideiv8659 = trunc i64 %indvars.iv.next8657 to i32
  %exitcond8660 = icmp eq i32 %lftr.wideiv8659, 16
  br i1 %exitcond8660, label %for.end5712, label %for.cond5690.preheader

for.end5712:                                      ; preds = %for.inc5710
  %residue_transform_flag5713 = getelementptr inbounds %struct.ImageParameters* %1120, i64 0, i32 164
  %1155 = load i32* %residue_transform_flag5713, align 4, !tbaa !3
  %tobool5714 = icmp eq i32 %1155, 0
  br i1 %tobool5714, label %if.end5759thread-pre-split, label %for.cond5716.preheader

for.cond5716.preheader:                           ; preds = %for.end5712
  %imgUV5734 = getelementptr inbounds %struct.storable_picture* %1141, i64 0, i32 30
  %1156 = load i16**** %imgUV5734, align 8, !tbaa !0
  %1157 = load i16*** %1156, align 8, !tbaa !0
  %arrayidx5749 = getelementptr inbounds i16*** %1156, i64 1
  %1158 = load i16*** %arrayidx5749, align 8, !tbaa !0
  br label %for.cond5720.preheader

for.cond5720.preheader:                           ; preds = %for.inc5755, %for.cond5716.preheader
  %indvars.iv8644 = phi i64 [ 0, %for.cond5716.preheader ], [ %indvars.iv.next8645, %for.inc5755 ]
  %1159 = add nsw i64 %1144, %indvars.iv8644
  %arrayidx5736 = getelementptr inbounds i16** %1157, i64 %1159
  %1160 = load i16** %arrayidx5736, align 8, !tbaa !0
  %arrayidx5750 = getelementptr inbounds i16** %1158, i64 %1159
  %1161 = load i16** %arrayidx5750, align 8, !tbaa !0
  br label %for.body5723

for.body5723:                                     ; preds = %for.body5723, %for.cond5720.preheader
  %indvars.iv8636 = phi i64 [ 0, %for.cond5720.preheader ], [ %indvars.iv.next8637, %for.body5723 ]
  %arrayidx5727 = getelementptr inbounds [16 x [16 x i16]]* @temp_imgU, i64 0, i64 %indvars.iv8644, i64 %indvars.iv8636
  %1162 = load i16* %arrayidx5727, align 2, !tbaa !4
  %1163 = add nsw i64 %1143, %indvars.iv8636
  %arrayidx5737 = getelementptr inbounds i16* %1160, i64 %1163
  store i16 %1162, i16* %arrayidx5737, align 2, !tbaa !4
  %arrayidx5741 = getelementptr inbounds [16 x [16 x i16]]* @temp_imgV, i64 0, i64 %indvars.iv8644, i64 %indvars.iv8636
  %1164 = load i16* %arrayidx5741, align 2, !tbaa !4
  %arrayidx5751 = getelementptr inbounds i16* %1161, i64 %1163
  store i16 %1164, i16* %arrayidx5751, align 2, !tbaa !4
  %indvars.iv.next8637 = add i64 %indvars.iv8636, 1
  %lftr.wideiv8640 = trunc i64 %indvars.iv.next8637 to i32
  %exitcond8641 = icmp eq i32 %lftr.wideiv8640, 16
  br i1 %exitcond8641, label %for.inc5755, label %for.body5723

for.inc5755:                                      ; preds = %for.body5723
  %indvars.iv.next8645 = add i64 %indvars.iv8644, 1
  %lftr.wideiv8648 = trunc i64 %indvars.iv.next8645 to i32
  %exitcond8649 = icmp eq i32 %lftr.wideiv8648, 16
  br i1 %exitcond8649, label %if.end5759thread-pre-split, label %for.cond5720.preheader

if.end5759thread-pre-split:                       ; preds = %for.inc5755, %for.end5712
  %.pr8293 = load i32* @best_mode, align 4, !tbaa !3
  br label %if.end5759

if.end5759:                                       ; preds = %if.end5759thread-pre-split, %if.else5601
  %1165 = phi i32 [ %.pr8293, %if.end5759thread-pre-split ], [ %1119, %if.else5601 ]
  switch i32 %1165, label %for.body5772.lr.ph [
    i32 13, label %if.end5850
    i32 9, label %if.end5850
  ]

for.body5772.lr.ph:                               ; preds = %if.end5759
  %1166 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %block_y5766 = getelementptr inbounds %struct.ImageParameters* %1166, i64 0, i32 32
  %1167 = load i32* %block_y5766, align 4, !tbaa !3
  %block_x57758312 = getelementptr inbounds %struct.ImageParameters* %1166, i64 0, i32 31
  %1168 = sext i32 %1167 to i64
  %.pre9077 = load i32* %block_x57758312, align 4, !tbaa !3
  br label %for.body5779.lr.ph

for.body5779.lr.ph:                               ; preds = %for.inc5791, %for.body5772.lr.ph
  %1169 = phi i32 [ %.pre9077, %for.body5772.lr.ph ], [ %1173, %for.inc5791 ]
  %indvars.iv8628 = phi i64 [ %1168, %for.body5772.lr.ph ], [ %indvars.iv.next8629, %for.inc5791 ]
  %k.138320 = phi i32 [ 0, %for.body5772.lr.ph ], [ %inc5789, %for.inc5791 ]
  %1170 = sext i32 %1169 to i64
  %1171 = sext i32 %k.138320 to i64
  br label %for.body5779

for.body5779:                                     ; preds = %for.body5779.lr.ph, %for.body5779
  %indvars.iv8626 = phi i64 [ %1171, %for.body5779.lr.ph ], [ %indvars.iv.next8627, %for.body5779 ]
  %indvars.iv8624 = phi i64 [ %1170, %for.body5779.lr.ph ], [ %indvars.iv.next8625, %for.body5779 ]
  %k.148315 = phi i32 [ %k.138320, %for.body5779.lr.ph ], [ %inc5789, %for.body5779 ]
  %arrayidx5782 = getelementptr inbounds i32** %16, i64 %indvars.iv8624
  %1172 = load i32** %arrayidx5782, align 8, !tbaa !0
  %arrayidx5783 = getelementptr inbounds i32* %1172, i64 %indvars.iv8628
  store i32 2, i32* %arrayidx5783, align 4, !tbaa !3
  %arrayidx5786 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 10, i64 %indvars.iv8626
  store i32 2, i32* %arrayidx5786, align 4, !tbaa !3
  %indvars.iv.next8625 = add i64 %indvars.iv8624, 1
  %indvars.iv.next8627 = add i64 %indvars.iv8626, 1
  %inc5789 = add nsw i32 %k.148315, 1
  %1173 = load i32* %block_x57758312, align 4, !tbaa !3
  %1174 = add nsw i32 %1173, 3
  %1175 = trunc i64 %indvars.iv8624 to i32
  %cmp5777 = icmp slt i32 %1175, %1174
  br i1 %cmp5777, label %for.body5779, label %for.inc5791

for.inc5791:                                      ; preds = %for.body5779
  %.pre9078 = load i32* %block_y5766, align 4, !tbaa !3
  %indvars.iv.next8629 = add i64 %indvars.iv8628, 1
  %1176 = add nsw i32 %.pre9078, 3
  %1177 = trunc i64 %indvars.iv8628 to i32
  %cmp5770 = icmp slt i32 %1177, %1176
  br i1 %cmp5770, label %for.body5779.lr.ph, label %for.end5793

for.end5793:                                      ; preds = %for.inc5791
  %.pre9076 = load i32* @best_mode, align 4, !tbaa !3
  %cmp5794 = icmp eq i32 %.pre9076, 10
  br i1 %cmp5794, label %if.end5850, label %if.then5796

if.then5796:                                      ; preds = %for.end5793
  %.off8145 = add i32 %.pre9076, -1
  %1178 = icmp ult i32 %.off8145, 3
  br i1 %1178, label %if.then5802, label %if.end5804

if.then5802:                                      ; preds = %if.then5796
  store i32 %best_transform_flag.3, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end5804

if.end5804:                                       ; preds = %if.then5802, %if.then5796
  call void (...)* @LumaResidualCoding() #8
  %1179 = load i32* %cbp5202, align 4, !tbaa !3
  %1180 = load i32* @best_mode, align 4, !tbaa !3
  %1181 = or i32 %1180, %1179
  %1182 = icmp eq i32 %1181, 0
  br i1 %1182, label %if.then5811, label %for.cond5814.preheader

if.then5811:                                      ; preds = %if.end5804
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %for.cond5814.preheader

for.cond5814.preheader:                           ; preds = %if.then5811, %if.end5804
  %1183 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %pix_x5822 = getelementptr inbounds %struct.ImageParameters* %1183, i64 0, i32 33
  %pix_y5825 = getelementptr inbounds %struct.ImageParameters* %1183, i64 0, i32 34
  %1184 = load i16*** @imgY_org, align 8, !tbaa !0
  br label %for.cond5818.preheader

for.cond5818.preheader:                           ; preds = %for.inc5845, %for.cond5814.preheader
  %indvars.iv8620 = phi i64 [ 0, %for.cond5814.preheader ], [ %indvars.iv.next8621, %for.inc5845 ]
  br label %for.body5821

for.body5821:                                     ; preds = %for.body5821, %for.cond5818.preheader
  %indvars.iv = phi i64 [ 0, %for.cond5818.preheader ], [ %indvars.iv.next, %for.body5821 ]
  %1185 = load i32* %pix_x5822, align 4, !tbaa !3
  %1186 = trunc i64 %indvars.iv8620 to i32
  %add5823 = add nsw i32 %1185, %1186
  %idxprom5824 = sext i32 %add5823 to i64
  %1187 = load i32* %pix_y5825, align 4, !tbaa !3
  %1188 = trunc i64 %indvars.iv to i32
  %add5826 = add nsw i32 %1187, %1188
  %idxprom5827 = sext i32 %add5826 to i64
  %arrayidx5828 = getelementptr inbounds i16** %1184, i64 %idxprom5827
  %1189 = load i16** %arrayidx5828, align 8, !tbaa !0
  %arrayidx5829 = getelementptr inbounds i16* %1189, i64 %idxprom5824
  %1190 = load i16* %arrayidx5829, align 2, !tbaa !4
  %conv5830 = zext i16 %1190 to i32
  %arrayidx5835 = getelementptr inbounds %struct.ImageParameters* %1183, i64 0, i32 45, i64 %indvars.iv8620, i64 %indvars.iv
  %1191 = load i16* %arrayidx5835, align 2, !tbaa !4
  %conv5836 = zext i16 %1191 to i32
  %sub5837 = sub nsw i32 %conv5830, %conv5836
  %arrayidx5841 = getelementptr inbounds [16 x [16 x i32]]* @diffy, i64 0, i64 %indvars.iv, i64 %indvars.iv8620
  store i32 %sub5837, i32* %arrayidx5841, align 4, !tbaa !3
  %indvars.iv.next = add i64 %indvars.iv, 1
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32
  %exitcond = icmp eq i32 %lftr.wideiv, 16
  br i1 %exitcond, label %for.inc5845, label %for.body5821

for.inc5845:                                      ; preds = %for.body5821
  %indvars.iv.next8621 = add i64 %indvars.iv8620, 1
  %lftr.wideiv8622 = trunc i64 %indvars.iv.next8621 to i32
  %exitcond8623 = icmp eq i32 %lftr.wideiv8622, 16
  br i1 %exitcond8623, label %if.end5850, label %for.cond5818.preheader

if.end5850:                                       ; preds = %for.inc5642, %for.inc5845, %if.end5759, %if.end5759, %for.end5793
  %1192 = load i32* %cbp5202, align 4, !tbaa !3
  %and5852 = and i32 %1192, 15
  %cmp5853 = icmp eq i32 %and5852, 0
  br i1 %cmp5853, label %land.lhs.true5855, label %if.end5865

land.lhs.true5855:                                ; preds = %if.end5850
  %1193 = load i32* %mb_type4962, align 4, !tbaa !3
  switch i32 %1193, label %if.then5863 [
    i32 9, label %if.end5865
    i32 13, label %if.end5865
  ]

if.then5863:                                      ; preds = %land.lhs.true5855
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  br label %if.end5865

if.end5865:                                       ; preds = %land.lhs.true5855, %land.lhs.true5855, %if.end5850, %if.then5863
  %1194 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %yuv_format5866 = getelementptr inbounds %struct.ImageParameters* %1194, i64 0, i32 159
  %1195 = load i32* %yuv_format5866, align 4, !tbaa !3
  %cmp5867 = icmp eq i32 %1195, 0
  br i1 %cmp5867, label %if.end5870, label %if.then5869

if.then5869:                                      ; preds = %if.end5865
  call void @IntraChromaPrediction(i32* null, i32* null, i32* null) #8
  %.pre9079 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  br label %if.end5870

if.end5870:                                       ; preds = %if.end5865, %if.then5869
  %1196 = phi %struct.ImageParameters* [ %1194, %if.end5865 ], [ %.pre9079, %if.then5869 ]
  %i16offset = getelementptr inbounds %struct.ImageParameters* %1196, i64 0, i32 85
  store i32 0, i32* %i16offset, align 4, !tbaa !3
  store i32 0, i32* %dummy, align 4, !tbaa !3
  %residue_transform_flag5871 = getelementptr inbounds %struct.ImageParameters* %1196, i64 0, i32 164
  %1197 = load i32* %residue_transform_flag5871, align 4, !tbaa !3
  %tobool5872 = icmp eq i32 %1197, 0
  br i1 %tobool5872, label %land.lhs.true5882, label %land.lhs.true5873

land.lhs.true5873:                                ; preds = %if.end5870
  %1198 = load i32* @best_mode, align 4, !tbaa !3
  %.off = add i32 %1198, -9
  %1199 = icmp ult i32 %.off, 2
  %cmp5880 = icmp eq i32 %1198, 13
  %or.cond6340 = or i1 %1199, %cmp5880
  br i1 %or.cond6340, label %if.end5887, label %land.lhs.true5882

land.lhs.true5882:                                ; preds = %if.end5870, %land.lhs.true5873
  %yuv_format5883 = getelementptr inbounds %struct.ImageParameters* %1196, i64 0, i32 159
  %1200 = load i32* %yuv_format5883, align 4, !tbaa !3
  %cmp5884 = icmp eq i32 %1200, 0
  br i1 %cmp5884, label %if.end5887thread-pre-split, label %if.then5886

if.then5886:                                      ; preds = %land.lhs.true5882
  call void @ChromaResidualCoding(i32* %dummy) #8
  br label %if.end5887thread-pre-split

if.end5887thread-pre-split:                       ; preds = %land.lhs.true5882, %if.then5886
  %.pr8294 = load i32* @best_mode, align 4, !tbaa !3
  br label %if.end5887

if.end5887:                                       ; preds = %if.end5887thread-pre-split, %land.lhs.true5873
  %1201 = phi i32 [ %.pr8294, %if.end5887thread-pre-split ], [ %1198, %land.lhs.true5873 ]
  %cmp5888 = icmp eq i32 %1201, 10
  br i1 %cmp5888, label %if.then5890, label %if.end5894

if.then5890:                                      ; preds = %if.end5887
  %1202 = load i32* %cbp5202, align 4, !tbaa !3
  %1203 = load i32* %i16mode, align 4, !tbaa !3
  %and.i = and i32 %1202, 15
  %tobool.i = icmp ne i32 %and.i, 0
  %cond.i = select i1 %tobool.i, i32 13, i32 1
  %and1.i = lshr i32 %1202, 2
  %shr4.i = and i32 %and1.i, 12
  %add.i = add i32 %shr4.i, %1203
  %add2.i = add i32 %add.i, %cond.i
  %1204 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %i16offset5893 = getelementptr inbounds %struct.ImageParameters* %1204, i64 0, i32 85
  store i32 %add2.i, i32* %i16offset5893, align 4, !tbaa !3
  br label %if.end5894

if.end5894:                                       ; preds = %if.then5890, %if.end5887
  call void @SetMotionVectorsMB(%struct.macroblock* %arrayidx, i32 %conv16) #10
  %1205 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %type5895 = getelementptr inbounds %struct.ImageParameters* %1205, i64 0, i32 6
  %1206 = load i32* %type5895, align 4, !tbaa !3
  %cmp5896 = icmp eq i32 %1206, 0
  br i1 %cmp5896, label %land.lhs.true5902, label %lor.lhs.false5898

lor.lhs.false5898:                                ; preds = %if.end5894
  %cmp5900 = icmp eq i32 %1206, 3
  %1207 = load i32* @best_mode, align 4, !tbaa !3
  %cmp5903 = icmp eq i32 %1207, 1
  %or.cond6341 = and i1 %cmp5900, %cmp5903
  br i1 %or.cond6341, label %land.lhs.true5905, label %if.end5971

land.lhs.true5902:                                ; preds = %if.end5894
  %.old = load i32* @best_mode, align 4, !tbaa !3
  %cmp5903.old = icmp eq i32 %.old, 1
  br i1 %cmp5903.old, label %land.lhs.true5905, label %if.end5971

land.lhs.true5905:                                ; preds = %lor.lhs.false5898, %land.lhs.true5902
  %1208 = load i32* %cbp5202, align 4, !tbaa !3
  %cmp5907 = icmp eq i32 %1208, 0
  br i1 %cmp5907, label %land.lhs.true5909, label %if.end5971

land.lhs.true5909:                                ; preds = %land.lhs.true5905
  %block_y5910 = getelementptr inbounds %struct.ImageParameters* %1205, i64 0, i32 32
  %1209 = load i32* %block_y5910, align 4, !tbaa !3
  %idxprom5911 = sext i32 %1209 to i64
  %block_x5912 = getelementptr inbounds %struct.ImageParameters* %1205, i64 0, i32 31
  %1210 = load i32* %block_x5912, align 4, !tbaa !3
  %idxprom5913 = sext i32 %1210 to i64
  %1211 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %ref_idx5914 = getelementptr inbounds %struct.storable_picture* %1211, i64 0, i32 32
  %1212 = load i16**** %ref_idx5914, align 8, !tbaa !0
  %1213 = load i16*** %1212, align 8, !tbaa !0
  %arrayidx5916 = getelementptr inbounds i16** %1213, i64 %idxprom5913
  %1214 = load i16** %arrayidx5916, align 8, !tbaa !0
  %arrayidx5917 = getelementptr inbounds i16* %1214, i64 %idxprom5911
  %1215 = load i16* %arrayidx5917, align 2, !tbaa !4
  %cmp5919 = icmp eq i16 %1215, 0
  br i1 %cmp5919, label %land.lhs.true5921, label %if.end5971

land.lhs.true5921:                                ; preds = %land.lhs.true5909
  %mv5926 = getelementptr inbounds %struct.storable_picture* %1211, i64 0, i32 35
  %1216 = load i16***** %mv5926, align 8, !tbaa !0
  %1217 = load i16**** %1216, align 8, !tbaa !0
  %arrayidx5928 = getelementptr inbounds i16*** %1217, i64 %idxprom5913
  %1218 = load i16*** %arrayidx5928, align 8, !tbaa !0
  %arrayidx5929 = getelementptr inbounds i16** %1218, i64 %idxprom5911
  %1219 = load i16** %arrayidx5929, align 8, !tbaa !0
  %1220 = load i16* %1219, align 2, !tbaa !4
  %1221 = load i16****** %17, align 8, !tbaa !0
  %1222 = load i16***** %1221, align 8, !tbaa !0
  %1223 = load i16**** %1222, align 8, !tbaa !0
  %1224 = load i16*** %1223, align 8, !tbaa !0
  %1225 = load i16** %1224, align 8, !tbaa !0
  %1226 = load i16* %1225, align 2, !tbaa !4
  %cmp5939 = icmp eq i16 %1220, %1226
  br i1 %cmp5939, label %land.lhs.true5941, label %if.end5971

land.lhs.true5941:                                ; preds = %land.lhs.true5921
  %arrayidx5950 = getelementptr inbounds i16* %1219, i64 1
  %1227 = load i16* %arrayidx5950, align 2, !tbaa !4
  %arrayidx5957 = getelementptr inbounds i16* %1225, i64 1
  %1228 = load i16* %arrayidx5957, align 2, !tbaa !4
  %cmp5959 = icmp eq i16 %1227, %1228
  br i1 %cmp5959, label %if.then5961, label %if.end5971

if.then5961:                                      ; preds = %land.lhs.true5941
  %arrayidx5968 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 14, i64 0
  store i32 0, i32* %mb_type4962, align 4, !tbaa !3
  store i32 0, i32* %luma_transform_size_8x8_flag4691, align 4, !tbaa !3
  %1229 = bitcast i32* %arrayidx5968 to i8*
  call void @llvm.memset.p0i8.i64(i8* %1229, i8 0, i64 16, i32 4, i1 false)
  br label %if.end5971

if.end5971:                                       ; preds = %if.then5961, %land.lhs.true5941, %land.lhs.true5921, %land.lhs.true5909, %land.lhs.true5905, %land.lhs.true5902, %lor.lhs.false5898
  %MbaffFrameFlag5972 = getelementptr inbounds %struct.ImageParameters* %1205, i64 0, i32 90
  %1230 = load i32* %MbaffFrameFlag5972, align 4, !tbaa !3
  %tobool5973 = icmp eq i32 %1230, 0
  br i1 %tobool5973, label %if.end5976, label %if.then5974

if.then5974:                                      ; preds = %if.end5971
  call void @set_mbaff_parameters() #10
  br label %if.end5976

if.end5976:                                       ; preds = %if.end5971, %if.then5974, %if.end5600
  %1231 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %RCEnable5977 = getelementptr inbounds %struct.InputParameters* %1231, i64 0, i32 127
  %1232 = load i32* %RCEnable5977, align 4, !tbaa !3
  %tobool5978 = icmp eq i32 %1232, 0
  br i1 %tobool5978, label %if.end6025, label %if.then5979

if.then5979:                                      ; preds = %if.end5976
  %1233 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %type5980 = getelementptr inbounds %struct.ImageParameters* %1233, i64 0, i32 6
  %1234 = load i32* %type5980, align 4, !tbaa !3
  %cmp5981 = icmp eq i32 %1234, 0
  br i1 %cmp5981, label %if.then5983, label %if.end6025

if.then5983:                                      ; preds = %if.then5979
  %call5984 = call double (...)* @calc_MAD() #8
  %1235 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %current_mb_nr5985 = getelementptr inbounds %struct.ImageParameters* %1235, i64 0, i32 3
  %1236 = load i32* %current_mb_nr5985, align 4, !tbaa !3
  %idxprom5986 = sext i32 %1236 to i64
  %MADofMB = getelementptr inbounds %struct.ImageParameters* %1235, i64 0, i32 131
  %1237 = load double** %MADofMB, align 8, !tbaa !0
  %arrayidx5987 = getelementptr inbounds double* %1237, i64 %idxprom5986
  store double %call5984, double* %arrayidx5987, align 8, !tbaa !6
  %1238 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %basicunit = getelementptr inbounds %struct.InputParameters* %1238, i64 0, i32 130
  %1239 = load i32* %basicunit, align 4, !tbaa !3
  %Frame_Total_Number_MB = getelementptr inbounds %struct.ImageParameters* %1235, i64 0, i32 136
  %1240 = load i32* %Frame_Total_Number_MB, align 4, !tbaa !3
  %cmp5988 = icmp slt i32 %1239, %1240
  br i1 %cmp5988, label %if.then5990, label %if.end6025

if.then5990:                                      ; preds = %if.then5983
  %TotalMADBasicUnit = getelementptr inbounds %struct.ImageParameters* %1235, i64 0, i32 123
  %1241 = load double* %TotalMADBasicUnit, align 8, !tbaa !6
  %add5995 = fadd double %call5984, %1241
  store double %add5995, double* %TotalMADBasicUnit, align 8, !tbaa !6
  %1242 = load i32* @cbp, align 4, !tbaa !3
  %cmp5996 = icmp ne i32 %1242, 0
  %1243 = load i32* @best_mode, align 4, !tbaa !3
  %cmp5999 = icmp eq i32 %1243, 10
  %or.cond6343 = or i1 %cmp5996, %cmp5999
  br i1 %or.cond6343, label %if.then6001, label %if.else6003

if.then6001:                                      ; preds = %if.then5990
  %prev_cbp6002 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 38
  store i32 1, i32* %prev_cbp6002, align 4, !tbaa !3
  br label %if.end6010

if.else6003:                                      ; preds = %if.then5990
  %delta_qp6004 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 2
  store i32 0, i32* %delta_qp6004, align 4, !tbaa !3
  %prev_qp6005 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 36
  %1244 = load i32* %prev_qp6005, align 4, !tbaa !3
  %qp6006 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 3
  store i32 %1244, i32* %qp6006, align 4, !tbaa !3
  %qp6008 = getelementptr inbounds %struct.ImageParameters* %1235, i64 0, i32 10
  store i32 %1244, i32* %qp6008, align 4, !tbaa !3
  %prev_cbp6009 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 38
  store i32 0, i32* %prev_cbp6009, align 4, !tbaa !3
  br label %if.end6010

if.end6010:                                       ; preds = %if.else6003, %if.then6001
  %MbInterlace = getelementptr inbounds %struct.InputParameters* %1238, i64 0, i32 92
  %1245 = load i32* %MbInterlace, align 4, !tbaa !3
  %tobool6011 = icmp eq i32 %1245, 0
  br i1 %tobool6011, label %if.end6025, label %if.then6012

if.then6012:                                      ; preds = %if.end6010
  %mb_field6013 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 22
  %1246 = load i32* %mb_field6013, align 4, !tbaa !3
  %tobool6014 = icmp eq i32 %1246, 0
  %delta_qp6019 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 2
  %1247 = load i32* %delta_qp6019, align 4, !tbaa !3
  br i1 %tobool6014, label %if.then6015, label %if.else6018

if.then6015:                                      ; preds = %if.then6012
  store i32 %1247, i32* @DELTA_QP, align 4, !tbaa !3
  %qp6017 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 3
  %1248 = load i32* %qp6017, align 4, !tbaa !3
  store i32 %1248, i32* @QP, align 4, !tbaa !3
  br label %if.end6025

if.else6018:                                      ; preds = %if.then6012
  store i32 %1247, i32* @DELTA_QP2, align 4, !tbaa !3
  %qp6020 = getelementptr inbounds %struct.macroblock* %15, i64 %idxprom, i32 3
  %1249 = load i32* %qp6020, align 4, !tbaa !3
  store i32 %1249, i32* @QP2, align 4, !tbaa !3
  br label %if.end6025

if.end6025:                                       ; preds = %if.end6010, %if.end5976, %if.then5979, %if.else6018, %if.then6015, %if.then5983
  %1250 = phi %struct.InputParameters* [ %1238, %if.end6010 ], [ %1231, %if.end5976 ], [ %1231, %if.then5979 ], [ %1238, %if.else6018 ], [ %1238, %if.then6015 ], [ %1238, %if.then5983 ]
  %rdopt6026 = getelementptr inbounds %struct.InputParameters* %1250, i64 0, i32 85
  %1251 = load i32* %rdopt6026, align 4, !tbaa !3
  %tobool6027 = icmp eq i32 %1251, 0
  br i1 %tobool6027, label %if.else6030, label %if.then6028

if.then6028:                                      ; preds = %if.end6025
  %1252 = load double* %min_rdcost, align 8, !tbaa !6
  %1253 = load %struct.RD_DATA** @rdopt, align 8, !tbaa !0
  %min_rdcost6029 = getelementptr inbounds %struct.RD_DATA* %1253, i64 0, i32 0
  store double %1252, double* %min_rdcost6029, align 8, !tbaa !6
  br label %if.end6033

if.else6030:                                      ; preds = %if.end6025
  %conv6031 = sitofp i32 %min_cost.8 to double
  %1254 = load %struct.RD_DATA** @rdopt, align 8, !tbaa !0
  %min_rdcost6032 = getelementptr inbounds %struct.RD_DATA* %1254, i64 0, i32 0
  store double %conv6031, double* %min_rdcost6032, align 8, !tbaa !6
  br label %if.end6033

if.end6033:                                       ; preds = %if.else6030, %if.then6028
  %1255 = phi %struct.RD_DATA* [ %1254, %if.else6030 ], [ %1253, %if.then6028 ]
  %1256 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %MbaffFrameFlag6034 = getelementptr inbounds %struct.ImageParameters* %1256, i64 0, i32 90
  %1257 = load i32* %MbaffFrameFlag6034, align 4, !tbaa !3
  %tobool6035 = icmp eq i32 %1257, 0
  br i1 %tobool6035, label %if.end6073, label %if.then6036

if.then6036:                                      ; preds = %if.end6033
  %current_mb_nr6037 = getelementptr inbounds %struct.ImageParameters* %1256, i64 0, i32 3
  %1258 = load i32* %current_mb_nr6037, align 4, !tbaa !3
  %rem60388144 = and i32 %1258, 1
  %tobool6039 = icmp eq i32 %rem60388144, 0
  br i1 %tobool6039, label %if.end6073, label %if.then6040

if.then6040:                                      ; preds = %if.then6036
  %1259 = load i32* %mb_type4962, align 4, !tbaa !3
  %tobool6042 = icmp eq i32 %1259, 0
  br i1 %tobool6042, label %cond.false6044, label %if.end6073

cond.false6044:                                   ; preds = %if.then6040
  %type6045 = getelementptr inbounds %struct.ImageParameters* %1256, i64 0, i32 6
  %1260 = load i32* %type6045, align 4, !tbaa !3
  %cmp6046 = icmp eq i32 %1260, 1
  br i1 %cmp6046, label %cond.true6048, label %land.lhs.true6052

cond.true6048:                                    ; preds = %cond.false6044
  %1261 = load i32* %cbp5202, align 4, !tbaa !3
  %tobool6050 = icmp eq i32 %1261, 0
  br i1 %tobool6050, label %land.lhs.true6052, label %if.end6073

land.lhs.true6052:                                ; preds = %cond.true6048, %cond.false6044
  %mb_type6053 = getelementptr inbounds %struct.macroblock* %cond60, i64 0, i32 8
  %1262 = load i32* %mb_type6053, align 4, !tbaa !3
  %tobool6054 = icmp eq i32 %1262, 0
  br i1 %tobool6054, label %cond.false6056, label %if.end6073

cond.false6056:                                   ; preds = %land.lhs.true6052
  br i1 %cmp6046, label %cond.true6060, label %if.then6064

cond.true6060:                                    ; preds = %cond.false6056
  %cbp6061 = getelementptr inbounds %struct.macroblock* %cond60, i64 0, i32 12
  %1263 = load i32* %cbp6061, align 4, !tbaa !3
  %tobool6062 = icmp eq i32 %1263, 0
  br i1 %tobool6062, label %if.then6064, label %if.end6073

if.then6064:                                      ; preds = %cond.true6060, %cond.false6056
  %call6065 = call i32 @field_flag_inference() #10
  %cmp6066 = icmp eq i32 %call6065, %land.ext658272
  br i1 %cmp6066, label %if.end6073, label %if.then6068

if.then6068:                                      ; preds = %if.then6064
  %min_rdcost6069 = getelementptr inbounds %struct.RD_DATA* %1255, i64 0, i32 0
  store double 1.000000e+30, double* %min_rdcost6069, align 8, !tbaa !6
  br label %if.end6073

if.end6073:                                       ; preds = %cond.true6048, %cond.true6060, %land.lhs.true6052, %if.then6040, %if.then6036, %if.end6033, %if.then6064, %if.then6068
  %RestrictRef6074 = getelementptr inbounds %struct.InputParameters* %1250, i64 0, i32 98
  %1264 = load i32* %RestrictRef6074, align 4, !tbaa !3
  switch i32 %1264, label %if.end6322 [
    i32 1, label %if.then6077
    i32 2, label %if.then6240
  ]

if.then6077:                                      ; preds = %if.end6073
  switch i32 %1251, label %if.end6322 [
    i32 1, label %if.then6081
    i32 2, label %if.then6133
  ]

if.then6081:                                      ; preds = %if.then6077
  %conv6084 = zext i1 %tobool83 to i8
  %mb_x = getelementptr inbounds %struct.ImageParameters* %1256, i64 0, i32 29
  %1265 = load i32* %mb_x, align 4, !tbaa !3
  %mul6085 = shl nsw i32 %1265, 1
  %idxprom6086 = sext i32 %mul6085 to i64
  %mb_y6087 = getelementptr inbounds %struct.ImageParameters* %1256, i64 0, i32 30
  %1266 = load i32* %mb_y6087, align 4, !tbaa !3
  %mul6088 = shl nsw i32 %1266, 1
  %idxprom6089 = sext i32 %mul6088 to i64
  %1267 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6090 = getelementptr inbounds i8** %1267, i64 %idxprom6089
  %1268 = load i8** %arrayidx6090, align 8, !tbaa !0
  %arrayidx6091 = getelementptr inbounds i8* %1268, i64 %idxprom6086
  store i8 %conv6084, i8* %arrayidx6091, align 1, !tbaa !1
  %1269 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %mb_x6095 = getelementptr inbounds %struct.ImageParameters* %1269, i64 0, i32 29
  %1270 = load i32* %mb_x6095, align 4, !tbaa !3
  %mul6096 = shl nsw i32 %1270, 1
  %add60978140 = or i32 %mul6096, 1
  %idxprom6098 = sext i32 %add60978140 to i64
  %mb_y6099 = getelementptr inbounds %struct.ImageParameters* %1269, i64 0, i32 30
  %1271 = load i32* %mb_y6099, align 4, !tbaa !3
  %mul6100 = shl nsw i32 %1271, 1
  %idxprom6101 = sext i32 %mul6100 to i64
  %1272 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6102 = getelementptr inbounds i8** %1272, i64 %idxprom6101
  %1273 = load i8** %arrayidx6102, align 8, !tbaa !0
  %arrayidx6103 = getelementptr inbounds i8* %1273, i64 %idxprom6098
  store i8 %conv6084, i8* %arrayidx6103, align 1, !tbaa !1
  %1274 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %mb_x6107 = getelementptr inbounds %struct.ImageParameters* %1274, i64 0, i32 29
  %1275 = load i32* %mb_x6107, align 4, !tbaa !3
  %mul6108 = shl nsw i32 %1275, 1
  %idxprom6109 = sext i32 %mul6108 to i64
  %mb_y6110 = getelementptr inbounds %struct.ImageParameters* %1274, i64 0, i32 30
  %1276 = load i32* %mb_y6110, align 4, !tbaa !3
  %mul6111 = shl nsw i32 %1276, 1
  %add61128141 = or i32 %mul6111, 1
  %idxprom6113 = sext i32 %add61128141 to i64
  %1277 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6114 = getelementptr inbounds i8** %1277, i64 %idxprom6113
  %1278 = load i8** %arrayidx6114, align 8, !tbaa !0
  %arrayidx6115 = getelementptr inbounds i8* %1278, i64 %idxprom6109
  store i8 %conv6084, i8* %arrayidx6115, align 1, !tbaa !1
  %1279 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %mb_x6119 = getelementptr inbounds %struct.ImageParameters* %1279, i64 0, i32 29
  %1280 = load i32* %mb_x6119, align 4, !tbaa !3
  %mul6120 = shl nsw i32 %1280, 1
  %add61218142 = or i32 %mul6120, 1
  %idxprom6122 = sext i32 %add61218142 to i64
  %mb_y6123 = getelementptr inbounds %struct.ImageParameters* %1279, i64 0, i32 30
  %1281 = load i32* %mb_y6123, align 4, !tbaa !3
  %mul6124 = shl nsw i32 %1281, 1
  %add61258143 = or i32 %mul6124, 1
  %idxprom6126 = sext i32 %add61258143 to i64
  %1282 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6127 = getelementptr inbounds i8** %1282, i64 %idxprom6126
  %1283 = load i8** %arrayidx6127, align 8, !tbaa !0
  %arrayidx6128 = getelementptr inbounds i8* %1283, i64 %idxprom6122
  store i8 %conv6084, i8* %arrayidx6128, align 1, !tbaa !1
  br label %if.end6322

if.then6133:                                      ; preds = %if.then6077
  %cmp6134 = icmp eq i32 %intra1.1, 0
  br i1 %cmp6134, label %land.rhs6136, label %land.end6146

land.rhs6136:                                     ; preds = %if.then6133
  %1284 = load i32* %mb_type4962, align 4, !tbaa !3
  %.off8302 = add i32 %1284, -9
  %1285 = icmp ult i32 %.off8302, 2
  br label %land.end6146

land.end6146:                                     ; preds = %land.rhs6136, %if.then6133
  %1286 = phi i1 [ false, %if.then6133 ], [ %1285, %land.rhs6136 ]
  %conv6149 = zext i1 %1286 to i8
  %mb_x6150 = getelementptr inbounds %struct.ImageParameters* %1256, i64 0, i32 29
  %1287 = load i32* %mb_x6150, align 4, !tbaa !3
  %mul6151 = shl nsw i32 %1287, 1
  %idxprom6152 = sext i32 %mul6151 to i64
  %mb_y6153 = getelementptr inbounds %struct.ImageParameters* %1256, i64 0, i32 30
  %1288 = load i32* %mb_y6153, align 4, !tbaa !3
  %mul6154 = shl nsw i32 %1288, 1
  %idxprom6155 = sext i32 %mul6154 to i64
  %1289 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6156 = getelementptr inbounds i8** %1289, i64 %idxprom6155
  %1290 = load i8** %arrayidx6156, align 8, !tbaa !0
  %arrayidx6157 = getelementptr inbounds i8* %1290, i64 %idxprom6152
  store i8 %conv6149, i8* %arrayidx6157, align 1, !tbaa !1
  br i1 %cmp6134, label %land.rhs6160, label %land.end6170

land.rhs6160:                                     ; preds = %land.end6146
  %1291 = load i32* %mb_type4962, align 4, !tbaa !3
  %.off8301 = add i32 %1291, -9
  %1292 = icmp ult i32 %.off8301, 2
  br label %land.end6170

land.end6170:                                     ; preds = %land.rhs6160, %land.end6146
  %1293 = phi i1 [ false, %land.end6146 ], [ %1292, %land.rhs6160 ]
  %conv6173 = zext i1 %1293 to i8
  %1294 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %mb_x6174 = getelementptr inbounds %struct.ImageParameters* %1294, i64 0, i32 29
  %1295 = load i32* %mb_x6174, align 4, !tbaa !3
  %mul6175 = shl nsw i32 %1295, 1
  %add61768136 = or i32 %mul6175, 1
  %idxprom6177 = sext i32 %add61768136 to i64
  %mb_y6178 = getelementptr inbounds %struct.ImageParameters* %1294, i64 0, i32 30
  %1296 = load i32* %mb_y6178, align 4, !tbaa !3
  %mul6179 = shl nsw i32 %1296, 1
  %idxprom6180 = sext i32 %mul6179 to i64
  %1297 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6181 = getelementptr inbounds i8** %1297, i64 %idxprom6180
  %1298 = load i8** %arrayidx6181, align 8, !tbaa !0
  %arrayidx6182 = getelementptr inbounds i8* %1298, i64 %idxprom6177
  store i8 %conv6173, i8* %arrayidx6182, align 1, !tbaa !1
  br i1 %cmp6134, label %land.rhs6185, label %land.end6195

land.rhs6185:                                     ; preds = %land.end6170
  %1299 = load i32* %mb_type4962, align 4, !tbaa !3
  %.off8300 = add i32 %1299, -9
  %1300 = icmp ult i32 %.off8300, 2
  br label %land.end6195

land.end6195:                                     ; preds = %land.rhs6185, %land.end6170
  %1301 = phi i1 [ false, %land.end6170 ], [ %1300, %land.rhs6185 ]
  %conv6198 = zext i1 %1301 to i8
  %1302 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %mb_x6199 = getelementptr inbounds %struct.ImageParameters* %1302, i64 0, i32 29
  %1303 = load i32* %mb_x6199, align 4, !tbaa !3
  %mul6200 = shl nsw i32 %1303, 1
  %idxprom6201 = sext i32 %mul6200 to i64
  %mb_y6202 = getelementptr inbounds %struct.ImageParameters* %1302, i64 0, i32 30
  %1304 = load i32* %mb_y6202, align 4, !tbaa !3
  %mul6203 = shl nsw i32 %1304, 1
  %add62048137 = or i32 %mul6203, 1
  %idxprom6205 = sext i32 %add62048137 to i64
  %1305 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6206 = getelementptr inbounds i8** %1305, i64 %idxprom6205
  %1306 = load i8** %arrayidx6206, align 8, !tbaa !0
  %arrayidx6207 = getelementptr inbounds i8* %1306, i64 %idxprom6201
  store i8 %conv6198, i8* %arrayidx6207, align 1, !tbaa !1
  br i1 %cmp6134, label %land.rhs6210, label %land.end6220

land.rhs6210:                                     ; preds = %land.end6195
  %1307 = load i32* %mb_type4962, align 4, !tbaa !3
  %.off8299 = add i32 %1307, -9
  %1308 = icmp ult i32 %.off8299, 2
  br label %land.end6220

land.end6220:                                     ; preds = %land.rhs6210, %land.end6195
  %1309 = phi i1 [ false, %land.end6195 ], [ %1308, %land.rhs6210 ]
  %conv6223 = zext i1 %1309 to i8
  %1310 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %mb_x6224 = getelementptr inbounds %struct.ImageParameters* %1310, i64 0, i32 29
  %1311 = load i32* %mb_x6224, align 4, !tbaa !3
  %mul6225 = shl nsw i32 %1311, 1
  %add62268138 = or i32 %mul6225, 1
  %idxprom6227 = sext i32 %add62268138 to i64
  %mb_y6228 = getelementptr inbounds %struct.ImageParameters* %1310, i64 0, i32 30
  %1312 = load i32* %mb_y6228, align 4, !tbaa !3
  %mul6229 = shl nsw i32 %1312, 1
  %add62308139 = or i32 %mul6229, 1
  %idxprom6231 = sext i32 %add62308139 to i64
  %1313 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6232 = getelementptr inbounds i8** %1313, i64 %idxprom6231
  %1314 = load i8** %arrayidx6232, align 8, !tbaa !0
  %arrayidx6233 = getelementptr inbounds i8* %1314, i64 %idxprom6227
  store i8 %conv6223, i8* %arrayidx6233, align 1, !tbaa !1
  br label %if.end6322

if.then6240:                                      ; preds = %if.end6073
  %1315 = load i32* %mb_type4962, align 4, !tbaa !3
  %.off8295 = add i32 %1315, -9
  %1316 = icmp ult i32 %.off8295, 2
  %conv6251 = zext i1 %1316 to i8
  %mb_x6252 = getelementptr inbounds %struct.ImageParameters* %1256, i64 0, i32 29
  %1317 = load i32* %mb_x6252, align 4, !tbaa !3
  %mul6253 = shl nsw i32 %1317, 1
  %idxprom6254 = sext i32 %mul6253 to i64
  %mb_y6255 = getelementptr inbounds %struct.ImageParameters* %1256, i64 0, i32 30
  %1318 = load i32* %mb_y6255, align 4, !tbaa !3
  %mul6256 = shl nsw i32 %1318, 1
  %idxprom6257 = sext i32 %mul6256 to i64
  %1319 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6258 = getelementptr inbounds i8** %1319, i64 %idxprom6257
  %1320 = load i8** %arrayidx6258, align 8, !tbaa !0
  %arrayidx6259 = getelementptr inbounds i8* %1320, i64 %idxprom6254
  store i8 %conv6251, i8* %arrayidx6259, align 1, !tbaa !1
  %1321 = load i32* %mb_type4962, align 4, !tbaa !3
  %.off8296 = add i32 %1321, -9
  %1322 = icmp ult i32 %.off8296, 2
  %conv6270 = zext i1 %1322 to i8
  %1323 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %mb_x6271 = getelementptr inbounds %struct.ImageParameters* %1323, i64 0, i32 29
  %1324 = load i32* %mb_x6271, align 4, !tbaa !3
  %mul6272 = shl nsw i32 %1324, 1
  %add62738132 = or i32 %mul6272, 1
  %idxprom6274 = sext i32 %add62738132 to i64
  %mb_y6275 = getelementptr inbounds %struct.ImageParameters* %1323, i64 0, i32 30
  %1325 = load i32* %mb_y6275, align 4, !tbaa !3
  %mul6276 = shl nsw i32 %1325, 1
  %idxprom6277 = sext i32 %mul6276 to i64
  %1326 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6278 = getelementptr inbounds i8** %1326, i64 %idxprom6277
  %1327 = load i8** %arrayidx6278, align 8, !tbaa !0
  %arrayidx6279 = getelementptr inbounds i8* %1327, i64 %idxprom6274
  store i8 %conv6270, i8* %arrayidx6279, align 1, !tbaa !1
  %1328 = load i32* %mb_type4962, align 4, !tbaa !3
  %.off8297 = add i32 %1328, -9
  %1329 = icmp ult i32 %.off8297, 2
  %conv6290 = zext i1 %1329 to i8
  %1330 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %mb_x6291 = getelementptr inbounds %struct.ImageParameters* %1330, i64 0, i32 29
  %1331 = load i32* %mb_x6291, align 4, !tbaa !3
  %mul6292 = shl nsw i32 %1331, 1
  %idxprom6293 = sext i32 %mul6292 to i64
  %mb_y6294 = getelementptr inbounds %struct.ImageParameters* %1330, i64 0, i32 30
  %1332 = load i32* %mb_y6294, align 4, !tbaa !3
  %mul6295 = shl nsw i32 %1332, 1
  %add62968133 = or i32 %mul6295, 1
  %idxprom6297 = sext i32 %add62968133 to i64
  %1333 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6298 = getelementptr inbounds i8** %1333, i64 %idxprom6297
  %1334 = load i8** %arrayidx6298, align 8, !tbaa !0
  %arrayidx6299 = getelementptr inbounds i8* %1334, i64 %idxprom6293
  store i8 %conv6290, i8* %arrayidx6299, align 1, !tbaa !1
  %1335 = load i32* %mb_type4962, align 4, !tbaa !3
  %.off8298 = add i32 %1335, -9
  %1336 = icmp ult i32 %.off8298, 2
  %conv6310 = zext i1 %1336 to i8
  %1337 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %mb_x6311 = getelementptr inbounds %struct.ImageParameters* %1337, i64 0, i32 29
  %1338 = load i32* %mb_x6311, align 4, !tbaa !3
  %mul6312 = shl nsw i32 %1338, 1
  %add63138134 = or i32 %mul6312, 1
  %idxprom6314 = sext i32 %add63138134 to i64
  %mb_y6315 = getelementptr inbounds %struct.ImageParameters* %1337, i64 0, i32 30
  %1339 = load i32* %mb_y6315, align 4, !tbaa !3
  %mul6316 = shl nsw i32 %1339, 1
  %add63178135 = or i32 %mul6316, 1
  %idxprom6318 = sext i32 %add63178135 to i64
  %1340 = load i8*** @refresh_map, align 8, !tbaa !0
  %arrayidx6319 = getelementptr inbounds i8** %1340, i64 %idxprom6318
  %1341 = load i8** %arrayidx6319, align 8, !tbaa !0
  %arrayidx6320 = getelementptr inbounds i8* %1341, i64 %idxprom6314
  store i8 %conv6310, i8* %arrayidx6320, align 1, !tbaa !1
  br label %if.end6322

if.end6322:                                       ; preds = %if.end6073, %if.then6077, %if.then6240, %if.then6081, %land.end6220
  %1342 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %FMEnable6323 = getelementptr inbounds %struct.InputParameters* %1342, i64 0, i32 134
  %1343 = load i32* %FMEnable6323, align 4, !tbaa !3
  %tobool6324 = icmp eq i32 %1343, 0
  br i1 %tobool6324, label %if.end6329, label %if.then6325

if.then6325:                                      ; preds = %if.end6322
  %1344 = load i32* @best_mode, align 4, !tbaa !3
  %1345 = load i32* %arrayidx581, align 4, !tbaa !3
  call void @skip_intrabk_SAD(i32 %1344, i32 %1345) #8
  br label %if.end6329

if.end6329:                                       ; preds = %if.end6322, %if.then6325
  call void @llvm.lifetime.end(i64 60, i8* %0) #3
  ret void
}
