define void @SetRefAndMotionVectors(i32 %block, i32 %mode, i32 %pdir, i32 %fwref, i32 %bwref) #0 {
entry:
  %0 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %type = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 6
  %1 = load i32* %type, align 4, !tbaa !3
  %cmp = icmp eq i32 %1, 1
  %mode.off = add i32 %mode, -1
  %2 = icmp ult i32 %mode.off, 3
  %div = sdiv i32 %block, 2
  %shl = shl i32 %div, 1
  %rem = srem i32 %block, 2
  %shl8 = shl i32 %rem, 1
  %3 = sext i32 %mode to i64
  %idxprom = select i1 %2, i64 %3, i64 4
  %4 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %arrayidx9 = getelementptr inbounds %struct.InputParameters* %4, i64 0, i32 21, i64 %idxprom, i64 1
  %5 = load i32* %arrayidx9, align 4, !tbaa !3
  %add = add nsw i32 %5, %shl
  %arrayidx13 = getelementptr inbounds %struct.InputParameters* %4, i64 0, i32 21, i64 %idxprom, i64 0
  %6 = load i32* %arrayidx13, align 4, !tbaa !3
  %add14 = add nsw i32 %6, %shl8
  %MbaffFrameFlag = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 90
  %7 = load i32* %MbaffFrameFlag, align 4, !tbaa !3
  %tobool = icmp eq i32 %7, 0
  %current_mb_nr26.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 3
  %.pre916 = load i32* %current_mb_nr26.phi.trans.insert, align 4, !tbaa !3
  br i1 %tobool, label %entry.cond.end24_crit_edge, label %land.lhs.true

entry.cond.end24_crit_edge:                       ; preds = %entry
  %mb_data28.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 51
  %.pre917 = load %struct.macroblock** %mb_data28.phi.trans.insert, align 8, !tbaa !0
  br label %cond.end24

land.lhs.true:                                    ; preds = %entry
  %idxprom15 = sext i32 %.pre916 to i64
  %mb_data = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 51
  %8 = load %struct.macroblock** %mb_data, align 8, !tbaa !0
  %mb_field = getelementptr inbounds %struct.macroblock* %8, i64 %idxprom15, i32 22
  %9 = load i32* %mb_field, align 4, !tbaa !3
  %tobool17 = icmp eq i32 %9, 0
  br i1 %tobool17, label %cond.end24, label %cond.true18

cond.true18:                                      ; preds = %land.lhs.true
  %rem20866 = shl i32 %.pre916, 1
  %10 = and i32 %rem20866, 2
  %11 = add i32 %10, 2
  br label %cond.end24

cond.end24:                                       ; preds = %entry.cond.end24_crit_edge, %land.lhs.true, %cond.true18
  %12 = phi %struct.macroblock* [ %8, %cond.true18 ], [ %8, %land.lhs.true ], [ %.pre917, %entry.cond.end24_crit_edge ]
  %cond25 = phi i32 [ %11, %cond.true18 ], [ 0, %land.lhs.true ], [ 0, %entry.cond.end24_crit_edge ]
  %idxprom27 = sext i32 %.pre916 to i64
  %cmp30 = icmp slt i32 %pdir, 0
  %cmp32874 = icmp sgt i32 %5, 0
  br i1 %cmp30, label %for.cond.preheader, label %if.end

for.cond.preheader:                               ; preds = %cond.end24
  br i1 %cmp32874, label %for.cond34.preheader.lr.ph, label %if.end692

for.cond34.preheader.lr.ph:                       ; preds = %for.cond.preheader
  %cmp35872 = icmp sgt i32 %6, 0
  %block_y = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 32
  %block_x = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 31
  %13 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %mv = getelementptr inbounds %struct.storable_picture* %13, i64 0, i32 35
  %ref_idx = getelementptr inbounds %struct.storable_picture* %13, i64 0, i32 32
  %ref_pic_id = getelementptr inbounds %struct.storable_picture* %13, i64 0, i32 33
  %14 = shl i32 %rem, 1
  %15 = sext i32 %14 to i64
  br label %for.cond34.preheader

for.cond34.preheader:                             ; preds = %for.cond34.preheader.lr.ph, %for.inc117
  %j.0875 = phi i32 [ %shl, %for.cond34.preheader.lr.ph ], [ %inc118, %for.inc117 ]
  br i1 %cmp35872, label %for.body37.lr.ph, label %for.inc117

for.body37.lr.ph:                                 ; preds = %for.cond34.preheader
  %16 = load i32* %block_y, align 4, !tbaa !3
  %add38 = add nsw i32 %16, %j.0875
  %idxprom39 = sext i32 %add38 to i64
  %17 = load i32* %block_x, align 4, !tbaa !3
  %18 = load i16***** %mv, align 8, !tbaa !0
  %19 = load i16**** %18, align 8, !tbaa !0
  %arrayidx64 = getelementptr inbounds i16**** %18, i64 1
  %20 = load i16**** %arrayidx64, align 8, !tbaa !0
  %21 = load i16**** %ref_idx, align 8, !tbaa !0
  %22 = load i16*** %21, align 8, !tbaa !0
  %arrayidx95 = getelementptr inbounds i16*** %21, i64 1
  %23 = load i16*** %arrayidx95, align 8, !tbaa !0
  %24 = load i64**** %ref_pic_id, align 8, !tbaa !0
  %25 = load i64*** %24, align 8, !tbaa !0
  %arrayidx114 = getelementptr inbounds i64*** %24, i64 1
  %26 = load i64*** %arrayidx114, align 8, !tbaa !0
  %27 = sext i32 %17 to i64
  br label %for.body37

for.body37:                                       ; preds = %for.body37.lr.ph, %for.body37
  %indvars.iv = phi i64 [ %15, %for.body37.lr.ph ], [ %indvars.iv.next, %for.body37 ]
  %28 = add nsw i64 %27, %indvars.iv
  %arrayidx43 = getelementptr inbounds i16*** %19, i64 %28
  %29 = load i16*** %arrayidx43, align 8, !tbaa !0
  %arrayidx44 = getelementptr inbounds i16** %29, i64 %idxprom39
  %30 = load i16** %arrayidx44, align 8, !tbaa !0
  store i16 0, i16* %30, align 2, !tbaa !4
  %arrayidx56 = getelementptr inbounds i16* %30, i64 1
  store i16 0, i16* %arrayidx56, align 2, !tbaa !4
  %arrayidx65 = getelementptr inbounds i16*** %20, i64 %28
  %31 = load i16*** %arrayidx65, align 8, !tbaa !0
  %arrayidx66 = getelementptr inbounds i16** %31, i64 %idxprom39
  %32 = load i16** %arrayidx66, align 8, !tbaa !0
  store i16 0, i16* %32, align 2, !tbaa !4
  %arrayidx78 = getelementptr inbounds i16* %32, i64 1
  store i16 0, i16* %arrayidx78, align 2, !tbaa !4
  %arrayidx86 = getelementptr inbounds i16** %22, i64 %28
  %33 = load i16** %arrayidx86, align 8, !tbaa !0
  %arrayidx87 = getelementptr inbounds i16* %33, i64 %idxprom39
  store i16 -1, i16* %arrayidx87, align 2, !tbaa !4
  %arrayidx96 = getelementptr inbounds i16** %23, i64 %28
  %34 = load i16** %arrayidx96, align 8, !tbaa !0
  %arrayidx97 = getelementptr inbounds i16* %34, i64 %idxprom39
  store i16 -1, i16* %arrayidx97, align 2, !tbaa !4
  %arrayidx105 = getelementptr inbounds i64** %25, i64 %28
  %35 = load i64** %arrayidx105, align 8, !tbaa !0
  %arrayidx106 = getelementptr inbounds i64* %35, i64 %idxprom39
  store i64 -1, i64* %arrayidx106, align 8, !tbaa !5
  %arrayidx115 = getelementptr inbounds i64** %26, i64 %28
  %36 = load i64** %arrayidx115, align 8, !tbaa !0
  %arrayidx116 = getelementptr inbounds i64* %36, i64 %idxprom39
  store i64 -1, i64* %arrayidx116, align 8, !tbaa !5
  %indvars.iv.next = add i64 %indvars.iv, 1
  %37 = trunc i64 %indvars.iv.next to i32
  %cmp35 = icmp slt i32 %37, %add14
  br i1 %cmp35, label %for.body37, label %for.inc117

for.inc117:                                       ; preds = %for.body37, %for.cond34.preheader
  %inc118 = add nsw i32 %j.0875, 1
  %cmp32 = icmp slt i32 %inc118, %add
  br i1 %cmp32, label %for.cond34.preheader, label %if.end692

if.end:                                           ; preds = %cond.end24
  br i1 %cmp, label %for.cond215.preheader, label %for.cond122.preheader

for.cond122.preheader:                            ; preds = %if.end
  br i1 %cmp32874, label %for.cond126.preheader.lr.ph, label %if.end692

for.cond126.preheader.lr.ph:                      ; preds = %for.cond122.preheader
  %cmp127889 = icmp sgt i32 %6, 0
  %idxprom131 = sext i32 %fwref to i64
  %conv173 = trunc i32 %fwref to i16
  %idxprom196859 = zext i32 %cond25 to i64
  %38 = shl i32 %rem, 1
  %39 = sext i32 %38 to i64
  %40 = shl i32 %div, 1
  %41 = sext i32 %40 to i64
  br label %for.cond126.preheader

for.cond215.preheader:                            ; preds = %if.end
  br i1 %cmp32874, label %for.cond219.preheader.lr.ph, label %if.end692

for.cond219.preheader.lr.ph:                      ; preds = %for.cond215.preheader
  %cmp220876 = icmp sgt i32 %6, 0
  %cmp223 = icmp eq i32 %mode, 0
  %bi_pred_me = getelementptr inbounds %struct.macroblock* %12, i64 %idxprom27, i32 34
  %cmp1.not = icmp ne i32 %mode, 1
  %idxprom410864 = zext i32 %cond25 to i64
  %add626860 = or i32 %cond25, 1
  %idxprom627861 = zext i32 %add626860 to i64
  %42 = shl i32 %rem, 1
  %43 = sext i32 %42 to i64
  %44 = shl i32 %div, 1
  %45 = sext i32 %44 to i64
  br label %for.cond219.preheader

for.cond126.preheader:                            ; preds = %for.cond126.preheader.lr.ph, %for.inc212
  %indvars.iv908 = phi i64 [ %41, %for.cond126.preheader.lr.ph ], [ %indvars.iv.next909, %for.inc212 ]
  br i1 %cmp127889, label %for.body129.lr.ph, label %for.inc212

for.body129.lr.ph:                                ; preds = %for.cond126.preheader
  %block_y140.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 32
  %.pre = load i32* %block_y140.phi.trans.insert, align 4, !tbaa !3
  %block_x143.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 31
  %.pre910 = load i32* %block_x143.phi.trans.insert, align 4, !tbaa !3
  %.pre911 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %ref_idx180.phi.trans.insert = getelementptr inbounds %struct.storable_picture* %.pre911, i64 0, i32 32
  %.pre912 = load i16**** %ref_idx180.phi.trans.insert, align 8, !tbaa !0
  %.pre913 = load i16*** %.pre912, align 8, !tbaa !0
  %ref_pic_id205.phi.trans.insert = getelementptr inbounds %struct.storable_picture* %.pre911, i64 0, i32 33
  %.pre914 = load i64**** %ref_pic_id205.phi.trans.insert, align 8, !tbaa !0
  %.pre915 = load i64*** %.pre914, align 8, !tbaa !0
  %all_mv.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 71
  %.pre918 = load i16******* %all_mv.phi.trans.insert, align 8, !tbaa !0
  %mv146.phi.trans.insert = getelementptr inbounds %struct.storable_picture* %.pre911, i64 0, i32 35
  %.pre919 = load i16***** %mv146.phi.trans.insert, align 8, !tbaa !0
  %.pre920 = load i16**** %.pre919, align 8, !tbaa !0
  br label %for.body129

for.body129:                                      ; preds = %for.body129.lr.ph, %for.body129
  %indvars.iv906 = phi i64 [ %39, %for.body129.lr.ph ], [ %indvars.iv.next907, %for.body129 ]
  %arrayidx134 = getelementptr inbounds i16****** %.pre918, i64 %indvars.iv906
  %46 = load i16****** %arrayidx134, align 8, !tbaa !0
  %arrayidx135 = getelementptr inbounds i16***** %46, i64 %indvars.iv908
  %47 = load i16***** %arrayidx135, align 8, !tbaa !0
  %48 = load i16**** %47, align 8, !tbaa !0
  %arrayidx137 = getelementptr inbounds i16*** %48, i64 %idxprom131
  %49 = load i16*** %arrayidx137, align 8, !tbaa !0
  %arrayidx138 = getelementptr inbounds i16** %49, i64 %3
  %50 = load i16** %arrayidx138, align 8, !tbaa !0
  %51 = load i16* %50, align 2, !tbaa !4
  %52 = trunc i64 %indvars.iv908 to i32
  %add141 = add nsw i32 %.pre, %52
  %idxprom142 = sext i32 %add141 to i64
  %53 = trunc i64 %indvars.iv906 to i32
  %add144 = add nsw i32 %.pre910, %53
  %idxprom145 = sext i32 %add144 to i64
  %arrayidx148 = getelementptr inbounds i16*** %.pre920, i64 %idxprom145
  %54 = load i16*** %arrayidx148, align 8, !tbaa !0
  %arrayidx149 = getelementptr inbounds i16** %54, i64 %idxprom142
  %55 = load i16** %arrayidx149, align 8, !tbaa !0
  store i16 %51, i16* %55, align 2, !tbaa !4
  %arrayidx161 = getelementptr inbounds i16* %50, i64 1
  %56 = load i16* %arrayidx161, align 2, !tbaa !4
  %arrayidx172 = getelementptr inbounds i16* %55, i64 1
  store i16 %56, i16* %arrayidx172, align 2, !tbaa !4
  %arrayidx182 = getelementptr inbounds i16** %.pre913, i64 %idxprom145
  %57 = load i16** %arrayidx182, align 8, !tbaa !0
  %arrayidx183 = getelementptr inbounds i16* %57, i64 %idxprom142
  store i16 %conv173, i16* %arrayidx183, align 2, !tbaa !4
  %idxprom194 = sext i16 %conv173 to i64
  %arrayidx198 = getelementptr inbounds %struct.storable_picture* %.pre911, i64 0, i32 6, i64 %idxprom196859, i64 %idxprom194
  %58 = load i64* %arrayidx198, align 8, !tbaa !5
  %arrayidx207 = getelementptr inbounds i64** %.pre915, i64 %idxprom145
  %59 = load i64** %arrayidx207, align 8, !tbaa !0
  %arrayidx208 = getelementptr inbounds i64* %59, i64 %idxprom142
  store i64 %58, i64* %arrayidx208, align 8, !tbaa !5
  %indvars.iv.next907 = add i64 %indvars.iv906, 1
  %60 = trunc i64 %indvars.iv.next907 to i32
  %cmp127 = icmp slt i32 %60, %add14
  br i1 %cmp127, label %for.body129, label %for.inc212

for.inc212:                                       ; preds = %for.body129, %for.cond126.preheader
  %indvars.iv.next909 = add i64 %indvars.iv908, 1
  %61 = trunc i64 %indvars.iv.next909 to i32
  %cmp123 = icmp slt i32 %61, %add
  br i1 %cmp123, label %for.cond126.preheader, label %if.end692

for.cond219.preheader:                            ; preds = %for.cond219.preheader.lr.ph, %for.inc689
  %indvars.iv904 = phi i64 [ %45, %for.cond219.preheader.lr.ph ], [ %indvars.iv.next905, %for.inc689 ]
  %pdir.addr.0888 = phi i32 [ %pdir, %for.cond219.preheader.lr.ph ], [ %pdir.addr.1.lcssa, %for.inc689 ]
  %fwref.addr.0887 = phi i32 [ %fwref, %for.cond219.preheader.lr.ph ], [ %fwref.addr.1.lcssa, %for.inc689 ]
  %bwref.addr.0886 = phi i32 [ %bwref, %for.cond219.preheader.lr.ph ], [ %bwref.addr.1.lcssa, %for.inc689 ]
  br i1 %cmp220876, label %for.body222, label %for.inc689

for.body222:                                      ; preds = %for.cond219.preheader, %for.inc686
  %indvars.iv902 = phi i64 [ %indvars.iv.next903, %for.inc686 ], [ %43, %for.cond219.preheader ]
  %pdir.addr.1880 = phi i32 [ %pdir.addr.2, %for.inc686 ], [ %pdir.addr.0888, %for.cond219.preheader ]
  %fwref.addr.1879 = phi i32 [ %fwref.addr.2, %for.inc686 ], [ %fwref.addr.0887, %for.cond219.preheader ]
  %bwref.addr.1878 = phi i32 [ %bwref.addr.2, %for.inc686 ], [ %bwref.addr.0886, %for.cond219.preheader ]
  br i1 %cmp223, label %if.then225, label %if.end255

if.then225:                                       ; preds = %for.body222
  %block_y226 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 32
  %62 = load i32* %block_y226, align 4, !tbaa !3
  %63 = trunc i64 %indvars.iv904 to i32
  %add227 = add nsw i32 %62, %63
  %idxprom228 = sext i32 %add227 to i64
  %block_x229 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 31
  %64 = load i32* %block_x229, align 4, !tbaa !3
  %65 = trunc i64 %indvars.iv902 to i32
  %add230 = add nsw i32 %64, %65
  %idxprom231 = sext i32 %add230 to i64
  %66 = load i16*** @direct_pdir, align 8, !tbaa !0
  %arrayidx232 = getelementptr inbounds i16** %66, i64 %idxprom231
  %67 = load i16** %arrayidx232, align 8, !tbaa !0
  %arrayidx233 = getelementptr inbounds i16* %67, i64 %idxprom228
  %68 = load i16* %arrayidx233, align 2, !tbaa !4
  %conv234 = sext i16 %68 to i32
  %69 = load i16**** @direct_ref_idx, align 8, !tbaa !0
  %70 = load i16*** %69, align 8, !tbaa !0
  %arrayidx242 = getelementptr inbounds i16** %70, i64 %idxprom231
  %71 = load i16** %arrayidx242, align 8, !tbaa !0
  %arrayidx243 = getelementptr inbounds i16* %71, i64 %idxprom228
  %72 = load i16* %arrayidx243, align 2, !tbaa !4
  %conv244 = sext i16 %72 to i32
  %arrayidx251 = getelementptr inbounds i16*** %69, i64 1
  %73 = load i16*** %arrayidx251, align 8, !tbaa !0
  %arrayidx252 = getelementptr inbounds i16** %73, i64 %idxprom231
  %74 = load i16** %arrayidx252, align 8, !tbaa !0
  %arrayidx253 = getelementptr inbounds i16* %74, i64 %idxprom228
  %75 = load i16* %arrayidx253, align 2, !tbaa !4
  %conv254 = sext i16 %75 to i32
  br label %if.end255

if.end255:                                        ; preds = %if.then225, %for.body222
  %bwref.addr.2 = phi i32 [ %conv254, %if.then225 ], [ %bwref.addr.1878, %for.body222 ]
  %fwref.addr.2 = phi i32 [ %conv244, %if.then225 ], [ %fwref.addr.1879, %for.body222 ]
  %pdir.addr.2 = phi i32 [ %conv234, %if.then225 ], [ %pdir.addr.1880, %for.body222 ]
  %cmp259 = icmp eq i32 %pdir.addr.2, 2
  %76 = and i32 %pdir.addr.2, -3
  %77 = icmp eq i32 %76, 0
  br i1 %77, label %if.then261, label %if.else425

if.then261:                                       ; preds = %if.end255
  %78 = load i32* %bi_pred_me, align 4, !tbaa !3
  %tobool262 = icmp eq i32 %78, 0
  %cmp259.not = xor i1 %cmp259, true
  %brmerge = or i1 %tobool262, %cmp259.not
  %brmerge867 = or i1 %brmerge, %cmp1.not
  br i1 %brmerge867, label %if.else342, label %if.then269

if.then269:                                       ; preds = %if.then261
  %cmp271 = icmp eq i32 %78, 1
  %bipred_mv1 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 72
  %bipred_mv2 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 73
  %cond276.in = select i1 %cmp271, i16******* %bipred_mv1, i16******* %bipred_mv2
  %cond276 = load i16******* %cond276.in, align 8
  %arrayidx280 = getelementptr inbounds i16****** %cond276, i64 %indvars.iv902
  %79 = load i16****** %arrayidx280, align 8, !tbaa !0
  %arrayidx281 = getelementptr inbounds i16***** %79, i64 %indvars.iv904
  %80 = load i16***** %arrayidx281, align 8, !tbaa !0
  %81 = load i16**** %80, align 8, !tbaa !0
  %82 = load i16*** %81, align 8, !tbaa !0
  %arrayidx284 = getelementptr inbounds i16** %82, i64 %3
  %83 = load i16** %arrayidx284, align 8, !tbaa !0
  %84 = load i16* %83, align 2, !tbaa !4
  %block_y286 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 32
  %85 = load i32* %block_y286, align 4, !tbaa !3
  %86 = trunc i64 %indvars.iv904 to i32
  %add287 = add nsw i32 %85, %86
  %idxprom288 = sext i32 %add287 to i64
  %block_x289 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 31
  %87 = load i32* %block_x289, align 4, !tbaa !3
  %88 = trunc i64 %indvars.iv902 to i32
  %add290 = add nsw i32 %87, %88
  %idxprom291 = sext i32 %add290 to i64
  %89 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %mv292 = getelementptr inbounds %struct.storable_picture* %89, i64 0, i32 35
  %90 = load i16***** %mv292, align 8, !tbaa !0
  %91 = load i16**** %90, align 8, !tbaa !0
  %arrayidx294 = getelementptr inbounds i16*** %91, i64 %idxprom291
  %92 = load i16*** %arrayidx294, align 8, !tbaa !0
  %arrayidx295 = getelementptr inbounds i16** %92, i64 %idxprom288
  %93 = load i16** %arrayidx295, align 8, !tbaa !0
  store i16 %84, i16* %93, align 2, !tbaa !4
  %arrayidx305 = getelementptr inbounds i16* %83, i64 1
  %94 = load i16* %arrayidx305, align 2, !tbaa !4
  %arrayidx316 = getelementptr inbounds i16* %93, i64 1
  store i16 %94, i16* %arrayidx316, align 2, !tbaa !4
  %ref_idx323 = getelementptr inbounds %struct.storable_picture* %89, i64 0, i32 32
  %95 = load i16**** %ref_idx323, align 8, !tbaa !0
  %96 = load i16*** %95, align 8, !tbaa !0
  %arrayidx325 = getelementptr inbounds i16** %96, i64 %idxprom291
  %97 = load i16** %arrayidx325, align 8, !tbaa !0
  %arrayidx326 = getelementptr inbounds i16* %97, i64 %idxprom288
  store i16 0, i16* %arrayidx326, align 2, !tbaa !4
  %arrayidx331 = getelementptr inbounds %struct.storable_picture* %89, i64 0, i32 6, i64 %idxprom410864, i64 0
  %98 = load i64* %arrayidx331, align 8, !tbaa !5
  %ref_pic_id338 = getelementptr inbounds %struct.storable_picture* %89, i64 0, i32 33
  %99 = load i64**** %ref_pic_id338, align 8, !tbaa !0
  %100 = load i64*** %99, align 8, !tbaa !0
  %arrayidx340 = getelementptr inbounds i64** %100, i64 %idxprom291
  %101 = load i64** %arrayidx340, align 8, !tbaa !0
  %arrayidx341 = getelementptr inbounds i64* %101, i64 %idxprom288
  store i64 %98, i64* %arrayidx341, align 8, !tbaa !5
  br label %if.end468

if.else342:                                       ; preds = %if.then261
  %idxprom344 = sext i32 %fwref.addr.2 to i64
  %all_mv347 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 71
  %102 = load i16******* %all_mv347, align 8, !tbaa !0
  %arrayidx348 = getelementptr inbounds i16****** %102, i64 %indvars.iv902
  %103 = load i16****** %arrayidx348, align 8, !tbaa !0
  %arrayidx349 = getelementptr inbounds i16***** %103, i64 %indvars.iv904
  %104 = load i16***** %arrayidx349, align 8, !tbaa !0
  %105 = load i16**** %104, align 8, !tbaa !0
  %arrayidx351 = getelementptr inbounds i16*** %105, i64 %idxprom344
  %106 = load i16*** %arrayidx351, align 8, !tbaa !0
  %arrayidx352 = getelementptr inbounds i16** %106, i64 %3
  %107 = load i16** %arrayidx352, align 8, !tbaa !0
  %108 = load i16* %107, align 2, !tbaa !4
  %block_y354 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 32
  %109 = load i32* %block_y354, align 4, !tbaa !3
  %110 = trunc i64 %indvars.iv904 to i32
  %add355 = add nsw i32 %109, %110
  %idxprom356 = sext i32 %add355 to i64
  %block_x357 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 31
  %111 = load i32* %block_x357, align 4, !tbaa !3
  %112 = trunc i64 %indvars.iv902 to i32
  %add358 = add nsw i32 %111, %112
  %idxprom359 = sext i32 %add358 to i64
  %113 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %mv360 = getelementptr inbounds %struct.storable_picture* %113, i64 0, i32 35
  %114 = load i16***** %mv360, align 8, !tbaa !0
  %115 = load i16**** %114, align 8, !tbaa !0
  %arrayidx362 = getelementptr inbounds i16*** %115, i64 %idxprom359
  %116 = load i16*** %arrayidx362, align 8, !tbaa !0
  %arrayidx363 = getelementptr inbounds i16** %116, i64 %idxprom356
  %117 = load i16** %arrayidx363, align 8, !tbaa !0
  store i16 %108, i16* %117, align 2, !tbaa !4
  %arrayidx375 = getelementptr inbounds i16* %107, i64 1
  %118 = load i16* %arrayidx375, align 2, !tbaa !4
  %arrayidx386 = getelementptr inbounds i16* %117, i64 1
  store i16 %118, i16* %arrayidx386, align 2, !tbaa !4
  %conv387 = trunc i32 %fwref.addr.2 to i16
  %ref_idx394 = getelementptr inbounds %struct.storable_picture* %113, i64 0, i32 32
  %119 = load i16**** %ref_idx394, align 8, !tbaa !0
  %120 = load i16*** %119, align 8, !tbaa !0
  %arrayidx396 = getelementptr inbounds i16** %120, i64 %idxprom359
  %121 = load i16** %arrayidx396, align 8, !tbaa !0
  %arrayidx397 = getelementptr inbounds i16* %121, i64 %idxprom356
  store i16 %conv387, i16* %arrayidx397, align 2, !tbaa !4
  %idxprom408 = sext i16 %conv387 to i64
  %arrayidx413 = getelementptr inbounds %struct.storable_picture* %113, i64 0, i32 6, i64 %idxprom410864, i64 %idxprom408
  %122 = load i64* %arrayidx413, align 8, !tbaa !5
  %ref_pic_id420 = getelementptr inbounds %struct.storable_picture* %113, i64 0, i32 33
  %123 = load i64**** %ref_pic_id420, align 8, !tbaa !0
  %124 = load i64*** %123, align 8, !tbaa !0
  %arrayidx422 = getelementptr inbounds i64** %124, i64 %idxprom359
  %125 = load i64** %arrayidx422, align 8, !tbaa !0
  %arrayidx423 = getelementptr inbounds i64* %125, i64 %idxprom356
  store i64 %122, i64* %arrayidx423, align 8, !tbaa !5
  br label %if.end468

if.else425:                                       ; preds = %if.end255
  %block_y426 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 32
  %126 = load i32* %block_y426, align 4, !tbaa !3
  %127 = trunc i64 %indvars.iv904 to i32
  %add427 = add nsw i32 %126, %127
  %idxprom428 = sext i32 %add427 to i64
  %block_x429 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 31
  %128 = load i32* %block_x429, align 4, !tbaa !3
  %129 = trunc i64 %indvars.iv902 to i32
  %add430 = add nsw i32 %128, %129
  %idxprom431 = sext i32 %add430 to i64
  %130 = load %struct.storable_picture** @enc_picture, align 8, !tbaa !0
  %mv432 = getelementptr inbounds %struct.storable_picture* %130, i64 0, i32 35
  %131 = load i16***** %mv432, align 8, !tbaa !0
  %132 = load i16**** %131, align 8, !tbaa !0
  %arrayidx434 = getelementptr inbounds i16*** %132, i64 %idxprom431
  %133 = load i16*** %arrayidx434, align 8, !tbaa !0
  %arrayidx435 = getelementptr inbounds i16** %133, i64 %idxprom428
  %134 = load i16** %arrayidx435, align 8, !tbaa !0
  store i16 0, i16* %134, align 2, !tbaa !4
  %arrayidx447 = getelementptr inbounds i16* %134, i64 1
  store i16 0, i16* %arrayidx447, align 2, !tbaa !4
  %ref_idx454 = getelementptr inbounds %struct.storable_picture* %130, i64 0, i32 32
  %135 = load i16**** %ref_idx454, align 8, !tbaa !0
  %136 = load i16*** %135, align 8, !tbaa !0
  %arrayidx456 = getelementptr inbounds i16** %136, i64 %idxprom431
  %137 = load i16** %arrayidx456, align 8, !tbaa !0
  %arrayidx457 = getelementptr inbounds i16* %137, i64 %idxprom428
  store i16 -1, i16* %arrayidx457, align 2, !tbaa !4
  %ref_pic_id464 = getelementptr inbounds %struct.storable_picture* %130, i64 0, i32 33
  %138 = load i64**** %ref_pic_id464, align 8, !tbaa !0
  %139 = load i64*** %138, align 8, !tbaa !0
  %arrayidx466 = getelementptr inbounds i64** %139, i64 %idxprom431
  %140 = load i64** %arrayidx466, align 8, !tbaa !0
  %arrayidx467 = getelementptr inbounds i64* %140, i64 %idxprom428
  store i64 -1, i64* %arrayidx467, align 8, !tbaa !5
  br label %if.end468

if.end468:                                        ; preds = %if.then269, %if.else342, %if.else425
  %141 = phi i16*** [ %95, %if.then269 ], [ %119, %if.else342 ], [ %135, %if.else425 ]
  %142 = phi i16**** [ %90, %if.then269 ], [ %114, %if.else342 ], [ %131, %if.else425 ]
  %143 = phi i64*** [ %99, %if.then269 ], [ %123, %if.else342 ], [ %138, %if.else425 ]
  %144 = phi %struct.storable_picture* [ %89, %if.then269 ], [ %113, %if.else342 ], [ %130, %if.else425 ]
  %145 = phi i32 [ %87, %if.then269 ], [ %111, %if.else342 ], [ %128, %if.else425 ]
  %146 = phi i32 [ %85, %if.then269 ], [ %109, %if.else342 ], [ %126, %if.else425 ]
  %pdir.addr.2.off = add i32 %pdir.addr.2, -1
  %147 = icmp ult i32 %pdir.addr.2.off, 2
  br i1 %147, label %if.then474, label %if.else642

if.then474:                                       ; preds = %if.end468
  %148 = load i32* %bi_pred_me, align 4, !tbaa !3
  %tobool476 = icmp eq i32 %148, 0
  %cmp259.not868 = xor i1 %cmp259, true
  %brmerge869 = or i1 %tobool476, %cmp259.not868
  %brmerge871 = or i1 %brmerge869, %cmp1.not
  br i1 %brmerge871, label %if.else559, label %if.then483

if.then483:                                       ; preds = %if.then474
  %cmp486 = icmp eq i32 %148, 1
  %bipred_mv1489 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 72
  %bipred_mv2491 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 73
  %cond493.in = select i1 %cmp486, i16******* %bipred_mv1489, i16******* %bipred_mv2491
  %cond493 = load i16******* %cond493.in, align 8
  %arrayidx497 = getelementptr inbounds i16****** %cond493, i64 %indvars.iv902
  %149 = load i16****** %arrayidx497, align 8, !tbaa !0
  %arrayidx498 = getelementptr inbounds i16***** %149, i64 %indvars.iv904
  %150 = load i16***** %arrayidx498, align 8, !tbaa !0
  %arrayidx499 = getelementptr inbounds i16**** %150, i64 1
  %151 = load i16**** %arrayidx499, align 8, !tbaa !0
  %152 = load i16*** %151, align 8, !tbaa !0
  %arrayidx501 = getelementptr inbounds i16** %152, i64 %3
  %153 = load i16** %arrayidx501, align 8, !tbaa !0
  %154 = load i16* %153, align 2, !tbaa !4
  %155 = trunc i64 %indvars.iv904 to i32
  %add504 = add nsw i32 %146, %155
  %idxprom505 = sext i32 %add504 to i64
  %156 = trunc i64 %indvars.iv902 to i32
  %add507 = add nsw i32 %145, %156
  %idxprom508 = sext i32 %add507 to i64
  %arrayidx510 = getelementptr inbounds i16**** %142, i64 1
  %157 = load i16**** %arrayidx510, align 8, !tbaa !0
  %arrayidx511 = getelementptr inbounds i16*** %157, i64 %idxprom508
  %158 = load i16*** %arrayidx511, align 8, !tbaa !0
  %arrayidx512 = getelementptr inbounds i16** %158, i64 %idxprom505
  %159 = load i16** %arrayidx512, align 8, !tbaa !0
  store i16 %154, i16* %159, align 2, !tbaa !4
  %arrayidx522 = getelementptr inbounds i16* %153, i64 1
  %160 = load i16* %arrayidx522, align 2, !tbaa !4
  %arrayidx533 = getelementptr inbounds i16* %159, i64 1
  store i16 %160, i16* %arrayidx533, align 2, !tbaa !4
  %arrayidx541 = getelementptr inbounds i16*** %141, i64 1
  %161 = load i16*** %arrayidx541, align 8, !tbaa !0
  %arrayidx542 = getelementptr inbounds i16** %161, i64 %idxprom508
  %162 = load i16** %arrayidx542, align 8, !tbaa !0
  %arrayidx543 = getelementptr inbounds i16* %162, i64 %idxprom505
  store i16 0, i16* %arrayidx543, align 2, !tbaa !4
  %arrayidx548 = getelementptr inbounds %struct.storable_picture* %144, i64 0, i32 6, i64 %idxprom627861, i64 0
  %163 = load i64* %arrayidx548, align 8, !tbaa !5
  %arrayidx556 = getelementptr inbounds i64*** %143, i64 1
  %164 = load i64*** %arrayidx556, align 8, !tbaa !0
  %arrayidx557 = getelementptr inbounds i64** %164, i64 %idxprom508
  %165 = load i64** %arrayidx557, align 8, !tbaa !0
  %arrayidx558 = getelementptr inbounds i64* %165, i64 %idxprom505
  store i64 %163, i64* %arrayidx558, align 8, !tbaa !5
  br label %for.inc686

if.else559:                                       ; preds = %if.then474
  %idxprom561 = sext i32 %bwref.addr.2 to i64
  %all_mv564 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 71
  %166 = load i16******* %all_mv564, align 8, !tbaa !0
  %arrayidx565 = getelementptr inbounds i16****** %166, i64 %indvars.iv902
  %167 = load i16****** %arrayidx565, align 8, !tbaa !0
  %arrayidx566 = getelementptr inbounds i16***** %167, i64 %indvars.iv904
  %168 = load i16***** %arrayidx566, align 8, !tbaa !0
  %arrayidx567 = getelementptr inbounds i16**** %168, i64 1
  %169 = load i16**** %arrayidx567, align 8, !tbaa !0
  %arrayidx568 = getelementptr inbounds i16*** %169, i64 %idxprom561
  %170 = load i16*** %arrayidx568, align 8, !tbaa !0
  %arrayidx569 = getelementptr inbounds i16** %170, i64 %3
  %171 = load i16** %arrayidx569, align 8, !tbaa !0
  %172 = load i16* %171, align 2, !tbaa !4
  %173 = trunc i64 %indvars.iv904 to i32
  %add572 = add nsw i32 %146, %173
  %idxprom573 = sext i32 %add572 to i64
  %174 = trunc i64 %indvars.iv902 to i32
  %add575 = add nsw i32 %145, %174
  %idxprom576 = sext i32 %add575 to i64
  %arrayidx578 = getelementptr inbounds i16**** %142, i64 1
  %175 = load i16**** %arrayidx578, align 8, !tbaa !0
  %arrayidx579 = getelementptr inbounds i16*** %175, i64 %idxprom576
  %176 = load i16*** %arrayidx579, align 8, !tbaa !0
  %arrayidx580 = getelementptr inbounds i16** %176, i64 %idxprom573
  %177 = load i16** %arrayidx580, align 8, !tbaa !0
  store i16 %172, i16* %177, align 2, !tbaa !4
  %arrayidx592 = getelementptr inbounds i16* %171, i64 1
  %178 = load i16* %arrayidx592, align 2, !tbaa !4
  %arrayidx603 = getelementptr inbounds i16* %177, i64 1
  store i16 %178, i16* %arrayidx603, align 2, !tbaa !4
  %conv604 = trunc i32 %bwref.addr.2 to i16
  %arrayidx612 = getelementptr inbounds i16*** %141, i64 1
  %179 = load i16*** %arrayidx612, align 8, !tbaa !0
  %arrayidx613 = getelementptr inbounds i16** %179, i64 %idxprom576
  %180 = load i16** %arrayidx613, align 8, !tbaa !0
  %arrayidx614 = getelementptr inbounds i16* %180, i64 %idxprom573
  store i16 %conv604, i16* %arrayidx614, align 2, !tbaa !4
  %idxprom625 = sext i16 %conv604 to i64
  %arrayidx630 = getelementptr inbounds %struct.storable_picture* %144, i64 0, i32 6, i64 %idxprom627861, i64 %idxprom625
  %181 = load i64* %arrayidx630, align 8, !tbaa !5
  %arrayidx638 = getelementptr inbounds i64*** %143, i64 1
  %182 = load i64*** %arrayidx638, align 8, !tbaa !0
  %arrayidx639 = getelementptr inbounds i64** %182, i64 %idxprom576
  %183 = load i64** %arrayidx639, align 8, !tbaa !0
  %arrayidx640 = getelementptr inbounds i64* %183, i64 %idxprom573
  store i64 %181, i64* %arrayidx640, align 8, !tbaa !5
  br label %for.inc686

if.else642:                                       ; preds = %if.end468
  %184 = trunc i64 %indvars.iv904 to i32
  %add644 = add nsw i32 %146, %184
  %idxprom645 = sext i32 %add644 to i64
  %185 = trunc i64 %indvars.iv902 to i32
  %add647 = add nsw i32 %145, %185
  %idxprom648 = sext i32 %add647 to i64
  %arrayidx650 = getelementptr inbounds i16**** %142, i64 1
  %186 = load i16**** %arrayidx650, align 8, !tbaa !0
  %arrayidx651 = getelementptr inbounds i16*** %186, i64 %idxprom648
  %187 = load i16*** %arrayidx651, align 8, !tbaa !0
  %arrayidx652 = getelementptr inbounds i16** %187, i64 %idxprom645
  %188 = load i16** %arrayidx652, align 8, !tbaa !0
  store i16 0, i16* %188, align 2, !tbaa !4
  %arrayidx664 = getelementptr inbounds i16* %188, i64 1
  store i16 0, i16* %arrayidx664, align 2, !tbaa !4
  %arrayidx672 = getelementptr inbounds i16*** %141, i64 1
  %189 = load i16*** %arrayidx672, align 8, !tbaa !0
  %arrayidx673 = getelementptr inbounds i16** %189, i64 %idxprom648
  %190 = load i16** %arrayidx673, align 8, !tbaa !0
  %arrayidx674 = getelementptr inbounds i16* %190, i64 %idxprom645
  store i16 -1, i16* %arrayidx674, align 2, !tbaa !4
  %arrayidx682 = getelementptr inbounds i64*** %143, i64 1
  %191 = load i64*** %arrayidx682, align 8, !tbaa !0
  %arrayidx683 = getelementptr inbounds i64** %191, i64 %idxprom648
  %192 = load i64** %arrayidx683, align 8, !tbaa !0
  %arrayidx684 = getelementptr inbounds i64* %192, i64 %idxprom645
  store i64 -1, i64* %arrayidx684, align 8, !tbaa !5
  br label %for.inc686

for.inc686:                                       ; preds = %if.else642, %if.else559, %if.then483
  %indvars.iv.next903 = add i64 %indvars.iv902, 1
  %193 = trunc i64 %indvars.iv.next903 to i32
  %cmp220 = icmp slt i32 %193, %add14
  br i1 %cmp220, label %for.body222, label %for.inc689

for.inc689:                                       ; preds = %for.inc686, %for.cond219.preheader
  %pdir.addr.1.lcssa = phi i32 [ %pdir.addr.0888, %for.cond219.preheader ], [ %pdir.addr.2, %for.inc686 ]
  %fwref.addr.1.lcssa = phi i32 [ %fwref.addr.0887, %for.cond219.preheader ], [ %fwref.addr.2, %for.inc686 ]
  %bwref.addr.1.lcssa = phi i32 [ %bwref.addr.0886, %for.cond219.preheader ], [ %bwref.addr.2, %for.inc686 ]
  %indvars.iv.next905 = add i64 %indvars.iv904, 1
  %194 = trunc i64 %indvars.iv.next905 to i32
  %cmp216 = icmp slt i32 %194, %add
  br i1 %cmp216, label %for.cond219.preheader, label %if.end692

if.end692:                                        ; preds = %for.cond122.preheader, %for.inc212, %for.cond215.preheader, %for.inc689, %for.cond.preheader, %for.inc117
  ret void
}
