define i32 @RDCost_for_4x4Blocks_Chroma(i32 %b8, i32 %b4, i32 %chroma) #0 {
entry:
  %0 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %currentSlice = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 50
  %1 = load %struct.Slice** %currentSlice, align 8, !tbaa !0
  %current_mb_nr = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 3
  %2 = load i32* %current_mb_nr, align 4, !tbaa !3
  %idxprom = sext i32 %2 to i64
  %mb_data = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 51
  %3 = load %struct.macroblock** %mb_data, align 8, !tbaa !0
  %currSEnr = getelementptr inbounds %struct.macroblock* %3, i64 %idxprom, i32 0
  %4 = load i32* %currSEnr, align 4, !tbaa !3
  %5 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %partition_mode = getelementptr inbounds %struct.InputParameters* %5, i64 0, i32 61
  %6 = load i32* %partition_mode, align 4, !tbaa !3
  %idxprom3 = sext i32 %6 to i64
  %arrayidx4 = getelementptr inbounds [2 x i32*]* @assignSE2partition, i64 0, i64 %idxprom3
  %7 = load i32** %arrayidx4, align 8, !tbaa !0
  %cmp = icmp sgt i32 %b8, 7
  %. = zext i1 %cmp to i32
  %call = tail call i32 @dct_chroma4x4(i32 %chroma, i32 %b8, i32 %b4) #8
  %add = shl nuw nsw i32 %., 2
  %mul.neg = add i32 %b8, -4
  %sub = sub i32 %mul.neg, %add
  %div = sdiv i32 %sub, 2
  %mul5 = shl i32 %div, 1
  %div6 = sdiv i32 %b4, 2
  %add7 = add nsw i32 %mul5, %div6
  %idxprom8 = sext i32 %add7 to i64
  %rem = srem i32 %sub, 2
  %mul12 = shl i32 %rem, 1
  %rem13 = srem i32 %b4, 2
  %add14 = add nsw i32 %mul12, %rem13
  %idxprom15 = sext i32 %add14 to i64
  %idxprom16113 = zext i1 %cmp to i64
  %arrayidx19 = getelementptr inbounds [2 x [4 x [4 x i32]]]* @cbp_chroma_block_temp, i64 0, i64 %idxprom16113, i64 %idxprom15, i64 %idxprom8
  store i32 %call, i32* %arrayidx19, align 4, !tbaa !3
  %8 = load %struct.CSobj** @cs_cm, align 8, !tbaa !0
  tail call void @store_coding_state(%struct.CSobj* %8) #8
  %9 = load %struct.InputParameters** @input, align 8, !tbaa !0
  %symbol_mode = getelementptr inbounds %struct.InputParameters* %9, i64 0, i32 59
  %10 = load i32* %symbol_mode, align 4, !tbaa !3
  %cmp20 = icmp eq i32 %10, 0
  br i1 %cmp20, label %if.then21, label %if.else31

if.then21:                                        ; preds = %entry
  %rem22 = srem i32 %b8, 2
  %mul23 = shl i32 %rem22, 1
  %add25 = add nsw i32 %mul23, %rem13
  %shl = shl i32 %add25, 4
  %div26 = sdiv i32 %b8, 2
  %mul27 = shl i32 %div26, 1
  %add29 = add nsw i32 %mul27, %div6
  %or = or i32 %shl, %add29
  %call30 = tail call i32 @writeCoeff4x4_CAVLC(i32 7, i32 %b8, i32 %b4, i32 %or) #8
  br label %if.end73

if.else31:                                        ; preds = %entry
  %idxprom1 = sext i32 %4 to i64
  %arrayidx2 = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 52, i64 %idxprom1
  %idxprom32 = sext i32 %b4 to i64
  %idxprom33 = sext i32 %b8 to i64
  %11 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %cofAC = getelementptr inbounds %struct.ImageParameters* %11, i64 0, i32 47
  %12 = load i32***** %cofAC, align 8, !tbaa !0
  %arrayidx34 = getelementptr inbounds i32**** %12, i64 %idxprom33
  %13 = load i32**** %arrayidx34, align 8, !tbaa !0
  %arrayidx35 = getelementptr inbounds i32*** %13, i64 %idxprom32
  %14 = load i32*** %arrayidx35, align 8, !tbaa !0
  %15 = load i32** %14, align 8, !tbaa !0
  %arrayidx42 = getelementptr inbounds i32** %14, i64 1
  %16 = load i32** %arrayidx42, align 8, !tbaa !0
  %subblock_y = getelementptr inbounds %struct.ImageParameters* %11, i64 0, i32 19
  store i32 %div6, i32* %subblock_y, align 4, !tbaa !3
  %subblock_x = getelementptr inbounds %struct.ImageParameters* %11, i64 0, i32 18
  store i32 %rem13, i32* %subblock_x, align 4, !tbaa !3
  %mb_type = getelementptr inbounds %struct.macroblock* %3, i64 %idxprom, i32 8
  %partArr = getelementptr inbounds %struct.Slice* %1, i64 0, i32 6
  %arrayidx67 = getelementptr inbounds %struct.macroblock* %3, i64 %idxprom, i32 5, i64 6
  br label %for.body

for.body:                                         ; preds = %lor.end.for.body_crit_edge, %if.else31
  %17 = phi %struct.InputParameters* [ %9, %if.else31 ], [ %.pre, %lor.end.for.body_crit_edge ]
  %indvars.iv = phi i64 [ 0, %if.else31 ], [ %indvars.iv.next, %lor.end.for.body_crit_edge ]
  %rate.0116 = phi i32 [ 0, %if.else31 ], [ %add70, %lor.end.for.body_crit_edge ]
  %currSE.0115 = phi %struct.syntaxelement* [ %arrayidx2, %if.else31 ], [ %incdec.ptr, %lor.end.for.body_crit_edge ]
  %arrayidx48 = getelementptr inbounds i32* %15, i64 %indvars.iv
  %18 = load i32* %arrayidx48, align 4, !tbaa !3
  %value1 = getelementptr inbounds %struct.syntaxelement* %currSE.0115, i64 0, i32 1
  store i32 %18, i32* %value1, align 4, !tbaa !3
  %arrayidx50 = getelementptr inbounds i32* %16, i64 %indvars.iv
  %19 = load i32* %arrayidx50, align 4, !tbaa !3
  %value2 = getelementptr inbounds %struct.syntaxelement* %currSE.0115, i64 0, i32 2
  store i32 %19, i32* %value2, align 4, !tbaa !3
  %symbol_mode51 = getelementptr inbounds %struct.InputParameters* %17, i64 0, i32 59
  %20 = load i32* %symbol_mode51, align 4, !tbaa !3
  %cmp52 = icmp eq i32 %20, 0
  br i1 %cmp52, label %if.then53, label %if.else54

if.then53:                                        ; preds = %for.body
  %mapping = getelementptr inbounds %struct.syntaxelement* %currSE.0115, i64 0, i32 8
  store void (i32, i32, i32*, i32*)* @levrun_linfo_inter, void (i32, i32, i32*, i32*)** %mapping, align 8, !tbaa !0
  br label %if.end55

if.else54:                                        ; preds = %for.body
  %writing = getelementptr inbounds %struct.syntaxelement* %currSE.0115, i64 0, i32 9
  store void (%struct.syntaxelement*, %struct.EncodingEnvironment*)* @writeRunLevel_CABAC, void (%struct.syntaxelement*, %struct.EncodingEnvironment*)** %writing, align 8, !tbaa !0
  br label %if.end55

if.end55:                                         ; preds = %if.else54, %if.then53
  %context = getelementptr inbounds %struct.syntaxelement* %currSE.0115, i64 0, i32 6
  store i32 7, i32* %context, align 4, !tbaa !3
  %type = getelementptr inbounds %struct.syntaxelement* %currSE.0115, i64 0, i32 0
  store i32 10, i32* %type, align 4, !tbaa !3
  %21 = load i32* %mb_type, align 4, !tbaa !3
  switch i32 %21, label %lor.rhs [
    i32 9, label %lor.end
    i32 10, label %lor.end
    i32 13, label %lor.end
  ]

lor.rhs:                                          ; preds = %if.end55
  br label %lor.end

lor.end:                                          ; preds = %if.end55, %if.end55, %if.end55, %lor.rhs
  %22 = phi i32 [ 1, %if.end55 ], [ 0, %lor.rhs ], [ 1, %if.end55 ], [ 1, %if.end55 ]
  %23 = load %struct.ImageParameters** @img, align 8, !tbaa !0
  %is_intra_block = getelementptr inbounds %struct.ImageParameters* %23, i64 0, i32 20
  store i32 %22, i32* %is_intra_block, align 4, !tbaa !3
  %is_v_block = getelementptr inbounds %struct.ImageParameters* %23, i64 0, i32 21
  store i32 %., i32* %is_v_block, align 4, !tbaa !3
  %24 = load i32* %type, align 4, !tbaa !3
  %idxprom62 = sext i32 %24 to i64
  %arrayidx63 = getelementptr inbounds i32* %7, i64 %idxprom62
  %25 = load i32* %arrayidx63, align 4, !tbaa !3
  %idxprom64 = sext i32 %25 to i64
  %26 = load %struct.datapartition** %partArr, align 8, !tbaa !0
  %arrayidx65 = getelementptr inbounds %struct.datapartition* %26, i64 %idxprom64
  %writeSyntaxElement = getelementptr inbounds %struct.datapartition* %26, i64 %idxprom64, i32 2
  %27 = load i32 (%struct.syntaxelement*, %struct.datapartition*)** %writeSyntaxElement, align 8, !tbaa !0
  %call66 = tail call i32 %27(%struct.syntaxelement* %currSE.0115, %struct.datapartition* %arrayidx65) #8
  %len = getelementptr inbounds %struct.syntaxelement* %currSE.0115, i64 0, i32 3
  %28 = load i32* %len, align 4, !tbaa !3
  %29 = load i32* %arrayidx67, align 4, !tbaa !3
  %add68 = add nsw i32 %29, %28
  store i32 %add68, i32* %arrayidx67, align 4, !tbaa !3
  %30 = load i32* %len, align 4, !tbaa !3
  %add70 = add nsw i32 %30, %rate.0116
  %31 = load i32* %currSEnr, align 4, !tbaa !3
  %inc = add nsw i32 %31, 1
  store i32 %inc, i32* %currSEnr, align 4, !tbaa !3
  %phitmp = icmp eq i32 %18, 0
  %32 = trunc i64 %indvars.iv to i32
  %cmp45 = icmp sgt i32 %32, 15
  %or.cond = or i1 %cmp45, %phitmp
  br i1 %or.cond, label %if.end73, label %lor.end.for.body_crit_edge

lor.end.for.body_crit_edge:                       ; preds = %lor.end
  %indvars.iv.next = add i64 %indvars.iv, 1
  %incdec.ptr = getelementptr inbounds %struct.syntaxelement* %currSE.0115, i64 1
  %.pre = load %struct.InputParameters** @input, align 8, !tbaa !0
  br label %for.body

if.end73:                                         ; preds = %lor.end, %if.then21
  %rate.1 = phi i32 [ %call30, %if.then21 ], [ %add70, %lor.end ]
  %33 = load %struct.CSobj** @cs_cm, align 8, !tbaa !0
  tail call void @reset_coding_state(%struct.CSobj* %33) #8
  ret i32 %rate.1
}
