define void @writeVlcByteAlign(%struct.Bitstream* nocapture %currStream) #0 {
entry:
  %bits_to_go = getelementptr inbounds %struct.Bitstream* %currStream, i64 0, i32 1
  %0 = load i32* %bits_to_go, align 4, !tbaa !0
  %cmp = icmp slt i32 %0, 8
  br i1 %cmp, label %if.then, label %if.end

if.then:                                          ; preds = %entry
  %byte_buf = getelementptr inbounds %struct.Bitstream* %currStream, i64 0, i32 2
  %1 = load i8* %byte_buf, align 1, !tbaa !1
  %conv = zext i8 %1 to i32
  %shl = shl i32 %conv, %0
  %sub = sub nsw i32 8, %0
  %shr = lshr i32 255, %sub
  %or = or i32 %shl, %shr
  %conv3 = trunc i32 %or to i8
  store i8 %conv3, i8* %byte_buf, align 1, !tbaa !1
  %2 = load %struct.ImageParameters** @img, align 8, !tbaa !3
  %type = getelementptr inbounds %struct.ImageParameters* %2, i64 0, i32 6
  %3 = load i32* %type, align 4, !tbaa !0
  %idxprom = sext i32 %3 to i64
  %4 = load %struct.StatParameters** @stats, align 8, !tbaa !3
  %arrayidx = getelementptr inbounds %struct.StatParameters* %4, i64 0, i32 22, i64 %idxprom
  %5 = load i32* %arrayidx, align 4, !tbaa !0
  %add = add nsw i32 %5, %0
  store i32 %add, i32* %arrayidx, align 4, !tbaa !0
  %6 = load i8* %byte_buf, align 1, !tbaa !1
  %byte_pos = getelementptr inbounds %struct.Bitstream* %currStream, i64 0, i32 0
  %7 = load i32* %byte_pos, align 4, !tbaa !0
  %inc = add nsw i32 %7, 1
  store i32 %inc, i32* %byte_pos, align 4, !tbaa !0
  %idxprom7 = sext i32 %7 to i64
  %streamBuffer = getelementptr inbounds %struct.Bitstream* %currStream, i64 0, i32 9
  %8 = load i8** %streamBuffer, align 8, !tbaa !3
  %arrayidx8 = getelementptr inbounds i8* %8, i64 %idxprom7
  store i8 %6, i8* %arrayidx8, align 1, !tbaa !1
  store i32 8, i32* %bits_to_go, align 4, !tbaa !0
  br label %if.end

if.end:                                           ; preds = %if.then, %entry
  ret void
}
