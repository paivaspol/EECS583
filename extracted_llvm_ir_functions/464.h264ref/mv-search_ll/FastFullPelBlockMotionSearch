define i32 @FastFullPelBlockMotionSearch(i16** nocapture %orig_pic, i16 signext %ref, i32 %list, i32 %pic_pix_x, i32 %pic_pix_y, i32 %blocktype, i16 signext %pred_mv_x, i16 signext %pred_mv_y, i16* nocapture %mv_x, i16* nocapture %mv_y, i32 %search_range, i32 %min_mcost, double %lambda) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{i16** %orig_pic}, i64 0, metadata !297), !dbg !1991
  tail call void @llvm.dbg.value(metadata !{i16 %ref}, i64 0, metadata !298), !dbg !1992
  tail call void @llvm.dbg.value(metadata !{i32 %list}, i64 0, metadata !299), !dbg !1993
  tail call void @llvm.dbg.value(metadata !{i32 %pic_pix_x}, i64 0, metadata !300), !dbg !1994
  tail call void @llvm.dbg.value(metadata !{i32 %pic_pix_y}, i64 0, metadata !301), !dbg !1995
  tail call void @llvm.dbg.value(metadata !{i32 %blocktype}, i64 0, metadata !302), !dbg !1996
  tail call void @llvm.dbg.value(metadata !{i16 %pred_mv_x}, i64 0, metadata !303), !dbg !1997
  tail call void @llvm.dbg.value(metadata !{i16 %pred_mv_y}, i64 0, metadata !304), !dbg !1998
  tail call void @llvm.dbg.value(metadata !{i16* %mv_x}, i64 0, metadata !305), !dbg !1999
  tail call void @llvm.dbg.value(metadata !{i16* %mv_y}, i64 0, metadata !306), !dbg !2000
  tail call void @llvm.dbg.value(metadata !{i32 %search_range}, i64 0, metadata !307), !dbg !2001
  tail call void @llvm.dbg.value(metadata !{i32 %min_mcost}, i64 0, metadata !308), !dbg !2002
  tail call void @llvm.dbg.value(metadata !{double %lambda}, i64 0, metadata !309), !dbg !2003
  %mul = shl nsw i32 %search_range, 1, !dbg !2004
  %add128 = or i32 %mul, 1, !dbg !2004
  %mul3 = mul nsw i32 %add128, %add128, !dbg !2004
  tail call void @llvm.dbg.value(metadata !{i32 %mul3}, i64 0, metadata !316), !dbg !2004
  %mul4 = fmul double %lambda, 6.553600e+04, !dbg !2005
  %add5 = fadd double %mul4, 5.000000e-01, !dbg !2005
  %conv = fptosi double %add5 to i32, !dbg !2005
  tail call void @llvm.dbg.value(metadata !{i32 %conv}, i64 0, metadata !317), !dbg !2005
  tail call void @llvm.dbg.value(metadata !26, i64 0, metadata !318), !dbg !2006
  %0 = load %struct.ImageParameters** @img, align 8, !dbg !2007, !tbaa !1438
  %opix_y = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 38, !dbg !2007
  %1 = load i32* %opix_y, align 4, !dbg !2007, !tbaa !1441
  %sub = sub i32 %pic_pix_y, %1, !dbg !2007
  %opix_x = getelementptr inbounds %struct.ImageParameters* %0, i64 0, i32 37, !dbg !2007
  %2 = load i32* %opix_x, align 4, !dbg !2007, !tbaa !1441
  %sub6 = sub nsw i32 %pic_pix_x, %2, !dbg !2007
  %shr = ashr i32 %sub6, 2, !dbg !2007
  %add7 = add nsw i32 %sub, %shr, !dbg !2007
  tail call void @llvm.dbg.value(metadata !{i32 %add7}, i64 0, metadata !319), !dbg !2007
  %idxprom = sext i32 %add7 to i64, !dbg !2008
  %idxprom8 = sext i32 %blocktype to i64, !dbg !2008
  %idxprom9 = sext i16 %ref to i64, !dbg !2008
  %idxprom10 = sext i32 %list to i64, !dbg !2008
  %3 = load i32****** @BlockSAD, align 8, !dbg !2008, !tbaa !1438
  %arrayidx = getelementptr inbounds i32***** %3, i64 %idxprom10, !dbg !2008
  %4 = load i32***** %arrayidx, align 8, !dbg !2008, !tbaa !1438
  %arrayidx11 = getelementptr inbounds i32**** %4, i64 %idxprom9, !dbg !2008
  %5 = load i32**** %arrayidx11, align 8, !dbg !2008, !tbaa !1438
  %arrayidx12 = getelementptr inbounds i32*** %5, i64 %idxprom8, !dbg !2008
  %6 = load i32*** %arrayidx12, align 8, !dbg !2008, !tbaa !1438
  %arrayidx13 = getelementptr inbounds i32** %6, i64 %idxprom, !dbg !2008
  %7 = load i32** %arrayidx13, align 8, !dbg !2008, !tbaa !1438
  tail call void @llvm.dbg.value(metadata !{i32* %7}, i64 0, metadata !320), !dbg !2008
  %8 = load i32*** @search_setup_done, align 8, !dbg !2009, !tbaa !1438
  %arrayidx16 = getelementptr inbounds i32** %8, i64 %idxprom10, !dbg !2009
  %9 = load i32** %arrayidx16, align 8, !dbg !2009, !tbaa !1438
  %arrayidx17 = getelementptr inbounds i32* %9, i64 %idxprom9, !dbg !2009
  %10 = load i32* %arrayidx17, align 4, !dbg !2009, !tbaa !1441
  %tobool = icmp eq i32 %10, 0, !dbg !2009
  br i1 %tobool, label %if.then, label %if.end, !dbg !2009

if.then:                                          ; preds = %entry
  tail call void @SetupFastFullPelSearch(i16 signext %ref, i32 %list) #9, !dbg !2010
  %.pre = load %struct.ImageParameters** @img, align 8, !dbg !2012, !tbaa !1438
  %opix_x22.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %.pre, i64 0, i32 37
  %.pre133 = load i32* %opix_x22.phi.trans.insert, align 4, !dbg !2012, !tbaa !1441
  %opix_y28.phi.trans.insert = getelementptr inbounds %struct.ImageParameters* %.pre, i64 0, i32 38
  %.pre134 = load i32* %opix_y28.phi.trans.insert, align 4, !dbg !2013, !tbaa !1441
  br label %if.end, !dbg !2014

if.end:                                           ; preds = %entry, %if.then
  %11 = phi i32 [ %1, %entry ], [ %.pre134, %if.then ]
  %12 = phi i32 [ %2, %entry ], [ %.pre133, %if.then ]
  %13 = load i32*** @search_center_x, align 8, !dbg !2012, !tbaa !1438
  %arrayidx20 = getelementptr inbounds i32** %13, i64 %idxprom10, !dbg !2012
  %14 = load i32** %arrayidx20, align 8, !dbg !2012, !tbaa !1438
  %arrayidx21 = getelementptr inbounds i32* %14, i64 %idxprom9, !dbg !2012
  %15 = load i32* %arrayidx21, align 4, !dbg !2012, !tbaa !1441
  %sub23 = sub nsw i32 %15, %12, !dbg !2012
  tail call void @llvm.dbg.value(metadata !{i32 %sub23}, i64 0, metadata !311), !dbg !2012
  %16 = load i32*** @search_center_y, align 8, !dbg !2013, !tbaa !1438
  %arrayidx26 = getelementptr inbounds i32** %16, i64 %idxprom10, !dbg !2013
  %17 = load i32** %arrayidx26, align 8, !dbg !2013, !tbaa !1438
  %arrayidx27 = getelementptr inbounds i32* %17, i64 %idxprom9, !dbg !2013
  %18 = load i32* %arrayidx27, align 4, !dbg !2013, !tbaa !1441
  %sub29 = sub nsw i32 %18, %11, !dbg !2013
  tail call void @llvm.dbg.value(metadata !{i32 %sub29}, i64 0, metadata !312), !dbg !2013
  %19 = load %struct.InputParameters** @input, align 8, !dbg !2015, !tbaa !1438
  %rdopt = getelementptr inbounds %struct.InputParameters* %19, i64 0, i32 85, !dbg !2015
  %20 = load i32* %rdopt, align 4, !dbg !2015, !tbaa !1441
  %tobool30 = icmp eq i32 %20, 0, !dbg !2015
  br i1 %tobool30, label %if.then31, label %if.end.for.cond.preheader_crit_edge, !dbg !2015

if.end.for.cond.preheader_crit_edge:              ; preds = %if.end
  %.pre135 = load i32** @mvbits, align 8, !dbg !2016, !tbaa !1438
  br label %for.cond.preheader, !dbg !2015

if.then31:                                        ; preds = %if.end
  %21 = load i32*** @pos_00, align 8, !dbg !2020, !tbaa !1438
  %arrayidx34 = getelementptr inbounds i32** %21, i64 %idxprom10, !dbg !2020
  %22 = load i32** %arrayidx34, align 8, !dbg !2020, !tbaa !1438
  %arrayidx35 = getelementptr inbounds i32* %22, i64 %idxprom9, !dbg !2020
  %23 = load i32* %arrayidx35, align 4, !dbg !2020, !tbaa !1441
  %idxprom36 = sext i32 %23 to i64, !dbg !2020
  %arrayidx37 = getelementptr inbounds i32* %7, i64 %idxprom36, !dbg !2020
  %24 = load i32* %arrayidx37, align 4, !dbg !2020, !tbaa !1441
  %conv38 = sext i16 %pred_mv_x to i64, !dbg !2020
  %sub39 = sub i64 0, %conv38, !dbg !2020
  %25 = load i32** @mvbits, align 8, !dbg !2020, !tbaa !1438
  %arrayidx41 = getelementptr inbounds i32* %25, i64 %sub39, !dbg !2020
  %26 = load i32* %arrayidx41, align 4, !dbg !2020, !tbaa !1441
  %conv42 = sext i16 %pred_mv_y to i64, !dbg !2020
  %sub43 = sub i64 0, %conv42, !dbg !2020
  %arrayidx45 = getelementptr inbounds i32* %25, i64 %sub43, !dbg !2020
  %27 = load i32* %arrayidx45, align 4, !dbg !2020, !tbaa !1441
  %add46 = add nsw i32 %27, %26, !dbg !2020
  %mul47 = mul nsw i32 %add46, %conv, !dbg !2020
  %shr48 = ashr i32 %mul47, 16, !dbg !2020
  %add49 = add nsw i32 %shr48, %24, !dbg !2020
  tail call void @llvm.dbg.value(metadata !{i32 %add49}, i64 0, metadata !315), !dbg !2020
  %cmp = icmp slt i32 %add49, %min_mcost, !dbg !2022
  tail call void @llvm.dbg.value(metadata !{i32 %add49}, i64 0, metadata !308), !dbg !2023
  tail call void @llvm.dbg.value(metadata !{i32 %23}, i64 0, metadata !318), !dbg !2025
  %. = select i1 %cmp, i32 %23, i32 0, !dbg !2022
  %add49.min_mcost = select i1 %cmp, i32 %add49, i32 %min_mcost, !dbg !2022
  br label %for.cond.preheader, !dbg !2022

for.cond.preheader:                               ; preds = %if.end.for.cond.preheader_crit_edge, %if.then31
  %28 = phi i32* [ %25, %if.then31 ], [ %.pre135, %if.end.for.cond.preheader_crit_edge ]
  %best_pos.1.ph = phi i32 [ %., %if.then31 ], [ 0, %if.end.for.cond.preheader_crit_edge ]
  %min_mcost.addr.1.ph = phi i32 [ %add49.min_mcost, %if.then31 ], [ %min_mcost, %if.end.for.cond.preheader_crit_edge ]
  %29 = load i32** @spiral_search_x, align 8, !dbg !2026, !tbaa !1438
  %30 = load i32** @spiral_search_y, align 8, !dbg !2027, !tbaa !1438
  %conv69 = sext i16 %pred_mv_x to i32, !dbg !2016
  %conv74 = sext i16 %pred_mv_y to i32, !dbg !2016
  br label %for.body, !dbg !2028

for.body:                                         ; preds = %for.cond.preheader, %for.inc
  %indvars.iv = phi i64 [ 0, %for.cond.preheader ], [ %indvars.iv.next, %for.inc ]
  %block_sad.0132 = phi i32* [ %7, %for.cond.preheader ], [ %incdec.ptr, %for.inc ]
  %min_mcost.addr.1131 = phi i32 [ %min_mcost.addr.1.ph, %for.cond.preheader ], [ %min_mcost.addr.2, %for.inc ]
  %best_pos.1130 = phi i32 [ %best_pos.1.ph, %for.cond.preheader ], [ %best_pos.2, %for.inc ]
  %31 = load i32* %block_sad.0132, align 4, !dbg !2029, !tbaa !1441
  %cmp60 = icmp slt i32 %31, %min_mcost.addr.1131, !dbg !2029
  br i1 %cmp60, label %if.then62, label %for.inc, !dbg !2029

if.then62:                                        ; preds = %for.body
  %arrayidx64 = getelementptr inbounds i32* %29, i64 %indvars.iv, !dbg !2026
  %32 = load i32* %arrayidx64, align 4, !dbg !2026, !tbaa !1441
  %add65 = add nsw i32 %32, %sub23, !dbg !2026
  tail call void @llvm.dbg.value(metadata !{i32 %add65}, i64 0, metadata !313), !dbg !2026
  %arrayidx67 = getelementptr inbounds i32* %30, i64 %indvars.iv, !dbg !2027
  %33 = load i32* %arrayidx67, align 4, !dbg !2027, !tbaa !1441
  %add68 = add nsw i32 %33, %sub29, !dbg !2027
  tail call void @llvm.dbg.value(metadata !{i32 %add68}, i64 0, metadata !314), !dbg !2027
  tail call void @llvm.dbg.value(metadata !{i32 %31}, i64 0, metadata !315), !dbg !2030
  %shl = shl i32 %add65, 2, !dbg !2016
  %sub70 = sub nsw i32 %shl, %conv69, !dbg !2016
  %idxprom71 = sext i32 %sub70 to i64, !dbg !2016
  %arrayidx72 = getelementptr inbounds i32* %28, i64 %idxprom71, !dbg !2016
  %34 = load i32* %arrayidx72, align 4, !dbg !2016, !tbaa !1441
  %shl73 = shl i32 %add68, 2, !dbg !2016
  %sub75 = sub nsw i32 %shl73, %conv74, !dbg !2016
  %idxprom76 = sext i32 %sub75 to i64, !dbg !2016
  %arrayidx77 = getelementptr inbounds i32* %28, i64 %idxprom76, !dbg !2016
  %35 = load i32* %arrayidx77, align 4, !dbg !2016, !tbaa !1441
  %add78 = add nsw i32 %35, %34, !dbg !2016
  %mul79 = mul nsw i32 %add78, %conv, !dbg !2016
  %shr80 = ashr i32 %mul79, 16, !dbg !2016
  %add81 = add nsw i32 %shr80, %31, !dbg !2016
  tail call void @llvm.dbg.value(metadata !{i32 %add81}, i64 0, metadata !315), !dbg !2016
  %cmp82 = icmp slt i32 %add81, %min_mcost.addr.1131, !dbg !2031
  tail call void @llvm.dbg.value(metadata !{i32 %add81}, i64 0, metadata !308), !dbg !2032
  tail call void @llvm.dbg.value(metadata !1981, i64 0, metadata !318), !dbg !2034
  %36 = trunc i64 %indvars.iv to i32, !dbg !2031
  %pos.0.best_pos.1 = select i1 %cmp82, i32 %36, i32 %best_pos.1130, !dbg !2031
  %add81.min_mcost.addr.1 = select i1 %cmp82, i32 %add81, i32 %min_mcost.addr.1131, !dbg !2031
  br label %for.inc, !dbg !2031

for.inc:                                          ; preds = %if.then62, %for.body
  %best_pos.2 = phi i32 [ %best_pos.1130, %for.body ], [ %pos.0.best_pos.1, %if.then62 ]
  %min_mcost.addr.2 = phi i32 [ %min_mcost.addr.1131, %for.body ], [ %add81.min_mcost.addr.1, %if.then62 ]
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !2028
  %incdec.ptr = getelementptr inbounds i32* %block_sad.0132, i64 1, !dbg !2028
  tail call void @llvm.dbg.value(metadata !{i32* %incdec.ptr}, i64 0, metadata !320), !dbg !2028
  %37 = trunc i64 %indvars.iv.next to i32, !dbg !2028
  %cmp58 = icmp slt i32 %37, %mul3, !dbg !2028
  br i1 %cmp58, label %for.body, label %for.end, !dbg !2028

for.end:                                          ; preds = %for.inc
  %idxprom87 = sext i32 %best_pos.2 to i64, !dbg !2035
  %arrayidx88 = getelementptr inbounds i32* %29, i64 %idxprom87, !dbg !2035
  %38 = load i32* %arrayidx88, align 4, !dbg !2035, !tbaa !1441
  %add89 = add nsw i32 %38, %sub23, !dbg !2035
  %conv90 = trunc i32 %add89 to i16, !dbg !2035
  store i16 %conv90, i16* %mv_x, align 2, !dbg !2035, !tbaa !1654
  %arrayidx92 = getelementptr inbounds i32* %30, i64 %idxprom87, !dbg !2036
  %39 = load i32* %arrayidx92, align 4, !dbg !2036, !tbaa !1441
  %add93 = add nsw i32 %39, %sub29, !dbg !2036
  %conv94 = trunc i32 %add93 to i16, !dbg !2036
  store i16 %conv94, i16* %mv_y, align 2, !dbg !2036, !tbaa !1654
  ret i32 %min_mcost.addr.2, !dbg !2037
}
