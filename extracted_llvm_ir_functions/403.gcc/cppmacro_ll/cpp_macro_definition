define i8* @cpp_macro_definition(%struct.cpp_reader* %pfile, %struct.cpp_hashnode* nocapture %node) #0 {
entry:
  %macro1 = getelementptr inbounds %struct.cpp_hashnode* %node, i64 0, i32 6, i32 0
  %0 = load %struct.cpp_macro** %macro1, align 8, !tbaa !3
  %type = getelementptr inbounds %struct.cpp_hashnode* %node, i64 0, i32 4
  %1 = bitcast i8* %type to i16*
  %bf.load = load i16* %1, align 4
  %2 = and i16 %bf.load, 1279
  %3 = icmp eq i16 %2, 1
  br i1 %3, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  %.mask = and i16 %bf.load, 255
  %bf.cast4 = zext i16 %.mask to i32
  tail call void (%struct.cpp_reader*, i8*, ...)* @cpp_ice(%struct.cpp_reader* %pfile, i8* getelementptr inbounds ([45 x i8]* @.str7, i64 0, i64 0), i32 %bf.cast4) #7
  br label %return

if.end:                                           ; preds = %entry
  %len5 = getelementptr inbounds %struct.cpp_hashnode* %node, i64 0, i32 0, i32 0
  %4 = load i32* %len5, align 4, !tbaa !7
  %add = add i32 %4, 2
  %fun_like = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 5
  %bf.load6 = load i8* %fun_like, align 2
  %bf.clear = and i8 %bf.load6, 1
  %tobool8 = icmp eq i8 %bf.clear, 0
  br i1 %tobool8, label %for.cond19.preheader, label %if.then9

if.then9:                                         ; preds = %if.end
  %add10 = add i32 %4, 6
  %paramc = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 4
  %5 = load i16* %paramc, align 2, !tbaa !2
  %cmp12288 = icmp eq i16 %5, 0
  br i1 %cmp12288, label %for.cond19.preheader, label %for.body.lr.ph

for.body.lr.ph:                                   ; preds = %if.then9
  %params = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 0
  %6 = load %struct.cpp_hashnode*** %params, align 8, !tbaa !3
  %conv11 = zext i16 %5 to i32
  br label %for.body

for.cond19.preheader:                             ; preds = %if.then9, %for.body, %if.end
  %len.2.ph = phi i32 [ %add, %if.end ], [ %add10, %if.then9 ], [ %add17, %for.body ]
  %count = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 3
  %7 = load i32* %count, align 4, !tbaa !7
  %cmp20282 = icmp eq i32 %7, 0
  br i1 %cmp20282, label %for.end55, label %for.body22.lr.ph

for.body22.lr.ph:                                 ; preds = %for.cond19.preheader
  %expansion = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 1
  %params32 = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 0
  br label %for.body22

for.body:                                         ; preds = %for.body.lr.ph, %for.body
  %indvars.iv = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next, %for.body ]
  %len.0289 = phi i32 [ %add10, %for.body.lr.ph ], [ %add17, %for.body ]
  %arrayidx = getelementptr inbounds %struct.cpp_hashnode** %6, i64 %indvars.iv
  %8 = load %struct.cpp_hashnode** %arrayidx, align 8, !tbaa !3
  %len15 = getelementptr inbounds %struct.cpp_hashnode* %8, i64 0, i32 0, i32 0
  %9 = load i32* %len15, align 4, !tbaa !7
  %add16 = add i32 %len.0289, 1
  %add17 = add i32 %add16, %9
  %indvars.iv.next = add i64 %indvars.iv, 1
  %10 = trunc i64 %indvars.iv.next to i32
  %cmp12 = icmp ult i32 %10, %conv11
  br i1 %cmp12, label %for.body, label %for.cond19.preheader

for.body22:                                       ; preds = %if.end38, %for.body22.lr.ph
  %11 = phi i32 [ %7, %for.body22.lr.ph ], [ %17, %if.end38 ]
  %i.1284 = phi i32 [ 0, %for.body22.lr.ph ], [ %inc54, %if.end38 ]
  %len.2283 = phi i32 [ %len.2.ph, %for.body22.lr.ph ], [ %len.5, %if.end38 ]
  %idxprom23 = zext i32 %i.1284 to i64
  %12 = load %struct.cpp_token** %expansion, align 8, !tbaa !3
  %type25 = getelementptr inbounds %struct.cpp_token* %12, i64 %idxprom23, i32 2
  %bf.load26 = load i8* %type25, align 2
  %cmp28 = icmp eq i8 %bf.load26, 65
  br i1 %cmp28, label %if.then30, label %if.else

if.then30:                                        ; preds = %for.body22
  %arg_no = getelementptr inbounds %struct.cpp_token* %12, i64 %idxprom23, i32 4, i32 0, i32 0
  %13 = load i32* %arg_no, align 4, !tbaa !7
  %sub = add i32 %13, -1
  %idxprom31 = zext i32 %sub to i64
  %14 = load %struct.cpp_hashnode*** %params32, align 8, !tbaa !3
  %arrayidx33 = getelementptr inbounds %struct.cpp_hashnode** %14, i64 %idxprom31
  %15 = load %struct.cpp_hashnode** %arrayidx33, align 8, !tbaa !3
  %len35 = getelementptr inbounds %struct.cpp_hashnode* %15, i64 0, i32 0, i32 0
  %16 = load i32* %len35, align 4, !tbaa !7
  br label %if.end38

if.else:                                          ; preds = %for.body22
  %arrayidx24 = getelementptr inbounds %struct.cpp_token* %12, i64 %idxprom23
  %call = tail call i32 @cpp_token_len(%struct.cpp_token* %arrayidx24) #7
  %.pre293 = load i32* %count, align 4, !tbaa !7
  br label %if.end38

if.end38:                                         ; preds = %if.else, %if.then30
  %17 = phi i32 [ %11, %if.then30 ], [ %.pre293, %if.else ]
  %.pn = phi i32 [ %16, %if.then30 ], [ %call, %if.else ]
  %len.3 = add i32 %.pn, %len.2283
  %flags39 = getelementptr inbounds %struct.cpp_token* %12, i64 %idxprom23, i32 3
  %18 = load i8* %flags39, align 1, !tbaa !0
  %and41 = lshr i8 %18, 2
  %and41.lobit = and i8 %and41, 1
  %inc44 = zext i8 %and41.lobit to i32
  %len.3.inc44 = add i32 %len.3, %inc44
  %and48 = and i8 %18, 8
  %tobool49 = icmp eq i8 %and48, 0
  %add51 = add i32 %len.3.inc44, 3
  %len.5 = select i1 %tobool49, i32 %len.3.inc44, i32 %add51
  %inc54 = add i32 %i.1284, 1
  %cmp20 = icmp ult i32 %inc54, %17
  br i1 %cmp20, label %for.body22, label %for.end55

for.end55:                                        ; preds = %if.end38, %for.cond19.preheader
  %len.2.lcssa = phi i32 [ %len.2.ph, %for.cond19.preheader ], [ %len.5, %if.end38 ]
  %macro_buffer_len = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 24
  %19 = load i32* %macro_buffer_len, align 4, !tbaa !7
  %cmp56 = icmp ugt i32 %len.2.lcssa, %19
  %macro_buffer = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 23
  %20 = load i8** %macro_buffer, align 8, !tbaa !3
  br i1 %cmp56, label %if.then58, label %if.end63

if.then58:                                        ; preds = %for.end55
  %conv59 = zext i32 %len.2.lcssa to i64
  %call60 = tail call i8* @xrealloc(i8* %20, i64 %conv59) #7
  store i8* %call60, i8** %macro_buffer, align 8, !tbaa !3
  store i32 %len.2.lcssa, i32* %macro_buffer_len, align 4, !tbaa !7
  br label %if.end63

if.end63:                                         ; preds = %for.end55, %if.then58
  %21 = phi i8* [ %call60, %if.then58 ], [ %20, %for.end55 ]
  %macro_buffer64 = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 23
  %str = getelementptr inbounds %struct.cpp_hashnode* %node, i64 0, i32 0, i32 1
  %22 = load i8** %str, align 8, !tbaa !3
  %23 = load i32* %len5, align 4, !tbaa !7
  %conv68 = zext i32 %23 to i64
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* %21, i8* %22, i64 %conv68, i32 1, i1 false)
  %24 = load i32* %len5, align 4, !tbaa !7
  %idx.ext = zext i32 %24 to i64
  %add.ptr = getelementptr inbounds i8* %21, i64 %idx.ext
  %bf.load72 = load i8* %fun_like, align 2
  %bf.clear73 = and i8 %bf.load72, 1
  %tobool75 = icmp eq i8 %bf.clear73, 0
  br i1 %tobool75, label %if.end121, label %if.then76

if.then76:                                        ; preds = %if.end63
  %add.ptr.sum = add i64 %idx.ext, 1
  %incdec.ptr = getelementptr inbounds i8* %21, i64 %add.ptr.sum
  store i8 40, i8* %add.ptr, align 1, !tbaa !0
  %paramc78 = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 4
  %25 = load i16* %paramc78, align 2, !tbaa !2
  %cmp80278 = icmp eq i16 %25, 0
  br i1 %cmp80278, label %for.end119, label %for.body82.lr.ph

for.body82.lr.ph:                                 ; preds = %if.then76
  %params84 = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 0
  %n__VA_ARGS__ = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 38, i32 4
  br label %for.body82

for.body82:                                       ; preds = %for.cond77.backedge, %for.body82.lr.ph
  %26 = phi i16 [ %25, %for.body82.lr.ph ], [ %34, %for.cond77.backedge ]
  %i.2280 = phi i32 [ 0, %for.body82.lr.ph ], [ %add99, %for.cond77.backedge ]
  %buffer.0279 = phi i8* [ %incdec.ptr, %for.body82.lr.ph ], [ %buffer.0.be, %for.cond77.backedge ]
  %idxprom83 = zext i32 %i.2280 to i64
  %27 = load %struct.cpp_hashnode*** %params84, align 8, !tbaa !3
  %arrayidx85 = getelementptr inbounds %struct.cpp_hashnode** %27, i64 %idxprom83
  %28 = load %struct.cpp_hashnode** %arrayidx85, align 8, !tbaa !3
  %29 = load %struct.cpp_hashnode** %n__VA_ARGS__, align 8, !tbaa !3
  %cmp86 = icmp eq %struct.cpp_hashnode* %28, %29
  br i1 %cmp86, label %if.end98, label %if.then88

if.then88:                                        ; preds = %for.body82
  %str90 = getelementptr inbounds %struct.cpp_hashnode* %28, i64 0, i32 0, i32 1
  %30 = load i8** %str90, align 8, !tbaa !3
  %len92 = getelementptr inbounds %struct.cpp_hashnode* %28, i64 0, i32 0, i32 0
  %31 = load i32* %len92, align 4, !tbaa !7
  %conv93 = zext i32 %31 to i64
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* %buffer.0279, i8* %30, i64 %conv93, i32 1, i1 false)
  %32 = load i32* %len92, align 4, !tbaa !7
  %idx.ext96 = zext i32 %32 to i64
  %add.ptr97 = getelementptr inbounds i8* %buffer.0279, i64 %idx.ext96
  %.pre292 = load i16* %paramc78, align 2, !tbaa !2
  br label %if.end98

if.end98:                                         ; preds = %for.body82, %if.then88
  %33 = phi i16 [ %.pre292, %if.then88 ], [ %26, %for.body82 ]
  %buffer.1 = phi i8* [ %add.ptr97, %if.then88 ], [ %buffer.0279, %for.body82 ]
  %add99 = add i32 %i.2280, 1
  %conv101 = zext i16 %33 to i32
  %cmp102 = icmp ult i32 %add99, %conv101
  br i1 %cmp102, label %if.then104, label %if.else106

if.then104:                                       ; preds = %if.end98
  %incdec.ptr105 = getelementptr inbounds i8* %buffer.1, i64 1
  store i8 44, i8* %buffer.1, align 1, !tbaa !0
  br label %for.cond77.backedge

if.else106:                                       ; preds = %if.end98
  %bf.load107 = load i8* %fun_like, align 2
  %bf.clear108 = and i8 %bf.load107, 2
  %tobool110 = icmp eq i8 %bf.clear108, 0
  br i1 %tobool110, label %for.cond77.backedge, label %if.then111

for.cond77.backedge:                              ; preds = %if.else106, %if.then104, %if.then111
  %buffer.0.be = phi i8* [ %incdec.ptr105, %if.then104 ], [ %incdec.ptr114, %if.then111 ], [ %buffer.1, %if.else106 ]
  %34 = load i16* %paramc78, align 2, !tbaa !2
  %conv79 = zext i16 %34 to i32
  %cmp80 = icmp ult i32 %add99, %conv79
  br i1 %cmp80, label %for.body82, label %for.end119

if.then111:                                       ; preds = %if.else106
  %incdec.ptr112 = getelementptr inbounds i8* %buffer.1, i64 1
  store i8 46, i8* %buffer.1, align 1, !tbaa !0
  %incdec.ptr113 = getelementptr inbounds i8* %buffer.1, i64 2
  store i8 46, i8* %incdec.ptr112, align 1, !tbaa !0
  %incdec.ptr114 = getelementptr inbounds i8* %buffer.1, i64 3
  store i8 46, i8* %incdec.ptr113, align 1, !tbaa !0
  br label %for.cond77.backedge

for.end119:                                       ; preds = %for.cond77.backedge, %if.then76
  %buffer.0.lcssa = phi i8* [ %incdec.ptr, %if.then76 ], [ %buffer.0.be, %for.cond77.backedge ]
  %incdec.ptr120 = getelementptr inbounds i8* %buffer.0.lcssa, i64 1
  store i8 41, i8* %buffer.0.lcssa, align 1, !tbaa !0
  br label %if.end121

if.end121:                                        ; preds = %if.end63, %for.end119
  %buffer.3 = phi i8* [ %incdec.ptr120, %for.end119 ], [ %add.ptr, %if.end63 ]
  %incdec.ptr122 = getelementptr inbounds i8* %buffer.3, i64 1
  store i8 32, i8* %buffer.3, align 1, !tbaa !0
  %35 = load i32* %count, align 4, !tbaa !7
  %tobool124 = icmp eq i32 %35, 0
  br i1 %tobool124, label %if.end189, label %for.body130.lr.ph

for.body130.lr.ph:                                ; preds = %if.end121
  %expansion133 = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 1
  %params159 = getelementptr inbounds %struct.cpp_macro* %0, i64 0, i32 0
  br label %for.body130

for.body130:                                      ; preds = %for.body130.lr.ph, %for.inc186
  %i.3276 = phi i32 [ 0, %for.body130.lr.ph ], [ %inc187, %for.inc186 ]
  %buffer.4275 = phi i8* [ %incdec.ptr122, %for.body130.lr.ph ], [ %buffer.8, %for.inc186 ]
  %idxprom132 = zext i32 %i.3276 to i64
  %36 = load %struct.cpp_token** %expansion133, align 8, !tbaa !3
  %arrayidx134 = getelementptr inbounds %struct.cpp_token* %36, i64 %idxprom132
  %flags135 = getelementptr inbounds %struct.cpp_token* %36, i64 %idxprom132, i32 3
  %37 = load i8* %flags135, align 1, !tbaa !0
  %and137 = and i8 %37, 1
  %tobool138 = icmp eq i8 %and137, 0
  br i1 %tobool138, label %if.end141, label %if.then139

if.then139:                                       ; preds = %for.body130
  %incdec.ptr140 = getelementptr inbounds i8* %buffer.4275, i64 1
  store i8 32, i8* %buffer.4275, align 1, !tbaa !0
  %.pre = load i8* %flags135, align 1, !tbaa !0
  br label %if.end141

if.end141:                                        ; preds = %for.body130, %if.then139
  %38 = phi i8 [ %.pre, %if.then139 ], [ %37, %for.body130 ]
  %buffer.5 = phi i8* [ %incdec.ptr140, %if.then139 ], [ %buffer.4275, %for.body130 ]
  %and144 = and i8 %38, 4
  %tobool145 = icmp eq i8 %and144, 0
  br i1 %tobool145, label %if.end148, label %if.then146

if.then146:                                       ; preds = %if.end141
  %incdec.ptr147 = getelementptr inbounds i8* %buffer.5, i64 1
  store i8 35, i8* %buffer.5, align 1, !tbaa !0
  br label %if.end148

if.end148:                                        ; preds = %if.end141, %if.then146
  %buffer.6 = phi i8* [ %incdec.ptr147, %if.then146 ], [ %buffer.5, %if.end141 ]
  %type149 = getelementptr inbounds %struct.cpp_token* %36, i64 %idxprom132, i32 2
  %bf.load150 = load i8* %type149, align 2
  %cmp152 = icmp eq i8 %bf.load150, 65
  br i1 %cmp152, label %if.then154, label %if.else174

if.then154:                                       ; preds = %if.end148
  %arg_no156 = getelementptr inbounds %struct.cpp_token* %36, i64 %idxprom132, i32 4, i32 0, i32 0
  %39 = load i32* %arg_no156, align 4, !tbaa !7
  %sub157 = add i32 %39, -1
  %idxprom158 = zext i32 %sub157 to i64
  %40 = load %struct.cpp_hashnode*** %params159, align 8, !tbaa !3
  %arrayidx160 = getelementptr inbounds %struct.cpp_hashnode** %40, i64 %idxprom158
  %41 = load %struct.cpp_hashnode** %arrayidx160, align 8, !tbaa !3
  %len162 = getelementptr inbounds %struct.cpp_hashnode* %41, i64 0, i32 0, i32 0
  %42 = load i32* %len162, align 4, !tbaa !7
  %str170 = getelementptr inbounds %struct.cpp_hashnode* %41, i64 0, i32 0, i32 1
  %43 = load i8** %str170, align 8, !tbaa !3
  %conv171 = zext i32 %42 to i64
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* %buffer.6, i8* %43, i64 %conv171, i32 1, i1 false)
  %add.ptr173 = getelementptr inbounds i8* %buffer.6, i64 %conv171
  br label %if.end176

if.else174:                                       ; preds = %if.end148
  %call175 = tail call i8* @cpp_spell_token(%struct.cpp_reader* %pfile, %struct.cpp_token* %arrayidx134, i8* %buffer.6) #7
  br label %if.end176

if.end176:                                        ; preds = %if.else174, %if.then154
  %buffer.7 = phi i8* [ %add.ptr173, %if.then154 ], [ %call175, %if.else174 ]
  %44 = load i8* %flags135, align 1, !tbaa !0
  %and179 = and i8 %44, 8
  %tobool180 = icmp eq i8 %and179, 0
  br i1 %tobool180, label %for.inc186, label %if.then181

if.then181:                                       ; preds = %if.end176
  %incdec.ptr182 = getelementptr inbounds i8* %buffer.7, i64 1
  store i8 32, i8* %buffer.7, align 1, !tbaa !0
  %incdec.ptr183 = getelementptr inbounds i8* %buffer.7, i64 2
  store i8 35, i8* %incdec.ptr182, align 1, !tbaa !0
  %incdec.ptr184 = getelementptr inbounds i8* %buffer.7, i64 3
  store i8 35, i8* %incdec.ptr183, align 1, !tbaa !0
  br label %for.inc186

for.inc186:                                       ; preds = %if.end176, %if.then181
  %buffer.8 = phi i8* [ %incdec.ptr184, %if.then181 ], [ %buffer.7, %if.end176 ]
  %inc187 = add i32 %i.3276, 1
  %45 = load i32* %count, align 4, !tbaa !7
  %cmp128 = icmp ult i32 %inc187, %45
  br i1 %cmp128, label %for.body130, label %if.end189

if.end189:                                        ; preds = %for.inc186, %if.end121
  %buffer.9 = phi i8* [ %incdec.ptr122, %if.end121 ], [ %buffer.8, %for.inc186 ]
  store i8 0, i8* %buffer.9, align 1, !tbaa !0
  %46 = load i8** %macro_buffer64, align 8, !tbaa !3
  br label %return

return:                                           ; preds = %if.end189, %if.then
  %retval.0 = phi i8* [ null, %if.then ], [ %46, %if.end189 ]
  ret i8* %retval.0
}
