define noalias %struct._IO_FILE* @dump_begin(i32 %phase, i32* %flag_ptr) #0 {
entry:
  %idxprom = zext i32 %phase to i64
  %state = getelementptr inbounds [5 x %struct.dump_file_info]* @dump_files, i64 0, i64 %idxprom, i32 3
  %0 = load i32* %state, align 4, !tbaa !4
  %tobool = icmp eq i32 %0, 0
  br i1 %tobool, label %return, label %if.end

if.end:                                           ; preds = %entry
  %1 = load i8** @dump_base_name, align 8, !tbaa !0
  %suffix = getelementptr inbounds [5 x %struct.dump_file_info]* @dump_files, i64 0, i64 %idxprom, i32 0
  %2 = load i8** %suffix, align 8, !tbaa !0
  %call = tail call noalias i8* (i8*, ...)* @concat(i8* %1, i8* %2, i8* null) #7
  %3 = load i32* %state, align 4, !tbaa !4
  %cmp = icmp slt i32 %3, 0
  %cond = select i1 %cmp, i8* getelementptr inbounds ([2 x i8]* @.str7, i64 0, i64 0), i8* getelementptr inbounds ([2 x i8]* @.str8, i64 0, i64 0)
  %call6 = tail call %struct._IO_FILE* @fopen(i8* %call, i8* %cond) #7
  %tobool7 = icmp eq %struct._IO_FILE* %call6, null
  br i1 %tobool7, label %if.then8, label %if.else

if.then8:                                         ; preds = %if.end
  tail call void (i8*, ...)* @error(i8* getelementptr inbounds ([30 x i8]* @.str9, i64 0, i64 0), i8* %call) #7
  br label %if.end12

if.else:                                          ; preds = %if.end
  store i32 1, i32* %state, align 4, !tbaa !4
  br label %if.end12

if.end12:                                         ; preds = %if.else, %if.then8
  tail call void @free(i8* %call) #7
  %tobool13 = icmp eq i32* %flag_ptr, null
  br i1 %tobool13, label %return, label %if.then14

if.then14:                                        ; preds = %if.end12
  %flags = getelementptr inbounds [5 x %struct.dump_file_info]* @dump_files, i64 0, i64 %idxprom, i32 2
  %4 = load i32* %flags, align 8, !tbaa !4
  store i32 %4, i32* %flag_ptr, align 4, !tbaa !4
  br label %return

return:                                           ; preds = %if.then14, %if.end12, %entry
  %retval.0 = phi %struct._IO_FILE* [ null, %entry ], [ %call6, %if.end12 ], [ %call6, %if.then14 ]
  ret %struct._IO_FILE* %retval.0
}
