define internal fastcc i32 @add_action_record(%struct.htab* %ar_hash, i32 %filter, i32 %next) #0 {
entry:
  %tmp = alloca %struct.action_record, align 4
  call void @llvm.dbg.value(metadata !{%struct.htab* %ar_hash}, i64 0, metadata !1812), !dbg !3575
  call void @llvm.dbg.value(metadata !{i32 %filter}, i64 0, metadata !1813), !dbg !3576
  call void @llvm.dbg.value(metadata !{i32 %next}, i64 0, metadata !1814), !dbg !3576
  call void @llvm.dbg.declare(metadata !{%struct.action_record* %tmp}, metadata !1824), !dbg !3577
  %filter1 = getelementptr inbounds %struct.action_record* %tmp, i64 0, i32 1, !dbg !3578
  store i32 %filter, i32* %filter1, align 4, !dbg !3578, !tbaa !2220
  %next2 = getelementptr inbounds %struct.action_record* %tmp, i64 0, i32 2, !dbg !3579
  store i32 %next, i32* %next2, align 4, !dbg !3579, !tbaa !2220
  %0 = bitcast %struct.action_record* %tmp to i8*, !dbg !3580
  %call = call i8** @htab_find_slot(%struct.htab* %ar_hash, i8* %0, i32 1) #7, !dbg !3580
  %1 = load i8** %call, align 8, !dbg !3581
  %cmp = icmp eq i8* %1, null, !dbg !3581
  br i1 %cmp, label %if.then, label %if.end17, !dbg !3581

if.then:                                          ; preds = %entry
  %call3 = call noalias i8* @xmalloc(i64 12) #7, !dbg !3582
  %2 = load %struct.function** @cfun, align 8, !dbg !3584, !tbaa !2232
  %eh = getelementptr inbounds %struct.function* %2, i64 0, i32 0, !dbg !3584
  %3 = load %struct.eh_status** %eh, align 8, !dbg !3584, !tbaa !2232
  %action_record_data = getelementptr inbounds %struct.eh_status* %3, i64 0, i32 11, !dbg !3584
  %4 = load %struct.varray_head_tag** %action_record_data, align 8, !dbg !3584, !tbaa !2232
  %elements_used = getelementptr inbounds %struct.varray_head_tag* %4, i64 0, i32 1, !dbg !3584
  %5 = load i64* %elements_used, align 8, !dbg !3584, !tbaa !2271
  %add = add i64 %5, 1, !dbg !3584
  %conv = trunc i64 %add to i32, !dbg !3584
  %offset = bitcast i8* %call3 to i32*, !dbg !3584
  store i32 %conv, i32* %offset, align 4, !dbg !3584, !tbaa !2220
  %filter4 = getelementptr inbounds i8* %call3, i64 4, !dbg !3585
  %6 = bitcast i8* %filter4 to i32*, !dbg !3585
  store i32 %filter, i32* %6, align 4, !dbg !3585, !tbaa !2220
  %next5 = getelementptr inbounds i8* %call3, i64 8, !dbg !3586
  %7 = bitcast i8* %next5 to i32*, !dbg !3586
  store i32 %next, i32* %7, align 4, !dbg !3586, !tbaa !2220
  store i8* %call3, i8** %call, align 8, !dbg !3587, !tbaa !2232
  %8 = load %struct.function** @cfun, align 8, !dbg !3588, !tbaa !2232
  %eh6 = getelementptr inbounds %struct.function* %8, i64 0, i32 0, !dbg !3588
  %9 = load %struct.eh_status** %eh6, align 8, !dbg !3588, !tbaa !2232
  %action_record_data7 = getelementptr inbounds %struct.eh_status* %9, i64 0, i32 11, !dbg !3588
  call fastcc void @push_sleb128(%struct.varray_head_tag** %action_record_data7, i32 %filter) #8, !dbg !3588
  %tobool = icmp eq i32 %next, 0, !dbg !3589
  %.pre = load %struct.function** @cfun, align 8, !dbg !3590, !tbaa !2232
  %eh15.phi.trans.insert = getelementptr inbounds %struct.function* %.pre, i64 0, i32 0
  %.pre31 = load %struct.eh_status** %eh15.phi.trans.insert, align 8, !dbg !3590, !tbaa !2232
  br i1 %tobool, label %if.end, label %if.then8, !dbg !3589

if.then8:                                         ; preds = %if.then
  %action_record_data10 = getelementptr inbounds %struct.eh_status* %.pre31, i64 0, i32 11, !dbg !3591
  %10 = load %struct.varray_head_tag** %action_record_data10, align 8, !dbg !3591, !tbaa !2232
  %elements_used11 = getelementptr inbounds %struct.varray_head_tag* %10, i64 0, i32 1, !dbg !3591
  %11 = load i64* %elements_used11, align 8, !dbg !3591, !tbaa !2271
  %conv1330 = zext i32 %next to i64, !dbg !3591
  %add12.neg = add i64 %conv1330, 4294967295, !dbg !3591
  %sub = sub i64 %add12.neg, %11, !dbg !3591
  %conv14 = trunc i64 %sub to i32, !dbg !3591
  call void @llvm.dbg.value(metadata !{i32 %conv14}, i64 0, metadata !1814), !dbg !3591
  br label %if.end, !dbg !3591

if.end:                                           ; preds = %if.then, %if.then8
  %next.addr.0 = phi i32 [ %conv14, %if.then8 ], [ 0, %if.then ]
  %action_record_data16 = getelementptr inbounds %struct.eh_status* %.pre31, i64 0, i32 11, !dbg !3590
  call fastcc void @push_sleb128(%struct.varray_head_tag** %action_record_data16, i32 %next.addr.0) #8, !dbg !3590
  br label %if.end17, !dbg !3592

if.end17:                                         ; preds = %if.end, %entry
  %new.0.in = phi i8* [ %call3, %if.end ], [ %1, %entry ]
  %offset18 = bitcast i8* %new.0.in to i32*, !dbg !3593
  %12 = load i32* %offset18, align 4, !dbg !3593, !tbaa !2220
  ret i32 %12, !dbg !3593
}
