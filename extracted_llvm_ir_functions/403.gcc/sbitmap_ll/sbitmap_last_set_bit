define i32 @sbitmap_last_set_bit(%struct.simple_bitmap_def* nocapture %bmap) #3 {
entry:
  tail call void @llvm.dbg.value(metadata !{%struct.simple_bitmap_def* %bmap}, i64 0, metadata !467), !dbg !804
  %size = getelementptr inbounds %struct.simple_bitmap_def* %bmap, i64 0, i32 1, !dbg !805
  %0 = load i32* %size, align 4, !dbg !805, !tbaa !559
  br label %for.cond, !dbg !805

for.cond:                                         ; preds = %for.body, %entry
  %i.0.in = phi i32 [ %0, %entry ], [ %i.0, %for.body ]
  %i.0 = add i32 %i.0.in, -1, !dbg !805
  %cmp = icmp sgt i32 %i.0, -1, !dbg !805
  br i1 %cmp, label %for.body, label %return, !dbg !805

for.body:                                         ; preds = %for.cond
  %idxprom = sext i32 %i.0 to i64, !dbg !806
  %arrayidx = getelementptr inbounds %struct.simple_bitmap_def* %bmap, i64 0, i32 3, i64 %idxprom, !dbg !806
  %1 = load i64* %arrayidx, align 8, !dbg !806, !tbaa !596
  tail call void @llvm.dbg.value(metadata !{i64 %1}, i64 0, metadata !470), !dbg !806
  %cmp1 = icmp eq i64 %1, 0, !dbg !807
  br i1 %cmp1, label %for.cond, label %if.then, !dbg !807

if.then:                                          ; preds = %for.body
  %mul = shl i32 %i.0.in, 6, !dbg !808
  tail call void @llvm.dbg.value(metadata !809, i64 0, metadata !475), !dbg !810
  br label %while.body, !dbg !811

while.body:                                       ; preds = %while.body, %if.then
  %index.0.in = phi i32 [ %mul, %if.then ], [ %index.0, %while.body ]
  %mask.0 = phi i64 [ -9223372036854775808, %if.then ], [ %shr, %while.body ]
  %index.0 = add i32 %index.0.in, -1, !dbg !808
  %and = and i64 %mask.0, %1, !dbg !812
  %cmp3 = icmp eq i64 %and, 0, !dbg !812
  %shr = lshr i64 %mask.0, 1, !dbg !814
  tail call void @llvm.dbg.value(metadata !{i64 %shr}, i64 0, metadata !475), !dbg !814
  br i1 %cmp3, label %while.body, label %return, !dbg !812

return:                                           ; preds = %for.cond, %while.body
  %retval.0 = phi i32 [ %index.0, %while.body ], [ -1, %for.cond ]
  ret i32 %retval.0, !dbg !815
}
