define void @internal_error(i8* %msgid, ...) #7 {
entry:
  %dc = alloca %struct.diagnostic_context, align 8
  %ap = alloca [1 x %struct.__va_list_tag], align 16
  %0 = bitcast %struct.diagnostic_context* %dc to i8*
  call void @llvm.lifetime.start(i64 376, i8* %0) #3
  %arraydecay1 = bitcast [1 x %struct.__va_list_tag]* %ap to i8*
  call void @llvm.va_start(i8* %arraydecay1)
  %1 = load i32* @diagnostic_lock, align 4, !tbaa !0
  %tobool = icmp eq i32 %1, 0
  br i1 %tobool, label %if.end, label %if.then

if.then:                                          ; preds = %entry
  call fastcc void @error_recursion() #15
  unreachable

if.end:                                           ; preds = %entry
  %2 = load %struct.diagnostic_context** @global_dc, align 8, !tbaa !3
  %arrayidx = getelementptr inbounds %struct.diagnostic_context* %2, i64 0, i32 0, i32 0, i32 9, i64 3
  %3 = load i32* %arrayidx, align 4, !tbaa !0
  %cmp = icmp sgt i32 %3, 0
  br i1 %cmp, label %if.then6, label %lor.lhs.false

lor.lhs.false:                                    ; preds = %if.end
  %arrayidx4 = getelementptr inbounds %struct.diagnostic_context* %2, i64 0, i32 0, i32 0, i32 9, i64 2
  %4 = load i32* %arrayidx4, align 4, !tbaa !0
  %cmp5 = icmp sgt i32 %4, 0
  br i1 %cmp5, label %if.then6, label %if.end7

if.then6:                                         ; preds = %lor.lhs.false, %if.end
  %5 = load %struct._IO_FILE** @stderr, align 8, !tbaa !3
  %6 = load i8** @input_filename, align 8, !tbaa !3
  %7 = load i32* @lineno, align 4, !tbaa !0
  call void (%struct._IO_FILE*, i8*, ...)* @fnotice(%struct._IO_FILE* %5, i8* getelementptr inbounds ([48 x i8]* @.str11, i64 0, i64 0), i8* %6, i32 %7) #11
  call void @exit(i32 1) #14
  unreachable

if.end7:                                          ; preds = %lor.lhs.false
  %8 = load void (i8*, [1 x %struct.__va_list_tag]*)** @internal_error_function, align 8, !tbaa !3
  %cmp8 = icmp eq void (i8*, [1 x %struct.__va_list_tag]*)* %8, null
  br i1 %cmp8, label %if.end10, label %if.then9

if.then9:                                         ; preds = %if.end7
  call void %8(i8* %msgid, [1 x %struct.__va_list_tag]* %ap) #10
  %.pre = load %struct.diagnostic_context** @global_dc, align 8, !tbaa !3
  br label %if.end10

if.end10:                                         ; preds = %if.end7, %if.then9
  %9 = phi %struct.diagnostic_context* [ %2, %if.end7 ], [ %.pre, %if.then9 ]
  %10 = load i8** @input_filename, align 8, !tbaa !3
  %11 = load i32* @lineno, align 4, !tbaa !0
  call void @llvm.memset.p0i8.i64(i8* %0, i8 0, i64 376, i32 8, i1 false) #3
  %message.i = getelementptr inbounds %struct.diagnostic_context* %dc, i64 0, i32 1
  store i8* %msgid, i8** %message.i, align 8, !tbaa !3
  %args_ptr1.i = getelementptr inbounds %struct.diagnostic_context* %dc, i64 0, i32 2
  store [1 x %struct.__va_list_tag]* %ap, [1 x %struct.__va_list_tag]** %args_ptr1.i, align 8, !tbaa !3
  %file2.i = getelementptr inbounds %struct.diagnostic_context* %dc, i64 0, i32 3
  store i8* %10, i8** %file2.i, align 8, !tbaa !3
  %line3.i = getelementptr inbounds %struct.diagnostic_context* %dc, i64 0, i32 4
  store i32 %11, i32* %line3.i, align 8, !tbaa !0
  %warn4.i = getelementptr inbounds %struct.diagnostic_context* %dc, i64 0, i32 5
  store i32 0, i32* %warn4.i, align 4, !tbaa !0
  %begin_diagnostic.i = getelementptr inbounds %struct.diagnostic_context* %9, i64 0, i32 6
  %12 = load void (%struct.output_buffer*, %struct.diagnostic_context*)** %begin_diagnostic.i, align 8, !tbaa !3
  %begin_diagnostic5.i = getelementptr inbounds %struct.diagnostic_context* %dc, i64 0, i32 6
  store void (%struct.output_buffer*, %struct.diagnostic_context*)* %12, void (%struct.output_buffer*, %struct.diagnostic_context*)** %begin_diagnostic5.i, align 8, !tbaa !3
  %end_diagnostic.i = getelementptr inbounds %struct.diagnostic_context* %9, i64 0, i32 7
  %13 = load void (%struct.output_buffer*, %struct.diagnostic_context*)** %end_diagnostic.i, align 8, !tbaa !3
  %end_diagnostic6.i = getelementptr inbounds %struct.diagnostic_context* %dc, i64 0, i32 7
  store void (%struct.output_buffer*, %struct.diagnostic_context*)* %13, void (%struct.output_buffer*, %struct.diagnostic_context*)** %end_diagnostic6.i, align 8, !tbaa !3
  call void @report_diagnostic(%struct.diagnostic_context* %dc) #11
  call void @llvm.va_end(i8* %arraydecay1)
  %14 = load %struct._IO_FILE** @stderr, align 8, !tbaa !3
  call void (%struct._IO_FILE*, i8*, ...)* @fnotice(%struct._IO_FILE* %14, i8* getelementptr inbounds ([421 x i8]* @.str12, i64 0, i64 0), i8* getelementptr inbounds ([27 x i8]* @.str13, i64 0, i64 0)) #11
  call void @exit(i32 1) #14
  unreachable
}
