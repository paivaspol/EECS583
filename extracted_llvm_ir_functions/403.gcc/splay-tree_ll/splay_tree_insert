define %struct.splay_tree_node_s* @splay_tree_insert(%struct.splay_tree_s* %sp, i64 %key, i64 %value) #0 {
entry:
  %root.i = getelementptr inbounds %struct.splay_tree_s* %sp, i64 0, i32 0
  %0 = load %struct.splay_tree_node_s** %root.i, align 8, !tbaa !0
  %cmp.i = icmp eq %struct.splay_tree_node_s* %0, null
  br i1 %cmp.i, label %if.else, label %splay_tree_splay.exit

splay_tree_splay.exit:                            ; preds = %entry
  %call.i = tail call fastcc %struct.splay_tree_node_s* @splay_tree_splay_helper(%struct.splay_tree_s* %sp, i64 %key, %struct.splay_tree_node_s** %root.i, %struct.splay_tree_node_s** null, %struct.splay_tree_node_s** null) #6
  %.pr = load %struct.splay_tree_node_s** %root.i, align 8, !tbaa !0
  %tobool = icmp eq %struct.splay_tree_node_s* %.pr, null
  br i1 %tobool, label %if.else, label %if.end

if.end:                                           ; preds = %splay_tree_splay.exit
  %comp = getelementptr inbounds %struct.splay_tree_s* %sp, i64 0, i32 1
  %1 = load i32 (i64, i64)** %comp, align 8, !tbaa !0
  %key2 = getelementptr inbounds %struct.splay_tree_node_s* %.pr, i64 0, i32 0
  %2 = load i64* %key2, align 8, !tbaa !3
  %call = tail call i32 %1(i64 %2, i64 %key) #6
  %.pre = load %struct.splay_tree_node_s** %root.i, align 8, !tbaa !0
  %tobool4 = icmp ne %struct.splay_tree_node_s* %.pre, null
  %cmp = icmp eq i32 %call, 0
  %or.cond = and i1 %tobool4, %cmp
  br i1 %or.cond, label %if.then5, label %if.else

if.then5:                                         ; preds = %if.end
  %delete_value = getelementptr inbounds %struct.splay_tree_s* %sp, i64 0, i32 3
  %3 = load void (i64)** %delete_value, align 8, !tbaa !0
  %tobool6 = icmp eq void (i64)* %3, null
  br i1 %tobool6, label %if.end11, label %if.then7

if.then7:                                         ; preds = %if.then5
  %value10 = getelementptr inbounds %struct.splay_tree_node_s* %.pre, i64 0, i32 1
  %4 = load i64* %value10, align 8, !tbaa !3
  tail call void %3(i64 %4) #6
  %.pre73 = load %struct.splay_tree_node_s** %root.i, align 8, !tbaa !0
  br label %if.end11

if.end11:                                         ; preds = %if.then5, %if.then7
  %5 = phi %struct.splay_tree_node_s* [ %.pre, %if.then5 ], [ %.pre73, %if.then7 ]
  %value13 = getelementptr inbounds %struct.splay_tree_node_s* %5, i64 0, i32 1
  store i64 %value, i64* %value13, align 8, !tbaa !3
  br label %if.end41

if.else:                                          ; preds = %entry, %splay_tree_splay.exit, %if.end
  %comparison.077 = phi i32 [ %call, %if.end ], [ 0, %splay_tree_splay.exit ], [ 0, %entry ]
  %allocate = getelementptr inbounds %struct.splay_tree_s* %sp, i64 0, i32 4
  %6 = load i8* (i32, i8*)** %allocate, align 8, !tbaa !0
  %allocate_data = getelementptr inbounds %struct.splay_tree_s* %sp, i64 0, i32 6
  %7 = load i8** %allocate_data, align 8, !tbaa !0
  %call14 = tail call i8* %6(i32 32, i8* %7) #6
  %8 = bitcast i8* %call14 to %struct.splay_tree_node_s*
  %key15 = bitcast i8* %call14 to i64*
  store i64 %key, i64* %key15, align 8, !tbaa !3
  %value16 = getelementptr inbounds i8* %call14, i64 8
  %9 = bitcast i8* %value16 to i64*
  store i64 %value, i64* %9, align 8, !tbaa !3
  %10 = load %struct.splay_tree_node_s** %root.i, align 8, !tbaa !0
  %tobool18 = icmp eq %struct.splay_tree_node_s* %10, null
  br i1 %tobool18, label %if.then19, label %if.else20

if.then19:                                        ; preds = %if.else
  %left = getelementptr inbounds i8* %call14, i64 16
  call void @llvm.memset.p0i8.i64(i8* %left, i8 0, i64 16, i32 8, i1 false)
  br label %if.end39

if.else20:                                        ; preds = %if.else
  %cmp21 = icmp slt i32 %comparison.077, 0
  br i1 %cmp21, label %if.then22, label %if.else30

if.then22:                                        ; preds = %if.else20
  %left24 = getelementptr inbounds i8* %call14, i64 16
  %11 = bitcast i8* %left24 to %struct.splay_tree_node_s**
  store %struct.splay_tree_node_s* %10, %struct.splay_tree_node_s** %11, align 8, !tbaa !0
  %right26 = getelementptr inbounds %struct.splay_tree_node_s* %10, i64 0, i32 3
  %12 = load %struct.splay_tree_node_s** %right26, align 8, !tbaa !0
  %right27 = getelementptr inbounds i8* %call14, i64 24
  %13 = bitcast i8* %right27 to %struct.splay_tree_node_s**
  store %struct.splay_tree_node_s* %12, %struct.splay_tree_node_s** %13, align 8, !tbaa !0
  store %struct.splay_tree_node_s* null, %struct.splay_tree_node_s** %right26, align 8, !tbaa !0
  br label %if.end39

if.else30:                                        ; preds = %if.else20
  %right32 = getelementptr inbounds i8* %call14, i64 24
  %14 = bitcast i8* %right32 to %struct.splay_tree_node_s**
  store %struct.splay_tree_node_s* %10, %struct.splay_tree_node_s** %14, align 8, !tbaa !0
  %left34 = getelementptr inbounds %struct.splay_tree_node_s* %10, i64 0, i32 2
  %15 = load %struct.splay_tree_node_s** %left34, align 8, !tbaa !0
  %left35 = getelementptr inbounds i8* %call14, i64 16
  %16 = bitcast i8* %left35 to %struct.splay_tree_node_s**
  store %struct.splay_tree_node_s* %15, %struct.splay_tree_node_s** %16, align 8, !tbaa !0
  store %struct.splay_tree_node_s* null, %struct.splay_tree_node_s** %left34, align 8, !tbaa !0
  br label %if.end39

if.end39:                                         ; preds = %if.then22, %if.else30, %if.then19
  store %struct.splay_tree_node_s* %8, %struct.splay_tree_node_s** %root.i, align 8, !tbaa !0
  br label %if.end41

if.end41:                                         ; preds = %if.end39, %if.end11
  %17 = phi %struct.splay_tree_node_s* [ %8, %if.end39 ], [ %5, %if.end11 ]
  ret %struct.splay_tree_node_s* %17
}
