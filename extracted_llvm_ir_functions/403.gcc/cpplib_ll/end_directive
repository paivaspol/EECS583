define internal fastcc void @end_directive(%struct.cpp_reader* %pfile, i32 %skip_line) #0 {
entry:
  %tobool = icmp eq i32 %skip_line, 0
  br i1 %tobool, label %if.end4, label %if.then

if.then:                                          ; preds = %entry
  tail call fastcc void @skip_rest_of_line(%struct.cpp_reader* %pfile) #9
  %keep_tokens = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 19
  %0 = load i32* %keep_tokens, align 4, !tbaa !2
  %tobool1 = icmp eq i32 %0, 0
  br i1 %tobool1, label %if.then2, label %if.end4

if.then2:                                         ; preds = %if.then
  %base_run = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 16
  %cur_run = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 17
  store %struct.tokenrun* %base_run, %struct.tokenrun** %cur_run, align 8, !tbaa !3
  %base = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 16, i32 2
  %1 = load %struct.cpp_token** %base, align 8, !tbaa !3
  %cur_token = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 15
  store %struct.cpp_token* %1, %struct.cpp_token** %cur_token, align 8, !tbaa !3
  br label %if.end4

if.end4:                                          ; preds = %if.then, %entry, %if.then2
  %discard_comments = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 37, i32 17
  %2 = load i8* %discard_comments, align 1, !tbaa !0
  %lnot = icmp eq i8 %2, 0
  %conv = zext i1 %lnot to i8
  %save_comments = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 1, i32 3
  store i8 %conv, i8* %save_comments, align 1, !tbaa !0
  %in_directive = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 1, i32 0
  store i8 0, i8* %in_directive, align 1, !tbaa !0
  %angled_headers = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 1, i32 2
  store i8 0, i8* %angled_headers, align 1, !tbaa !0
  %directive = getelementptr inbounds %struct.cpp_reader* %pfile, i64 0, i32 11
  store %struct.directive* null, %struct.directive** %directive, align 8, !tbaa !3
  ret void
}
