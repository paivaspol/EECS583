define i32 @promote_mode(%union.tree_node* nocapture %type, i32 %mode, i32* nocapture %punsignedp, i32 %for_call) #2 {
entry:
  tail call void @llvm.dbg.value(metadata !{%union.tree_node* %type}, i64 0, metadata !1799), !dbg !2165
  tail call void @llvm.dbg.value(metadata !{i32 %mode}, i64 0, metadata !1800), !dbg !2166
  tail call void @llvm.dbg.value(metadata !{i32* %punsignedp}, i64 0, metadata !1801), !dbg !2167
  tail call void @llvm.dbg.value(metadata !{i32 %for_call}, i64 0, metadata !1802), !dbg !2168
  %code1 = getelementptr inbounds %union.tree_node* %type, i64 0, i32 0, i32 0, i32 2, !dbg !2169
  %0 = bitcast [4 x i8]* %code1 to i32*, !dbg !2169
  %bf.load = load i32* %0, align 8, !dbg !2169
  %bf.clear = and i32 %bf.load, 255, !dbg !2169
  tail call void @llvm.dbg.value(metadata !{i32 %bf.clear}, i64 0, metadata !1803), !dbg !2169
  %1 = load i32* %punsignedp, align 4, !dbg !2170, !tbaa !2023
  tail call void @llvm.dbg.value(metadata !{i32 %1}, i64 0, metadata !1804), !dbg !2170
  switch i32 %bf.clear, label %sw.epilog [
    i32 6, label %do.body
    i32 10, label %do.body
    i32 11, label %do.body
    i32 12, label %do.body
    i32 7, label %do.body
    i32 14, label %do.body
  ], !dbg !2171

do.body:                                          ; preds = %entry, %entry, %entry, %entry, %entry, %entry
  switch i32 %mode, label %sw.epilog [
    i32 3, label %land.lhs.true
    i32 2, label %land.lhs.true3
  ], !dbg !2172

land.lhs.true:                                    ; preds = %do.body
  %2 = load i32* @x86_promote_hi_regs, align 4, !dbg !2172, !tbaa !2023
  %3 = load i32* @ix86_cpu, align 4, !dbg !2172, !tbaa !2175
  %shl = shl i32 1, %3, !dbg !2172
  %and = and i32 %shl, %2, !dbg !2172
  %tobool = icmp eq i32 %and, 0, !dbg !2172
  br i1 %tobool, label %sw.epilog, label %if.then, !dbg !2172

land.lhs.true3:                                   ; preds = %do.body
  %4 = load i32* @x86_promote_qi_regs, align 4, !dbg !2172, !tbaa !2023
  %5 = load i32* @ix86_cpu, align 4, !dbg !2172, !tbaa !2175
  %shl4 = shl i32 1, %5, !dbg !2172
  %and5 = and i32 %shl4, %4, !dbg !2172
  %tobool6 = icmp eq i32 %and5, 0, !dbg !2172
  br i1 %tobool6, label %sw.epilog, label %if.then, !dbg !2172

if.then:                                          ; preds = %land.lhs.true, %land.lhs.true3
  tail call void @llvm.dbg.value(metadata !2176, i64 0, metadata !1800), !dbg !2172
  br label %sw.epilog, !dbg !2172

sw.epilog:                                        ; preds = %land.lhs.true, %do.body, %land.lhs.true3, %entry, %if.then
  %mode.addr.0 = phi i32 [ %mode, %entry ], [ 4, %if.then ], [ 2, %land.lhs.true3 ], [ %mode, %do.body ], [ 3, %land.lhs.true ]
  store i32 %1, i32* %punsignedp, align 4, !dbg !2177, !tbaa !2023
  ret i32 %mode.addr.0, !dbg !2178
}
