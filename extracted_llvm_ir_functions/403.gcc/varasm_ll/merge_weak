define void @merge_weak(%union.tree_node* %newdecl, %union.tree_node* %olddecl) #0 {
entry:
  %weak_flag = getelementptr inbounds %union.tree_node* %newdecl, i64 0, i32 0, i32 5
  %0 = bitcast [8 x i8]* %weak_flag to i64*
  %bf.load = load i64* %0, align 8
  %bf.lshr = lshr i64 %bf.load, 23
  %bf.lshr.tr = trunc i64 %bf.lshr to i32
  %bf.cast = and i32 %bf.lshr.tr, 1
  %weak_flag2 = getelementptr inbounds %union.tree_node* %olddecl, i64 0, i32 0, i32 5
  %1 = bitcast [8 x i8]* %weak_flag2 to i64*
  %bf.load3 = load i64* %1, align 8
  %bf.lshr4 = lshr i64 %bf.load3, 23
  %bf.lshr4.tr = trunc i64 %bf.lshr4 to i32
  %bf.cast6 = and i32 %bf.lshr4.tr, 1
  %cmp = icmp eq i32 %bf.cast, %bf.cast6
  br i1 %cmp, label %if.end44, label %if.end

if.end:                                           ; preds = %entry
  %tobool = icmp eq i32 %bf.cast, 0
  br i1 %tobool, label %if.else43, label %if.then13

if.then13:                                        ; preds = %if.end
  %asm_written_flag = getelementptr inbounds %union.tree_node* %olddecl, i64 0, i32 0, i32 0, i32 2
  %2 = bitcast [4 x i8]* %asm_written_flag to i32*
  %bf.load14 = load i32* %2, align 8
  %bf.clear16 = and i32 %bf.load14, 16384
  %tobool17 = icmp eq i32 %bf.clear16, 0
  br i1 %tobool17, label %if.else, label %if.then18

if.then18:                                        ; preds = %if.then13
  tail call void (%union.tree_node*, i8*, ...)* @error_with_decl(%union.tree_node* %newdecl, i8* getelementptr inbounds ([49 x i8]* @.str104, i64 0, i64 0)) #9
  br label %for.cond.preheader

if.else:                                          ; preds = %if.then13
  %bf.clear22 = and i32 %bf.load14, 65536
  %tobool23 = icmp eq i32 %bf.clear22, 0
  br i1 %tobool23, label %for.cond.preheader, label %land.lhs.true

land.lhs.true:                                    ; preds = %if.else
  %assembler_name = getelementptr inbounds %union.tree_node* %olddecl, i64 0, i32 0, i32 14
  %3 = load %union.tree_node** %assembler_name, align 8, !tbaa !3
  %cmp25 = icmp eq %union.tree_node* %3, null
  br i1 %cmp25, label %cond.false, label %cond.end

cond.false:                                       ; preds = %land.lhs.true
  %4 = load void (%union.tree_node*)** @lang_set_decl_assembler_name, align 8, !tbaa !3
  tail call void %4(%union.tree_node* %olddecl) #9
  %.pre = load %union.tree_node** %assembler_name, align 8, !tbaa !3
  br label %cond.end

cond.end:                                         ; preds = %land.lhs.true, %cond.false
  %5 = phi %union.tree_node* [ %3, %land.lhs.true ], [ %.pre, %cond.false ]
  %static_flag = getelementptr inbounds %union.tree_node* %5, i64 0, i32 0, i32 0, i32 2
  %6 = bitcast [4 x i8]* %static_flag to i32*
  %bf.load29 = load i32* %6, align 8
  %bf.clear31 = and i32 %bf.load29, 262144
  %tobool32 = icmp eq i32 %bf.clear31, 0
  br i1 %tobool32, label %for.cond.preheader, label %if.then33

if.then33:                                        ; preds = %cond.end
  tail call void (%union.tree_node*, i8*, ...)* @warning_with_decl(%union.tree_node* %newdecl, i8* getelementptr inbounds ([73 x i8]* @.str105, i64 0, i64 0)) #9
  br label %for.cond.preheader

for.cond.preheader:                               ; preds = %cond.end, %if.else, %if.then33, %if.then18
  %wd.060 = load %union.tree_node** @weak_decls, align 8
  %tobool3661 = icmp eq %union.tree_node* %wd.060, null
  br i1 %tobool3661, label %for.end, label %for.body

for.cond:                                         ; preds = %for.body
  %chain = getelementptr inbounds %union.tree_node* %wd.062, i64 0, i32 0, i32 0, i32 0
  %wd.0 = load %union.tree_node** %chain, align 8
  %tobool36 = icmp eq %union.tree_node* %wd.0, null
  br i1 %tobool36, label %for.end, label %for.body

for.body:                                         ; preds = %for.cond.preheader, %for.cond
  %wd.062 = phi %union.tree_node* [ %wd.0, %for.cond ], [ %wd.060, %for.cond.preheader ]
  %value = getelementptr inbounds %union.tree_node* %wd.062, i64 0, i32 0, i32 2
  %7 = bitcast i32* %value to %union.tree_node**
  %8 = load %union.tree_node** %7, align 8, !tbaa !3
  %cmp37 = icmp eq %union.tree_node* %8, %newdecl
  br i1 %cmp37, label %if.then38, label %for.cond

if.then38:                                        ; preds = %for.body
  store %union.tree_node* %olddecl, %union.tree_node** %7, align 8, !tbaa !3
  br label %for.end

for.end:                                          ; preds = %for.cond.preheader, %for.cond, %if.then38
  tail call fastcc void @mark_weak(%union.tree_node* %olddecl) #10
  br label %if.end44

if.else43:                                        ; preds = %if.end
  tail call fastcc void @mark_weak(%union.tree_node* %newdecl) #10
  br label %if.end44

if.end44:                                         ; preds = %entry, %if.else43, %for.end
  ret void
}
