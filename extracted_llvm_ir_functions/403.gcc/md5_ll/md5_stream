define i32 @md5_stream(%struct.__sFILE* nocapture %stream, i8* %resblock) #0 {
  %ctx = alloca %struct.md5_ctx, align 4
  %buffer = alloca [4168 x i8], align 16
  tail call void @llvm.dbg.value(metadata %struct.__sFILE* %stream, i64 0, metadata !118, metadata !183), !dbg !455
  tail call void @llvm.dbg.value(metadata i8* %resblock, i64 0, metadata !119, metadata !183), !dbg !456
  %1 = bitcast %struct.md5_ctx* %ctx to i8*, !dbg !457
  call void @llvm.lifetime.start(i64 156, i8* %1) #3, !dbg !457
  %2 = getelementptr inbounds [4168 x i8]* %buffer, i64 0, i64 0, !dbg !458
  call void @llvm.lifetime.start(i64 4168, i8* %2) #3, !dbg !458
  tail call void @llvm.dbg.declare(metadata [4168 x i8]* %buffer, metadata !121, metadata !183), !dbg !459
  tail call void @llvm.dbg.value(metadata %struct.md5_ctx* %ctx, i64 0, metadata !120, metadata !183), !dbg !460
  tail call void @llvm.dbg.value(metadata %struct.md5_ctx* %ctx, i64 0, metadata !32, metadata !183), !dbg !461
  %3 = getelementptr inbounds %struct.md5_ctx* %ctx, i64 0, i32 0, !dbg !463
  store i32 1732584193, i32* %3, align 4, !dbg !464, !tbaa !187
  %4 = getelementptr inbounds %struct.md5_ctx* %ctx, i64 0, i32 1, !dbg !465
  store i32 -271733879, i32* %4, align 4, !dbg !466, !tbaa !194
  %5 = getelementptr inbounds %struct.md5_ctx* %ctx, i64 0, i32 2, !dbg !467
  store i32 -1732584194, i32* %5, align 4, !dbg !468, !tbaa !197
  %6 = getelementptr inbounds %struct.md5_ctx* %ctx, i64 0, i32 3, !dbg !469
  store i32 271733878, i32* %6, align 4, !dbg !470, !tbaa !200
  %7 = getelementptr inbounds %struct.md5_ctx* %ctx, i64 0, i32 4, i64 1, !dbg !471
  store i32 0, i32* %7, align 4, !dbg !472, !tbaa !203
  %8 = getelementptr inbounds %struct.md5_ctx* %ctx, i64 0, i32 4, i64 0, !dbg !473
  store i32 0, i32* %8, align 4, !dbg !474, !tbaa !203
  %9 = getelementptr inbounds %struct.md5_ctx* %ctx, i64 0, i32 5, !dbg !475
  store i32 0, i32* %9, align 4, !dbg !476, !tbaa !208
  br label %.backedge, !dbg !477

.backedge:                                        ; preds = %.critedge2, %.backedge, %0
  %sum.0 = phi i64 [ 0, %0 ], [ %13, %.backedge ], [ 0, %.critedge2 ]
  %10 = getelementptr inbounds [4168 x i8]* %buffer, i64 0, i64 %sum.0, !dbg !478
  %11 = sub i64 4096, %sum.0, !dbg !480
  %12 = call i64 @fread(i8* %10, i64 1, i64 %11, %struct.__sFILE* %stream) #5, !dbg !481
  call void @llvm.dbg.value(metadata i64 %12, i64 0, metadata !126, metadata !183), !dbg !482
  %13 = add i64 %12, %sum.0, !dbg !483
  call void @llvm.dbg.value(metadata i64 %13, i64 0, metadata !125, metadata !183), !dbg !484
  %14 = icmp ult i64 %13, 4096, !dbg !485
  %15 = icmp ne i64 %12, 0, !dbg !486
  %or.cond = and i1 %15, %14, !dbg !487
  br i1 %or.cond, label %.backedge, label %.critedge, !dbg !487

.critedge:                                        ; preds = %.backedge
  %16 = icmp eq i64 %12, 0, !dbg !488
  br i1 %16, label %17, label %.critedge2, !dbg !490

; <label>:17                                      ; preds = %.critedge
  %18 = call i32 @ferror(%struct.__sFILE* %stream) #5, !dbg !491
  %19 = icmp eq i32 %18, 0, !dbg !491
  br i1 %19, label %20, label %25, !dbg !492

.critedge2:                                       ; preds = %.critedge
  call void @llvm.dbg.value(metadata %struct.md5_ctx* %ctx, i64 0, metadata !120, metadata !183), !dbg !460
  call void @md5_process_block(i8* %2, i64 4096, %struct.md5_ctx* %ctx) #6, !dbg !493
  br label %.backedge, !dbg !477

; <label>:20                                      ; preds = %17
  %21 = icmp eq i64 %13, 0, !dbg !494
  br i1 %21, label %23, label %22, !dbg !496

; <label>:22                                      ; preds = %20
  call void @llvm.dbg.value(metadata %struct.md5_ctx* %ctx, i64 0, metadata !120, metadata !183), !dbg !460
  call void @md5_process_bytes(i8* %2, i64 %13, %struct.md5_ctx* %ctx) #6, !dbg !497
  br label %23, !dbg !497

; <label>:23                                      ; preds = %20, %22
  call void @llvm.dbg.value(metadata %struct.md5_ctx* %ctx, i64 0, metadata !120, metadata !183), !dbg !460
  %24 = call i8* @md5_finish_ctx(%struct.md5_ctx* %ctx, i8* %resblock) #6, !dbg !498
  br label %25, !dbg !499

; <label>:25                                      ; preds = %17, %23
  %.0 = phi i32 [ 0, %23 ], [ 1, %17 ]
  call void @llvm.lifetime.end(i64 4168, i8* %2) #3, !dbg !500
  call void @llvm.lifetime.end(i64 156, i8* %1) #3, !dbg !500
  ret i32 %.0, !dbg !500
}
