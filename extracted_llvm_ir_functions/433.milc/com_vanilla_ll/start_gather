define noalias %struct.msg_tag* @start_gather(i32 %field, i32 %size, i32 %index, i32 %parity, i8** nocapture %dest) #1 {
entry:
  switch i32 %parity, label %sw.epilog [
    i32 2, label %for.cond.preheader
    i32 1, label %sw.bb7
    i32 3, label %for.cond28.preheader
  ]

for.cond28.preheader:                             ; preds = %entry
  %0 = load i32* @sites_on_node, align 4, !tbaa !3
  %cmp2971 = icmp sgt i32 %0, 0
  br i1 %cmp2971, label %for.body30.lr.ph, label %sw.epilog

for.body30.lr.ph:                                 ; preds = %for.cond28.preheader
  %idxprom32 = sext i32 %index to i64
  %idx.ext37 = sext i32 %field to i64
  br label %for.body30

for.cond.preheader:                               ; preds = %entry
  %1 = load i32* @even_sites_on_node, align 4, !tbaa !3
  %cmp65 = icmp sgt i32 %1, 0
  br i1 %cmp65, label %for.body.lr.ph, label %sw.epilog

for.body.lr.ph:                                   ; preds = %for.cond.preheader
  %idxprom1 = sext i32 %index to i64
  %idx.ext3 = sext i32 %field to i64
  br label %for.body

for.body:                                         ; preds = %for.body.lr.ph, %for.body
  %indvars.iv = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next, %for.body ]
  %2 = load %struct.site** @lattice, align 8, !tbaa !0
  %3 = load i32*** @neighbor, align 8, !tbaa !0
  %arrayidx = getelementptr inbounds i32** %3, i64 %idxprom1
  %4 = load i32** %arrayidx, align 8, !tbaa !0
  %arrayidx2 = getelementptr inbounds i32* %4, i64 %indvars.iv
  %5 = load i32* %arrayidx2, align 4, !tbaa !3
  %idx.ext = sext i32 %5 to i64
  %add.ptr = getelementptr inbounds %struct.site* %2, i64 %idx.ext
  %6 = bitcast %struct.site* %add.ptr to i8*
  %add.ptr4 = getelementptr inbounds i8* %6, i64 %idx.ext3
  %arrayidx6 = getelementptr inbounds i8** %dest, i64 %indvars.iv
  store i8* %add.ptr4, i8** %arrayidx6, align 8, !tbaa !0
  %indvars.iv.next = add i64 %indvars.iv, 1
  %7 = trunc i64 %indvars.iv.next to i32
  %cmp = icmp slt i32 %7, %1
  br i1 %cmp, label %for.body, label %sw.epilog

sw.bb7:                                           ; preds = %entry
  %8 = load i32* @even_sites_on_node, align 4, !tbaa !3
  %9 = load i32* @sites_on_node, align 4, !tbaa !3
  %cmp1168 = icmp slt i32 %8, %9
  br i1 %cmp1168, label %for.body12.lr.ph, label %sw.epilog

for.body12.lr.ph:                                 ; preds = %sw.bb7
  %idxprom14 = sext i32 %index to i64
  %idx.ext19 = sext i32 %field to i64
  %10 = sext i32 %8 to i64
  br label %for.body12

for.body12:                                       ; preds = %for.body12.lr.ph, %for.body12
  %indvars.iv73 = phi i64 [ %10, %for.body12.lr.ph ], [ %indvars.iv.next74, %for.body12 ]
  %11 = load %struct.site** @lattice, align 8, !tbaa !0
  %12 = load i32*** @neighbor, align 8, !tbaa !0
  %arrayidx15 = getelementptr inbounds i32** %12, i64 %idxprom14
  %13 = load i32** %arrayidx15, align 8, !tbaa !0
  %arrayidx16 = getelementptr inbounds i32* %13, i64 %indvars.iv73
  %14 = load i32* %arrayidx16, align 4, !tbaa !3
  %idx.ext17 = sext i32 %14 to i64
  %add.ptr18 = getelementptr inbounds %struct.site* %11, i64 %idx.ext17
  %15 = bitcast %struct.site* %add.ptr18 to i8*
  %add.ptr20 = getelementptr inbounds i8* %15, i64 %idx.ext19
  %arrayidx22 = getelementptr inbounds i8** %dest, i64 %indvars.iv73
  store i8* %add.ptr20, i8** %arrayidx22, align 8, !tbaa !0
  %indvars.iv.next74 = add i64 %indvars.iv73, 1
  %16 = trunc i64 %indvars.iv.next74 to i32
  %cmp11 = icmp slt i32 %16, %9
  br i1 %cmp11, label %for.body12, label %sw.epilog

for.body30:                                       ; preds = %for.body30.lr.ph, %for.body30
  %indvars.iv75 = phi i64 [ 0, %for.body30.lr.ph ], [ %indvars.iv.next76, %for.body30 ]
  %17 = load %struct.site** @lattice, align 8, !tbaa !0
  %18 = load i32*** @neighbor, align 8, !tbaa !0
  %arrayidx33 = getelementptr inbounds i32** %18, i64 %idxprom32
  %19 = load i32** %arrayidx33, align 8, !tbaa !0
  %arrayidx34 = getelementptr inbounds i32* %19, i64 %indvars.iv75
  %20 = load i32* %arrayidx34, align 4, !tbaa !3
  %idx.ext35 = sext i32 %20 to i64
  %add.ptr36 = getelementptr inbounds %struct.site* %17, i64 %idx.ext35
  %21 = bitcast %struct.site* %add.ptr36 to i8*
  %add.ptr38 = getelementptr inbounds i8* %21, i64 %idx.ext37
  %arrayidx40 = getelementptr inbounds i8** %dest, i64 %indvars.iv75
  store i8* %add.ptr38, i8** %arrayidx40, align 8, !tbaa !0
  %indvars.iv.next76 = add i64 %indvars.iv75, 1
  %22 = trunc i64 %indvars.iv.next76 to i32
  %cmp29 = icmp slt i32 %22, %0
  br i1 %cmp29, label %for.body30, label %sw.epilog

sw.epilog:                                        ; preds = %for.cond28.preheader, %for.body30, %sw.bb7, %for.body12, %for.cond.preheader, %for.body, %entry
  ret %struct.msg_tag* null
}
