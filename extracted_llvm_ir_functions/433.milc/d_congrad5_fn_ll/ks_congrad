define i32 @ks_congrad(i32 %src, i32 %dest, double %mass, i32 %niter, double %rsqmin, i32 %parity, double* nocapture %final_rsq_ptr) #0 {
entry:
  %rsq = alloca double, align 8
  %pkp = alloca double, align 8
  %source_norm = alloca double, align 8
  %tags1 = alloca [16 x %struct.msg_tag*], align 16
  %tags2 = alloca [16 x %struct.msg_tag*], align 16
  %0 = bitcast [16 x %struct.msg_tag*]* %tags1 to i8*
  call void @llvm.lifetime.start(i64 128, i8* %0) #1
  %1 = bitcast [16 x %struct.msg_tag*]* %tags2 to i8*
  call void @llvm.lifetime.start(i64 128, i8* %1) #1
  switch i32 %parity, label %sw.epilog [
    i32 2, label %sw.bb
    i32 1, label %sw.bb1
    i32 3, label %sw.bb2
  ]

sw.bb:                                            ; preds = %entry
  br label %sw.epilog

sw.bb1:                                           ; preds = %entry
  br label %sw.epilog

sw.bb2:                                           ; preds = %entry
  br label %sw.epilog

sw.epilog:                                        ; preds = %entry, %sw.bb2, %sw.bb1, %sw.bb
  %l_parity.0 = phi i32 [ undef, %entry ], [ 2, %sw.bb2 ], [ %parity, %sw.bb1 ], [ %parity, %sw.bb ]
  %l_otherparity.0 = phi i32 [ undef, %entry ], [ 1, %sw.bb2 ], [ 2, %sw.bb1 ], [ 1, %sw.bb ]
  %mul3 = fmul double %mass, 4.000000e+00
  %mul4 = fmul double %mul3, %mass
  %2 = load i32* @valid_longlinks, align 4, !tbaa !0
  %tobool = icmp eq i32 %2, 0
  br i1 %tobool, label %if.then5, label %if.end6

if.then5:                                         ; preds = %sw.epilog
  call void (...)* @load_longlinks() #4
  br label %if.end6

if.end6:                                          ; preds = %sw.epilog, %if.then5
  %3 = load i32* @valid_fatlinks, align 4, !tbaa !0
  %tobool7 = icmp eq i32 %3, 0
  br i1 %tobool7, label %if.then8, label %start.preheader

if.then8:                                         ; preds = %if.end6
  call void (...)* @load_fatlinks() #4
  br label %start.preheader

start.preheader:                                  ; preds = %if.then8, %if.end6
  %arraydecay = getelementptr inbounds [16 x %struct.msg_tag*]* %tags1, i64 0, i64 0
  %arraydecay12 = getelementptr inbounds [16 x %struct.msg_tag*]* %tags2, i64 0, i64 0
  %idx.ext179 = sext i32 %dest to i64
  %sub147 = fsub double -0.000000e+00, %mul4
  %mul232 = mul nsw i32 %niter, 5
  %idx.ext42 = sext i32 %src to i64
  br label %start.outer

start.outer:                                      ; preds = %if.end236, %if.then196, %if.then56, %start.preheader
  %l_parity.1.ph = phi i32 [ %l_parity.0, %start.preheader ], [ 1, %if.then56 ], [ 1, %if.then196 ], [ 1, %if.end236 ]
  %l_otherparity.1.ph = phi i32 [ %l_otherparity.0, %start.preheader ], [ 2, %if.then56 ], [ 2, %if.then196 ], [ 2, %if.end236 ]
  %special_started.0.ph = phi i32 [ 0, %start.preheader ], [ %special_started.1, %if.then56 ], [ %special_started.3, %if.then196 ], [ %special_started.3, %if.end236 ]
  %parity.addr.0.ph = phi i32 [ %parity, %start.preheader ], [ 2, %if.then56 ], [ 2, %if.then196 ], [ 2, %if.end236 ]
  %cmp29 = icmp eq i32 %l_parity.1.ph, 2
  %cmp31 = icmp eq i32 %l_parity.1.ph, 1
  br label %start

start:                                            ; preds = %start.outer, %do.end
  %iteration.0 = phi i32 [ %inc157, %do.end ], [ 0, %start.outer ]
  %special_started.0 = phi i32 [ %special_started.3, %do.end ], [ %special_started.0.ph, %start.outer ]
  %cmp10 = icmp eq i32 %special_started.0, 1
  br i1 %cmp10, label %if.then11, label %if.end13

if.then11:                                        ; preds = %start
  call void @cleanup_gathers(%struct.msg_tag** %arraydecay, %struct.msg_tag** %arraydecay12) #4
  br label %if.end13

if.end13:                                         ; preds = %if.then11, %start
  %special_started.1 = phi i32 [ 0, %if.then11 ], [ %special_started.0, %start ]
  store double 0.000000e+00, double* %source_norm, align 8, !tbaa !3
  store double 0.000000e+00, double* %rsq, align 8, !tbaa !3
  call void @dslash_fn(i32 %dest, i32 1232, i32 %l_otherparity.1.ph) #4
  call void @dslash_fn(i32 1232, i32 1232, i32 %l_parity.1.ph) #4
  %4 = load i32* @even_sites_on_node, align 4, !tbaa !0
  %5 = load i32* @sites_on_node, align 4, !tbaa !0
  %cond = select i1 %cmp29, i32 %4, i32 %5
  %cond36 = select i1 %cmp31, i32 %4, i32 0
  %cmp38322 = icmp slt i32 %cond36, %cond
  br i1 %cmp38322, label %for.body.lr.ph, label %for.end

for.body.lr.ph:                                   ; preds = %if.end13
  %6 = load %struct.site** @lattice, align 8, !tbaa !4
  %idxprom = sext i32 %cond36 to i64
  %arrayidx37 = getelementptr inbounds %struct.site* %6, i64 %idxprom
  br label %for.body

for.body:                                         ; preds = %for.body, %for.body.lr.ph
  %i.0324 = phi i32 [ %cond36, %for.body.lr.ph ], [ %inc, %for.body ]
  %s.0323 = phi %struct.site* [ %arrayidx37, %for.body.lr.ph ], [ %incdec.ptr, %for.body ]
  %ttt40 = getelementptr inbounds %struct.site* %s.0323, i64 0, i32 15
  %7 = bitcast %struct.site* %s.0323 to i8*
  %add.ptr = getelementptr inbounds i8* %7, i64 %idx.ext179
  %8 = bitcast i8* %add.ptr to %struct.su3_vector*
  call void @scalar_mult_add_su3_vector(%struct.su3_vector* %ttt40, %struct.su3_vector* %8, double %sub147, %struct.su3_vector* %ttt40) #4
  %add.ptr43 = getelementptr inbounds i8* %7, i64 %idx.ext42
  %9 = bitcast i8* %add.ptr43 to %struct.su3_vector*
  %resid = getelementptr inbounds %struct.site* %s.0323, i64 0, i32 12
  call void @add_su3_vector(%struct.su3_vector* %9, %struct.su3_vector* %ttt40, %struct.su3_vector* %resid) #4
  %cg_p = getelementptr inbounds %struct.site* %s.0323, i64 0, i32 13
  %10 = bitcast %struct.su3_vector* %cg_p to i8*
  %11 = bitcast %struct.su3_vector* %resid to i8*
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* %10, i8* %11, i64 48, i32 8, i1 false), !tbaa.struct !5
  %call = call double @magsq_su3vec(%struct.su3_vector* %9) #4
  %12 = load double* %source_norm, align 8, !tbaa !3
  %add = fadd double %call, %12
  store double %add, double* %source_norm, align 8, !tbaa !3
  %call49 = call double @magsq_su3vec(%struct.su3_vector* %resid) #4
  %13 = load double* %rsq, align 8, !tbaa !3
  %add50 = fadd double %call49, %13
  store double %add50, double* %rsq, align 8, !tbaa !3
  %inc = add nsw i32 %i.0324, 1
  %incdec.ptr = getelementptr inbounds %struct.site* %s.0323, i64 1
  %exitcond = icmp eq i32 %inc, %cond
  br i1 %exitcond, label %for.end, label %for.body

for.end:                                          ; preds = %for.body, %if.end13
  call void @g_doublesum(double* %source_norm) #4
  call void @g_doublesum(double* %rsq) #4
  %inc51 = add nsw i32 %iteration.0, 1
  %14 = load i32* @total_iters, align 4, !tbaa !0
  %inc52 = add nsw i32 %14, 1
  store i32 %inc52, i32* @total_iters, align 4, !tbaa !0
  %15 = load double* %source_norm, align 8, !tbaa !3
  %mul53 = fmul double %15, %rsqmin
  %16 = load double* %rsq, align 8, !tbaa !3
  %cmp54 = fcmp ugt double %16, %mul53
  br i1 %cmp54, label %do.body, label %if.then56

if.then56:                                        ; preds = %for.end
  %cmp57 = icmp eq i32 %parity.addr.0.ph, 3
  br i1 %cmp57, label %start.outer, label %if.end60

if.end60:                                         ; preds = %if.then56
  store double %16, double* %final_rsq_ptr, align 8, !tbaa !3
  br label %cleanup

do.body:                                          ; preds = %for.end, %if.end207.do.body_crit_edge
  %17 = phi double [ %.pre, %if.end207.do.body_crit_edge ], [ %16, %for.end ]
  %iteration.1 = phi i32 [ %inc157, %if.end207.do.body_crit_edge ], [ %inc51, %for.end ]
  %special_started.2 = phi i32 [ %special_started.3, %if.end207.do.body_crit_edge ], [ %special_started.1, %for.end ]
  store double 0.000000e+00, double* %pkp, align 8, !tbaa !3
  %cmp62 = icmp eq i32 %special_started.2, 0
  br i1 %cmp62, label %if.then64, label %if.else

if.then64:                                        ; preds = %do.body
  call void @dslash_fn_special(i32 1136, i32 1232, i32 %l_otherparity.1.ph, %struct.msg_tag** %arraydecay12, i32 1) #4
  call void @dslash_fn_special(i32 1232, i32 1232, i32 %l_parity.1.ph, %struct.msg_tag** %arraydecay, i32 1) #4
  br label %if.end125

if.else:                                          ; preds = %do.body
  call void @dslash_fn_special(i32 1136, i32 1232, i32 %l_otherparity.1.ph, %struct.msg_tag** %arraydecay12, i32 0) #4
  call void @dslash_fn_special(i32 1232, i32 1232, i32 %l_parity.1.ph, %struct.msg_tag** %arraydecay, i32 0) #4
  br label %if.end125

if.end125:                                        ; preds = %if.else, %if.then64
  %special_started.3 = phi i32 [ 1, %if.then64 ], [ %special_started.2, %if.else ]
  store double 0.000000e+00, double* %pkp, align 8, !tbaa !3
  %18 = load i32* @even_sites_on_node, align 4, !tbaa !0
  %19 = load i32* @sites_on_node, align 4, !tbaa !0
  %cond132 = select i1 %cmp29, i32 %18, i32 %19
  %cond138 = select i1 %cmp31, i32 %18, i32 0
  %cmp142325 = icmp slt i32 %cond138, %cond132
  br i1 %cmp142325, label %for.body144.lr.ph, label %for.end156

for.body144.lr.ph:                                ; preds = %if.end125
  %20 = load %struct.site** @lattice, align 8, !tbaa !4
  %idxprom139 = sext i32 %cond138 to i64
  %arrayidx140 = getelementptr inbounds %struct.site* %20, i64 %idxprom139
  br label %for.body144

for.body144:                                      ; preds = %for.body144, %for.body144.lr.ph
  %i.1327 = phi i32 [ %cond138, %for.body144.lr.ph ], [ %inc154, %for.body144 ]
  %s.1326 = phi %struct.site* [ %arrayidx140, %for.body144.lr.ph ], [ %incdec.ptr155, %for.body144 ]
  %ttt145 = getelementptr inbounds %struct.site* %s.1326, i64 0, i32 15
  %cg_p146 = getelementptr inbounds %struct.site* %s.1326, i64 0, i32 13
  call void @scalar_mult_add_su3_vector(%struct.su3_vector* %ttt145, %struct.su3_vector* %cg_p146, double %sub147, %struct.su3_vector* %ttt145) #4
  %call151 = call double @su3_rdot(%struct.su3_vector* %cg_p146, %struct.su3_vector* %ttt145) #4
  %21 = load double* %pkp, align 8, !tbaa !3
  %add152 = fadd double %call151, %21
  store double %add152, double* %pkp, align 8, !tbaa !3
  %inc154 = add nsw i32 %i.1327, 1
  %incdec.ptr155 = getelementptr inbounds %struct.site* %s.1326, i64 1
  %exitcond344 = icmp eq i32 %inc154, %cond132
  br i1 %exitcond344, label %for.end156, label %for.body144

for.end156:                                       ; preds = %for.body144, %if.end125
  call void @g_doublesum(double* %pkp) #4
  %inc157 = add nsw i32 %iteration.1, 1
  %22 = load i32* @total_iters, align 4, !tbaa !0
  %inc158 = add nsw i32 %22, 1
  store i32 %inc158, i32* @total_iters, align 4, !tbaa !0
  %23 = load double* %rsq, align 8, !tbaa !3
  %sub159 = fsub double -0.000000e+00, %23
  %24 = load double* %pkp, align 8, !tbaa !3
  %div = fdiv double %sub159, %24
  store double 0.000000e+00, double* %rsq, align 8, !tbaa !3
  %25 = load i32* @even_sites_on_node, align 4, !tbaa !0
  %26 = load i32* @sites_on_node, align 4, !tbaa !0
  %cond166 = select i1 %cmp29, i32 %25, i32 %26
  %cond172 = select i1 %cmp31, i32 %25, i32 0
  %cmp176328 = icmp slt i32 %cond172, %cond166
  br i1 %cmp176328, label %for.body178.lr.ph, label %for.end193

for.body178.lr.ph:                                ; preds = %for.end156
  %27 = load %struct.site** @lattice, align 8, !tbaa !4
  %idxprom173 = sext i32 %cond172 to i64
  %arrayidx174 = getelementptr inbounds %struct.site* %27, i64 %idxprom173
  br label %for.body178

for.body178:                                      ; preds = %for.body178, %for.body178.lr.ph
  %i.2330 = phi i32 [ %cond172, %for.body178.lr.ph ], [ %inc191, %for.body178 ]
  %s.2329 = phi %struct.site* [ %arrayidx174, %for.body178.lr.ph ], [ %incdec.ptr192, %for.body178 ]
  %28 = bitcast %struct.site* %s.2329 to i8*
  %add.ptr180 = getelementptr inbounds i8* %28, i64 %idx.ext179
  %29 = bitcast i8* %add.ptr180 to %struct.su3_vector*
  %cg_p181 = getelementptr inbounds %struct.site* %s.2329, i64 0, i32 13
  call void @scalar_mult_add_su3_vector(%struct.su3_vector* %29, %struct.su3_vector* %cg_p181, double %div, %struct.su3_vector* %29) #4
  %resid184 = getelementptr inbounds %struct.site* %s.2329, i64 0, i32 12
  %ttt185 = getelementptr inbounds %struct.site* %s.2329, i64 0, i32 15
  call void @scalar_mult_add_su3_vector(%struct.su3_vector* %resid184, %struct.su3_vector* %ttt185, double %div, %struct.su3_vector* %resid184) #4
  %call188 = call double @magsq_su3vec(%struct.su3_vector* %resid184) #4
  %30 = load double* %rsq, align 8, !tbaa !3
  %add189 = fadd double %call188, %30
  store double %add189, double* %rsq, align 8, !tbaa !3
  %inc191 = add nsw i32 %i.2330, 1
  %incdec.ptr192 = getelementptr inbounds %struct.site* %s.2329, i64 1
  %exitcond345 = icmp eq i32 %inc191, %cond166
  br i1 %exitcond345, label %for.end193, label %for.body178

for.end193:                                       ; preds = %for.body178, %for.end156
  call void @g_doublesum(double* %rsq) #4
  %31 = load double* %rsq, align 8, !tbaa !3
  %cmp194 = fcmp ugt double %31, %mul53
  br i1 %cmp194, label %if.end207, label %if.then196

if.then196:                                       ; preds = %for.end193
  %cmp197 = icmp eq i32 %parity.addr.0.ph, 3
  br i1 %cmp197, label %start.outer, label %if.end200

if.end200:                                        ; preds = %if.then196
  store double %31, double* %final_rsq_ptr, align 8, !tbaa !3
  %cmp201 = icmp eq i32 %special_started.3, 1
  br i1 %cmp201, label %if.then203, label %cleanup

if.then203:                                       ; preds = %if.end200
  call void @cleanup_gathers(%struct.msg_tag** %arraydecay, %struct.msg_tag** %arraydecay12) #4
  br label %cleanup

if.end207:                                        ; preds = %for.end193
  %div208 = fdiv double %31, %17
  call void @scalar_mult_add_latvec(i32 1088, i32 1136, double %div208, i32 1136, i32 %l_parity.1.ph) #5
  %rem = srem i32 %inc157, %niter
  %cmp230 = icmp eq i32 %rem, 0
  br i1 %cmp230, label %do.end, label %if.end207.do.body_crit_edge

if.end207.do.body_crit_edge:                      ; preds = %if.end207
  %.pre = load double* %rsq, align 8, !tbaa !3
  br label %do.body

do.end:                                           ; preds = %if.end207
  %cmp233 = icmp slt i32 %inc157, %mul232
  br i1 %cmp233, label %start, label %if.end236

if.end236:                                        ; preds = %do.end
  %cmp237 = icmp eq i32 %parity.addr.0.ph, 3
  br i1 %cmp237, label %start.outer, label %if.end240

if.end240:                                        ; preds = %if.end236
  %32 = load double* %rsq, align 8, !tbaa !3
  store double %32, double* %final_rsq_ptr, align 8, !tbaa !3
  %cmp241 = icmp eq i32 %special_started.3, 1
  br i1 %cmp241, label %if.then243, label %if.end246

if.then243:                                       ; preds = %if.end240
  call void @cleanup_gathers(%struct.msg_tag** %arraydecay, %struct.msg_tag** %arraydecay12) #4
  br label %if.end246

if.end246:                                        ; preds = %if.then243, %if.end240
  %33 = load i32* @this_node, align 4, !tbaa !0
  %cmp247 = icmp eq i32 %33, 0
  br i1 %cmp247, label %if.then249, label %if.end251

if.then249:                                       ; preds = %if.end246
  %34 = load double* %rsq, align 8, !tbaa !3
  %call250 = call i32 (i8*, ...)* @printf(i8* getelementptr inbounds ([59 x i8]* @.str, i64 0, i64 0), i32 %inc157, double %34, double %mul53) #4
  br label %if.end251

if.end251:                                        ; preds = %if.then249, %if.end246
  %35 = load %struct._IO_FILE** @stdout, align 8, !tbaa !4
  %call252 = call i32 @fflush(%struct._IO_FILE* %35) #4
  br label %cleanup

cleanup:                                          ; preds = %if.end200, %if.then203, %if.end251, %if.end60
  %retval.0 = phi i32 [ %inc51, %if.end60 ], [ %inc157, %if.end251 ], [ %inc157, %if.then203 ], [ %inc157, %if.end200 ]
  call void @llvm.lifetime.end(i64 128, i8* %1) #1
  call void @llvm.lifetime.end(i64 128, i8* %0) #1
  ret i32 %retval.0
}
