define void @_ZN8pov_base16TextStreamBuffer6printfEPKcz(%"class.pov_base::TextStreamBuffer"* %this, i8* nocapture readonly %format, ...) #0 align 2 {
  %marker = alloca [1 x %struct.__va_list_tag], align 16
  tail call void @llvm.dbg.value(metadata %"class.pov_base::TextStreamBuffer"* %this, i64 0, metadata !206, metadata !819), !dbg !899
  tail call void @llvm.dbg.value(metadata i8* %format, i64 0, metadata !207, metadata !819), !dbg !900
  tail call void @llvm.dbg.declare(metadata [1 x %struct.__va_list_tag]* %marker, metadata !208, metadata !819), !dbg !901
  %1 = getelementptr inbounds [1 x %struct.__va_list_tag]* %marker, i64 0, i64 0, !dbg !902
  %2 = bitcast [1 x %struct.__va_list_tag]* %marker to i8*, !dbg !902
  call void @llvm.va_start(i8* %2), !dbg !902
  %3 = getelementptr inbounds %"class.pov_base::TextStreamBuffer"* %this, i64 0, i32 2, !dbg !903
  %4 = load i32* %3, align 4, !dbg !903, !tbaa !830
  %5 = zext i32 %4 to i64, !dbg !904
  %6 = getelementptr inbounds %"class.pov_base::TextStreamBuffer"* %this, i64 0, i32 1, !dbg !904
  %7 = load i8** %6, align 8, !dbg !904, !tbaa !865
  %8 = getelementptr inbounds i8* %7, i64 %5, !dbg !904
  %9 = getelementptr inbounds %"class.pov_base::TextStreamBuffer"* %this, i64 0, i32 3, !dbg !905
  %10 = load i32* %9, align 4, !dbg !905, !tbaa !838
  %11 = xor i32 %4, -1, !dbg !906
  %12 = add i32 %10, %11, !dbg !907
  %13 = zext i32 %12 to i64, !dbg !905
  %14 = call i32 @vsnprintf(i8* %8, i64 %13, i8* %format, %struct.__va_list_tag* %1) #8, !dbg !908
  call void @llvm.va_end(i8* %2), !dbg !909
  %15 = load i32* %3, align 4, !dbg !910, !tbaa !830
  %16 = zext i32 %15 to i64, !dbg !911
  %17 = load i8** %6, align 8, !dbg !911, !tbaa !865
  %18 = getelementptr inbounds i8* %17, i64 %16, !dbg !911
  %19 = call i64 @strlen(i8* %18) #8, !dbg !912
  %20 = trunc i64 %19 to i32, !dbg !912
  call void @_ZN8pov_base16TextStreamBuffer11directflushEPKcj(%"class.pov_base::TextStreamBuffer"* %this, i8* %18, i32 %20) #8, !dbg !913
  %21 = load i8** %6, align 8, !dbg !914, !tbaa !865
  %22 = call i64 @strlen(i8* %21) #8, !dbg !915
  %23 = trunc i64 %22 to i32, !dbg !915
  store i32 %23, i32* %3, align 4, !dbg !916, !tbaa !830
  call void @_ZN8pov_base16TextStreamBuffer9lineflushEv(%"class.pov_base::TextStreamBuffer"* %this) #8, !dbg !917
  ret void, !dbg !918
}
