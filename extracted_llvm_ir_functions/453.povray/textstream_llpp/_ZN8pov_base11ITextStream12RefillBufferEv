define void @_ZN8pov_base11ITextStream12RefillBufferEv(%"class.pov_base::ITextStream"* %this) #0 align 2 {
  tail call void @llvm.dbg.value(metadata %"class.pov_base::ITextStream"* %this, i64 0, metadata !447, metadata !1049), !dbg !1110
  %1 = getelementptr inbounds %"class.pov_base::ITextStream"* %this, i64 0, i32 3, !dbg !1111
  %2 = load i64* %1, align 8, !dbg !1111, !tbaa !1113
  %3 = getelementptr inbounds %"class.pov_base::ITextStream"* %this, i64 0, i32 4, !dbg !1114
  %4 = load i64* %3, align 8, !dbg !1114, !tbaa !1115
  %5 = icmp ult i64 %2, %4, !dbg !1116
  %6 = getelementptr inbounds %"class.pov_base::ITextStream"* %this, i64 0, i32 6, !dbg !1117
  br i1 %5, label %7, label %._crit_edge, !dbg !1119

._crit_edge:                                      ; preds = %0
  %.pre1 = getelementptr inbounds %"class.pov_base::ITextStream"* %this, i64 0, i32 1, !dbg !1120
  %.pre3 = bitcast %"class.pov_base::IStream"** %.pre1 to %"class.pov_base::IOBase"**, !dbg !1120
  br label %15, !dbg !1119

; <label>:7                                       ; preds = %0
  %8 = load i64* %6, align 8, !dbg !1121, !tbaa !1094
  %9 = sub i64 %2, %4, !dbg !1121
  %10 = add i64 %8, %9, !dbg !1121
  store i64 %10, i64* %6, align 8, !dbg !1121, !tbaa !1094
  %11 = getelementptr inbounds %"class.pov_base::ITextStream"* %this, i64 0, i32 1, !dbg !1122
  %12 = bitcast %"class.pov_base::IStream"** %11 to %"class.pov_base::IOBase"**, !dbg !1122
  %13 = load %"class.pov_base::IOBase"** %12, align 8, !dbg !1122, !tbaa !1068
  %14 = tail call dereferenceable(40) %"class.pov_base::IOBase"* @_ZN8pov_base6IOBase5seekgEmj(%"class.pov_base::IOBase"* %13, i64 %10, i32 0) #11, !dbg !1122
  br label %15, !dbg !1123

; <label>:15                                      ; preds = %._crit_edge, %7
  %.pre-phi4 = phi %"class.pov_base::IOBase"** [ %.pre3, %._crit_edge ], [ %12, %7 ], !dbg !1120
  tail call void @llvm.dbg.value(metadata i64 512, i64 0, metadata !536, metadata !1049), !dbg !1124
  tail call void @llvm.dbg.value(metadata i64 512, i64 0, metadata !528, metadata !1049), !dbg !1128
  tail call void @llvm.dbg.value(metadata i64 512, i64 0, metadata !520, metadata !1049), !dbg !1129
  %16 = getelementptr inbounds %"class.pov_base::ITextStream"* %this, i64 0, i32 5, !dbg !1130
  %17 = load i64* %16, align 8, !dbg !1130, !tbaa !1107
  %18 = load i64* %6, align 8, !dbg !1131, !tbaa !1094
  %19 = sub i64 %17, %18, !dbg !1132
  tail call void @llvm.dbg.value(metadata i64 %19, i64 0, metadata !535, metadata !1049), !dbg !1133
  tail call void @llvm.dbg.value(metadata i64 %19, i64 0, metadata !529, metadata !1049), !dbg !1134
  tail call void @llvm.dbg.value(metadata i64 %19, i64 0, metadata !521, metadata !1049), !dbg !1135
  %20 = icmp ult i64 %19, 512, !dbg !1136
  %21 = select i1 %20, i64 %19, i64 512, !dbg !1137
  store i64 %21, i64* %3, align 8, !dbg !1138, !tbaa !1115
  store i64 0, i64* %1, align 8, !dbg !1139, !tbaa !1113
  %22 = load %"class.pov_base::IOBase"** %.pre-phi4, align 8, !dbg !1120, !tbaa !1068
  %23 = getelementptr inbounds %"class.pov_base::ITextStream"* %this, i64 0, i32 2, i64 0, !dbg !1140
  %24 = tail call dereferenceable(40) %"class.pov_base::IOBase"* @_ZN8pov_base6IOBase4readEPvm(%"class.pov_base::IOBase"* %22, i8* %23, i64 %21) #11, !dbg !1120
  %25 = load %"class.pov_base::IOBase"** %.pre-phi4, align 8, !dbg !1141, !tbaa !1068
  tail call void @llvm.dbg.value(metadata %"class.pov_base::IOBase"* %25, i64 0, metadata !508, metadata !1049), !dbg !1143
  %26 = getelementptr inbounds %"class.pov_base::IOBase"* %25, i64 0, i32 1, !dbg !1145
  %27 = load i8* %26, align 1, !dbg !1145, !tbaa !1146, !range !1147
  %28 = icmp ne i8 %27, 0, !dbg !1145
  %29 = icmp eq %"class.pov_base::IOBase"* %25, null, !dbg !1148
  %30 = or i1 %29, %28, !dbg !1148
  br i1 %30, label %35, label %31, !dbg !1149

; <label>:31                                      ; preds = %15
  %32 = load i64* %3, align 8, !dbg !1150, !tbaa !1115
  %33 = load i64* %6, align 8, !dbg !1151, !tbaa !1094
  %34 = add i64 %33, %32, !dbg !1151
  br label %_ZN8pov_base6IOBase5tellgEv.exit, !dbg !1152

; <label>:35                                      ; preds = %15
  tail call void @llvm.dbg.value(metadata %"class.pov_base::IOBase"* %25, i64 0, metadata !501, metadata !1049) #9, !dbg !1153
  %36 = getelementptr inbounds %"class.pov_base::IOBase"* %25, i64 0, i32 2, !dbg !1155
  %37 = load %struct.__sFILE** %36, align 8, !dbg !1155, !tbaa !1100
  %38 = icmp eq %struct.__sFILE* %37, null, !dbg !1156
  br i1 %38, label %_ZN8pov_base6IOBase5tellgEv.exit, label %39, !dbg !1155

; <label>:39                                      ; preds = %35
  %40 = tail call i64 @ftell(%struct.__sFILE* %37) #13, !dbg !1157
  br label %_ZN8pov_base6IOBase5tellgEv.exit, !dbg !1155

_ZN8pov_base6IOBase5tellgEv.exit:                 ; preds = %39, %35, %31
  %storemerge = phi i64 [ %34, %31 ], [ %40, %39 ], [ -1, %35 ]
  store i64 %storemerge, i64* %6, align 8, !dbg !1151, !tbaa !1094
  ret void, !dbg !1158
}
