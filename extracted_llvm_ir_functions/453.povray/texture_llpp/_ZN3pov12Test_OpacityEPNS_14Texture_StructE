define i32 @_ZN3pov12Test_OpacityEPNS_14Texture_StructE(%"struct.pov::Texture_Struct"* %Texture) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Texture_Struct"* %Texture}, i64 0, metadata !1152), !dbg !2263
  %cmp = icmp eq %"struct.pov::Texture_Struct"* %Texture, null, !dbg !2264
  br i1 %cmp, label %return, label %for.body, !dbg !2264

for.body:                                         ; preds = %entry, %for.inc46
  %Layer.067 = phi %"struct.pov::Texture_Struct"* [ %9, %for.inc46 ], [ %Texture, %entry ]
  %Opaque.066 = phi i32 [ %Opaque.1, %for.inc46 ], [ 0, %entry ]
  %Type = getelementptr inbounds %"struct.pov::Texture_Struct"* %Layer.067, i64 0, i32 0, !dbg !2265
  %0 = load i16* %Type, align 2, !dbg !2265, !tbaa !1459
  %conv = zext i16 %0 to i32, !dbg !2265
  switch i32 %conv, label %for.inc46 [
    i32 1, label %sw.bb
    i32 4, label %sw.bb24
  ], !dbg !2265

sw.bb:                                            ; preds = %for.body
  %Pigment = getelementptr inbounds %"struct.pov::Texture_Struct"* %Layer.067, i64 0, i32 12, !dbg !2268
  %1 = load %"struct.pov::Pigment_Struct"** %Pigment, align 8, !dbg !2268, !tbaa !1545
  %Type2 = getelementptr inbounds %"struct.pov::Pigment_Struct"* %1, i64 0, i32 0, !dbg !2268
  %2 = load i16* %Type2, align 2, !dbg !2268, !tbaa !1459
  %cmp4 = icmp eq i16 %2, 4, !dbg !2268
  br i1 %cmp4, label %land.lhs.true, label %if.end18, !dbg !2268

land.lhs.true:                                    ; preds = %sw.bb
  %Vals = getelementptr inbounds %"struct.pov::Pigment_Struct"* %1, i64 0, i32 10, !dbg !2268
  %Image6 = bitcast %union.anon.0* %Vals to %"struct.pov::Image_Struct"**, !dbg !2268
  %3 = load %"struct.pov::Image_Struct"** %Image6, align 8, !dbg !2268, !tbaa !1545
  %cmp7 = icmp eq %"struct.pov::Image_Struct"* %3, null, !dbg !2268
  br i1 %cmp7, label %if.end18, label %if.then8, !dbg !2268

if.then8:                                         ; preds = %land.lhs.true
  %Once_Flag = getelementptr inbounds %"struct.pov::Image_Struct"* %3, i64 0, i32 8, !dbg !2270
  %4 = load i8* %Once_Flag, align 1, !dbg !2270, !tbaa !1460
  %tobool = icmp eq i8 %4, 0, !dbg !2270
  br i1 %tobool, label %if.end13, label %for.inc46, !dbg !2270

if.end13:                                         ; preds = %if.then8
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Image_Struct"* %3}, i64 0, metadata !1155), !dbg !2272
  %call = tail call zeroext i1 @_ZN3pov15is_image_opaqueEPNS_12Image_StructE(%"struct.pov::Image_Struct"* %3) #9, !dbg !2273
  %conv17 = zext i1 %call to i32, !dbg !2273
  tail call void @llvm.dbg.value(metadata !{i32 %conv17}, i64 0, metadata !1153), !dbg !2273
  br label %for.inc46, !dbg !2274

if.end18:                                         ; preds = %land.lhs.true, %sw.bb
  %Flags = getelementptr inbounds %"struct.pov::Pigment_Struct"* %1, i64 0, i32 2, !dbg !2275
  %5 = load i16* %Flags, align 2, !dbg !2275, !tbaa !1459
  %and = and i16 %5, 1, !dbg !2275
  %tobool21 = icmp eq i16 %and, 0, !dbg !2275
  tail call void @llvm.dbg.value(metadata !1479, i64 0, metadata !1153), !dbg !2276
  %.Opaque.0 = select i1 %tobool21, i32 1, i32 %Opaque.066, !dbg !2275
  br label %for.inc46, !dbg !2275

sw.bb24:                                          ; preds = %for.body
  %Vals25 = getelementptr inbounds %"struct.pov::Texture_Struct"* %Layer.067, i64 0, i32 10, !dbg !2278
  %Image26 = bitcast %union.anon.9* %Vals25 to %"struct.pov::Image_Struct"**, !dbg !2278
  %6 = load %"struct.pov::Image_Struct"** %Image26, align 8, !dbg !2278, !tbaa !1545
  %cmp27 = icmp eq %"struct.pov::Image_Struct"* %6, null, !dbg !2278
  br i1 %cmp27, label %if.end35, label %if.then28, !dbg !2278

if.then28:                                        ; preds = %sw.bb24
  %Once_Flag31 = getelementptr inbounds %"struct.pov::Image_Struct"* %6, i64 0, i32 8, !dbg !2279
  %7 = load i8* %Once_Flag31, align 1, !dbg !2279, !tbaa !1460
  %tobool32 = icmp eq i8 %7, 0, !dbg !2279
  br i1 %tobool32, label %if.end35, label %for.inc46, !dbg !2279

if.end35:                                         ; preds = %if.then28, %sw.bb24
  tail call void @llvm.dbg.value(metadata !1479, i64 0, metadata !1154), !dbg !2281
  %Materials = getelementptr inbounds %"struct.pov::Texture_Struct"* %Layer.067, i64 0, i32 15, !dbg !2282
  %Material.062 = load %"struct.pov::Texture_Struct"** %Materials, align 8, !dbg !2282
  %cmp3763 = icmp eq %"struct.pov::Texture_Struct"* %Material.062, null, !dbg !2282
  br i1 %cmp3763, label %for.inc46, label %for.body38, !dbg !2282

for.cond36:                                       ; preds = %for.body38
  %Next_Material = getelementptr inbounds %"struct.pov::Texture_Struct"* %Material.064, i64 0, i32 11, !dbg !2282
  %Material.0 = load %"struct.pov::Texture_Struct"** %Next_Material, align 8, !dbg !2282
  %cmp37 = icmp eq %"struct.pov::Texture_Struct"* %Material.0, null, !dbg !2282
  br i1 %cmp37, label %for.inc46, label %for.body38, !dbg !2282

for.body38:                                       ; preds = %if.end35, %for.cond36
  %Material.064 = phi %"struct.pov::Texture_Struct"* [ %Material.0, %for.cond36 ], [ %Material.062, %if.end35 ]
  %call39 = tail call i32 @_ZN3pov12Test_OpacityEPNS_14Texture_StructE(%"struct.pov::Texture_Struct"* %Material.064) #9, !dbg !2284
  %tobool40 = icmp eq i32 %call39, 0, !dbg !2284
  br i1 %tobool40, label %for.inc46, label %for.cond36, !dbg !2284

for.inc46:                                        ; preds = %if.end35, %for.body38, %for.cond36, %if.end18, %if.then8, %if.then28, %if.end13, %for.body
  %Opaque.1 = phi i32 [ %Opaque.066, %for.body ], [ %Opaque.066, %if.then28 ], [ %Opaque.066, %if.then8 ], [ %conv17, %if.end13 ], [ %.Opaque.0, %if.end18 ], [ 1, %if.end35 ], [ %Opaque.066, %for.body38 ], [ 1, %for.cond36 ]
  %Next = getelementptr inbounds %"struct.pov::Texture_Struct"* %Layer.067, i64 0, i32 8, !dbg !2286
  %8 = load %"struct.pov::Pattern_Struct"** %Next, align 8, !dbg !2286, !tbaa !1545
  %9 = bitcast %"struct.pov::Pattern_Struct"* %8 to %"struct.pov::Texture_Struct"*, !dbg !2286
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Texture_Struct"* %9}, i64 0, metadata !1156), !dbg !2286
  %cmp1 = icmp eq %"struct.pov::Pattern_Struct"* %8, null, !dbg !2286
  br i1 %cmp1, label %return, label %for.body, !dbg !2286

return:                                           ; preds = %for.inc46, %entry
  %retval.0 = phi i32 [ 0, %entry ], [ %Opaque.1, %for.inc46 ]
  ret i32 %retval.0, !dbg !2287
}
