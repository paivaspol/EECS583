define internal fastcc void @_ZN3povL16gatherPhotonsRecEii(i32 %start, i32 %end) #4 {
  %.pre.pre = load double** @_ZN3povL4pt_sE, align 8, !dbg !3972, !tbaa !2027
  br label %tailrecurse.outer

tailrecurse.outer:                                ; preds = %169, %0
  %.pre = phi double* [ %173, %169 ], [ %.pre.pre, %0 ]
  %start.tr.ph = phi i32 [ %178, %169 ], [ %start, %0 ]
  %end.tr.ph = phi i32 [ %end.tr, %169 ], [ %end, %0 ]
  br label %tailrecurse

tailrecurse:                                      ; preds = %tailrecurse.outer, %194
  %1 = phi double* [ %189, %194 ], [ %.pre, %tailrecurse.outer ]
  %end.tr = phi i32 [ %195, %194 ], [ %end.tr.ph, %tailrecurse.outer ]
  tail call void @llvm.dbg.value(metadata i32 %start.tr.ph, i64 0, metadata !1488, metadata !1948), !dbg !3973
  tail call void @llvm.dbg.value(metadata i32 %end.tr, i64 0, metadata !1489, metadata !1948), !dbg !3974
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1498, metadata !1948), !dbg !3975
  %2 = add nsw i32 %end.tr, %start.tr.ph, !dbg !3976
  %3 = ashr i32 %2, 1, !dbg !3977
  tail call void @llvm.dbg.value(metadata i32 %3, i64 0, metadata !1496, metadata !1948), !dbg !3978
  %4 = and i32 %3, 16383, !dbg !3979
  %5 = zext i32 %4 to i64, !dbg !3979
  %6 = ashr i32 %2, 15, !dbg !3979
  %7 = sext i32 %6 to i64, !dbg !3979
  %8 = load %"struct.pov::photon_struct"*** @_ZN3povL5map_sE, align 8, !dbg !3979, !tbaa !2027
  %9 = getelementptr inbounds %"struct.pov::photon_struct"** %8, i64 %7, !dbg !3979
  %10 = load %"struct.pov::photon_struct"** %9, align 8, !dbg !3979, !tbaa !2027
  %11 = getelementptr inbounds %"struct.pov::photon_struct"* %10, i64 %5, !dbg !3979
  tail call void @llvm.dbg.value(metadata %"struct.pov::photon_struct"* %11, i64 0, metadata !1497, metadata !1948), !dbg !3980
  %12 = getelementptr inbounds %"struct.pov::photon_struct"* %10, i64 %5, i32 2, !dbg !3981
  %13 = load i8* %12, align 1, !dbg !3981, !tbaa !3982
  %14 = zext i8 %13 to i32, !dbg !3983
  %15 = and i32 %14, 7, !dbg !3984
  tail call void @llvm.dbg.value(metadata i32 %15, i64 0, metadata !1491, metadata !1948), !dbg !3985
  %16 = load double* %1, align 8, !dbg !3972, !tbaa !2066
  %17 = getelementptr inbounds %"struct.pov::photon_struct"* %11, i64 0, i32 0, i64 0, !dbg !3986
  %18 = load float* %17, align 4, !dbg !3986, !tbaa !2590
  %19 = fpext float %18 to double, !dbg !3986
  %20 = fsub double %19, %16, !dbg !3987
  tail call void @llvm.dbg.value(metadata double %20, i64 0, metadata !1498, metadata !2778), !dbg !3975
  %21 = getelementptr inbounds double* %1, i64 1, !dbg !3988
  %22 = load double* %21, align 8, !dbg !3988, !tbaa !2066
  %23 = getelementptr inbounds %"struct.pov::photon_struct"* %10, i64 %5, i32 0, i64 1, !dbg !3989
  %24 = load float* %23, align 4, !dbg !3989, !tbaa !2590
  %25 = fpext float %24 to double, !dbg !3989
  %26 = fsub double %25, %22, !dbg !3990
  tail call void @llvm.dbg.value(metadata double %26, i64 0, metadata !1498, metadata !2781), !dbg !3975
  %27 = getelementptr inbounds double* %1, i64 2, !dbg !3991
  %28 = load double* %27, align 8, !dbg !3991, !tbaa !2066
  %29 = getelementptr inbounds %"struct.pov::photon_struct"* %10, i64 %5, i32 0, i64 2, !dbg !3992
  %30 = load float* %29, align 4, !dbg !3992, !tbaa !2590
  %31 = fpext float %30 to double, !dbg !3992
  %32 = fsub double %31, %28, !dbg !3993
  tail call void @llvm.dbg.value(metadata double %32, i64 0, metadata !1498, metadata !2784), !dbg !3975
  %33 = fmul double %20, %20, !dbg !3994
  tail call void @llvm.dbg.value(metadata double %33, i64 0, metadata !1493, metadata !1948), !dbg !3995
  %34 = fmul double %26, %26, !dbg !3996
  tail call void @llvm.dbg.value(metadata double %34, i64 0, metadata !1494, metadata !1948), !dbg !3997
  %35 = fmul double %32, %32, !dbg !3998
  tail call void @llvm.dbg.value(metadata double %35, i64 0, metadata !1495, metadata !1948), !dbg !3999
  %36 = load double* @_ZN3povL6dmax_sE, align 8, !dbg !4000, !tbaa !2066
  %37 = fcmp ogt double %33, %36, !dbg !4002
  %38 = icmp eq i32 %15, 0, !dbg !4003
  %or.cond = and i1 %38, %37, !dbg !4004
  br i1 %or.cond, label %152, label %39, !dbg !4004

; <label>:39                                      ; preds = %tailrecurse
  %40 = fcmp ogt double %34, %36, !dbg !4005
  %41 = icmp eq i32 %15, 1, !dbg !4006
  %or.cond3 = and i1 %41, %40, !dbg !4007
  br i1 %or.cond3, label %152, label %42, !dbg !4007

; <label>:42                                      ; preds = %39
  %43 = fcmp ogt double %35, %36, !dbg !4008
  %44 = icmp eq i32 %15, 2, !dbg !4009
  %or.cond5 = and i1 %44, %43, !dbg !4010
  br i1 %or.cond5, label %152, label %45, !dbg !4010

; <label>:45                                      ; preds = %42
  %46 = fadd double %33, %34, !dbg !4011
  %47 = fadd double %46, %35, !dbg !4013
  tail call void @llvm.dbg.value(metadata double %47, i64 0, metadata !1492, metadata !1948), !dbg !4014
  %48 = load double* @_ZN3povL13flattenFactorE, align 8, !dbg !4015, !tbaa !2066
  %49 = fcmp une double %48, 0.000000e+00, !dbg !4017
  br i1 %49, label %50, label %67, !dbg !4018

; <label>:50                                      ; preds = %45
  %51 = load double** @_ZN3povL6norm_sE, align 8, !dbg !4019, !tbaa !2027
  tail call void @llvm.dbg.value(metadata double* %51, i64 0, metadata !1554, metadata !1948), !dbg !4021
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1555, metadata !1948), !dbg !4023
  %52 = load double* %51, align 8, !dbg !4024, !tbaa !2066
  %53 = fmul double %20, %52, !dbg !4025
  %54 = getelementptr inbounds double* %51, i64 1, !dbg !4026
  %55 = load double* %54, align 8, !dbg !4026, !tbaa !2066
  %56 = fmul double %26, %55, !dbg !4027
  %57 = fadd double %53, %56, !dbg !4028
  %58 = getelementptr inbounds double* %51, i64 2, !dbg !4029
  %59 = load double* %58, align 8, !dbg !4029, !tbaa !2066
  %60 = fmul double %32, %59, !dbg !4030
  %61 = fadd double %57, %60, !dbg !4031
  tail call void @llvm.dbg.value(metadata double %61, i64 0, metadata !1553, metadata !1948), !dbg !4032
  tail call void @llvm.dbg.value(metadata double %61, i64 0, metadata !1499, metadata !1948), !dbg !4033
  tail call void @llvm.dbg.value(metadata double %61, i64 0, metadata !1499, metadata !1948), !dbg !4033
  %62 = tail call double @fabs(double %61) #9, !dbg !4034
  tail call void @llvm.dbg.value(metadata double %62, i64 0, metadata !1499, metadata !1948), !dbg !4033
  tail call void @llvm.dbg.value(metadata double %62, i64 0, metadata !1553, metadata !1948), !dbg !4032
  tail call void @llvm.dbg.value(metadata double %62, i64 0, metadata !1499, metadata !1948), !dbg !4033
  tail call void @llvm.dbg.value(metadata double %62, i64 0, metadata !1499, metadata !1948), !dbg !4033
  %63 = fmul double %48, %62, !dbg !4035
  %64 = fmul double %47, %63, !dbg !4036
  %65 = fmul double %64, 1.600000e+01, !dbg !4037
  %66 = fadd double %47, %65, !dbg !4038
  tail call void @llvm.dbg.value(metadata double %66, i64 0, metadata !1492, metadata !1948), !dbg !4014
  br label %67, !dbg !4039

; <label>:67                                      ; preds = %50, %45
  %d.0 = phi double [ %66, %50 ], [ %47, %45 ]
  %68 = fcmp olt double %d.0, %36, !dbg !4040
  br i1 %68, label %69, label %152, !dbg !4042

; <label>:69                                      ; preds = %67
  %70 = load i32* @_ZN3povL10numfound_sE, align 4, !dbg !4043, !tbaa !2001
  %71 = load i32* @_ZN3povL11TargetNum_sE, align 4, !dbg !4046, !tbaa !2001
  %72 = icmp slt i32 %70, %71, !dbg !4047
  br i1 %72, label %125, label %73, !dbg !4048

; <label>:73                                      ; preds = %69
  tail call void @llvm.dbg.value(metadata %"struct.pov::photon_struct"* %11, i64 0, metadata !1504, metadata !1948), !dbg !4049
  tail call void @llvm.dbg.value(metadata double %d.0, i64 0, metadata !1505, metadata !1948), !dbg !4052
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 123), i64 0, metadata !1369, metadata !1948), !dbg !4053
  %74 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 123), align 8, !dbg !4055, !tbaa !3507
  %75 = add nsw i64 %74, 1, !dbg !4055
  store i64 %75, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 123), align 8, !dbg !4055, !tbaa !3507
  %76 = load double** getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 22), align 8, !dbg !4056, !tbaa !2010
  tail call void @llvm.dbg.value(metadata double* %76, i64 0, metadata !1506, metadata !1948), !dbg !4057
  %77 = load %"struct.pov::photon_struct"*** getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 21), align 8, !dbg !4058, !tbaa !2007
  tail call void @llvm.dbg.value(metadata %"struct.pov::photon_struct"** %77, i64 0, metadata !1507, metadata !1948), !dbg !4059
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1508, metadata !1948), !dbg !4060
  tail call void @llvm.dbg.value(metadata i32 2, i64 0, metadata !1509, metadata !1948), !dbg !4061
  %78 = icmp sgt i32 %70, 2, !dbg !4062
  br i1 %78, label %.lr.ph.i, label %._crit_edge.i, !dbg !4063

.lr.ph.i:                                         ; preds = %73, %89
  %k.03.i = phi i32 [ %k2.1.i, %89 ], [ 1, %73 ], !dbg !4064
  %k2.02.i = phi i32 [ %100, %89 ], [ 2, %73 ], !dbg !4064
  %79 = add nsw i32 %k2.02.i, -1, !dbg !4065
  %80 = sext i32 %79 to i64, !dbg !4066
  %81 = getelementptr inbounds double* %76, i64 %80, !dbg !4066
  %82 = load double* %81, align 8, !dbg !4066, !tbaa !2066
  tail call void @llvm.dbg.value(metadata double %82, i64 0, metadata !1510, metadata !1948), !dbg !4067
  %83 = sext i32 %k2.02.i to i64, !dbg !4068
  %84 = getelementptr inbounds double* %76, i64 %83, !dbg !4068
  %85 = load double* %84, align 8, !dbg !4068, !tbaa !2066
  tail call void @llvm.dbg.value(metadata double %85, i64 0, metadata !1514, metadata !1948), !dbg !4069
  %86 = fcmp ogt double %85, %82, !dbg !4070
  tail call void @llvm.dbg.value(metadata double %85, i64 0, metadata !1510, metadata !1948), !dbg !4067
  %d_k2_m1.0.i = select i1 %86, double %85, double %82, !dbg !4072
  %87 = zext i1 %86 to i32, !dbg !4072
  %k2.1.i = or i32 %87, %k2.02.i, !dbg !4072
  %88 = fcmp ogt double %d_k2_m1.0.i, %d.0, !dbg !4073
  br i1 %88, label %89, label %._crit_edge.i, !dbg !4075

; <label>:89                                      ; preds = %.lr.ph.i
  %90 = add nsw i32 %k.03.i, -1, !dbg !4076
  %91 = sext i32 %90 to i64, !dbg !4077
  %92 = getelementptr inbounds double* %76, i64 %91, !dbg !4077
  store double %d_k2_m1.0.i, double* %92, align 8, !dbg !4078, !tbaa !2066
  %93 = add nsw i32 %k2.1.i, -1, !dbg !4079
  %94 = sext i32 %93 to i64, !dbg !4080
  %95 = getelementptr inbounds %"struct.pov::photon_struct"** %77, i64 %94, !dbg !4080
  %96 = bitcast %"struct.pov::photon_struct"** %95 to i64*, !dbg !4080
  %97 = load i64* %96, align 8, !dbg !4080, !tbaa !2027
  %98 = getelementptr inbounds %"struct.pov::photon_struct"** %77, i64 %91, !dbg !4081
  %99 = bitcast %"struct.pov::photon_struct"** %98 to i64*, !dbg !4082
  store i64 %97, i64* %99, align 8, !dbg !4082, !tbaa !2027
  tail call void @llvm.dbg.value(metadata i32 %k2.1.i, i64 0, metadata !1508, metadata !1948), !dbg !4060
  %100 = shl nsw i32 %k2.1.i, 1, !dbg !4083
  tail call void @llvm.dbg.value(metadata i32 %100, i64 0, metadata !1509, metadata !1948), !dbg !4061
  %101 = icmp slt i32 %100, %70, !dbg !4062
  br i1 %101, label %.lr.ph.i, label %._crit_edge.i, !dbg !4063

._crit_edge.i:                                    ; preds = %89, %.lr.ph.i, %73
  %k.0.lcssa.i = phi i32 [ 1, %73 ], [ %k.03.i, %.lr.ph.i ], [ %k2.1.i, %89 ], !dbg !4064
  %k2.2.i = phi i32 [ 2, %73 ], [ %k2.1.i, %.lr.ph.i ], [ %100, %89 ], !dbg !4064
  %102 = icmp eq i32 %k2.2.i, %70, !dbg !4084
  br i1 %102, label %103, label %_ZN3povL12FullPQInsertEPNS_13photon_structEd.exit, !dbg !4085

; <label>:103                                     ; preds = %._crit_edge.i
  %104 = add nsw i32 %70, -1, !dbg !4086
  %105 = sext i32 %104 to i64, !dbg !4087
  %106 = getelementptr inbounds double* %76, i64 %105, !dbg !4087
  %107 = load double* %106, align 8, !dbg !4087, !tbaa !2066
  tail call void @llvm.dbg.value(metadata double %107, i64 0, metadata !1515, metadata !1948), !dbg !4088
  %108 = fcmp ogt double %107, %d.0, !dbg !4089
  br i1 %108, label %109, label %_ZN3povL12FullPQInsertEPNS_13photon_structEd.exit, !dbg !4091

; <label>:109                                     ; preds = %103
  %110 = add nsw i32 %k.0.lcssa.i, -1, !dbg !4092
  %111 = sext i32 %110 to i64, !dbg !4094
  %112 = getelementptr inbounds double* %76, i64 %111, !dbg !4094
  store double %107, double* %112, align 8, !dbg !4095, !tbaa !2066
  %113 = getelementptr inbounds %"struct.pov::photon_struct"** %77, i64 %105, !dbg !4096
  %114 = bitcast %"struct.pov::photon_struct"** %113 to i64*, !dbg !4096
  %115 = load i64* %114, align 8, !dbg !4096, !tbaa !2027
  %116 = getelementptr inbounds %"struct.pov::photon_struct"** %77, i64 %111, !dbg !4097
  %117 = bitcast %"struct.pov::photon_struct"** %116 to i64*, !dbg !4098
  store i64 %115, i64* %117, align 8, !dbg !4098, !tbaa !2027
  tail call void @llvm.dbg.value(metadata i32 %k2.2.i, i64 0, metadata !1508, metadata !1948), !dbg !4060
  br label %_ZN3povL12FullPQInsertEPNS_13photon_structEd.exit, !dbg !4099

_ZN3povL12FullPQInsertEPNS_13photon_structEd.exit: ; preds = %._crit_edge.i, %103, %109
  %k.1.i = phi i32 [ %70, %109 ], [ %k.0.lcssa.i, %103 ], [ %k.0.lcssa.i, %._crit_edge.i ], !dbg !4064
  %118 = add nsw i32 %k.1.i, -1, !dbg !4100
  %119 = sext i32 %118 to i64, !dbg !4101
  %120 = getelementptr inbounds double* %76, i64 %119, !dbg !4101
  store double %d.0, double* %120, align 8, !dbg !4102, !tbaa !2066
  %121 = getelementptr inbounds %"struct.pov::photon_struct"** %77, i64 %119, !dbg !4103
  store %"struct.pov::photon_struct"* %11, %"struct.pov::photon_struct"** %121, align 8, !dbg !4104, !tbaa !2027
  %122 = bitcast double* %76 to i64*, !dbg !4105
  %123 = load i64* %122, align 8, !dbg !4105, !tbaa !2066
  store i64 %123, i64* bitcast (double* @_ZN3povL6dmax_sE to i64*), align 8, !dbg !4106, !tbaa !2066
  %.cast = bitcast i64 %123 to double, !dbg !4107
  %124 = tail call double @sqrt(double %.cast) #9, !dbg !4108
  store double %124, double* @_ZN3povL11sqrt_dmax_sE, align 8, !dbg !4109, !tbaa !2066
  br label %152, !dbg !4110

; <label>:125                                     ; preds = %69
  tail call void @llvm.dbg.value(metadata %"struct.pov::photon_struct"* %11, i64 0, metadata !1520, metadata !1948), !dbg !4111
  tail call void @llvm.dbg.value(metadata double %d.0, i64 0, metadata !1521, metadata !1948), !dbg !4113
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 122), i64 0, metadata !1369, metadata !1948), !dbg !4114
  %126 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 122), align 8, !dbg !4116, !tbaa !3507
  %127 = add nsw i64 %126, 1, !dbg !4116
  store i64 %127, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 122), align 8, !dbg !4116, !tbaa !3507
  %128 = load double** getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 22), align 8, !dbg !4117, !tbaa !2010
  tail call void @llvm.dbg.value(metadata double* %128, i64 0, metadata !1522, metadata !1948), !dbg !4118
  %129 = load %"struct.pov::photon_struct"*** getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 21), align 8, !dbg !4119, !tbaa !2007
  tail call void @llvm.dbg.value(metadata %"struct.pov::photon_struct"** %129, i64 0, metadata !1523, metadata !1948), !dbg !4120
  %130 = add nsw i32 %70, 1, !dbg !4121
  store i32 %130, i32* @_ZN3povL10numfound_sE, align 4, !dbg !4121, !tbaa !2001
  tail call void @llvm.dbg.value(metadata i32 %130, i64 0, metadata !1524, metadata !1948), !dbg !4122
  %131 = icmp ugt i32 %130, 1, !dbg !4123
  br i1 %131, label %.lr.ph.i10, label %_ZN3povL8PQInsertEPNS_13photon_structEd.exit, !dbg !4124

.lr.ph.i10:                                       ; preds = %125, %138
  %k.01.i = phi i32 [ %132, %138 ], [ %130, %125 ], !dbg !4125
  %132 = lshr i32 %k.01.i, 1, !dbg !4126
  tail call void @llvm.dbg.value(metadata i32 %132, i64 0, metadata !1525, metadata !1948), !dbg !4127
  %133 = add nsw i32 %132, -1, !dbg !4128
  %134 = zext i32 %133 to i64, !dbg !4129
  %135 = getelementptr inbounds double* %128, i64 %134, !dbg !4129
  %136 = load double* %135, align 8, !dbg !4129, !tbaa !2066
  tail call void @llvm.dbg.value(metadata double %136, i64 0, metadata !1527, metadata !1948), !dbg !4130
  %137 = fcmp ogt double %136, %d.0, !dbg !4131
  br i1 %137, label %_ZN3povL8PQInsertEPNS_13photon_structEd.exit, label %138, !dbg !4133

; <label>:138                                     ; preds = %.lr.ph.i10
  %139 = add i32 %k.01.i, -1, !dbg !4134
  %140 = zext i32 %139 to i64, !dbg !4135
  %141 = getelementptr inbounds double* %128, i64 %140, !dbg !4135
  store double %136, double* %141, align 8, !dbg !4136, !tbaa !2066
  %142 = getelementptr inbounds %"struct.pov::photon_struct"** %129, i64 %134, !dbg !4137
  %143 = bitcast %"struct.pov::photon_struct"** %142 to i64*, !dbg !4137
  %144 = load i64* %143, align 8, !dbg !4137, !tbaa !2027
  %145 = getelementptr inbounds %"struct.pov::photon_struct"** %129, i64 %140, !dbg !4138
  %146 = bitcast %"struct.pov::photon_struct"** %145 to i64*, !dbg !4139
  store i64 %144, i64* %146, align 8, !dbg !4139, !tbaa !2027
  tail call void @llvm.dbg.value(metadata i32 %132, i64 0, metadata !1524, metadata !1948), !dbg !4122
  %147 = icmp ugt i32 %k.01.i, 3, !dbg !4123
  br i1 %147, label %.lr.ph.i10, label %_ZN3povL8PQInsertEPNS_13photon_structEd.exit, !dbg !4124

_ZN3povL8PQInsertEPNS_13photon_structEd.exit:     ; preds = %.lr.ph.i10, %138, %125
  %k.0.lcssa.i11 = phi i32 [ %130, %125 ], [ %k.01.i, %.lr.ph.i10 ], [ %132, %138 ], !dbg !4125
  %148 = add i32 %k.0.lcssa.i11, -1, !dbg !4140
  %149 = zext i32 %148 to i64, !dbg !4141
  %150 = getelementptr inbounds double* %128, i64 %149, !dbg !4141
  store double %d.0, double* %150, align 8, !dbg !4142, !tbaa !2066
  %151 = getelementptr inbounds %"struct.pov::photon_struct"** %129, i64 %149, !dbg !4143
  store %"struct.pov::photon_struct"* %11, %"struct.pov::photon_struct"** %151, align 8, !dbg !4144, !tbaa !2027
  br label %152

; <label>:152                                     ; preds = %67, %_ZN3povL8PQInsertEPNS_13photon_structEd.exit, %_ZN3povL12FullPQInsertEPNS_13photon_structEd.exit, %42, %39, %tailrecurse
  %153 = zext i32 %15 to i64, !dbg !4145
  %154 = load double** @_ZN3povL4pt_sE, align 8, !dbg !4145, !tbaa !2027
  %155 = getelementptr inbounds double* %154, i64 %153, !dbg !4145
  %156 = load double* %155, align 8, !dbg !4145, !tbaa !2066
  %157 = getelementptr inbounds %"struct.pov::photon_struct"* %10, i64 %5, i32 0, i64 %153, !dbg !4146
  %158 = load float* %157, align 4, !dbg !4146, !tbaa !2590
  %159 = fpext float %158 to double, !dbg !4146
  %160 = fsub double %156, %159, !dbg !4147
  tail call void @llvm.dbg.value(metadata double %160, i64 0, metadata !1490, metadata !1948), !dbg !4148
  %161 = fcmp olt double %160, 0.000000e+00, !dbg !4149
  %162 = load double* @_ZN3povL11sqrt_dmax_sE, align 8, !dbg !4151, !tbaa !2066
  br i1 %161, label %163, label %179, !dbg !4154

; <label>:163                                     ; preds = %152
  %164 = fsub double %156, %162, !dbg !4155
  %165 = fcmp olt double %164, %159, !dbg !4156
  %166 = icmp sgt i32 %3, %start.tr.ph, !dbg !4157
  %or.cond6 = and i1 %166, %165, !dbg !4160
  br i1 %or.cond6, label %167, label %169, !dbg !4160

; <label>:167                                     ; preds = %163
  %168 = add nsw i32 %3, -1, !dbg !4161
  tail call fastcc void @_ZN3povL16gatherPhotonsRecEii(i32 %start.tr.ph, i32 %168) #8, !dbg !4162
  %.pre42 = load double** @_ZN3povL4pt_sE, align 8, !dbg !4163, !tbaa !2027
  %.phi.trans.insert43 = getelementptr inbounds double* %.pre42, i64 %153
  %.pre44 = load double* %.phi.trans.insert43, align 8, !dbg !4163, !tbaa !2066
  %.pre45 = load double* @_ZN3povL11sqrt_dmax_sE, align 8, !dbg !4165, !tbaa !2066
  %.pre46 = load float* %157, align 4, !dbg !4166, !tbaa !2590
  br label %169, !dbg !4162

; <label>:169                                     ; preds = %167, %163
  %170 = phi float [ %.pre46, %167 ], [ %158, %163 ]
  %171 = phi double [ %.pre45, %167 ], [ %162, %163 ]
  %172 = phi double [ %.pre44, %167 ], [ %156, %163 ]
  %173 = phi double* [ %.pre42, %167 ], [ %154, %163 ]
  %174 = fadd double %172, %171, !dbg !4167
  %175 = fpext float %170 to double, !dbg !4166
  %176 = fcmp ogt double %174, %175, !dbg !4168
  %177 = icmp slt i32 %3, %end.tr, !dbg !4169
  %or.cond7 = and i1 %177, %176, !dbg !4172
  %178 = add nsw i32 %3, 1, !dbg !4173
  br i1 %or.cond7, label %tailrecurse.outer, label %.loopexit, !dbg !4172

; <label>:179                                     ; preds = %152
  %180 = fadd double %156, %162, !dbg !4174
  %181 = fcmp ogt double %180, %159, !dbg !4177
  %182 = icmp slt i32 %3, %end.tr, !dbg !4178
  %or.cond8 = and i1 %182, %181, !dbg !4181
  br i1 %or.cond8, label %183, label %185, !dbg !4181

; <label>:183                                     ; preds = %179
  %184 = add nsw i32 %3, 1, !dbg !4182
  tail call fastcc void @_ZN3povL16gatherPhotonsRecEii(i32 %184, i32 %end.tr) #8, !dbg !4183
  %.pre38 = load double** @_ZN3povL4pt_sE, align 8, !dbg !4184, !tbaa !2027
  %.phi.trans.insert = getelementptr inbounds double* %.pre38, i64 %153
  %.pre39 = load double* %.phi.trans.insert, align 8, !dbg !4184, !tbaa !2066
  %.pre40 = load double* @_ZN3povL11sqrt_dmax_sE, align 8, !dbg !4186, !tbaa !2066
  %.pre41 = load float* %157, align 4, !dbg !4187, !tbaa !2590
  br label %185, !dbg !4183

; <label>:185                                     ; preds = %183, %179
  %186 = phi float [ %.pre41, %183 ], [ %158, %179 ]
  %187 = phi double [ %.pre40, %183 ], [ %162, %179 ]
  %188 = phi double [ %.pre39, %183 ], [ %156, %179 ]
  %189 = phi double* [ %.pre38, %183 ], [ %154, %179 ]
  %190 = fsub double %188, %187, !dbg !4188
  %191 = fpext float %186 to double, !dbg !4187
  %192 = fcmp olt double %190, %191, !dbg !4189
  %193 = icmp sgt i32 %3, %start.tr.ph, !dbg !4190
  %or.cond9 = and i1 %193, %192, !dbg !4193
  br i1 %or.cond9, label %194, label %.loopexit, !dbg !4193

; <label>:194                                     ; preds = %185
  %195 = add nsw i32 %3, -1, !dbg !4194
  br label %tailrecurse, !dbg !4195

.loopexit:                                        ; preds = %169, %185
  ret void, !dbg !4196
}
