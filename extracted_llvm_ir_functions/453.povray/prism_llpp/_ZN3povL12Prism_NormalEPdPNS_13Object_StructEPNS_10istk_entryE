define internal void @_ZN3povL12Prism_NormalEPdPNS_13Object_StructEPNS_10istk_entryE(double* %Result, %"struct.pov::Object_Struct"* nocapture readonly %Object, %"struct.pov::istk_entry"* %Inter) #0 {
  %P = alloca [3 x double], align 16
  %N = alloca [3 x double], align 16
  tail call void @llvm.dbg.value(metadata double* %Result, i64 0, metadata !1145, metadata !1629), !dbg !3548
  tail call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"* %Object, i64 0, metadata !1146, metadata !1629), !dbg !3549
  tail call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Inter, i64 0, metadata !1147, metadata !1629), !dbg !3550
  tail call void @llvm.dbg.declare(metadata [3 x double]* %P, metadata !1148, metadata !1629), !dbg !3551
  tail call void @llvm.dbg.declare(metadata %"struct.pov::Prism_Spline_Entry_Struct"* undef, metadata !1149, metadata !1629), !dbg !3552
  tail call void @llvm.dbg.declare(metadata [3 x double]* %N, metadata !1151, metadata !1629), !dbg !3553
  %1 = getelementptr inbounds [3 x double]* %N, i64 0, i64 0, !dbg !3554
  tail call void @llvm.dbg.value(metadata double* %1, i64 0, metadata !1156, metadata !1629), !dbg !3555
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1157, metadata !1629), !dbg !3557
  tail call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !1158, metadata !1629), !dbg !3558
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1159, metadata !1629), !dbg !3559
  store double 0.000000e+00, double* %1, align 16, !dbg !3560, !tbaa !1780
  %2 = getelementptr inbounds [3 x double]* %N, i64 0, i64 1, !dbg !3561
  store double 1.000000e+00, double* %2, align 8, !dbg !3562, !tbaa !1780
  %3 = getelementptr inbounds [3 x double]* %N, i64 0, i64 2, !dbg !3563
  store double 0.000000e+00, double* %3, align 16, !dbg !3564, !tbaa !1780
  %4 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 6, !dbg !3565
  %5 = load i32* %4, align 4, !dbg !3565, !tbaa !3472
  %6 = icmp eq i32 %5, 3, !dbg !3567
  br i1 %6, label %7, label %81, !dbg !3568

; <label>:7                                       ; preds = %0
  %8 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 7, !dbg !3569
  %9 = load i32* %8, align 4, !dbg !3569, !tbaa !3477
  %10 = sext i32 %9 to i64, !dbg !3571
  %11 = getelementptr inbounds %"struct.pov::Object_Struct"* %Object, i64 1, i32 8, !dbg !3572
  %12 = bitcast %"struct.pov::Light_Source_Struct"** %11 to %"struct.pov::Prism_Spline_Struct"**, !dbg !3572
  %13 = load %"struct.pov::Prism_Spline_Struct"** %12, align 8, !dbg !3572, !tbaa !1743
  %14 = getelementptr inbounds %"struct.pov::Prism_Spline_Struct"* %13, i64 0, i32 1, !dbg !3573
  %15 = load %"struct.pov::Prism_Spline_Entry_Struct"** %14, align 8, !dbg !3573, !tbaa !1757
  %16 = getelementptr inbounds %"struct.pov::Prism_Spline_Entry_Struct"* %15, i64 %10, i32 7, i64 0, !dbg !3574
  %17 = load double* %16, align 8, !dbg !3574
  tail call void @llvm.dbg.value(metadata double %17, i64 0, metadata !1149, metadata !2917), !dbg !3552
  %18 = getelementptr inbounds %"struct.pov::Prism_Spline_Entry_Struct"* %15, i64 %10, i32 7, i64 1, !dbg !3574
  %19 = load double* %18, align 8, !dbg !3574
  tail call void @llvm.dbg.value(metadata double %19, i64 0, metadata !1149, metadata !2918), !dbg !3552
  %20 = getelementptr inbounds %"struct.pov::Prism_Spline_Entry_Struct"* %15, i64 %10, i32 8, i64 0, !dbg !3574
  %21 = load double* %20, align 8, !dbg !3574
  tail call void @llvm.dbg.value(metadata double %21, i64 0, metadata !1149, metadata !2919), !dbg !3552
  %22 = getelementptr inbounds %"struct.pov::Prism_Spline_Entry_Struct"* %15, i64 %10, i32 8, i64 1, !dbg !3574
  %23 = load double* %22, align 8, !dbg !3574
  tail call void @llvm.dbg.value(metadata double %23, i64 0, metadata !1149, metadata !2920), !dbg !3552
  %24 = getelementptr inbounds %"struct.pov::Prism_Spline_Entry_Struct"* %15, i64 %10, i32 9, i64 0, !dbg !3574
  %25 = load double* %24, align 8, !dbg !3574
  tail call void @llvm.dbg.value(metadata double %25, i64 0, metadata !1149, metadata !2921), !dbg !3552
  %26 = getelementptr inbounds %"struct.pov::Prism_Spline_Entry_Struct"* %15, i64 %10, i32 9, i64 1, !dbg !3574
  %27 = load double* %26, align 8, !dbg !3574
  tail call void @llvm.dbg.value(metadata double %27, i64 0, metadata !1149, metadata !2922), !dbg !3552
  %28 = getelementptr inbounds %"struct.pov::Object_Struct"* %Object, i64 1, i32 1, !dbg !3575
  %29 = load i32* %28, align 4, !dbg !3575, !tbaa !1677
  switch i32 %29, label %79 [
    i32 1, label %30
    i32 2, label %46
  ], !dbg !3576

; <label>:30                                      ; preds = %7
  %31 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 8, !dbg !3577
  %32 = load double* %31, align 8, !dbg !3577, !tbaa !3482
  %33 = fmul double %19, 3.000000e+00, !dbg !3579
  %34 = fmul double %33, %32, !dbg !3580
  %35 = fmul double %23, 2.000000e+00, !dbg !3581
  %36 = fadd double %35, %34, !dbg !3582
  %37 = fmul double %32, %36, !dbg !3583
  %38 = fadd double %27, %37, !dbg !3584
  store double %38, double* %1, align 16, !dbg !3585, !tbaa !1780
  store double 0.000000e+00, double* %2, align 8, !dbg !3586, !tbaa !1780
  %39 = fmul double %17, 3.000000e+00, !dbg !3587
  %40 = fmul double %39, %32, !dbg !3588
  %41 = fmul double %21, 2.000000e+00, !dbg !3589
  %42 = fadd double %41, %40, !dbg !3590
  %43 = fmul double %32, %42, !dbg !3591
  %44 = fadd double %25, %43, !dbg !3592
  %45 = fsub double -0.000000e+00, %44, !dbg !3593
  store double %45, double* %3, align 16, !dbg !3594, !tbaa !1780
  br label %81, !dbg !3595

; <label>:46                                      ; preds = %7
  %47 = getelementptr inbounds [3 x double]* %P, i64 0, i64 0, !dbg !3596
  %48 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 1, i64 0, !dbg !3597
  %49 = getelementptr inbounds %"struct.pov::Object_Struct"* %Object, i64 0, i32 10, !dbg !3598
  %50 = load %"struct.pov::Transform_Struct"** %49, align 8, !dbg !3598, !tbaa !1664
  call void @_ZN3pov14MInvTransPointEPdS0_PNS_16Transform_StructE(double* %47, double* %48, %"struct.pov::Transform_Struct"* %50) #6, !dbg !3599
  %51 = getelementptr inbounds [3 x double]* %P, i64 0, i64 1, !dbg !3600
  %52 = load double* %51, align 8, !dbg !3600, !tbaa !1780
  %53 = call double @fabs(double %52) #7, !dbg !3602
  %54 = fcmp ogt double %53, 1.000000e-07, !dbg !3603
  br i1 %54, label %55, label %81, !dbg !3604

; <label>:55                                      ; preds = %46
  %56 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 8, !dbg !3605
  %57 = load double* %56, align 8, !dbg !3605, !tbaa !3482
  %58 = fmul double %19, 3.000000e+00, !dbg !3607
  %59 = fmul double %58, %57, !dbg !3608
  %60 = fmul double %23, 2.000000e+00, !dbg !3609
  %61 = fadd double %60, %59, !dbg !3610
  %62 = fmul double %57, %61, !dbg !3611
  %63 = fadd double %27, %62, !dbg !3612
  store double %63, double* %1, align 16, !dbg !3613, !tbaa !1780
  %64 = fmul double %17, 3.000000e+00, !dbg !3614
  %65 = fmul double %64, %57, !dbg !3615
  %66 = fmul double %21, 2.000000e+00, !dbg !3616
  %67 = fadd double %66, %65, !dbg !3617
  %68 = fmul double %57, %67, !dbg !3618
  %69 = fadd double %25, %68, !dbg !3619
  %70 = fsub double -0.000000e+00, %69, !dbg !3620
  store double %70, double* %3, align 16, !dbg !3621, !tbaa !1780
  %71 = load double* %47, align 16, !dbg !3622, !tbaa !1780
  %72 = fmul double %71, %63, !dbg !3623
  %73 = getelementptr inbounds [3 x double]* %P, i64 0, i64 2, !dbg !3624
  %74 = load double* %73, align 16, !dbg !3624, !tbaa !1780
  %75 = fmul double %74, %70, !dbg !3625
  %76 = fadd double %72, %75, !dbg !3626
  %77 = fsub double -0.000000e+00, %76, !dbg !3627
  %78 = fdiv double %77, %52, !dbg !3628
  store double %78, double* %2, align 8, !dbg !3629, !tbaa !1780
  br label %81, !dbg !3630

; <label>:79                                      ; preds = %7
  %80 = tail call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([38 x i8]* @.str9, i64 0, i64 0)) #6, !dbg !3631
  br label %81, !dbg !3632

; <label>:81                                      ; preds = %30, %79, %55, %46, %0
  %82 = getelementptr inbounds %"struct.pov::Object_Struct"* %Object, i64 0, i32 10, !dbg !3633
  %83 = load %"struct.pov::Transform_Struct"** %82, align 8, !dbg !3633, !tbaa !1664
  call void @_ZN3pov12MTransNormalEPdS0_PNS_16Transform_StructE(double* %Result, double* %1, %"struct.pov::Transform_Struct"* %83) #6, !dbg !3634
  call void @llvm.dbg.value(metadata double* %Result, i64 0, metadata !1164, metadata !1629) #5, !dbg !3635
  call void @llvm.dbg.value(metadata double* %Result, i64 0, metadata !1165, metadata !1629) #5, !dbg !3637
  call void @llvm.dbg.value(metadata double* %Result, i64 0, metadata !1069, metadata !1629) #5, !dbg !3638
  %84 = bitcast double* %Result to <2 x double>*, !dbg !3640
  %85 = load <2 x double>* %84, align 8, !dbg !3640, !tbaa !1780
  %86 = extractelement <2 x double> %85, i32 0, !dbg !3641
  %87 = fmul double %86, %86, !dbg !3641
  %88 = extractelement <2 x double> %85, i32 1, !dbg !3642
  %89 = fmul double %88, %88, !dbg !3642
  %90 = fadd double %87, %89, !dbg !3643
  %91 = getelementptr inbounds double* %Result, i64 2, !dbg !3644
  %92 = load double* %91, align 8, !dbg !3644, !tbaa !1780
  %93 = fmul double %92, %92, !dbg !3645
  %94 = fadd double %90, %93, !dbg !3646
  %95 = call double @sqrt(double %94) #7, !dbg !3647
  call void @llvm.dbg.value(metadata double %95, i64 0, metadata !1068, metadata !1629) #5, !dbg !3648
  call void @llvm.dbg.value(metadata double %95, i64 0, metadata !1166, metadata !1629) #5, !dbg !3649
  call void @llvm.dbg.value(metadata double %95, i64 0, metadata !1166, metadata !1629) #5, !dbg !3649
  call void @llvm.dbg.value(metadata double* %Result, i64 0, metadata !1171, metadata !1629) #5, !dbg !3650
  call void @llvm.dbg.value(metadata double* %Result, i64 0, metadata !1172, metadata !1629) #5, !dbg !3652
  call void @llvm.dbg.value(metadata double %95, i64 0, metadata !1173, metadata !1629) #5, !dbg !3653
  %96 = fdiv double 1.000000e+00, %95, !dbg !3654
  call void @llvm.dbg.value(metadata double %96, i64 0, metadata !1174, metadata !1629) #5, !dbg !3655
  %97 = insertelement <2 x double> undef, double %96, i32 0, !dbg !3656
  %98 = insertelement <2 x double> %97, double %96, i32 1, !dbg !3656
  %99 = fmul <2 x double> %98, %85, !dbg !3656
  %100 = bitcast double* %Result to <2 x double>*, !dbg !3657
  store <2 x double> %99, <2 x double>* %100, align 8, !dbg !3657, !tbaa !1780
  %101 = fmul double %96, %92, !dbg !3658
  store double %101, double* %91, align 8, !dbg !3659, !tbaa !1780
  ret void, !dbg !3660
}
