define %"struct.pov::Media_Struct"* @_ZN3pov10Copy_MediaEPNS_12Media_StructE(%"struct.pov::Media_Struct"* %Old) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Struct"* %Old}, i64 0, metadata !1095), !dbg !2538
  tail call void @llvm.dbg.value(metadata !2539, i64 0, metadata !1098), !dbg !2540
  tail call void @llvm.dbg.value(metadata !2539, i64 0, metadata !1099), !dbg !2540
  %cmp = icmp eq %"struct.pov::Media_Struct"* %Old, null, !dbg !2541
  br i1 %cmp, label %if.end29, label %for.body, !dbg !2541

for.body:                                         ; preds = %entry, %if.end25
  %Local_Media.055 = phi %"struct.pov::Media_Struct"* [ %10, %if.end25 ], [ %Old, %entry ]
  %Previous.054 = phi %"struct.pov::Media_Struct"* [ %call, %if.end25 ], [ null, %entry ]
  %First.053 = phi %"struct.pov::Media_Struct"* [ %call.First.0, %if.end25 ], [ null, %entry ]
  %call = tail call %"struct.pov::Media_Struct"* @_ZN3pov12Create_MediaEv() #7, !dbg !2542
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Struct"* %call}, i64 0, metadata !1097), !dbg !2542
  %0 = bitcast %"struct.pov::Media_Struct"* %call to i8*, !dbg !2546
  %1 = bitcast %"struct.pov::Media_Struct"* %Local_Media.055 to i8*, !dbg !2546
  tail call void @llvm.memcpy.p0i8.p0i8.i64(i8* %0, i8* %1, i64 216, i32 8, i1 false), !dbg !2546, !tbaa.struct !2547
  %Sample_Threshold = getelementptr inbounds %"struct.pov::Media_Struct"* %Local_Media.055, i64 0, i32 20, !dbg !2548
  %2 = load double** %Sample_Threshold, align 8, !dbg !2548, !tbaa !1570
  %cmp2 = icmp eq double* %2, null, !dbg !2548
  br i1 %cmp2, label %if.end17, label %if.then3, !dbg !2548

if.then3:                                         ; preds = %for.body
  %Intervals = getelementptr inbounds %"struct.pov::Media_Struct"* %call, i64 0, i32 1, !dbg !2549
  %3 = load i32* %Intervals, align 4, !dbg !2549, !tbaa !1580
  %cmp4 = icmp sgt i32 %3, 0, !dbg !2549
  br i1 %cmp4, label %if.then5, label %if.end17, !dbg !2549

if.then5:                                         ; preds = %if.then3
  %conv = sext i32 %3 to i64, !dbg !2551
  %mul = shl nsw i64 %conv, 3, !dbg !2551
  %call7 = tail call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %mul, i8* getelementptr inbounds ([54 x i8]* @.str, i64 0, i64 0), i32 2298, i8* getelementptr inbounds ([22 x i8]* @.str2, i64 0, i64 0)) #7, !dbg !2551
  %4 = bitcast i8* %call7 to double*, !dbg !2551
  %Sample_Threshold8 = getelementptr inbounds %"struct.pov::Media_Struct"* %call, i64 0, i32 20, !dbg !2551
  store double* %4, double** %Sample_Threshold8, align 8, !dbg !2551, !tbaa !1570
  tail call void @llvm.dbg.value(metadata !204, i64 0, metadata !1096), !dbg !2553
  %5 = load i32* %Intervals, align 4, !dbg !2553, !tbaa !1580
  %cmp1150 = icmp sgt i32 %5, 0, !dbg !2553
  br i1 %cmp1150, label %for.body12.lr.ph, label %if.end17, !dbg !2553

for.body12.lr.ph:                                 ; preds = %if.then5
  %6 = load double** %Sample_Threshold, align 8, !dbg !2555, !tbaa !1570
  br label %for.body12, !dbg !2553

for.body12:                                       ; preds = %for.body12.lr.ph, %for.body12
  %indvars.iv = phi i64 [ 0, %for.body12.lr.ph ], [ %indvars.iv.next, %for.body12 ]
  %arrayidx = getelementptr inbounds double* %6, i64 %indvars.iv, !dbg !2555
  %7 = load double* %arrayidx, align 8, !dbg !2555, !tbaa !1601
  %arrayidx16 = getelementptr inbounds double* %4, i64 %indvars.iv, !dbg !2555
  store double %7, double* %arrayidx16, align 8, !dbg !2555, !tbaa !1601
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !2553
  %8 = trunc i64 %indvars.iv.next to i32, !dbg !2553
  %cmp11 = icmp slt i32 %8, %5, !dbg !2553
  br i1 %cmp11, label %for.body12, label %if.end17, !dbg !2553

if.end17:                                         ; preds = %if.then5, %for.body12, %for.body, %if.then3
  %Density = getelementptr inbounds %"struct.pov::Media_Struct"* %Local_Media.055, i64 0, i32 24, !dbg !2557
  %9 = load %"struct.pov::Pigment_Struct"** %Density, align 8, !dbg !2557, !tbaa !1570
  %call18 = tail call %"struct.pov::Pigment_Struct"* @_ZN3pov12Copy_PigmentEPNS_14Pigment_StructE(%"struct.pov::Pigment_Struct"* %9) #7, !dbg !2557
  %Density19 = getelementptr inbounds %"struct.pov::Media_Struct"* %call, i64 0, i32 24, !dbg !2557
  store %"struct.pov::Pigment_Struct"* %call18, %"struct.pov::Pigment_Struct"** %Density19, align 8, !dbg !2557, !tbaa !1570
  %cmp20 = icmp eq %"struct.pov::Media_Struct"* %First.053, null, !dbg !2558
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Struct"* %call}, i64 0, metadata !1098), !dbg !2559
  %call.First.0 = select i1 %cmp20, %"struct.pov::Media_Struct"* %call, %"struct.pov::Media_Struct"* %First.053, !dbg !2558
  %cmp23 = icmp eq %"struct.pov::Media_Struct"* %Previous.054, null, !dbg !2561
  br i1 %cmp23, label %if.end25, label %if.then24, !dbg !2561

if.then24:                                        ; preds = %if.end17
  %Next_Media = getelementptr inbounds %"struct.pov::Media_Struct"* %Previous.054, i64 0, i32 25, !dbg !2562
  store %"struct.pov::Media_Struct"* %call, %"struct.pov::Media_Struct"** %Next_Media, align 8, !dbg !2562, !tbaa !1570
  br label %if.end25, !dbg !2564

if.end25:                                         ; preds = %if.end17, %if.then24
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Struct"* %call}, i64 0, metadata !1099), !dbg !2565
  %Next_Media27 = getelementptr inbounds %"struct.pov::Media_Struct"* %Local_Media.055, i64 0, i32 25, !dbg !2566
  %10 = load %"struct.pov::Media_Struct"** %Next_Media27, align 8, !dbg !2566, !tbaa !1570
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Struct"* %10}, i64 0, metadata !1100), !dbg !2566
  %cmp1 = icmp eq %"struct.pov::Media_Struct"* %10, null, !dbg !2566
  br i1 %cmp1, label %if.end29, label %for.body, !dbg !2566

if.end29:                                         ; preds = %if.end25, %entry
  %First.2 = phi %"struct.pov::Media_Struct"* [ null, %entry ], [ %call.First.0, %if.end25 ]
  ret %"struct.pov::Media_Struct"* %First.2, !dbg !2567
}
