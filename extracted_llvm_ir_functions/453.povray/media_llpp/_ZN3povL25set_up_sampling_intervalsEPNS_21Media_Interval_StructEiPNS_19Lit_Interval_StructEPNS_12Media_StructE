define internal fastcc i32 @_ZN3povL25set_up_sampling_intervalsEPNS_21Media_Interval_StructEiPNS_19Lit_Interval_StructEPNS_12Media_StructE(%"struct.pov::Media_Interval_Struct"* nocapture %interval, i32 %number, %"struct.pov::Lit_Interval_Struct"* nocapture %list, %"struct.pov::Media_Struct"* nocapture %media) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Interval_Struct"* %interval}, i64 0, metadata !1138), !dbg !1695
  tail call void @llvm.dbg.value(metadata !{i32 %number}, i64 0, metadata !1139), !dbg !1695
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Lit_Interval_Struct"* %list}, i64 0, metadata !1140), !dbg !1695
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Struct"* %media}, i64 0, metadata !1141), !dbg !1695
  %Intervals = getelementptr inbounds %"struct.pov::Media_Struct"* %media, i64 0, i32 1, !dbg !1696
  %0 = load i32* %Intervals, align 4, !dbg !1696, !tbaa !1580
  %cmp = icmp slt i32 %0, %number, !dbg !1696
  %number. = select i1 %cmp, i32 %number, i32 %0, !dbg !1697
  switch i32 %number, label %for.cond43.preheader [
    i32 0, label %land.lhs.true
    i32 1, label %if.then14
  ], !dbg !1698

land.lhs.true:                                    ; preds = %entry
  %is_constant = getelementptr inbounds %"struct.pov::Media_Struct"* %media, i64 0, i32 6, !dbg !1698
  %1 = load i32* %is_constant, align 4, !dbg !1698, !tbaa !1580
  %tobool = icmp eq i32 %1, 0, !dbg !1698
  br i1 %tobool, label %return, label %if.then4, !dbg !1698

for.cond43.preheader:                             ; preds = %entry
  %cmp44236 = icmp sgt i32 %number, 0, !dbg !1699
  br i1 %cmp44236, label %for.body45.lr.ph, label %return, !dbg !1699

for.body45.lr.ph:                                 ; preds = %for.cond43.preheader
  %Ratio = getelementptr inbounds %"struct.pov::Media_Struct"* %media, i64 0, i32 17, !dbg !1702
  %2 = load double* %Ratio, align 8, !dbg !1702, !tbaa !1601
  %sub = fsub double 1.000000e+00, %2, !dbg !1702
  br label %for.body45, !dbg !1699

if.then4:                                         ; preds = %land.lhs.true
  tail call void @llvm.dbg.value(metadata !1597, i64 0, metadata !1148), !dbg !1704
  %ds = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %list, i64 0, i32 3, !dbg !1706
  %3 = load double* %ds, align 8, !dbg !1706, !tbaa !1601
  tail call void @llvm.dbg.value(metadata !{double %3}, i64 0, metadata !1149), !dbg !1706
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Interval_Struct"* %interval}, i64 0, metadata !1152), !dbg !1707
  %lit = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %interval, i64 0, i32 0, !dbg !1708
  store i32 1, i32* %lit, align 4, !dbg !1708, !tbaa !1580
  %samples = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %interval, i64 0, i32 1, !dbg !1709
  store i32 0, i32* %samples, align 4, !dbg !1709, !tbaa !1580
  %s0 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %list, i64 0, i32 1, !dbg !1710
  %4 = load double* %s0, align 8, !dbg !1710, !tbaa !1601
  %s06 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %interval, i64 0, i32 2, !dbg !1710
  store double %4, double* %s06, align 8, !dbg !1710, !tbaa !1601
  %5 = load double* %s0, align 8, !dbg !1711, !tbaa !1601
  %add = fadd double %3, %5, !dbg !1711
  %s1 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %interval, i64 0, i32 3, !dbg !1711
  store double %add, double* %s1, align 8, !dbg !1711, !tbaa !1601
  %ds9 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %interval, i64 0, i32 4, !dbg !1712
  store double %3, double* %ds9, align 8, !dbg !1712, !tbaa !1601
  %arraydecay = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %interval, i64 0, i32 5, i64 0, !dbg !1713
  tail call void @llvm.dbg.value(metadata !{float* %arraydecay}, i64 0, metadata !1714), !dbg !1715
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1717), !dbg !1715
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1718), !dbg !1715
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1719), !dbg !1715
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1720), !dbg !1722
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1723), !dbg !1722
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1724), !dbg !1722
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1725), !dbg !1727
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1728), !dbg !1727
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1729), !dbg !1727
  %6 = bitcast float* %arraydecay to i8*, !dbg !1730
  call void @llvm.memset.p0i8.i64(i8* %6, i8 0, i64 60, i32 4, i1 false), !dbg !1731
  br label %return, !dbg !1730

if.then14:                                        ; preds = %entry
  %ds16 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %list, i64 0, i32 3, !dbg !1733
  %7 = load double* %ds16, align 8, !dbg !1733, !tbaa !1601
  %conv = sitofp i32 %number. to double, !dbg !1733
  %div = fdiv double %7, %conv, !dbg !1733
  tail call void @llvm.dbg.value(metadata !{double %div}, i64 0, metadata !1149), !dbg !1733
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Interval_Struct"* %interval}, i64 0, metadata !1152), !dbg !1735
  tail call void @llvm.dbg.value(metadata !204, i64 0, metadata !1142), !dbg !1736
  %cmp17242 = icmp sgt i32 %number., 0, !dbg !1736
  br i1 %cmp17242, label %for.body.lr.ph, label %return, !dbg !1736

for.body.lr.ph:                                   ; preds = %if.then14
  %s021 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %list, i64 0, i32 1, !dbg !1738
  br label %for.body, !dbg !1736

for.body:                                         ; preds = %for.body.lr.ph, %for.body
  %curr.0244 = phi %"struct.pov::Media_Interval_Struct"* [ %interval, %for.body.lr.ph ], [ %incdec.ptr, %for.body ]
  %i.0243 = phi i32 [ 0, %for.body.lr.ph ], [ %add27, %for.body ]
  %lit18 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.0244, i64 0, i32 0, !dbg !1740
  store i32 1, i32* %lit18, align 4, !dbg !1740, !tbaa !1580
  %samples19 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.0244, i64 0, i32 1, !dbg !1741
  store i32 0, i32* %samples19, align 4, !dbg !1741, !tbaa !1580
  %8 = load double* %s021, align 8, !dbg !1738, !tbaa !1601
  %conv22 = sitofp i32 %i.0243 to double, !dbg !1738
  %mul = fmul double %div, %conv22, !dbg !1738
  %add23 = fadd double %mul, %8, !dbg !1738
  %s024 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.0244, i64 0, i32 2, !dbg !1738
  store double %add23, double* %s024, align 8, !dbg !1738, !tbaa !1601
  %9 = load double* %s021, align 8, !dbg !1742, !tbaa !1601
  %add27 = add nsw i32 %i.0243, 1, !dbg !1742
  %conv28 = sitofp i32 %add27 to double, !dbg !1742
  %mul29 = fmul double %div, %conv28, !dbg !1742
  %add30 = fadd double %mul29, %9, !dbg !1742
  %s131 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.0244, i64 0, i32 3, !dbg !1742
  store double %add30, double* %s131, align 8, !dbg !1742, !tbaa !1601
  %ds32 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.0244, i64 0, i32 4, !dbg !1743
  store double %div, double* %ds32, align 8, !dbg !1743, !tbaa !1601
  %arraydecay34 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.0244, i64 0, i32 5, i64 0, !dbg !1744
  tail call void @llvm.dbg.value(metadata !{float* %arraydecay34}, i64 0, metadata !1745), !dbg !1746
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1747), !dbg !1746
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1748), !dbg !1746
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1749), !dbg !1746
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1750), !dbg !1752
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1753), !dbg !1752
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1754), !dbg !1752
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1755), !dbg !1757
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1758), !dbg !1757
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1759), !dbg !1757
  %incdec.ptr = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.0244, i64 1, !dbg !1760
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Interval_Struct"* %incdec.ptr}, i64 0, metadata !1152), !dbg !1760
  tail call void @llvm.dbg.value(metadata !{i32 %add27}, i64 0, metadata !1142), !dbg !1736
  %cmp17 = icmp slt i32 %add27, %number., !dbg !1736
  %10 = bitcast float* %arraydecay34 to i8*, !dbg !1736
  call void @llvm.memset.p0i8.i64(i8* %10, i8 0, i64 60, i32 4, i1 false), !dbg !1761
  br i1 %cmp17, label %for.body, label %return, !dbg !1736

for.cond54.preheader:                             ; preds = %for.body45
  br i1 %cmp44236, label %for.body56.lr.ph, label %return, !dbg !1762

for.body56.lr.ph:                                 ; preds = %for.cond54.preheader
  %Ratio60 = getelementptr inbounds %"struct.pov::Media_Struct"* %media, i64 0, i32 17, !dbg !1764
  %conv67 = sitofp i32 %number. to double, !dbg !1766
  %sub71 = sub i32 1, %number, !dbg !1767
  br label %for.body56, !dbg !1762

for.body45:                                       ; preds = %for.body45, %for.body45.lr.ph
  %entry1.0239 = phi %"struct.pov::Lit_Interval_Struct"* [ %list, %for.body45.lr.ph ], [ %incdec.ptr50, %for.body45 ]
  %sum.0238 = phi double [ 0.000000e+00, %for.body45.lr.ph ], [ %add49, %for.body45 ]
  %i.1237 = phi i32 [ 0, %for.body45.lr.ph ], [ %inc52, %for.body45 ]
  %lit46 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %entry1.0239, i64 0, i32 0, !dbg !1702
  %11 = load i32* %lit46, align 4, !dbg !1702, !tbaa !1580
  %tobool47 = icmp eq i32 %11, 0, !dbg !1702
  %sub. = select i1 %tobool47, double %sub, double %2, !dbg !1702
  %add49 = fadd double %sum.0238, %sub., !dbg !1702
  tail call void @llvm.dbg.value(metadata !{double %add49}, i64 0, metadata !1150), !dbg !1702
  %incdec.ptr50 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %entry1.0239, i64 1, !dbg !1768
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Lit_Interval_Struct"* %incdec.ptr50}, i64 0, metadata !1153), !dbg !1768
  %inc52 = add nsw i32 %i.1237, 1, !dbg !1699
  tail call void @llvm.dbg.value(metadata !{i32 %inc52}, i64 0, metadata !1142), !dbg !1699
  %exitcond247 = icmp eq i32 %inc52, %number, !dbg !1699
  br i1 %exitcond247, label %for.cond54.preheader, label %for.body45, !dbg !1699

for.body56:                                       ; preds = %for.end107.for.body56_crit_edge, %for.body56.lr.ph
  %entry1.1235 = phi %"struct.pov::Lit_Interval_Struct"* [ %list, %for.body56.lr.ph ], [ %incdec.ptr109, %for.end107.for.body56_crit_edge ]
  %curr.1234 = phi %"struct.pov::Media_Interval_Struct"* [ %interval, %for.body56.lr.ph ], [ %curr.2.lcssa, %for.end107.for.body56_crit_edge ]
  %remaining.0233 = phi i32 [ %number., %for.body56.lr.ph ], [ %sub108, %for.end107.for.body56_crit_edge ]
  %i.2232 = phi i32 [ 0, %for.body56.lr.ph ], [ %inc111, %for.end107.for.body56_crit_edge ]
  %lit57 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %entry1.1235, i64 0, i32 0, !dbg !1764
  %12 = load i32* %lit57, align 4, !dbg !1764, !tbaa !1580
  %tobool58 = icmp eq i32 %12, 0, !dbg !1764
  %13 = load double* %Ratio60, align 8, !dbg !1764, !tbaa !1601
  br i1 %tobool58, label %cond.false61, label %cond.end64, !dbg !1764

cond.false61:                                     ; preds = %for.body56
  %sub63 = fsub double 1.000000e+00, %13, !dbg !1764
  br label %cond.end64, !dbg !1764

cond.end64:                                       ; preds = %for.body56, %cond.false61
  %cond65 = phi double [ %sub63, %cond.false61 ], [ %13, %for.body56 ], !dbg !1764
  tail call void @llvm.dbg.value(metadata !{double %cond65}, i64 0, metadata !1151), !dbg !1764
  %div66 = fdiv double %cond65, %add49, !dbg !1766
  %mul68 = fmul double %conv67, %div66, !dbg !1766
  %conv69 = fptosi double %mul68 to i32, !dbg !1766
  %add70 = add nsw i32 %conv69, 1, !dbg !1766
  tail call void @llvm.dbg.value(metadata !{i32 %add70}, i64 0, metadata !1145), !dbg !1766
  %add72 = add i32 %sub71, %i.2232, !dbg !1767
  %add73 = add i32 %add72, %remaining.0233, !dbg !1767
  tail call void @llvm.dbg.value(metadata !{i32 %add73}, i64 0, metadata !1146), !dbg !1767
  %cmp74 = icmp slt i32 %conv69, %add73, !dbg !1769
  tail call void @llvm.dbg.value(metadata !{i32 %add73}, i64 0, metadata !1145), !dbg !1770
  %add70.add73 = select i1 %cmp74, i32 %add70, i32 %add73, !dbg !1769
  %ds77 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %entry1.1235, i64 0, i32 3, !dbg !1772
  %14 = load double* %ds77, align 8, !dbg !1772, !tbaa !1601
  %conv78 = sitofp i32 %add70.add73 to double, !dbg !1772
  %div79 = fdiv double %14, %conv78, !dbg !1772
  tail call void @llvm.dbg.value(metadata !{double %div79}, i64 0, metadata !1149), !dbg !1772
  tail call void @llvm.dbg.value(metadata !204, i64 0, metadata !1144), !dbg !1773
  %cmp81228 = icmp sgt i32 %add70.add73, 0, !dbg !1773
  br i1 %cmp81228, label %for.body82.lr.ph, label %for.end107, !dbg !1773

for.body82.lr.ph:                                 ; preds = %cond.end64
  %s086 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %entry1.1235, i64 0, i32 1, !dbg !1775
  %15 = add i32 %add70.add73, -1, !dbg !1773
  %16 = zext i32 %15 to i64
  br label %for.body82, !dbg !1773

for.body82:                                       ; preds = %for.body82.for.body82_crit_edge, %for.body82.lr.ph
  %17 = phi i32 [ %12, %for.body82.lr.ph ], [ %.pre, %for.body82.for.body82_crit_edge ]
  %curr.2230 = phi %"struct.pov::Media_Interval_Struct"* [ %curr.1234, %for.body82.lr.ph ], [ %incdec.ptr104, %for.body82.for.body82_crit_edge ]
  %j.0229 = phi i32 [ 0, %for.body82.lr.ph ], [ %add92, %for.body82.for.body82_crit_edge ]
  %lit84 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.2230, i64 0, i32 0, !dbg !1777
  store i32 %17, i32* %lit84, align 4, !dbg !1777, !tbaa !1580
  %samples85 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.2230, i64 0, i32 1, !dbg !1778
  store i32 0, i32* %samples85, align 4, !dbg !1778, !tbaa !1580
  %18 = load double* %s086, align 8, !dbg !1775, !tbaa !1601
  %conv87 = sitofp i32 %j.0229 to double, !dbg !1775
  %mul88 = fmul double %div79, %conv87, !dbg !1775
  %add89 = fadd double %mul88, %18, !dbg !1775
  %s090 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.2230, i64 0, i32 2, !dbg !1775
  store double %add89, double* %s090, align 8, !dbg !1775, !tbaa !1601
  %19 = load double* %s086, align 8, !dbg !1779, !tbaa !1601
  %add92 = add nsw i32 %j.0229, 1, !dbg !1779
  %conv93 = sitofp i32 %add92 to double, !dbg !1779
  %mul94 = fmul double %div79, %conv93, !dbg !1779
  %add95 = fadd double %mul94, %19, !dbg !1779
  %s196 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.2230, i64 0, i32 3, !dbg !1779
  store double %add95, double* %s196, align 8, !dbg !1779, !tbaa !1601
  %ds97 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.2230, i64 0, i32 4, !dbg !1780
  store double %div79, double* %ds97, align 8, !dbg !1780, !tbaa !1601
  %arraydecay99 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.2230, i64 0, i32 5, i64 0, !dbg !1781
  tail call void @llvm.dbg.value(metadata !{float* %arraydecay99}, i64 0, metadata !1782), !dbg !1783
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1784), !dbg !1783
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1785), !dbg !1783
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1786), !dbg !1783
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1787), !dbg !1789
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1790), !dbg !1789
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1791), !dbg !1789
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1792), !dbg !1794
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1795), !dbg !1794
  tail call void @llvm.dbg.value(metadata !1716, i64 0, metadata !1796), !dbg !1794
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Interval_Struct"* %scevgep245}, i64 0, metadata !1152), !dbg !1797
  tail call void @llvm.dbg.value(metadata !{i32 %add92}, i64 0, metadata !1144), !dbg !1773
  %exitcond = icmp eq i32 %add92, %add70.add73, !dbg !1773
  %20 = bitcast float* %arraydecay99 to i8*, !dbg !1773
  call void @llvm.memset.p0i8.i64(i8* %20, i8 0, i64 60, i32 4, i1 false), !dbg !1798
  br i1 %exitcond, label %for.cond80.for.end107_crit_edge, label %for.body82.for.body82_crit_edge, !dbg !1773

for.body82.for.body82_crit_edge:                  ; preds = %for.body82
  %incdec.ptr104 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.2230, i64 1, !dbg !1797
  %.pre = load i32* %lit57, align 4, !dbg !1777, !tbaa !1580
  br label %for.body82, !dbg !1773

for.cond80.for.end107_crit_edge:                  ; preds = %for.body82
  %scevgep.sum = add i64 %16, 1
  %scevgep245 = getelementptr %"struct.pov::Media_Interval_Struct"* %curr.1234, i64 %scevgep.sum
  br label %for.end107, !dbg !1773

for.end107:                                       ; preds = %for.cond80.for.end107_crit_edge, %cond.end64
  %curr.2.lcssa = phi %"struct.pov::Media_Interval_Struct"* [ %scevgep245, %for.cond80.for.end107_crit_edge ], [ %curr.1234, %cond.end64 ]
  tail call void @llvm.dbg.value(metadata !{i32 %sub108}, i64 0, metadata !1147), !dbg !1799
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Lit_Interval_Struct"* %incdec.ptr109}, i64 0, metadata !1153), !dbg !1800
  %inc111 = add nsw i32 %i.2232, 1, !dbg !1762
  tail call void @llvm.dbg.value(metadata !{i32 %inc111}, i64 0, metadata !1142), !dbg !1762
  %exitcond246 = icmp eq i32 %inc111, %number, !dbg !1762
  br i1 %exitcond246, label %return, label %for.end107.for.body56_crit_edge, !dbg !1762

for.end107.for.body56_crit_edge:                  ; preds = %for.end107
  %incdec.ptr109 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %entry1.1235, i64 1, !dbg !1800
  %sub108 = sub nsw i32 %remaining.0233, %add70.add73, !dbg !1799
  br label %for.body56, !dbg !1762

return:                                           ; preds = %land.lhs.true, %for.cond43.preheader, %if.then14, %for.body, %for.cond54.preheader, %for.end107, %if.then4
  %retval.0 = phi i32 [ 1, %if.then4 ], [ %number., %for.end107 ], [ %number., %for.cond54.preheader ], [ %number., %for.body ], [ %number., %if.then14 ], [ %number., %for.cond43.preheader ], [ %number., %land.lhs.true ]
  ret i32 %retval.0, !dbg !1801
}
