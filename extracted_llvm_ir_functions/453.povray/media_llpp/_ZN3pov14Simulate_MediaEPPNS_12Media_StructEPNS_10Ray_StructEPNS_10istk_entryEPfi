define void @_ZN3pov14Simulate_MediaEPPNS_12Media_StructEPNS_10Ray_StructEPNS_10istk_entryEPfi(%"struct.pov::Media_Struct"** readonly %Media_List, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::istk_entry"* nocapture readonly %Inter, float* nocapture %Colour, i32 %light_ray) #0 {
  %C0 = alloca [5 x float], align 16
  %C1 = alloca [5 x float], align 16
  %Result = alloca [5 x float], align 16
  %ODResult = alloca [5 x float], align 16
  %od0 = alloca [5 x float], align 16
  %od1 = alloca [5 x float], align 16
  tail call void @llvm.dbg.value(metadata %"struct.pov::Media_Struct"** %Media_List, i64 0, metadata !1046, metadata !1851), !dbg !2850
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Ray, i64 0, metadata !1047, metadata !1851), !dbg !2851
  tail call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Inter, i64 0, metadata !1048, metadata !1851), !dbg !2852
  tail call void @llvm.dbg.value(metadata float* %Colour, i64 0, metadata !1049, metadata !1851), !dbg !2853
  tail call void @llvm.dbg.value(metadata i32 %light_ray, i64 0, metadata !1050, metadata !1851), !dbg !2854
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1057, metadata !1851), !dbg !2855
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1058, metadata !1851), !dbg !2856
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1059, metadata !1851), !dbg !2857
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1060, metadata !1851), !dbg !2858
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1322, metadata !1851), !dbg !2860
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.declare(metadata [5 x float]* %C0, metadata !1070, metadata !1851), !dbg !2864
  tail call void @llvm.dbg.declare(metadata [5 x float]* %C1, metadata !1071, metadata !1851), !dbg !2865
  tail call void @llvm.dbg.declare(metadata [5 x float]* %Result, metadata !1072, metadata !1851), !dbg !2866
  tail call void @llvm.dbg.declare(metadata [5 x float]* %ODResult, metadata !1073, metadata !1851), !dbg !2867
  tail call void @llvm.dbg.declare(metadata [5 x float]* %od0, metadata !1074, metadata !1851), !dbg !2868
  tail call void @llvm.dbg.declare(metadata [5 x float]* %od1, metadata !1075, metadata !1851), !dbg !2869
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1323, metadata !1851), !dbg !2871
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1078, metadata !1851), !dbg !2870
  %1 = load i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), align 8, !dbg !2872, !tbaa !2873
  tail call void @llvm.dbg.value(metadata i32 %1, i64 0, metadata !1079, metadata !1851), !dbg !2875
  %2 = load i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !2876, !tbaa !1862
  %3 = add nsw i64 %2, 1, !dbg !2876
  store i64 %3, i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !2876, !tbaa !1862
  %4 = icmp eq %"struct.pov::Media_Struct"** %Media_List, null, !dbg !2877
  br i1 %4, label %8, label %5, !dbg !2879

; <label>:5                                       ; preds = %0
  %6 = load %"struct.pov::Media_Struct"** %Media_List, align 8, !dbg !2880, !tbaa !1870
  %7 = icmp eq %"struct.pov::Media_Struct"* %6, null, !dbg !2881
  br i1 %7, label %8, label %.preheader21, !dbg !2882

; <label>:8                                       ; preds = %5, %0
  store i64 %2, i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !2883, !tbaa !1862
  br label %677, !dbg !2885

.preheader21:                                     ; preds = %5, %._crit_edge64
  %9 = phi %"struct.pov::Media_Struct"* [ %31, %._crit_edge64 ], [ %6, %5 ]
  %all_constant_and_light_ray.073 = phi i32 [ %all_constant_and_light_ray.1.lcssa, %._crit_edge64 ], [ %light_ray, %5 ]
  %IMedia.072 = phi %"struct.pov::Media_Struct"* [ %IMedia.1.lcssa, %._crit_edge64 ], [ %6, %5 ]
  %Tmp.071 = phi %"struct.pov::Media_Struct"** [ %30, %._crit_edge64 ], [ %Media_List, %5 ]
  %use_extinction.070 = phi i32 [ %use_extinction.1.lcssa, %._crit_edge64 ], [ 0, %5 ]
  %intervals.069 = phi i32 [ %intervals.1.lcssa, %._crit_edge64 ], [ 0, %5 ]
  %10 = icmp eq %"struct.pov::Media_Struct"* %9, null, !dbg !2886
  br i1 %10, label %._crit_edge64, label %.lr.ph63, !dbg !2892

.lr.ph63:                                         ; preds = %.preheader21, %26
  %all_constant_and_light_ray.162 = phi i32 [ %all_constant_and_light_ray.2, %26 ], [ %all_constant_and_light_ray.073, %.preheader21 ]
  %Local.061 = phi %"struct.pov::Media_Struct"* [ %28, %26 ], [ %9, %.preheader21 ]
  %IMedia.160 = phi %"struct.pov::Media_Struct"* [ %Local.0.IMedia.1, %26 ], [ %IMedia.072, %.preheader21 ]
  %use_extinction.159 = phi i32 [ %16, %26 ], [ %use_extinction.070, %.preheader21 ]
  %intervals.158 = phi i32 [ %.intervals.1, %26 ], [ %intervals.069, %.preheader21 ]
  %11 = getelementptr inbounds %"struct.pov::Media_Struct"* %Local.061, i64 0, i32 1, !dbg !2893
  %12 = load i32* %11, align 4, !dbg !2893, !tbaa !1887
  %13 = icmp sgt i32 %12, %intervals.158, !dbg !2896
  tail call void @llvm.dbg.value(metadata i32 %12, i64 0, metadata !1053, metadata !1851), !dbg !2897
  tail call void @llvm.dbg.value(metadata %"struct.pov::Media_Struct"* %28, i64 0, metadata !1064, metadata !1851), !dbg !2898
  %.intervals.1 = select i1 %13, i32 %12, i32 %intervals.158, !dbg !2899
  %Local.0.IMedia.1 = select i1 %13, %"struct.pov::Media_Struct"* %Local.061, %"struct.pov::Media_Struct"* %IMedia.160, !dbg !2899
  %14 = getelementptr inbounds %"struct.pov::Media_Struct"* %Local.061, i64 0, i32 11, !dbg !2900
  %15 = load i32* %14, align 4, !dbg !2900, !tbaa !1896
  %16 = or i32 %15, %use_extinction.159, !dbg !2901
  tail call void @llvm.dbg.value(metadata i32 %16, i64 0, metadata !1054, metadata !1851), !dbg !2902
  %17 = getelementptr inbounds %"struct.pov::Media_Struct"* %Local.061, i64 0, i32 24, !dbg !2903
  %18 = load %"struct.pov::Pigment_Struct"** %17, align 8, !dbg !2903, !tbaa !2496
  %19 = icmp eq %"struct.pov::Pigment_Struct"* %18, null, !dbg !2905
  br i1 %19, label %26, label %20, !dbg !2906

; <label>:20                                      ; preds = %.lr.ph63
  %21 = getelementptr inbounds %"struct.pov::Pigment_Struct"* %18, i64 0, i32 0, !dbg !2907
  %22 = load i16* %21, align 2, !dbg !2907, !tbaa !2909
  %23 = icmp eq i16 %22, 1, !dbg !2910
  %24 = zext i1 %23 to i32, !dbg !2911
  %25 = and i32 %24, %all_constant_and_light_ray.162, !dbg !2912
  tail call void @llvm.dbg.value(metadata i32 %25, i64 0, metadata !1076, metadata !1851), !dbg !2913
  br label %26, !dbg !2914

; <label>:26                                      ; preds = %.lr.ph63, %20
  %all_constant_and_light_ray.2 = phi i32 [ %25, %20 ], [ %all_constant_and_light_ray.162, %.lr.ph63 ]
  %27 = getelementptr inbounds %"struct.pov::Media_Struct"* %Local.061, i64 0, i32 25, !dbg !2915
  %28 = load %"struct.pov::Media_Struct"** %27, align 8, !dbg !2915, !tbaa !1908
  tail call void @llvm.dbg.value(metadata %"struct.pov::Media_Struct"* %28, i64 0, metadata !1065, metadata !1851), !dbg !2916
  %29 = icmp eq %"struct.pov::Media_Struct"* %28, null, !dbg !2886
  br i1 %29, label %._crit_edge64, label %.lr.ph63, !dbg !2892

._crit_edge64:                                    ; preds = %26, %.preheader21
  %all_constant_and_light_ray.1.lcssa = phi i32 [ %all_constant_and_light_ray.073, %.preheader21 ], [ %all_constant_and_light_ray.2, %26 ]
  %IMedia.1.lcssa = phi %"struct.pov::Media_Struct"* [ %IMedia.072, %.preheader21 ], [ %Local.0.IMedia.1, %26 ]
  %use_extinction.1.lcssa = phi i32 [ %use_extinction.070, %.preheader21 ], [ %16, %26 ]
  %intervals.1.lcssa = phi i32 [ %intervals.069, %.preheader21 ], [ %.intervals.1, %26 ]
  %30 = getelementptr inbounds %"struct.pov::Media_Struct"** %Tmp.071, i64 1, !dbg !2917
  tail call void @llvm.dbg.value(metadata %"struct.pov::Media_Struct"** %30, i64 0, metadata !1063, metadata !1851), !dbg !2918
  %31 = load %"struct.pov::Media_Struct"** %30, align 8, !dbg !2919, !tbaa !1870
  %32 = icmp eq %"struct.pov::Media_Struct"* %31, null, !dbg !2920
  br i1 %32, label %._crit_edge74, label %.preheader21, !dbg !2921

._crit_edge74:                                    ; preds = %._crit_edge64
  %33 = icmp eq i32 %light_ray, 0, !dbg !2922
  %34 = icmp ne i32 %use_extinction.1.lcssa, 0, !dbg !2924
  %or.cond = or i1 %33, %34, !dbg !2925
  br i1 %or.cond, label %36, label %35, !dbg !2925

; <label>:35                                      ; preds = %._crit_edge74
  store i64 %2, i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !2926, !tbaa !1862
  br label %677, !dbg !2928

; <label>:36                                      ; preds = %._crit_edge74
  %37 = icmp ne i32 %all_constant_and_light_ray.1.lcssa, 0, !dbg !2929
  %38 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 5, !dbg !2931
  %39 = load %"struct.pov::Object_Struct"** %38, align 8, !dbg !2931, !tbaa !2933
  %40 = icmp eq %"struct.pov::Object_Struct"* %39, null, !dbg !2934
  br i1 %40, label %46, label %41, !dbg !2935

; <label>:41                                      ; preds = %36
  %42 = getelementptr inbounds %"struct.pov::Object_Struct"* %39, i64 0, i32 13, !dbg !2936
  %43 = load i32* %42, align 4, !dbg !2936, !tbaa !2939
  %44 = and i32 %43, 131072, !dbg !2941
  %45 = icmp eq i32 %44, 0, !dbg !2941
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1079, metadata !1851), !dbg !2875
  %.7 = select i1 %45, i32 %1, i32 0, !dbg !2942
  br label %46, !dbg !2942

; <label>:46                                      ; preds = %41, %36
  %global_light_list_cnt.0 = phi i32 [ %1, %36 ], [ %.7, %41 ]
  %47 = icmp ne i32 %light_ray, 0, !dbg !2943
  %48 = icmp eq i32 %global_light_list_cnt.0, 0, !dbg !2945
  %or.cond3 = or i1 %47, %48, !dbg !2946
  br i1 %or.cond3, label %49, label %67, !dbg !2946

; <label>:49                                      ; preds = %46
  %50 = load i64* @_ZN3pov17MaxMediaPoolDepthE, align 8, !dbg !2947, !tbaa !1862
  %51 = icmp slt i64 %3, %50, !dbg !2950
  br i1 %51, label %54, label %52, !dbg !2951

; <label>:52                                      ; preds = %49
  %53 = shl nsw i64 %50, 1, !dbg !2952
  tail call void @_ZN3pov22ResizeMediaMallocPoolsEl(i64 %53) #7, !dbg !2954
  %.pre = load i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !2955, !tbaa !1862
  br label %54, !dbg !2956

; <label>:54                                      ; preds = %49, %52
  %55 = phi i64 [ %3, %49 ], [ %.pre, %52 ]
  %56 = load %"struct.pov::Lit_Interval_Struct"*** @_ZN3pov20MediaLitIntervalPoolE, align 8, !dbg !2957, !tbaa !1870
  %57 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"** %56, i64 %55, !dbg !2957
  %58 = load %"struct.pov::Lit_Interval_Struct"** %57, align 8, !dbg !2957, !tbaa !1870
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %58, i64 0, metadata !1062, metadata !1851), !dbg !2958
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1055, metadata !1851), !dbg !2959
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1433, metadata !1851), !dbg !2960
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1055, metadata !1851), !dbg !2959
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1055, metadata !1851), !dbg !2959
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1055, metadata !1851), !dbg !2959
  %59 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %58, i64 0, i32 0, !dbg !2962
  store i32 0, i32* %59, align 4, !dbg !2963, !tbaa !1935
  %60 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %58, i64 0, i32 1, !dbg !2964
  store double 0.000000e+00, double* %60, align 8, !dbg !2965, !tbaa !1939
  %61 = bitcast %"struct.pov::istk_entry"* %Inter to i64*, !dbg !2966
  %62 = load i64* %61, align 8, !dbg !2966, !tbaa !1941
  %63 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %58, i64 0, i32 3, !dbg !2967
  %64 = bitcast double* %63 to i64*, !dbg !2968
  store i64 %62, i64* %64, align 8, !dbg !2968, !tbaa !1945
  %65 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %58, i64 0, i32 2, !dbg !2969
  %66 = bitcast double* %65 to i64*, !dbg !2970
  store i64 %62, i64* %66, align 8, !dbg !2970, !tbaa !1948
  br label %67, !dbg !2971

; <label>:67                                      ; preds = %46, %54
  %68 = phi i64 [ %55, %54 ], [ %3, %46 ]
  %Lit_Interval.0 = phi %"struct.pov::Lit_Interval_Struct"* [ %58, %54 ], [ undef, %46 ]
  br i1 %47, label %_ZN3povL16get_lit_intervalEPiPNS_19Lit_Interval_StructEiPNS_17Light_List_StructEPNS_10istk_entryES4_i.exit, label %69, !dbg !2972

; <label>:69                                      ; preds = %67
  %70 = load i64* @_ZN3pov17MaxMediaPoolDepthE, align 8, !dbg !2973, !tbaa !1862
  %71 = icmp slt i64 %68, %70, !dbg !2975
  br i1 %71, label %74, label %72, !dbg !2976

; <label>:72                                      ; preds = %69
  %73 = shl nsw i64 %70, 1, !dbg !2977
  tail call void @_ZN3pov22ResizeMediaMallocPoolsEl(i64 %73) #7, !dbg !2979
  %.pre96 = load i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !2980, !tbaa !1862
  br label %74, !dbg !2981

; <label>:74                                      ; preds = %69, %72
  %75 = phi i64 [ %68, %69 ], [ %.pre96, %72 ]
  %76 = load %"struct.pov::Light_List_Struct"*** @_ZN3pov18MediaLightListPoolE, align 8, !dbg !2982, !tbaa !1870
  %77 = getelementptr inbounds %"struct.pov::Light_List_Struct"** %76, i64 %75, !dbg !2982
  %78 = load %"struct.pov::Light_List_Struct"** %77, align 8, !dbg !2982, !tbaa !1870
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %78, i64 0, metadata !1060, metadata !1851), !dbg !2858
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %78, i64 0, metadata !1321, metadata !1851), !dbg !2983
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Ray, i64 0, metadata !1324, metadata !1851), !dbg !2984
  tail call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Inter, i64 0, metadata !1325, metadata !1851), !dbg !2985
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_Source_Struct"* null, i64 0, metadata !1326, metadata !1851), !dbg !2986
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1327, metadata !1851), !dbg !2987
  %Light.07.i = load %"struct.pov::Light_Source_Struct"** getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 4), align 8, !dbg !2988
  %79 = icmp eq %"struct.pov::Light_Source_Struct"* %Light.07.i, null, !dbg !2990
  br i1 %79, label %._crit_edge12.i, label %.lr.ph11.i, !dbg !2992

.lr.ph11.i:                                       ; preds = %74, %.lr.ph11.i
  %indvars.iv15.i = phi i64 [ %indvars.iv.next16.i, %.lr.ph11.i ], [ 0, %74 ], !dbg !2993
  %Light.09.i = phi %"struct.pov::Light_Source_Struct"* [ %Light.0.i, %.lr.ph11.i ], [ %Light.07.i, %74 ], !dbg !2993
  %80 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %78, i64 %indvars.iv15.i, !dbg !2994
  %81 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %78, i64 %indvars.iv15.i, i32 3, !dbg !2996
  store %"struct.pov::Light_Source_Struct"* %Light.09.i, %"struct.pov::Light_Source_Struct"** %81, align 8, !dbg !2997, !tbaa !2661
  tail call fastcc void @_ZN3povL23update_light_list_entryEPNS_17Light_List_StructEPNS_10Ray_StructEPNS_10istk_entryE(%"struct.pov::Light_List_Struct"* %80, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::istk_entry"* %Inter) #7, !dbg !2998
  %82 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.09.i, i64 0, i32 26, !dbg !2999
  %indvars.iv.next16.i = add nuw i64 %indvars.iv15.i, 1, !dbg !2992
  %Light.0.i = load %"struct.pov::Light_Source_Struct"** %82, align 8, !dbg !2988
  %83 = icmp eq %"struct.pov::Light_Source_Struct"* %Light.0.i, null, !dbg !2990
  br i1 %83, label %._crit_edge12.i, label %.lr.ph11.i, !dbg !2992

._crit_edge12.i:                                  ; preds = %.lr.ph11.i, %74
  %84 = load %"struct.pov::Object_Struct"** %38, align 8, !dbg !3000, !tbaa !2933
  %85 = icmp eq %"struct.pov::Object_Struct"* %84, null, !dbg !3002
  br i1 %85, label %_ZN3povL14get_light_listEPNS_17Light_List_StructERS1_RiPNS_10Ray_StructEPNS_10istk_entryE.exit, label %86, !dbg !3003

; <label>:86                                      ; preds = %._crit_edge12.i
  %87 = getelementptr inbounds %"struct.pov::Object_Struct"* %84, i64 0, i32 8, !dbg !3004
  %88 = load %"struct.pov::Light_Source_Struct"** %87, align 8, !dbg !3004, !tbaa !3007
  %89 = icmp eq %"struct.pov::Light_Source_Struct"* %88, null, !dbg !3008
  br i1 %89, label %_ZN3povL14get_light_listEPNS_17Light_List_StructERS1_RiPNS_10Ray_StructEPNS_10istk_entryE.exit, label %.lr.ph6.i, !dbg !3009

.lr.ph6.i:                                        ; preds = %86, %.lr.ph6.i
  %90 = phi i32 [ %91, %.lr.ph6.i ], [ 0, %86 ], !dbg !2993
  %Light.15.i = phi %"struct.pov::Light_Source_Struct"* [ %Light.1.i, %.lr.ph6.i ], [ %88, %86 ], !dbg !2993
  %91 = add nuw nsw i32 %90, 1, !dbg !3010
  tail call void @llvm.dbg.value(metadata i32 %91, i64 0, metadata !1323, metadata !1851), !dbg !2871
  tail call void @llvm.dbg.value(metadata i32 %91, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 %91, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 %91, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 %91, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 %91, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 %91, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 %91, i64 0, metadata !1078, metadata !1851), !dbg !2870
  tail call void @llvm.dbg.value(metadata i32 %91, i64 0, metadata !1078, metadata !1851), !dbg !2870
  %92 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.15.i, i64 0, i32 26, !dbg !3015
  %Light.1.i = load %"struct.pov::Light_Source_Struct"** %92, align 8, !dbg !3016
  %93 = icmp eq %"struct.pov::Light_Source_Struct"* %Light.1.i, null, !dbg !3017
  br i1 %93, label %94, label %.lr.ph6.i, !dbg !3018

; <label>:94                                      ; preds = %.lr.ph6.i
  %phitmp.i = sext i32 %91 to i64, !dbg !3018
  %phitmp13.i = shl nsw i64 %phitmp.i, 5, !dbg !3018
  %95 = tail call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %phitmp13.i, i8* getelementptr inbounds ([66 x i8]* @.str, i64 0, i64 0), i32 1385, i8* getelementptr inbounds ([23 x i8]* @.str4, i64 0, i64 0)) #7, !dbg !3019
  %96 = bitcast i8* %95 to %"struct.pov::Light_List_Struct"*, !dbg !3020
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1322, metadata !1851), !dbg !2860
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %96, i64 0, metadata !1061, metadata !1851), !dbg !2859
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1327, metadata !1851), !dbg !2987
  %97 = load %"struct.pov::Object_Struct"** %38, align 8, !dbg !3021, !tbaa !2933
  %98 = getelementptr inbounds %"struct.pov::Object_Struct"* %97, i64 0, i32 8, !dbg !3023
  %Light.21.i = load %"struct.pov::Light_Source_Struct"** %98, align 8, !dbg !3023
  %99 = icmp eq %"struct.pov::Light_Source_Struct"* %Light.21.i, null, !dbg !3024
  br i1 %99, label %_ZN3povL14get_light_listEPNS_17Light_List_StructERS1_RiPNS_10Ray_StructEPNS_10istk_entryE.exit, label %.lr.ph.i, !dbg !3026

.lr.ph.i:                                         ; preds = %94, %.lr.ph.i
  %indvars.iv.i = phi i64 [ %indvars.iv.next.i, %.lr.ph.i ], [ 0, %94 ], !dbg !2993
  %Light.23.i = phi %"struct.pov::Light_Source_Struct"* [ %Light.2.i, %.lr.ph.i ], [ %Light.21.i, %94 ], !dbg !2993
  %100 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %96, i64 %indvars.iv.i, i32 3, !dbg !3027
  store %"struct.pov::Light_Source_Struct"* %Light.23.i, %"struct.pov::Light_Source_Struct"** %100, align 8, !dbg !3029, !tbaa !2661
  %101 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %96, i64 %indvars.iv.i, !dbg !3030
  tail call fastcc void @_ZN3povL23update_light_list_entryEPNS_17Light_List_StructEPNS_10Ray_StructEPNS_10istk_entryE(%"struct.pov::Light_List_Struct"* %101, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::istk_entry"* %Inter) #7, !dbg !3031
  %102 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.23.i, i64 0, i32 26, !dbg !3032
  %Light.2.i = load %"struct.pov::Light_Source_Struct"** %102, align 8, !dbg !3023
  %103 = icmp eq %"struct.pov::Light_Source_Struct"* %Light.2.i, null, !dbg !3024
  %indvars.iv.next.i = add nuw i64 %indvars.iv.i, 1, !dbg !3026
  br i1 %103, label %_ZN3povL14get_light_listEPNS_17Light_List_StructERS1_RiPNS_10Ray_StructEPNS_10istk_entryE.exit, label %.lr.ph.i, !dbg !3026

_ZN3povL14get_light_listEPNS_17Light_List_StructERS1_RiPNS_10Ray_StructEPNS_10istk_entryE.exit: ; preds = %.lr.ph.i, %._crit_edge12.i, %86, %94
  %104 = phi %"struct.pov::Light_List_Struct"* [ null, %._crit_edge12.i ], [ null, %86 ], [ %96, %94 ], [ %96, %.lr.ph.i ]
  %105 = phi i32 [ 0, %._crit_edge12.i ], [ 0, %86 ], [ %91, %94 ], [ %91, %.lr.ph.i ]
  %106 = load i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !3033, !tbaa !1862
  %107 = load %"struct.pov::Lit_Interval_Struct"*** @_ZN3pov20MediaLitIntervalPoolE, align 8, !dbg !3034, !tbaa !1870
  %108 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"** %107, i64 %106, !dbg !3034
  %109 = load %"struct.pov::Lit_Interval_Struct"** %108, align 8, !dbg !3034, !tbaa !1870
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %109, i64 0, metadata !1062, metadata !1851), !dbg !2958
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %109, i64 0, metadata !1434, metadata !1851), !dbg !3035
  tail call void @llvm.dbg.value(metadata i32 %global_light_list_cnt.0, i64 0, metadata !1435, metadata !1851), !dbg !3036
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %78, i64 0, metadata !1436, metadata !1851), !dbg !3037
  tail call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Inter, i64 0, metadata !1437, metadata !1851), !dbg !3038
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %104, i64 0, metadata !1438, metadata !1851), !dbg !3039
  tail call void @llvm.dbg.value(metadata i32 %105, i64 0, metadata !1439, metadata !1851), !dbg !3040
  %110 = add nsw i32 %105, %global_light_list_cnt.0, !dbg !3041
  %111 = load i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), align 8, !dbg !3043, !tbaa !2873
  %112 = icmp sgt i32 %110, %111, !dbg !3044
  br i1 %112, label %113, label %.preheader1.i, !dbg !3045

; <label>:113                                     ; preds = %_ZN3povL14get_light_listEPNS_17Light_List_StructERS1_RiPNS_10Ray_StructEPNS_10istk_entryE.exit
  %114 = load i8** bitcast (double** @_ZN3pov2s0E to i8**), align 8, !dbg !3046, !tbaa !1870
  %115 = sext i32 %110 to i64, !dbg !3046
  %116 = shl nsw i64 %115, 3, !dbg !3046
  %117 = tail call i8* @_ZN3pov11pov_reallocEPvmPKciS2_(i8* %114, i64 %116, i8* getelementptr inbounds ([66 x i8]* @.str, i64 0, i64 0), i32 1479, i8* getelementptr inbounds ([10 x i8]* @.str5, i64 0, i64 0)) #7, !dbg !3046
  store i8* %117, i8** bitcast (double** @_ZN3pov2s0E to i8**), align 8, !dbg !3048, !tbaa !1870
  %118 = load i8** bitcast (double** @_ZN3pov2s1E to i8**), align 8, !dbg !3049, !tbaa !1870
  %119 = tail call i8* @_ZN3pov11pov_reallocEPvmPKciS2_(i8* %118, i64 %116, i8* getelementptr inbounds ([66 x i8]* @.str, i64 0, i64 0), i32 1480, i8* getelementptr inbounds ([10 x i8]* @.str5, i64 0, i64 0)) #7, !dbg !3049
  store i8* %119, i8** bitcast (double** @_ZN3pov2s1E to i8**), align 8, !dbg !3050, !tbaa !1870
  br label %.preheader1.i, !dbg !3051

.preheader1.i:                                    ; preds = %113, %_ZN3povL14get_light_listEPNS_17Light_List_StructERS1_RiPNS_10Ray_StructEPNS_10istk_entryE.exit
  %120 = icmp sgt i32 %global_light_list_cnt.0, 0, !dbg !3052
  br i1 %120, label %.lr.ph20.i, label %.preheader.i, !dbg !3055

.lr.ph20.i:                                       ; preds = %.preheader1.i
  %121 = load double** @_ZN3pov2s0E, align 8, !dbg !3056, !tbaa !1870
  %122 = load double** @_ZN3pov2s1E, align 8, !dbg !3060, !tbaa !1870
  %123 = add i32 %global_light_list_cnt.0, -1, !dbg !3055
  br label %128, !dbg !3055

.preheader.i:                                     ; preds = %145, %.preheader1.i
  %a.0.lcssa.i = phi i32 [ 0, %.preheader1.i ], [ %a.1.i, %145 ], !dbg !3061
  %124 = icmp sgt i32 %105, 0, !dbg !3062
  br i1 %124, label %.lr.ph15.i, label %._crit_edge16.i, !dbg !3065

.lr.ph15.i:                                       ; preds = %.preheader.i
  %125 = load double** @_ZN3pov2s0E, align 8, !dbg !3066, !tbaa !1870
  %126 = load double** @_ZN3pov2s1E, align 8, !dbg !3070, !tbaa !1870
  %127 = add i32 %105, -1, !dbg !3065
  br label %146, !dbg !3065

; <label>:128                                     ; preds = %145, %.lr.ph20.i
  %indvars.iv27.i = phi i64 [ 0, %.lr.ph20.i ], [ %indvars.iv.next28.i, %145 ], !dbg !3061
  %a.018.i = phi i32 [ 0, %.lr.ph20.i ], [ %a.1.i, %145 ], !dbg !3061
  %129 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %78, i64 %indvars.iv27.i, i32 0, !dbg !3071
  %130 = load i8* %129, align 1, !dbg !3071, !tbaa !2648, !range !2650
  %131 = icmp eq i8 %130, 0, !dbg !3071
  br i1 %131, label %145, label %132, !dbg !3072

; <label>:132                                     ; preds = %128
  %133 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %78, i64 %indvars.iv27.i, i32 1, !dbg !3073
  %134 = bitcast double* %133 to i64*, !dbg !3073
  %135 = load i64* %134, align 8, !dbg !3073, !tbaa !2653
  %136 = sext i32 %a.018.i to i64, !dbg !3056
  %137 = getelementptr inbounds double* %121, i64 %136, !dbg !3056
  %138 = bitcast double* %137 to i64*, !dbg !3074
  store i64 %135, i64* %138, align 8, !dbg !3074, !tbaa !2166
  %139 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %78, i64 %indvars.iv27.i, i32 2, !dbg !3075
  %140 = bitcast double* %139 to i64*, !dbg !3075
  %141 = load i64* %140, align 8, !dbg !3075, !tbaa !2657
  %142 = getelementptr inbounds double* %122, i64 %136, !dbg !3060
  %143 = bitcast double* %142 to i64*, !dbg !3076
  store i64 %141, i64* %143, align 8, !dbg !3076, !tbaa !2166
  %144 = add nsw i32 %a.018.i, 1, !dbg !3077
  tail call void @llvm.dbg.value(metadata i32 %144, i64 0, metadata !1440, metadata !1851), !dbg !3078
  br label %145, !dbg !3079

; <label>:145                                     ; preds = %132, %128
  %a.1.i = phi i32 [ %144, %132 ], [ %a.018.i, %128 ], !dbg !3061
  %indvars.iv.next28.i = add nuw nsw i64 %indvars.iv27.i, 1, !dbg !3055
  %lftr.wideiv94 = trunc i64 %indvars.iv27.i to i32, !dbg !3055
  %exitcond95 = icmp eq i32 %lftr.wideiv94, %123, !dbg !3055
  br i1 %exitcond95, label %.preheader.i, label %128, !dbg !3055

; <label>:146                                     ; preds = %163, %.lr.ph15.i
  %indvars.iv23.i = phi i64 [ 0, %.lr.ph15.i ], [ %indvars.iv.next24.i, %163 ], !dbg !3061
  %a.213.i = phi i32 [ %a.0.lcssa.i, %.lr.ph15.i ], [ %a.3.i, %163 ], !dbg !3061
  %147 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %104, i64 %indvars.iv23.i, i32 0, !dbg !3080
  %148 = load i8* %147, align 1, !dbg !3080, !tbaa !2648, !range !2650
  %149 = icmp eq i8 %148, 0, !dbg !3080
  br i1 %149, label %163, label %150, !dbg !3081

; <label>:150                                     ; preds = %146
  %151 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %104, i64 %indvars.iv23.i, i32 1, !dbg !3082
  %152 = bitcast double* %151 to i64*, !dbg !3082
  %153 = load i64* %152, align 8, !dbg !3082, !tbaa !2653
  %154 = sext i32 %a.213.i to i64, !dbg !3066
  %155 = getelementptr inbounds double* %125, i64 %154, !dbg !3066
  %156 = bitcast double* %155 to i64*, !dbg !3083
  store i64 %153, i64* %156, align 8, !dbg !3083, !tbaa !2166
  %157 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %104, i64 %indvars.iv23.i, i32 2, !dbg !3084
  %158 = bitcast double* %157 to i64*, !dbg !3084
  %159 = load i64* %158, align 8, !dbg !3084, !tbaa !2657
  %160 = getelementptr inbounds double* %126, i64 %154, !dbg !3070
  %161 = bitcast double* %160 to i64*, !dbg !3085
  store i64 %159, i64* %161, align 8, !dbg !3085, !tbaa !2166
  %162 = add nsw i32 %a.213.i, 1, !dbg !3086
  tail call void @llvm.dbg.value(metadata i32 %162, i64 0, metadata !1440, metadata !1851), !dbg !3078
  br label %163, !dbg !3087

; <label>:163                                     ; preds = %150, %146
  %a.3.i = phi i32 [ %162, %150 ], [ %a.213.i, %146 ], !dbg !3061
  %indvars.iv.next24.i = add nuw nsw i64 %indvars.iv23.i, 1, !dbg !3065
  %lftr.wideiv92 = trunc i64 %indvars.iv23.i to i32, !dbg !3065
  %exitcond93 = icmp eq i32 %lftr.wideiv92, %127, !dbg !3065
  br i1 %exitcond93, label %._crit_edge16.i, label %146, !dbg !3065

._crit_edge16.i:                                  ; preds = %163, %.preheader.i
  %a.2.lcssa.i = phi i32 [ %a.0.lcssa.i, %.preheader.i ], [ %a.3.i, %163 ], !dbg !3061
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1442, metadata !1851), !dbg !3088
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %109, i64 0, metadata !1443, metadata !1851), !dbg !3089
  %164 = icmp eq i32 %a.2.lcssa.i, 0, !dbg !3090
  br i1 %164, label %.thread.i, label %165, !dbg !3092

; <label>:165                                     ; preds = %._crit_edge16.i
  %166 = load i8** bitcast (double** @_ZN3pov2s0E to i8**), align 8, !dbg !3093, !tbaa !1870
  tail call void @_ZN3pov10spec_qsortEPviiPFiS0_S0_E(i8* %166, i32 %a.2.lcssa.i, i32 8, i32 (i8*, i8*)* @_ZN3povL11compdoublesEPvS0_) #7, !dbg !3095
  %167 = load i8** bitcast (double** @_ZN3pov2s1E to i8**), align 8, !dbg !3096, !tbaa !1870
  tail call void @_ZN3pov10spec_qsortEPviiPFiS0_S0_E(i8* %167, i32 %a.2.lcssa.i, i32 8, i32 (i8*, i8*)* @_ZN3povL11compdoublesEPvS0_) #7, !dbg !3097
  %168 = load double** @_ZN3pov2s0E, align 8, !dbg !3098, !tbaa !1870
  %169 = load double* %168, align 8, !dbg !3098, !tbaa !2166
  %170 = fcmp ogt double %169, 0.000000e+00, !dbg !3100
  %171 = bitcast double* %168 to i64*, !dbg !3061
  %172 = bitcast double %169 to i64
  br i1 %170, label %173, label %180, !dbg !3101

; <label>:173                                     ; preds = %165
  %174 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %109, i64 0, i32 0, !dbg !3102
  store i32 0, i32* %174, align 4, !dbg !3104, !tbaa !1935
  %175 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %109, i64 0, i32 1, !dbg !3105
  store double 0.000000e+00, double* %175, align 8, !dbg !3106, !tbaa !1939
  %176 = load i64* %171, align 8, !dbg !3107, !tbaa !2166
  %177 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %109, i64 0, i32 2, !dbg !3108
  %178 = bitcast double* %177 to i64*, !dbg !3109
  store i64 %176, i64* %178, align 8, !dbg !3109, !tbaa !1948
  %179 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %109, i64 1, !dbg !3110
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %179, i64 0, metadata !1443, metadata !1851), !dbg !3089
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1442, metadata !1851), !dbg !3088
  %.pre97 = load i64* %171, align 8, !dbg !3111, !tbaa !2166
  br label %180, !dbg !3112

; <label>:180                                     ; preds = %173, %165
  %181 = phi i64 [ %.pre97, %173 ], [ %172, %165 ]
  %n.0.i = phi i32 [ 2, %173 ], [ 1, %165 ], !dbg !3061
  %curr.0.i = phi %"struct.pov::Lit_Interval_Struct"* [ %179, %173 ], [ %109, %165 ], !dbg !3061
  %182 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.0.i, i64 0, i32 0, !dbg !3113
  store i32 1, i32* %182, align 4, !dbg !3114, !tbaa !1935
  %183 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.0.i, i64 0, i32 1, !dbg !3115
  %184 = bitcast double* %183 to i64*, !dbg !3116
  store i64 %181, i64* %184, align 8, !dbg !3116, !tbaa !1939
  %185 = load i64** bitcast (double** @_ZN3pov2s1E to i64**), align 8, !dbg !3117, !tbaa !1870
  %186 = load i64* %185, align 8, !dbg !3117, !tbaa !2166
  %187 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.0.i, i64 0, i32 2, !dbg !3118
  %188 = bitcast double* %187 to i64*, !dbg !3119
  store i64 %186, i64* %188, align 8, !dbg !3119, !tbaa !1948
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %curr.0.i, i64 0, metadata !1444, metadata !1851), !dbg !3120
  %189 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.0.i, i64 1, !dbg !3121
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %189, i64 0, metadata !1443, metadata !1851), !dbg !3089
  tail call void @llvm.dbg.value(metadata i32 %n.0.i, i64 0, metadata !1442, metadata !1851), !dbg !3088
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1441, metadata !1851), !dbg !3122
  %190 = icmp sgt i32 %a.2.lcssa.i, 1, !dbg !3123
  %191 = bitcast i64 %186 to double, !dbg !3061
  br i1 %190, label %.lr.ph9.i, label %227, !dbg !3126

.lr.ph9.i:                                        ; preds = %180
  %192 = add i32 %a.2.lcssa.i, -1, !dbg !3126
  br label %193, !dbg !3126

; <label>:193                                     ; preds = %._crit_edge31.i, %.lr.ph9.i
  %194 = phi double [ %191, %.lr.ph9.i ], [ %.pre.i13, %._crit_edge31.i ], !dbg !3061
  %indvars.iv.i11 = phi i64 [ 1, %.lr.ph9.i ], [ %indvars.iv.next.i12, %._crit_edge31.i ], !dbg !3061
  %prev.07.i = phi %"struct.pov::Lit_Interval_Struct"* [ %curr.0.i, %.lr.ph9.i ], [ %prev.1.i, %._crit_edge31.i ], !dbg !3061
  %curr.16.i = phi %"struct.pov::Lit_Interval_Struct"* [ %189, %.lr.ph9.i ], [ %curr.2.i, %._crit_edge31.i ], !dbg !3061
  %n.15.i = phi i32 [ %n.0.i, %.lr.ph9.i ], [ %n.2.i, %._crit_edge31.i ], !dbg !3061
  %195 = getelementptr inbounds double* %168, i64 %indvars.iv.i11, !dbg !3127
  %196 = load double* %195, align 8, !dbg !3127, !tbaa !2166
  %197 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %prev.07.i, i64 0, i32 2, !dbg !3130
  %198 = fcmp ogt double %196, %194, !dbg !3131
  br i1 %198, label %199, label %220, !dbg !3132

; <label>:199                                     ; preds = %193
  %200 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.16.i, i64 0, i32 0, !dbg !3133
  store i32 0, i32* %200, align 4, !dbg !3135, !tbaa !1935
  %201 = bitcast double* %197 to i64*, !dbg !3136
  %202 = load i64* %201, align 8, !dbg !3136, !tbaa !1948
  %203 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.16.i, i64 0, i32 1, !dbg !3137
  %204 = bitcast double* %203 to i64*, !dbg !3138
  store i64 %202, i64* %204, align 8, !dbg !3138, !tbaa !1939
  %205 = bitcast double* %195 to i64*, !dbg !3139
  %206 = load i64* %205, align 8, !dbg !3139, !tbaa !2166
  %207 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.16.i, i64 0, i32 2, !dbg !3140
  %208 = bitcast double* %207 to i64*, !dbg !3141
  store i64 %206, i64* %208, align 8, !dbg !3141, !tbaa !1948
  %209 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.16.i, i64 1, i32 0, !dbg !3142
  store i32 1, i32* %209, align 4, !dbg !3143, !tbaa !1935
  %210 = load i64* %205, align 8, !dbg !3144, !tbaa !2166
  %211 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.16.i, i64 1, i32 1, !dbg !3145
  %212 = bitcast double* %211 to i64*, !dbg !3146
  store i64 %210, i64* %212, align 8, !dbg !3146, !tbaa !1939
  %213 = getelementptr inbounds i64* %185, i64 %indvars.iv.i11, !dbg !3147
  %214 = load i64* %213, align 8, !dbg !3147, !tbaa !2166
  %215 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.16.i, i64 1, i32 2, !dbg !3148
  %216 = bitcast double* %215 to i64*, !dbg !3149
  store i64 %214, i64* %216, align 8, !dbg !3149, !tbaa !1948
  %217 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %prev.07.i, i64 2, !dbg !3150
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %217, i64 0, metadata !1444, metadata !1851), !dbg !3120
  %218 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.16.i, i64 2, !dbg !3151
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %218, i64 0, metadata !1443, metadata !1851), !dbg !3089
  %219 = add nsw i32 %n.15.i, 2, !dbg !3152
  tail call void @llvm.dbg.value(metadata i32 %219, i64 0, metadata !1442, metadata !1851), !dbg !3088
  br label %226, !dbg !3153

; <label>:220                                     ; preds = %193
  %221 = getelementptr inbounds i64* %185, i64 %indvars.iv.i11, !dbg !3154
  %222 = bitcast i64* %221 to double*, !dbg !3154
  %223 = load double* %222, align 8, !dbg !3154, !tbaa !2166
  %224 = fcmp ogt double %223, %194, !dbg !3157
  br i1 %224, label %225, label %226, !dbg !3158

; <label>:225                                     ; preds = %220
  store double %223, double* %197, align 8, !dbg !3159, !tbaa !1948
  br label %226, !dbg !3161

; <label>:226                                     ; preds = %225, %220, %199
  %n.2.i = phi i32 [ %219, %199 ], [ %n.15.i, %225 ], [ %n.15.i, %220 ], !dbg !3061
  %curr.2.i = phi %"struct.pov::Lit_Interval_Struct"* [ %218, %199 ], [ %curr.16.i, %225 ], [ %curr.16.i, %220 ], !dbg !3061
  %prev.1.i = phi %"struct.pov::Lit_Interval_Struct"* [ %217, %199 ], [ %prev.07.i, %225 ], [ %prev.07.i, %220 ], !dbg !3061
  %lftr.wideiv.i = trunc i64 %indvars.iv.i11 to i32, !dbg !3126
  %exitcond22.i = icmp eq i32 %lftr.wideiv.i, %192, !dbg !3126
  br i1 %exitcond22.i, label %._crit_edge10.i, label %._crit_edge31.i, !dbg !3126

._crit_edge31.i:                                  ; preds = %226
  %indvars.iv.next.i12 = add nuw nsw i64 %indvars.iv.i11, 1, !dbg !3126
  %.phi.trans.insert.i = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %prev.1.i, i64 0, i32 2, !dbg !3061
  %.pre.i13 = load double* %.phi.trans.insert.i, align 8, !dbg !3130, !tbaa !1948
  br label %193, !dbg !3126

._crit_edge10.i:                                  ; preds = %226
  %.phi.trans.insert32.i = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %prev.1.i, i64 0, i32 2, !dbg !3061
  %.pre33.i = load double* %.phi.trans.insert32.i, align 8, !dbg !3162, !tbaa !1948
  br label %227, !dbg !3126

; <label>:227                                     ; preds = %._crit_edge10.i, %180
  %228 = phi double [ %.pre33.i, %._crit_edge10.i ], [ %191, %180 ], !dbg !3061
  %prev.0.lcssa.i = phi %"struct.pov::Lit_Interval_Struct"* [ %prev.1.i, %._crit_edge10.i ], [ %curr.0.i, %180 ], !dbg !3061
  %curr.1.lcssa.i = phi %"struct.pov::Lit_Interval_Struct"* [ %curr.2.i, %._crit_edge10.i ], [ %189, %180 ], !dbg !3061
  %n.1.lcssa.i = phi i32 [ %n.2.i, %._crit_edge10.i ], [ %n.0.i, %180 ], !dbg !3061
  %229 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 0, !dbg !3164
  %230 = load double* %229, align 8, !dbg !3164, !tbaa !1941
  %231 = fcmp olt double %228, %230, !dbg !3165
  br i1 %231, label %232, label %247, !dbg !3166

; <label>:232                                     ; preds = %227
  %233 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %prev.0.lcssa.i, i64 0, i32 2, !dbg !3162
  %234 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.1.lcssa.i, i64 0, i32 0, !dbg !3167
  store i32 0, i32* %234, align 4, !dbg !3169, !tbaa !1935
  %235 = bitcast double* %233 to i64*, !dbg !3170
  %236 = load i64* %235, align 8, !dbg !3170, !tbaa !1948
  %237 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.1.lcssa.i, i64 0, i32 1, !dbg !3171
  %238 = bitcast double* %237 to i64*, !dbg !3172
  store i64 %236, i64* %238, align 8, !dbg !3172, !tbaa !1939
  %239 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.1.lcssa.i, i64 0, i32 2, !dbg !3173
  store double %230, double* %239, align 8, !dbg !3174, !tbaa !1948
  %240 = add nsw i32 %n.1.lcssa.i, 1, !dbg !3175
  tail call void @llvm.dbg.value(metadata i32 %240, i64 0, metadata !1442, metadata !1851), !dbg !3088
  br label %247, !dbg !3176

.thread.i:                                        ; preds = %._crit_edge16.i
  %241 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %109, i64 0, i32 0, !dbg !3177
  store i32 0, i32* %241, align 4, !dbg !3179, !tbaa !1935
  %242 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %109, i64 0, i32 1, !dbg !3180
  store double 0.000000e+00, double* %242, align 8, !dbg !3181, !tbaa !1939
  %243 = bitcast %"struct.pov::istk_entry"* %Inter to i64*, !dbg !3182
  %244 = load i64* %243, align 8, !dbg !3182, !tbaa !1941
  %245 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %109, i64 0, i32 2, !dbg !3183
  %246 = bitcast double* %245 to i64*, !dbg !3184
  store i64 %244, i64* %246, align 8, !dbg !3184, !tbaa !1948
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1442, metadata !1851), !dbg !3088
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %109, i64 0, metadata !1443, metadata !1851), !dbg !3089
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1441, metadata !1851), !dbg !3122
  br label %.lr.ph.i14, !dbg !3185

; <label>:247                                     ; preds = %232, %227
  %n.3.i = phi i32 [ %240, %232 ], [ %n.1.lcssa.i, %227 ], !dbg !3061
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %109, i64 0, metadata !1443, metadata !1851), !dbg !3089
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1441, metadata !1851), !dbg !3122
  %248 = icmp sgt i32 %n.3.i, 0, !dbg !3187
  br i1 %248, label %.lr.ph.i14, label %_ZN3povL16get_lit_intervalEPiPNS_19Lit_Interval_StructEiPNS_17Light_List_StructEPNS_10istk_entryES4_i.exit, !dbg !3185

.lr.ph.i14:                                       ; preds = %247, %.thread.i
  %n.335.i = phi i32 [ 1, %.thread.i ], [ %n.3.i, %247 ], !dbg !3061
  %249 = add i32 %n.335.i, -1, !dbg !3185
  br label %250, !dbg !3185

; <label>:250                                     ; preds = %250, %.lr.ph.i14
  %curr.33.i = phi %"struct.pov::Lit_Interval_Struct"* [ %109, %.lr.ph.i14 ], [ %257, %250 ], !dbg !3061
  %i.32.i = phi i32 [ 0, %.lr.ph.i14 ], [ %258, %250 ], !dbg !3061
  %251 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.33.i, i64 0, i32 2, !dbg !3189
  %252 = load double* %251, align 8, !dbg !3189, !tbaa !1948
  %253 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.33.i, i64 0, i32 1, !dbg !3191
  %254 = load double* %253, align 8, !dbg !3191, !tbaa !1939
  %255 = fsub double %252, %254, !dbg !3192
  %256 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.33.i, i64 0, i32 3, !dbg !3193
  store double %255, double* %256, align 8, !dbg !3194, !tbaa !1945
  %257 = getelementptr inbounds %"struct.pov::Lit_Interval_Struct"* %curr.33.i, i64 1, !dbg !3195
  tail call void @llvm.dbg.value(metadata %"struct.pov::Lit_Interval_Struct"* %257, i64 0, metadata !1443, metadata !1851), !dbg !3089
  %258 = add nuw nsw i32 %i.32.i, 1, !dbg !3196
  tail call void @llvm.dbg.value(metadata i32 %258, i64 0, metadata !1441, metadata !1851), !dbg !3122
  %exitcond.i = icmp eq i32 %i.32.i, %249, !dbg !3185
  br i1 %exitcond.i, label %_ZN3povL16get_lit_intervalEPiPNS_19Lit_Interval_StructEiPNS_17Light_List_StructEPNS_10istk_entryES4_i.exit, label %250, !dbg !3185

_ZN3povL16get_lit_intervalEPiPNS_19Lit_Interval_StructEiPNS_17Light_List_StructEPNS_10istk_entryES4_i.exit: ; preds = %250, %247, %67
  %259 = phi i32 [ 1, %67 ], [ %n.3.i, %247 ], [ %n.335.i, %250 ]
  %260 = phi %"struct.pov::Light_List_Struct"* [ null, %67 ], [ %104, %247 ], [ %104, %250 ]
  %261 = phi i32 [ 0, %67 ], [ %105, %247 ], [ %105, %250 ]
  %light_list.0 = phi %"struct.pov::Light_List_Struct"* [ null, %67 ], [ %78, %247 ], [ %78, %250 ]
  %Lit_Interval.1 = phi %"struct.pov::Lit_Interval_Struct"* [ %Lit_Interval.0, %67 ], [ %109, %247 ], [ %109, %250 ]
  %262 = getelementptr inbounds %"struct.pov::Media_Struct"* %IMedia.1.lcssa, i64 0, i32 1, !dbg !3197
  %263 = load i32* %262, align 4, !dbg !3197, !tbaa !1887
  %264 = icmp sgt i32 %259, %263, !dbg !3199
  %.8 = select i1 %264, i32 %259, i32 %263, !dbg !3200
  %thesize.0 = mul i32 %.8, 96, !dbg !3201
  %265 = load i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !3202, !tbaa !1862
  %266 = load i64* @_ZN3pov17MaxMediaPoolDepthE, align 8, !dbg !3204, !tbaa !1862
  %267 = icmp slt i64 %265, %266, !dbg !3205
  br i1 %267, label %270, label %268, !dbg !3206

; <label>:268                                     ; preds = %_ZN3povL16get_lit_intervalEPiPNS_19Lit_Interval_StructEiPNS_17Light_List_StructEPNS_10istk_entryES4_i.exit
  %269 = shl nsw i64 %266, 1, !dbg !3207
  tail call void @_ZN3pov22ResizeMediaMallocPoolsEl(i64 %269) #7, !dbg !3209
  %.pre98 = load i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !3210, !tbaa !1862
  br label %270, !dbg !3212

; <label>:270                                     ; preds = %_ZN3povL16get_lit_intervalEPiPNS_19Lit_Interval_StructEiPNS_17Light_List_StructEPNS_10istk_entryES4_i.exit, %268
  %271 = phi i64 [ %265, %_ZN3povL16get_lit_intervalEPiPNS_19Lit_Interval_StructEiPNS_17Light_List_StructEPNS_10istk_entryES4_i.exit ], [ %.pre98, %268 ]
  %272 = sext i32 %thesize.0 to i64, !dbg !3213
  %273 = load i64** @_ZN3pov21MediaIntervalPoolSizeE, align 8, !dbg !3214, !tbaa !1870
  %274 = getelementptr inbounds i64* %273, i64 %271, !dbg !3214
  %275 = load i64* %274, align 8, !dbg !3214, !tbaa !1862
  %276 = icmp sgt i64 %272, %275, !dbg !3215
  %277 = load %"struct.pov::Media_Interval_Struct"*** @_ZN3pov17MediaIntervalPoolE, align 8, !dbg !3216, !tbaa !1870
  %278 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"** %277, i64 %271, !dbg !3216
  %279 = load %"struct.pov::Media_Interval_Struct"** %278, align 8, !dbg !3216, !tbaa !1870
  br i1 %276, label %280, label %293, !dbg !3217

; <label>:280                                     ; preds = %270
  %281 = bitcast %"struct.pov::Media_Interval_Struct"* %279 to i8*, !dbg !3218
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %281, i8* getelementptr inbounds ([66 x i8]* @.str, i64 0, i64 0), i32 542) #7, !dbg !3218
  %282 = load i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !3218, !tbaa !1862
  %283 = load %"struct.pov::Media_Interval_Struct"*** @_ZN3pov17MediaIntervalPoolE, align 8, !dbg !3218, !tbaa !1870
  %284 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"** %283, i64 %282, !dbg !3218
  store %"struct.pov::Media_Interval_Struct"* null, %"struct.pov::Media_Interval_Struct"** %284, align 8, !dbg !3218, !tbaa !1870
  %285 = tail call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %272, i8* getelementptr inbounds ([66 x i8]* @.str, i64 0, i64 0), i32 543, i8* getelementptr inbounds ([16 x i8]* @.str1, i64 0, i64 0)) #7, !dbg !3221
  %286 = bitcast i8* %285 to %"struct.pov::Media_Interval_Struct"*, !dbg !3222
  %287 = load i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !3223, !tbaa !1862
  %288 = load %"struct.pov::Media_Interval_Struct"*** @_ZN3pov17MediaIntervalPoolE, align 8, !dbg !3224, !tbaa !1870
  %289 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"** %288, i64 %287, !dbg !3224
  %290 = bitcast %"struct.pov::Media_Interval_Struct"** %289 to i8**, !dbg !3225
  store i8* %285, i8** %290, align 8, !dbg !3225, !tbaa !1870
  tail call void @llvm.dbg.value(metadata %"struct.pov::Media_Interval_Struct"* %286, i64 0, metadata !1066, metadata !1851), !dbg !3226
  %291 = load i64** @_ZN3pov21MediaIntervalPoolSizeE, align 8, !dbg !3227, !tbaa !1870
  %292 = getelementptr inbounds i64* %291, i64 %287, !dbg !3227
  store i64 %272, i64* %292, align 8, !dbg !3228, !tbaa !1862
  br label %293

; <label>:293                                     ; preds = %270, %280
  %Media_Interval.0 = phi %"struct.pov::Media_Interval_Struct"* [ %286, %280 ], [ %279, %270 ]
  %294 = tail call fastcc i32 @_ZN3povL25set_up_sampling_intervalsEPNS_21Media_Interval_StructEiPNS_19Lit_Interval_StructEPNS_12Media_StructE(%"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i32 %259, %"struct.pov::Lit_Interval_Struct"* %Lit_Interval.1, %"struct.pov::Media_Struct"* %IMedia.1.lcssa) #7, !dbg !3229
  tail call void @llvm.dbg.value(metadata i32 %294, i64 0, metadata !1053, metadata !1851), !dbg !2897
  %295 = getelementptr inbounds %"struct.pov::Media_Struct"* %IMedia.1.lcssa, i64 0, i32 2, !dbg !3230
  %296 = load i32* %295, align 4, !dbg !3230, !tbaa !3231
  tail call void @llvm.dbg.value(metadata i32 %296, i64 0, metadata !1077, metadata !1851), !dbg !3232
  %297 = getelementptr inbounds %"struct.pov::Media_Struct"* %IMedia.1.lcssa, i64 0, i32 4, !dbg !3233
  %298 = load i32* %297, align 4, !dbg !3233, !tbaa !3234
  %299 = icmp ne i32 %298, 3, !dbg !3235
  %or.cond5 = or i1 %37, %299, !dbg !3236
  br i1 %or.cond5, label %.preheader17, label %.preheader20, !dbg !3236

.preheader20:                                     ; preds = %293
  %AA_Search_Media.053 = load %"struct.pov::Media_Struct"** %Media_List, align 8, !dbg !3237
  %300 = icmp eq %"struct.pov::Media_Struct"* %AA_Search_Media.053, null, !dbg !3238
  br i1 %300, label %.preheader18, label %.lr.ph56, !dbg !3239

.preheader17:                                     ; preds = %293
  %301 = icmp sgt i32 %294, 0, !dbg !3240
  br i1 %301, label %.lr.ph44, label %._crit_edge45, !dbg !3244

.lr.ph44:                                         ; preds = %.preheader17
  %302 = icmp sgt i32 %296, 0, !dbg !3245
  %303 = sitofp i32 %296 to double, !dbg !3249
  %304 = getelementptr inbounds %"struct.pov::Media_Struct"* %IMedia.1.lcssa, i64 0, i32 5, !dbg !3253
  %305 = getelementptr inbounds [5 x float]* %C0, i64 0, i64 0, !dbg !3254
  %306 = getelementptr inbounds [5 x float]* %od0, i64 0, i64 0, !dbg !3255
  %307 = add i32 %294, -1, !dbg !3244
  br label %443, !dbg !3244

.preheader18:                                     ; preds = %.lr.ph56, %.preheader20
  %aa_threshold.0.lcssa = phi double [ 1.000000e+03, %.preheader20 ], [ %aa_threshold.1, %.lr.ph56 ]
  %308 = icmp sgt i32 %294, 0, !dbg !3256
  br i1 %308, label %.lr.ph52, label %._crit_edge, !dbg !3259

.lr.ph52:                                         ; preds = %.preheader18
  %309 = sitofp i32 %296 to double, !dbg !3260
  %310 = fmul double %309, 5.000000e-01, !dbg !3262
  %311 = fptosi double %310 to i32, !dbg !3263
  %312 = add nsw i32 %311, 1, !dbg !3264
  %313 = icmp slt i32 %312, 2, !dbg !3265
  %. = select i1 %313, i32 2, i32 %312, !dbg !3267
  %314 = add nsw i32 %., 1, !dbg !3268
  %315 = sitofp i32 %314 to double, !dbg !3271
  %316 = fdiv double 1.000000e+00, %315, !dbg !3272
  %317 = getelementptr inbounds %"struct.pov::Media_Struct"* %IMedia.1.lcssa, i64 0, i32 5, !dbg !3273
  %318 = getelementptr inbounds [5 x float]* %C0, i64 0, i64 0, !dbg !3274
  %319 = getelementptr inbounds [5 x float]* %od0, i64 0, i64 0, !dbg !3275
  %320 = icmp slt i32 %., 1, !dbg !3276
  %321 = getelementptr inbounds [5 x float]* %C1, i64 0, i64 0, !dbg !3279
  %322 = getelementptr inbounds [5 x float]* %od1, i64 0, i64 0, !dbg !3281
  %323 = getelementptr inbounds [5 x float]* %Result, i64 0, i64 0, !dbg !3282
  %324 = getelementptr inbounds [5 x float]* %ODResult, i64 0, i64 0, !dbg !3283
  %325 = getelementptr inbounds %"struct.pov::Media_Struct"* %IMedia.1.lcssa, i64 0, i32 22, !dbg !3284
  %326 = sitofp i32 %. to float, !dbg !3285
  %327 = getelementptr inbounds [5 x float]* %Result, i64 0, i64 1, !dbg !3286
  %328 = getelementptr inbounds [5 x float]* %Result, i64 0, i64 2, !dbg !3287
  %329 = bitcast [5 x float]* %C0 to i32*, !dbg !3288
  %330 = getelementptr inbounds [5 x float]* %C0, i64 0, i64 1, !dbg !3289
  %331 = bitcast float* %330 to i32*, !dbg !3290
  %332 = getelementptr inbounds [5 x float]* %C1, i64 0, i64 2, !dbg !3291
  %333 = bitcast float* %332 to i32*, !dbg !3291
  %334 = getelementptr inbounds [5 x float]* %C0, i64 0, i64 2, !dbg !3292
  %335 = bitcast float* %334 to i32*, !dbg !3293
  %336 = getelementptr inbounds [5 x float]* %ODResult, i64 0, i64 1, !dbg !3294
  %337 = getelementptr inbounds [5 x float]* %ODResult, i64 0, i64 2, !dbg !3295
  %338 = bitcast [5 x float]* %od0 to i32*, !dbg !3296
  %339 = getelementptr inbounds [5 x float]* %od0, i64 0, i64 1, !dbg !3297
  %340 = bitcast float* %339 to i32*, !dbg !3298
  %341 = getelementptr inbounds [5 x float]* %od1, i64 0, i64 2, !dbg !3299
  %342 = bitcast float* %341 to i32*, !dbg !3299
  %343 = getelementptr inbounds [5 x float]* %od0, i64 0, i64 2, !dbg !3300
  %344 = bitcast float* %343 to i32*, !dbg !3301
  %345 = add i32 %294, -1, !dbg !3259
  br label %353, !dbg !3259

.lr.ph56:                                         ; preds = %.preheader20, %.lr.ph56
  %AA_Search_Media.055 = phi %"struct.pov::Media_Struct"* [ %AA_Search_Media.0, %.lr.ph56 ], [ %AA_Search_Media.053, %.preheader20 ]
  %aa_threshold.054 = phi double [ %aa_threshold.1, %.lr.ph56 ], [ 1.000000e+03, %.preheader20 ]
  %346 = getelementptr inbounds %"struct.pov::Media_Struct"* %AA_Search_Media.055, i64 0, i32 21, !dbg !3302
  %347 = load double* %346, align 8, !dbg !3302, !tbaa !3305
  %348 = fcmp olt double %347, %aa_threshold.054, !dbg !3306
  tail call void @llvm.dbg.value(metadata double %347, i64 0, metadata !1085, metadata !1851), !dbg !3307
  %aa_threshold.1 = select i1 %348, double %347, double %aa_threshold.054, !dbg !3308
  %349 = getelementptr inbounds %"struct.pov::Media_Struct"* %AA_Search_Media.055, i64 0, i32 25, !dbg !3309
  %AA_Search_Media.0 = load %"struct.pov::Media_Struct"** %349, align 8, !dbg !3237
  %350 = icmp eq %"struct.pov::Media_Struct"* %AA_Search_Media.0, null, !dbg !3238
  br i1 %350, label %.preheader18, label %.lr.ph56, !dbg !3239

.preheader:                                       ; preds = %._crit_edge50, %.loopexit, %._crit_edge45, %468
  %351 = icmp sgt i32 %294, 0, !dbg !3310
  br i1 %351, label %.lr.ph, label %._crit_edge, !dbg !3313

.lr.ph:                                           ; preds = %.preheader
  %352 = add i32 %294, -1, !dbg !3313
  br label %570, !dbg !3313

; <label>:353                                     ; preds = %._crit_edge50, %.lr.ph52
  %indvars.iv88 = phi i64 [ 0, %.lr.ph52 ], [ %indvars.iv.next89, %._crit_edge50 ]
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 100), i64 0, metadata !1133, metadata !1851), !dbg !3314
  %354 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 100), align 8, !dbg !3316, !tbaa !1862
  %355 = add nsw i64 %354, 1, !dbg !3316
  store i64 %355, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 100), align 8, !dbg !3316, !tbaa !1862
  call void @llvm.dbg.value(metadata i32 %312, i64 0, metadata !1081, metadata !1851), !dbg !3317
  call void @llvm.dbg.value(metadata i32 %., i64 0, metadata !1081, metadata !1851), !dbg !3317
  call void @llvm.dbg.value(metadata double %316, i64 0, metadata !1069, metadata !1851), !dbg !3318
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1068, metadata !1851), !dbg !3319
  %356 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i64 %indvars.iv88, !dbg !3320
  %357 = load double* %317, align 8, !dbg !3273, !tbaa !3321
  %358 = fmul double %316, %357, !dbg !3322
  %359 = call i32 @_ZN3pov8POV_RANDEv() #7, !dbg !3323
  %360 = sitofp i32 %359 to double, !dbg !3323
  %361 = fmul double %360, 0x3F0000200040021E, !dbg !3323
  %362 = fadd double %361, -5.000000e-01, !dbg !3324
  %363 = fmul double %358, %362, !dbg !3325
  %364 = fadd double %363, 0.000000e+00, !dbg !3326
  call fastcc void @_ZN3povL12sample_mediaEPNS_17Light_List_StructEiPNS_10Ray_StructEPPNS_12Media_StructEPNS_21Media_Interval_StructEidPfS9_iS1_i(%"struct.pov::Light_List_Struct"* %light_list.0, i32 %global_light_list_cnt.0, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Media_Struct"** %Media_List, %"struct.pov::Media_Interval_Struct"* %356, i32 %light_ray, double %364, float* %318, float* %319, i32 3, %"struct.pov::Light_List_Struct"* %260, i32 %261) #7, !dbg !3327
  %365 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i64 %indvars.iv88, i32 6, i64 2, !dbg !3328
  store float 0.000000e+00, float* %365, align 4, !dbg !3329, !tbaa !1991
  %366 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i64 %indvars.iv88, i32 6, i64 1, !dbg !3330
  store float 0.000000e+00, float* %366, align 4, !dbg !3331, !tbaa !1991
  %367 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i64 %indvars.iv88, i32 6, i64 0, !dbg !3332
  store float 0.000000e+00, float* %367, align 4, !dbg !3333, !tbaa !1991
  %368 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i64 %indvars.iv88, i32 5, i64 2, !dbg !3334
  store float 0.000000e+00, float* %368, align 4, !dbg !3335, !tbaa !1991
  %369 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i64 %indvars.iv88, i32 5, i64 1, !dbg !3336
  store float 0.000000e+00, float* %369, align 4, !dbg !3337, !tbaa !1991
  %370 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i64 %indvars.iv88, i32 5, i64 0, !dbg !3338
  store float 0.000000e+00, float* %370, align 4, !dbg !3339, !tbaa !1991
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1052, metadata !1851), !dbg !3340
  br i1 %320, label %._crit_edge50, label %.lr.ph49, !dbg !3341

.lr.ph49:                                         ; preds = %353, %.lr.ph49
  %j.047 = phi i32 [ %440, %.lr.ph49 ], [ 1, %353 ]
  %d0.046.pn = phi double [ %d0.046, %.lr.ph49 ], [ 0.000000e+00, %353 ]
  %d0.046 = fadd double %316, %d0.046.pn, !dbg !3342
  %371 = load double* %317, align 8, !dbg !3343, !tbaa !3321
  %372 = fmul double %316, %371, !dbg !3344
  %373 = call i32 @_ZN3pov8POV_RANDEv() #7, !dbg !3345
  %374 = sitofp i32 %373 to double, !dbg !3345
  %375 = fmul double %374, 0x3F0000200040021E, !dbg !3345
  %376 = fadd double %375, -5.000000e-01, !dbg !3346
  %377 = fmul double %372, %376, !dbg !3347
  %378 = fadd double %d0.046, %377, !dbg !3348
  call fastcc void @_ZN3povL12sample_mediaEPNS_17Light_List_StructEiPNS_10Ray_StructEPPNS_12Media_StructEPNS_21Media_Interval_StructEidPfS9_iS1_i(%"struct.pov::Light_List_Struct"* %light_list.0, i32 %global_light_list_cnt.0, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Media_Struct"** %Media_List, %"struct.pov::Media_Interval_Struct"* %356, i32 %light_ray, double %378, float* %321, float* %322, i32 3, %"struct.pov::Light_List_Struct"* %260, i32 %261) #7, !dbg !3349
  %379 = fsub double %d0.046, %316, !dbg !3350
  %380 = load i32* %325, align 4, !dbg !3284, !tbaa !3351
  %381 = add nsw i32 %380, -1, !dbg !3352
  %382 = load double* %317, align 8, !dbg !3353, !tbaa !3321
  call fastcc void @_ZN3povL16sample_media_recEPNS_17Light_List_StructEiPNS_10Ray_StructEPPNS_12Media_StructEPNS_21Media_Interval_StructEiddPfS9_S9_S9_S9_S9_iddS1_i(%"struct.pov::Light_List_Struct"* %light_list.0, i32 %global_light_list_cnt.0, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Media_Struct"** %Media_List, %"struct.pov::Media_Interval_Struct"* %356, i32 %light_ray, double %379, double %d0.046, float* %323, float* %318, float* %321, float* %324, float* %319, float* %322, i32 %381, double %382, double %aa_threshold.0.lcssa, %"struct.pov::Light_List_Struct"* %260, i32 %261) #7, !dbg !3354
  %383 = load float* %323, align 16, !dbg !3355, !tbaa !1991
  %384 = fpext float %383 to double, !dbg !3355
  %385 = load float* %370, align 4, !dbg !3356, !tbaa !1991
  %386 = fsub float -0.000000e+00, %385, !dbg !3357
  %387 = fdiv float %386, %326, !dbg !3358
  %388 = fpext float %387 to double, !dbg !3357
  %389 = call double @exp(double %388) #8, !dbg !3359
  %390 = fmul double %384, %389, !dbg !3360
  %391 = load float* %367, align 4, !dbg !3361, !tbaa !1991
  %392 = fpext float %391 to double, !dbg !3361
  %393 = fadd double %390, %392, !dbg !3361
  %394 = fptrunc double %393 to float, !dbg !3361
  store float %394, float* %367, align 4, !dbg !3361, !tbaa !1991
  %395 = load float* %327, align 4, !dbg !3286, !tbaa !1991
  %396 = fpext float %395 to double, !dbg !3286
  %397 = load float* %369, align 4, !dbg !3362, !tbaa !1991
  %398 = fsub float -0.000000e+00, %397, !dbg !3363
  %399 = fdiv float %398, %326, !dbg !3364
  %400 = fpext float %399 to double, !dbg !3363
  %401 = call double @exp(double %400) #8, !dbg !3365
  %402 = fmul double %396, %401, !dbg !3366
  %403 = load float* %366, align 4, !dbg !3367, !tbaa !1991
  %404 = fpext float %403 to double, !dbg !3367
  %405 = fadd double %402, %404, !dbg !3367
  %406 = fptrunc double %405 to float, !dbg !3367
  store float %406, float* %366, align 4, !dbg !3367, !tbaa !1991
  %407 = load float* %328, align 8, !dbg !3287, !tbaa !1991
  %408 = fpext float %407 to double, !dbg !3287
  %409 = load float* %368, align 4, !dbg !3368, !tbaa !1991
  %410 = fsub float -0.000000e+00, %409, !dbg !3369
  %411 = fdiv float %410, %326, !dbg !3370
  %412 = fpext float %411 to double, !dbg !3369
  %413 = call double @exp(double %412) #8, !dbg !3371
  %414 = fmul double %408, %413, !dbg !3372
  %415 = load float* %365, align 4, !dbg !3373, !tbaa !1991
  %416 = fpext float %415 to double, !dbg !3373
  %417 = fadd double %414, %416, !dbg !3373
  %418 = fptrunc double %417 to float, !dbg !3373
  store float %418, float* %365, align 4, !dbg !3373, !tbaa !1991
  %419 = bitcast [5 x float]* %C1 to i64*, !dbg !3374
  %420 = load i64* %419, align 16, !dbg !3374
  %421 = trunc i64 %420 to i32, !dbg !3374
  store i32 %421, i32* %329, align 16, !dbg !3288, !tbaa !1991
  %422 = lshr i64 %420, 32
  %423 = trunc i64 %422 to i32
  store i32 %423, i32* %331, align 4, !dbg !3290, !tbaa !1991
  %424 = load i32* %333, align 8, !dbg !3291, !tbaa !1991
  store i32 %424, i32* %335, align 8, !dbg !3293, !tbaa !1991
  %425 = load float* %324, align 16, !dbg !3375, !tbaa !1991
  %426 = load float* %370, align 4, !dbg !3376, !tbaa !1991
  %427 = fadd float %425, %426, !dbg !3376
  store float %427, float* %370, align 4, !dbg !3376, !tbaa !1991
  %428 = load float* %336, align 4, !dbg !3294, !tbaa !1991
  %429 = load float* %369, align 4, !dbg !3377, !tbaa !1991
  %430 = fadd float %428, %429, !dbg !3377
  store float %430, float* %369, align 4, !dbg !3377, !tbaa !1991
  %431 = load float* %337, align 8, !dbg !3295, !tbaa !1991
  %432 = load float* %368, align 4, !dbg !3378, !tbaa !1991
  %433 = fadd float %431, %432, !dbg !3378
  store float %433, float* %368, align 4, !dbg !3378, !tbaa !1991
  %434 = bitcast [5 x float]* %od1 to i64*, !dbg !3379
  %435 = load i64* %434, align 16, !dbg !3379
  %436 = trunc i64 %435 to i32, !dbg !3379
  store i32 %436, i32* %338, align 16, !dbg !3296, !tbaa !1991
  %437 = lshr i64 %435, 32
  %438 = trunc i64 %437 to i32
  store i32 %438, i32* %340, align 4, !dbg !3298, !tbaa !1991
  %439 = load i32* %342, align 8, !dbg !3299, !tbaa !1991
  store i32 %439, i32* %344, align 8, !dbg !3301, !tbaa !1991
  %440 = add nuw nsw i32 %j.047, 1, !dbg !3380
  call void @llvm.dbg.value(metadata i32 %440, i64 0, metadata !1052, metadata !1851), !dbg !3340
  %441 = icmp slt i32 %j.047, %., !dbg !3276
  br i1 %441, label %.lr.ph49, label %._crit_edge50, !dbg !3341

._crit_edge50:                                    ; preds = %.lr.ph49, %353
  %442 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i64 %indvars.iv88, i32 1, !dbg !3381
  store i32 %., i32* %442, align 4, !dbg !3382, !tbaa !2185
  %indvars.iv.next89 = add nuw nsw i64 %indvars.iv88, 1, !dbg !3259
  %lftr.wideiv90 = trunc i64 %indvars.iv88 to i32, !dbg !3259
  %exitcond91 = icmp eq i32 %lftr.wideiv90, %345, !dbg !3259
  br i1 %exitcond91, label %.preheader, label %353, !dbg !3259

; <label>:443                                     ; preds = %._crit_edge42, %.lr.ph44
  %indvars.iv = phi i64 [ 0, %.lr.ph44 ], [ %indvars.iv.next, %._crit_edge42 ]
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 100), i64 0, metadata !1133, metadata !1851), !dbg !3383
  %444 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 100), align 8, !dbg !3385, !tbaa !1862
  %445 = add nsw i64 %444, 1, !dbg !3385
  store i64 %445, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 100), align 8, !dbg !3385, !tbaa !1862
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1052, metadata !1851), !dbg !3340
  br i1 %302, label %.lr.ph41, label %._crit_edge42, !dbg !3386

.lr.ph41:                                         ; preds = %443
  %446 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %Media_Interval.0, i64 %indvars.iv, !dbg !3387
  br label %447, !dbg !3386

; <label>:447                                     ; preds = %.lr.ph41, %465
  %j.139 = phi i32 [ 0, %.lr.ph41 ], [ %466, %465 ]
  %448 = load i32* %297, align 4, !dbg !3388, !tbaa !3234
  %449 = icmp eq i32 %448, 2, !dbg !3389
  br i1 %449, label %450, label %461, !dbg !3390

; <label>:450                                     ; preds = %447
  %451 = sitofp i32 %j.139 to double, !dbg !3391
  %452 = fadd double %451, 5.000000e-01, !dbg !3392
  %453 = fdiv double %452, %303, !dbg !3393
  %454 = tail call i32 @_ZN3pov8POV_RANDEv() #7, !dbg !3394
  %455 = sitofp i32 %454 to double, !dbg !3394
  %456 = fmul double %455, 0x3F0000200040021E, !dbg !3394
  %457 = load double* %304, align 8, !dbg !3253, !tbaa !3321
  %458 = fmul double %457, %456, !dbg !3395
  %459 = fdiv double %458, %303, !dbg !3396
  %460 = fadd double %453, %459, !dbg !3397
  tail call void @llvm.dbg.value(metadata double %460, i64 0, metadata !1068, metadata !1851), !dbg !3319
  call fastcc void @_ZN3povL12sample_mediaEPNS_17Light_List_StructEiPNS_10Ray_StructEPPNS_12Media_StructEPNS_21Media_Interval_StructEidPfS9_iS1_i(%"struct.pov::Light_List_Struct"* %light_list.0, i32 %global_light_list_cnt.0, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Media_Struct"** %Media_List, %"struct.pov::Media_Interval_Struct"* %446, i32 %light_ray, double %460, float* %305, float* %306, i32 2, %"struct.pov::Light_List_Struct"* %260, i32 %261) #7, !dbg !3398
  br label %465, !dbg !3399

; <label>:461                                     ; preds = %447
  %462 = tail call i32 @_ZN3pov8POV_RANDEv() #7, !dbg !3400
  %463 = sitofp i32 %462 to double, !dbg !3400
  %464 = fmul double %463, 0x3F0000200040021E, !dbg !3400
  tail call void @llvm.dbg.value(metadata double %464, i64 0, metadata !1068, metadata !1851), !dbg !3319
  call fastcc void @_ZN3povL12sample_mediaEPNS_17Light_List_StructEiPNS_10Ray_StructEPPNS_12Media_StructEPNS_21Media_Interval_StructEidPfS9_iS1_i(%"struct.pov::Light_List_Struct"* %light_list.0, i32 %global_light_list_cnt.0, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Media_Struct"** %Media_List, %"struct.pov::Media_Interval_Struct"* %446, i32 %light_ray, double %464, float* %305, float* %306, i32 1, %"struct.pov::Light_List_Struct"* %260, i32 %261) #7, !dbg !3402
  br label %465

; <label>:465                                     ; preds = %461, %450
  tail call void @llvm.dbg.value(metadata i32 %296, i64 0, metadata !1052, metadata !1851), !dbg !3340
  %.j.1 = select i1 %37, i32 %296, i32 %j.139, !dbg !3403
  %466 = add nsw i32 %.j.1, 1, !dbg !3404
  tail call void @llvm.dbg.value(metadata i32 %466, i64 0, metadata !1052, metadata !1851), !dbg !3340
  %467 = icmp slt i32 %466, %296, !dbg !3245
  br i1 %467, label %447, label %._crit_edge42, !dbg !3386

._crit_edge42:                                    ; preds = %465, %443
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1, !dbg !3244
  %lftr.wideiv = trunc i64 %indvars.iv to i32, !dbg !3244
  %exitcond87 = icmp eq i32 %lftr.wideiv, %307, !dbg !3244
  br i1 %exitcond87, label %._crit_edge45, label %443, !dbg !3244

._crit_edge45:                                    ; preds = %._crit_edge42, %.preheader17
  br i1 %47, label %.preheader, label %468, !dbg !3405

; <label>:468                                     ; preds = %._crit_edge45
  %469 = getelementptr inbounds %"struct.pov::Media_Struct"* %IMedia.1.lcssa, i64 0, i32 3, !dbg !3407
  %470 = load i32* %469, align 4, !dbg !3407, !tbaa !3408
  %471 = icmp sgt i32 %470, %296, !dbg !3409
  br i1 %471, label %.preheader16, label %.preheader, !dbg !3410

.preheader16:                                     ; preds = %468
  br i1 %301, label %.lr.ph38, label %._crit_edge, !dbg !3411

.lr.ph38:                                         ; preds = %.preheader16
  %472 = getelementptr inbounds %"struct.pov::Media_Struct"* %IMedia.1.lcssa, i64 0, i32 20, !dbg !3414
  %473 = getelementptr inbounds [5 x float]* %C0, i64 0, i64 0, !dbg !3419
  %474 = getelementptr inbounds [5 x float]* %od0, i64 0, i64 0, !dbg !3421
  %475 = add i32 %294, -1, !dbg !3411
  br label %476, !dbg !3411

; <label>:476                                     ; preds = %.loopexit, %.lr.ph38
  %477 = phi i32 [ %470, %.lr.ph38 ], [ %567, %.loopexit ], !dbg !3422
  %i.237 = phi i32 [ 0, %.lr.ph38 ], [ %569, %.loopexit ]
  %curr.036 = phi %"struct.pov::Media_Interval_Struct"* [ %Media_Interval.0, %.lr.ph38 ], [ %568, %.loopexit ]
  %478 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.036, i64 0, i32 1, !dbg !3422
  %479 = load i32* %478, align 4, !dbg !3422, !tbaa !2185
  %480 = icmp slt i32 %479, %477, !dbg !3423
  br i1 %480, label %481, label %.loopexit, !dbg !3424

; <label>:481                                     ; preds = %476
  %482 = sitofp i32 %479 to double, !dbg !3425
  tail call void @llvm.dbg.value(metadata double %482, i64 0, metadata !1056, metadata !1851), !dbg !3426
  %483 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.036, i64 0, i32 7, i64 0, !dbg !3427
  %484 = load float* %483, align 4, !dbg !3427, !tbaa !1991
  %485 = fpext float %484 to double, !dbg !3427
  %486 = fdiv double %485, %482, !dbg !3428
  %487 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.036, i64 0, i32 6, i64 0, !dbg !3429
  %488 = load float* %487, align 4, !dbg !3429, !tbaa !1991
  %489 = fpext float %488 to double, !dbg !3429
  %490 = fdiv double %489, %482, !dbg !3430
  tail call void @llvm.dbg.value(metadata double %490, i64 0, metadata !1165, metadata !1851), !dbg !3431
  %491 = fmul double %490, %490, !dbg !3433
  %492 = fsub double %486, %491, !dbg !3434
  %493 = fdiv double %492, %482, !dbg !3435
  %494 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.036, i64 0, i32 7, i64 1, !dbg !3436
  %495 = load float* %494, align 4, !dbg !3436, !tbaa !1991
  %496 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.036, i64 0, i32 6, i64 1, !dbg !3437
  %497 = load float* %496, align 4, !dbg !3437, !tbaa !1991
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1165, metadata !1851), !dbg !3438
  %498 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.036, i64 0, i32 7, i64 2, !dbg !3440
  %499 = load float* %498, align 4, !dbg !3440, !tbaa !1991
  %500 = insertelement <2 x float> undef, float %499, i32 0, !dbg !3440
  %501 = insertelement <2 x float> %500, float %495, i32 1, !dbg !3440
  %502 = fpext <2 x float> %501 to <2 x double>, !dbg !3440
  %503 = insertelement <2 x double> undef, double %482, i32 0, !dbg !3441
  %504 = insertelement <2 x double> %503, double %482, i32 1, !dbg !3441
  %505 = fdiv <2 x double> %502, %504, !dbg !3441
  %506 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.036, i64 0, i32 6, i64 2, !dbg !3442
  %507 = load float* %506, align 4, !dbg !3442, !tbaa !1991
  %508 = insertelement <2 x float> undef, float %507, i32 0, !dbg !3442
  %509 = insertelement <2 x float> %508, float %497, i32 1, !dbg !3442
  %510 = fpext <2 x float> %509 to <2 x double>, !dbg !3442
  %511 = fdiv <2 x double> %510, %504, !dbg !3443
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1165, metadata !1851), !dbg !3444
  %512 = fmul <2 x double> %511, %511, !dbg !3446
  %513 = fsub <2 x double> %505, %512, !dbg !3447
  %514 = fdiv <2 x double> %513, %504, !dbg !3448
  br label %515, !dbg !3449

; <label>:515                                     ; preds = %539, %481
  %516 = phi i32 [ %479, %481 ], [ %536, %539 ]
  %517 = phi i32 [ %477, %481 ], [ %537, %539 ]
  %Va.sroa.0.0.in = phi double [ %493, %481 ], [ %549, %539 ]
  %518 = phi <2 x double> [ %514, %481 ], [ %566, %539 ]
  %Va.sroa.0.0 = fptrunc double %Va.sroa.0.0.in to float, !dbg !3450
  %519 = fpext float %Va.sroa.0.0 to double, !dbg !3451
  %520 = add nsw i32 %516, -1, !dbg !3452
  %521 = sext i32 %520 to i64, !dbg !3453
  %522 = load double** %472, align 8, !dbg !3414, !tbaa !3454
  %523 = getelementptr inbounds double* %522, i64 %521, !dbg !3453
  %524 = load double* %523, align 8, !dbg !3453, !tbaa !2166
  %525 = fcmp ult double %519, %524, !dbg !3455
  br i1 %525, label %526, label %.critedge, !dbg !3456

; <label>:526                                     ; preds = %515
  %527 = extractelement <2 x double> %518, i32 0, !dbg !3457
  %Va.sroa.6.0 = fptrunc double %527 to float, !dbg !3457
  %528 = extractelement <2 x double> %518, i32 1, !dbg !3458
  %Va.sroa.3.0 = fptrunc double %528 to float, !dbg !3458
  %529 = fpext float %Va.sroa.3.0 to double, !dbg !3459
  %530 = fcmp ult double %529, %524, !dbg !3460
  %531 = fpext float %Va.sroa.6.0 to double
  %532 = fcmp ult double %531, %524, !dbg !3461
  %or.cond10 = and i1 %530, %532, !dbg !3462
  br i1 %or.cond10, label %.loopexit, label %.critedge, !dbg !3462

.critedge:                                        ; preds = %526, %515
  %533 = tail call i32 @_ZN3pov8POV_RANDEv() #7, !dbg !3463
  %534 = sitofp i32 %533 to double, !dbg !3463
  %535 = fmul double %534, 0x3F0000200040021E, !dbg !3463
  call fastcc void @_ZN3povL12sample_mediaEPNS_17Light_List_StructEiPNS_10Ray_StructEPPNS_12Media_StructEPNS_21Media_Interval_StructEidPfS9_iS1_i(%"struct.pov::Light_List_Struct"* %light_list.0, i32 %global_light_list_cnt.0, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Media_Struct"** %Media_List, %"struct.pov::Media_Interval_Struct"* %curr.036, i32 0, double %535, float* %473, float* %474, i32 1, %"struct.pov::Light_List_Struct"* %260, i32 %261) #7, !dbg !3464
  %536 = load i32* %478, align 4, !dbg !3465, !tbaa !2185
  %537 = load i32* %469, align 4, !dbg !3467, !tbaa !3408
  %538 = icmp sgt i32 %536, %537, !dbg !3468
  br i1 %538, label %.loopexit, label %539, !dbg !3469

; <label>:539                                     ; preds = %.critedge
  %540 = sitofp i32 %536 to double, !dbg !3470
  tail call void @llvm.dbg.value(metadata double %540, i64 0, metadata !1056, metadata !1851), !dbg !3426
  %541 = load float* %483, align 4, !dbg !3471, !tbaa !1991
  %542 = fpext float %541 to double, !dbg !3471
  %543 = fdiv double %542, %540, !dbg !3472
  %544 = load float* %487, align 4, !dbg !3473, !tbaa !1991
  %545 = fpext float %544 to double, !dbg !3473
  %546 = fdiv double %545, %540, !dbg !3474
  tail call void @llvm.dbg.value(metadata double %546, i64 0, metadata !1165, metadata !1851), !dbg !3475
  %547 = fmul double %546, %546, !dbg !3477
  %548 = fsub double %543, %547, !dbg !3478
  %549 = fdiv double %548, %540, !dbg !3479
  %550 = load float* %494, align 4, !dbg !3480, !tbaa !1991
  %551 = load float* %496, align 4, !dbg !3481, !tbaa !1991
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1165, metadata !1851), !dbg !3482
  %552 = load float* %498, align 4, !dbg !3484, !tbaa !1991
  %553 = insertelement <2 x float> undef, float %552, i32 0, !dbg !3484
  %554 = insertelement <2 x float> %553, float %550, i32 1, !dbg !3484
  %555 = fpext <2 x float> %554 to <2 x double>, !dbg !3484
  %556 = insertelement <2 x double> undef, double %540, i32 0, !dbg !3485
  %557 = insertelement <2 x double> %556, double %540, i32 1, !dbg !3485
  %558 = fdiv <2 x double> %555, %557, !dbg !3485
  %559 = load float* %506, align 4, !dbg !3486, !tbaa !1991
  %560 = insertelement <2 x float> undef, float %559, i32 0, !dbg !3486
  %561 = insertelement <2 x float> %560, float %551, i32 1, !dbg !3486
  %562 = fpext <2 x float> %561 to <2 x double>, !dbg !3486
  %563 = fdiv <2 x double> %562, %557, !dbg !3487
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1165, metadata !1851), !dbg !3488
  %564 = fmul <2 x double> %563, %563, !dbg !3490
  %565 = fsub <2 x double> %558, %564, !dbg !3491
  %566 = fdiv <2 x double> %565, %557, !dbg !3492
  br label %515, !dbg !3449

.loopexit:                                        ; preds = %526, %.critedge, %476
  %567 = phi i32 [ %477, %476 ], [ %517, %526 ], [ %537, %.critedge ]
  %568 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.036, i64 1, !dbg !3493
  tail call void @llvm.dbg.value(metadata %"struct.pov::Media_Interval_Struct"* %568, i64 0, metadata !1067, metadata !1851), !dbg !3494
  %569 = add nuw nsw i32 %i.237, 1, !dbg !3495
  tail call void @llvm.dbg.value(metadata i32 %569, i64 0, metadata !1051, metadata !1851), !dbg !3496
  %exitcond86 = icmp eq i32 %i.237, %475, !dbg !3411
  br i1 %exitcond86, label %.preheader, label %476, !dbg !3411

; <label>:570                                     ; preds = %570, %.lr.ph
  %i.330 = phi i32 [ 0, %.lr.ph ], [ %635, %570 ]
  %curr.129 = phi %"struct.pov::Media_Interval_Struct"* [ %Media_Interval.0, %.lr.ph ], [ %634, %570 ]
  %571 = phi float [ 0.000000e+00, %.lr.ph ], [ %590, %570 ]
  %572 = phi float [ 0.000000e+00, %.lr.ph ], [ %601, %570 ]
  %573 = phi float [ 0.000000e+00, %.lr.ph ], [ %612, %570 ]
  %574 = phi float [ 0.000000e+00, %.lr.ph ], [ %619, %570 ]
  %575 = phi float [ 0.000000e+00, %.lr.ph ], [ %626, %570 ]
  %576 = phi float [ 0.000000e+00, %.lr.ph ], [ %633, %570 ]
  %577 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.129, i64 0, i32 6, i64 0, !dbg !3497
  %578 = load float* %577, align 4, !dbg !3497, !tbaa !1991
  %579 = fpext float %578 to double, !dbg !3497
  %580 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.129, i64 0, i32 1, !dbg !3499
  %581 = load i32* %580, align 4, !dbg !3499, !tbaa !2185
  %582 = sitofp i32 %581 to double, !dbg !3500
  %583 = fdiv double %579, %582, !dbg !3501
  %584 = fsub float -0.000000e+00, %574, !dbg !3502
  %585 = fpext float %584 to double, !dbg !3502
  %586 = call double @exp(double %585) #8, !dbg !3503
  %587 = fmul double %583, %586, !dbg !3504
  %588 = fpext float %571 to double, !dbg !3505
  %589 = fadd double %588, %587, !dbg !3505
  %590 = fptrunc double %589 to float, !dbg !3505
  call void @llvm.dbg.value(metadata float %590, i64 0, metadata !1058, metadata !1981), !dbg !2856
  %591 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.129, i64 0, i32 6, i64 1, !dbg !3506
  %592 = load float* %591, align 4, !dbg !3506, !tbaa !1991
  %593 = fpext float %592 to double, !dbg !3506
  %594 = fdiv double %593, %582, !dbg !3507
  %595 = fsub float -0.000000e+00, %575, !dbg !3508
  %596 = fpext float %595 to double, !dbg !3508
  %597 = call double @exp(double %596) #8, !dbg !3509
  %598 = fmul double %594, %597, !dbg !3510
  %599 = fpext float %572 to double, !dbg !3511
  %600 = fadd double %599, %598, !dbg !3511
  %601 = fptrunc double %600 to float, !dbg !3511
  call void @llvm.dbg.value(metadata float %601, i64 0, metadata !1058, metadata !1983), !dbg !2856
  %602 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.129, i64 0, i32 6, i64 2, !dbg !3512
  %603 = load float* %602, align 4, !dbg !3512, !tbaa !1991
  %604 = fpext float %603 to double, !dbg !3512
  %605 = fdiv double %604, %582, !dbg !3513
  %606 = fsub float -0.000000e+00, %576, !dbg !3514
  %607 = fpext float %606 to double, !dbg !3514
  %608 = call double @exp(double %607) #8, !dbg !3515
  %609 = fmul double %605, %608, !dbg !3516
  %610 = fpext float %573 to double, !dbg !3517
  %611 = fadd double %610, %609, !dbg !3517
  %612 = fptrunc double %611 to float, !dbg !3517
  call void @llvm.dbg.value(metadata float %612, i64 0, metadata !1058, metadata !1985), !dbg !2856
  %613 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.129, i64 0, i32 5, i64 0, !dbg !3518
  %614 = load float* %613, align 4, !dbg !3518, !tbaa !1991
  %615 = fpext float %614 to double, !dbg !3518
  %616 = fdiv double %615, %582, !dbg !3519
  %617 = fpext float %574 to double, !dbg !3520
  %618 = fadd double %617, %616, !dbg !3520
  %619 = fptrunc double %618 to float, !dbg !3520
  call void @llvm.dbg.value(metadata float %619, i64 0, metadata !1057, metadata !1981), !dbg !2855
  %620 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.129, i64 0, i32 5, i64 1, !dbg !3521
  %621 = load float* %620, align 4, !dbg !3521, !tbaa !1991
  %622 = fpext float %621 to double, !dbg !3521
  %623 = fdiv double %622, %582, !dbg !3522
  %624 = fpext float %575 to double, !dbg !3523
  %625 = fadd double %624, %623, !dbg !3523
  %626 = fptrunc double %625 to float, !dbg !3523
  call void @llvm.dbg.value(metadata float %626, i64 0, metadata !1057, metadata !1983), !dbg !2855
  %627 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.129, i64 0, i32 5, i64 2, !dbg !3524
  %628 = load float* %627, align 4, !dbg !3524, !tbaa !1991
  %629 = fpext float %628 to double, !dbg !3524
  %630 = fdiv double %629, %582, !dbg !3525
  %631 = fpext float %576 to double, !dbg !3526
  %632 = fadd double %631, %630, !dbg !3526
  %633 = fptrunc double %632 to float, !dbg !3526
  call void @llvm.dbg.value(metadata float %633, i64 0, metadata !1057, metadata !1985), !dbg !2855
  %634 = getelementptr inbounds %"struct.pov::Media_Interval_Struct"* %curr.129, i64 1, !dbg !3527
  call void @llvm.dbg.value(metadata %"struct.pov::Media_Interval_Struct"* %634, i64 0, metadata !1067, metadata !1851), !dbg !3494
  %635 = add nuw nsw i32 %i.330, 1, !dbg !3528
  call void @llvm.dbg.value(metadata i32 %635, i64 0, metadata !1051, metadata !1851), !dbg !3496
  %exitcond = icmp eq i32 %i.330, %352, !dbg !3313
  br i1 %exitcond, label %._crit_edge, label %570, !dbg !3313

._crit_edge:                                      ; preds = %570, %.preheader16, %.preheader18, %.preheader
  %.lcssa27 = phi float [ 0.000000e+00, %.preheader ], [ 0.000000e+00, %.preheader18 ], [ 0.000000e+00, %.preheader16 ], [ %590, %570 ]
  %.lcssa26 = phi float [ 0.000000e+00, %.preheader ], [ 0.000000e+00, %.preheader18 ], [ 0.000000e+00, %.preheader16 ], [ %601, %570 ]
  %.lcssa25 = phi float [ 0.000000e+00, %.preheader ], [ 0.000000e+00, %.preheader18 ], [ 0.000000e+00, %.preheader16 ], [ %612, %570 ]
  %.lcssa24 = phi float [ 0.000000e+00, %.preheader ], [ 0.000000e+00, %.preheader18 ], [ 0.000000e+00, %.preheader16 ], [ %619, %570 ]
  %.lcssa23 = phi float [ 0.000000e+00, %.preheader ], [ 0.000000e+00, %.preheader18 ], [ 0.000000e+00, %.preheader16 ], [ %626, %570 ]
  %.lcssa = phi float [ 0.000000e+00, %.preheader ], [ 0.000000e+00, %.preheader18 ], [ 0.000000e+00, %.preheader16 ], [ %633, %570 ]
  %636 = fsub float -0.000000e+00, %.lcssa24, !dbg !3529
  %637 = fpext float %636 to double, !dbg !3529
  %638 = call double @exp(double %637) #8, !dbg !3530
  %639 = fptrunc double %638 to float, !dbg !3530
  call void @llvm.dbg.value(metadata float %639, i64 0, metadata !1057, metadata !1981), !dbg !2855
  %640 = fsub float -0.000000e+00, %.lcssa23, !dbg !3531
  %641 = fpext float %640 to double, !dbg !3531
  %642 = call double @exp(double %641) #8, !dbg !3532
  %643 = fptrunc double %642 to float, !dbg !3532
  call void @llvm.dbg.value(metadata float %643, i64 0, metadata !1057, metadata !1983), !dbg !2855
  %644 = fsub float -0.000000e+00, %.lcssa, !dbg !3533
  %645 = fpext float %644 to double, !dbg !3533
  %646 = call double @exp(double %645) #8, !dbg !3534
  %647 = fptrunc double %646 to float, !dbg !3534
  call void @llvm.dbg.value(metadata float %647, i64 0, metadata !1057, metadata !1985), !dbg !2855
  %648 = load float* %Colour, align 4, !dbg !3535, !tbaa !1991
  %649 = fmul float %639, %648, !dbg !3536
  %650 = fadd float %.lcssa27, %649, !dbg !3537
  store float %650, float* %Colour, align 4, !dbg !3538, !tbaa !1991
  %651 = getelementptr inbounds float* %Colour, i64 1, !dbg !3539
  %652 = load float* %651, align 4, !dbg !3539, !tbaa !1991
  %653 = fmul float %643, %652, !dbg !3540
  %654 = fadd float %.lcssa26, %653, !dbg !3541
  store float %654, float* %651, align 4, !dbg !3542, !tbaa !1991
  %655 = getelementptr inbounds float* %Colour, i64 2, !dbg !3543
  %656 = load float* %655, align 4, !dbg !3543, !tbaa !1991
  %657 = fmul float %647, %656, !dbg !3544
  %658 = fadd float %.lcssa25, %657, !dbg !3545
  store float %658, float* %655, align 4, !dbg !3546, !tbaa !1991
  %659 = fpext float %639 to double, !dbg !3547
  %660 = fmul double %659, 2.970000e-01, !dbg !3547
  %661 = fpext float %643 to double, !dbg !3547
  %662 = fmul double %661, 5.890000e-01, !dbg !3547
  %663 = fadd double %660, %662, !dbg !3547
  %664 = fpext float %647 to double, !dbg !3547
  %665 = fmul double %664, 1.140000e-01, !dbg !3547
  %666 = fadd double %663, %665, !dbg !3547
  %667 = getelementptr inbounds float* %Colour, i64 4, !dbg !3548
  %668 = load float* %667, align 4, !dbg !3549, !tbaa !1991
  %669 = fpext float %668 to double, !dbg !3549
  %670 = fmul double %666, %669, !dbg !3549
  %671 = fptrunc double %670 to float, !dbg !3549
  store float %671, float* %667, align 4, !dbg !3549, !tbaa !1991
  %672 = load i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !3550, !tbaa !1862
  %673 = add nsw i64 %672, -1, !dbg !3550
  store i64 %673, i64* @_ZN3pov14MediaPoolIndexE, align 8, !dbg !3550, !tbaa !1862
  %674 = icmp eq %"struct.pov::Light_List_Struct"* %260, null, !dbg !3551
  br i1 %674, label %677, label %675, !dbg !3553

; <label>:675                                     ; preds = %._crit_edge
  %676 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %260, i64 0, i32 0, !dbg !3554
  call void @_ZN3pov8pov_freeEPvPKci(i8* %676, i8* getelementptr inbounds ([66 x i8]* @.str, i64 0, i64 0), i32 780) #7, !dbg !3554
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1322, metadata !1851), !dbg !2860
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* null, i64 0, metadata !1061, metadata !1851), !dbg !2859
  br label %677, !dbg !3554

; <label>:677                                     ; preds = %._crit_edge, %8, %35, %675
  ret void, !dbg !3556
}
