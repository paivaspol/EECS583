define internal fastcc void @_ZN3povL23update_light_list_entryEPNS_17Light_List_StructEPNS_10Ray_StructEPNS_10istk_entryE(%"struct.pov::Light_List_Struct"* nocapture %light, %"struct.pov::Ray_Struct"* nocapture readonly %Ray, %"struct.pov::istk_entry"* nocapture readonly %Inter) #5 {
  %t1.sroa.0 = alloca i64, align 8
  %t2.sroa.0 = alloca i64, align 8
  %1 = alloca double, align 8
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_List_Struct"* %light, i64 0, metadata !1332, metadata !1851), !dbg !4226
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Ray, i64 0, metadata !1333, metadata !1851), !dbg !4227
  tail call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Inter, i64 0, metadata !1334, metadata !1851), !dbg !4228
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1335, metadata !1851), !dbg !4229
  store i64 0, i64* %t1.sroa.0, align 8, !dbg !4229
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1336, metadata !1851), !dbg !4230
  store i64 0, i64* %t2.sroa.0, align 8, !dbg !4230
  tail call void @llvm.dbg.value(metadata i8 0, i64 0, metadata !1337, metadata !1851), !dbg !4231
  %2 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %light, i64 0, i32 0, !dbg !4232
  store i8 0, i8* %2, align 1, !dbg !4233, !tbaa !2648
  %3 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %light, i64 0, i32 1, !dbg !4234
  store double 0.000000e+00, double* %3, align 8, !dbg !4235, !tbaa !2653
  %4 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %light, i64 0, i32 2, !dbg !4236
  store double 1.000000e+07, double* %4, align 8, !dbg !4237, !tbaa !2657
  %5 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %light, i64 0, i32 3, !dbg !4238
  %6 = load %"struct.pov::Light_Source_Struct"** %5, align 8, !dbg !4238, !tbaa !2661
  %7 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 39, !dbg !4240
  %8 = load i32* %7, align 4, !dbg !4240, !tbaa !4241
  %9 = icmp eq i32 %8, 0, !dbg !4242
  br i1 %9, label %264, label %10, !dbg !4243

; <label>:10                                      ; preds = %0
  %11 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 27, !dbg !4244
  %12 = load i8* %11, align 1, !dbg !4244, !tbaa !4245
  %13 = zext i8 %12 to i32, !dbg !4246
  switch i32 %13, label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread [
    i32 4, label %14
    i32 1, label %102
    i32 2, label %106
  ], !dbg !4247

; <label>:14                                      ; preds = %10
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1335, metadata !1851), !dbg !4229
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1336, metadata !1851), !dbg !4230
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Ray, i64 0, metadata !1342, metadata !1851) #4, !dbg !4248
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_Source_Struct"* %6, i64 0, metadata !1343, metadata !1851) #4, !dbg !4252
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1344, metadata !1851) #4, !dbg !4253
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1345, metadata !1851) #4, !dbg !4254
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1359, metadata !1851) #4, !dbg !4255
  %15 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 0, !dbg !4256
  %16 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 17, i64 0, !dbg !4257
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1364, metadata !1851) #4, !dbg !4258
  tail call void @llvm.dbg.value(metadata double* %15, i64 0, metadata !1365, metadata !1851) #4, !dbg !4260
  tail call void @llvm.dbg.value(metadata double* %16, i64 0, metadata !1366, metadata !1851) #4, !dbg !4261
  %17 = load double* %15, align 8, !dbg !4262, !tbaa !2166
  %18 = load double* %16, align 8, !dbg !4263, !tbaa !2166
  %19 = fsub double %17, %18, !dbg !4264
  tail call void @llvm.dbg.value(metadata double %19, i64 0, metadata !1359, metadata !4265) #4, !dbg !4255
  %20 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 1, !dbg !4266
  %21 = load double* %20, align 8, !dbg !4266, !tbaa !2166
  %22 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 17, i64 1, !dbg !4267
  %23 = load double* %22, align 8, !dbg !4267, !tbaa !2166
  %24 = fsub double %21, %23, !dbg !4268
  tail call void @llvm.dbg.value(metadata double %24, i64 0, metadata !1359, metadata !4269) #4, !dbg !4255
  %25 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 2, !dbg !4270
  %26 = load double* %25, align 8, !dbg !4270, !tbaa !2166
  %27 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 17, i64 2, !dbg !4271
  %28 = load double* %27, align 8, !dbg !4271, !tbaa !2166
  %29 = fsub double %26, %28, !dbg !4272
  tail call void @llvm.dbg.value(metadata double %29, i64 0, metadata !1359, metadata !4273) #4, !dbg !4255
  %30 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !4274
  %31 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 16, i64 0, !dbg !4275
  tail call void @llvm.dbg.value(metadata double* %30, i64 0, metadata !1289, metadata !1851) #4, !dbg !4276
  tail call void @llvm.dbg.value(metadata double* %31, i64 0, metadata !1290, metadata !1851) #4, !dbg !4278
  %32 = load double* %30, align 8, !dbg !4279, !tbaa !2166
  %33 = load double* %31, align 8, !dbg !4280, !tbaa !2166
  %34 = fmul double %32, %33, !dbg !4281
  %35 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 1, !dbg !4282
  %36 = load double* %35, align 8, !dbg !4282, !tbaa !2166
  %37 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 16, i64 1, !dbg !4283
  %38 = load double* %37, align 8, !dbg !4283, !tbaa !2166
  %39 = fmul double %36, %38, !dbg !4284
  %40 = fadd double %34, %39, !dbg !4285
  %41 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !4286
  %42 = load double* %41, align 8, !dbg !4286, !tbaa !2166
  %43 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 16, i64 2, !dbg !4287
  %44 = load double* %43, align 8, !dbg !4287, !tbaa !2166
  %45 = fmul double %42, %44, !dbg !4288
  %46 = fadd double %40, %45, !dbg !4289
  tail call void @llvm.dbg.value(metadata double %46, i64 0, metadata !1288, metadata !1851) #4, !dbg !4290
  tail call void @llvm.dbg.value(metadata double %46, i64 0, metadata !1355, metadata !1851) #4, !dbg !4291
  tail call void @llvm.dbg.value(metadata double %46, i64 0, metadata !1355, metadata !1851) #4, !dbg !4291
  tail call void @llvm.dbg.value(metadata double %46, i64 0, metadata !1355, metadata !1851) #4, !dbg !4291
  tail call void @llvm.dbg.value(metadata double %46, i64 0, metadata !1355, metadata !1851) #4, !dbg !4291
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1289, metadata !1851) #4, !dbg !4292
  tail call void @llvm.dbg.value(metadata double* %31, i64 0, metadata !1290, metadata !1851) #4, !dbg !4294
  %47 = fmul double %19, %33, !dbg !4295
  %48 = fmul double %24, %38, !dbg !4296
  %49 = fadd double %47, %48, !dbg !4297
  %50 = fmul double %29, %44, !dbg !4298
  %51 = fadd double %49, %50, !dbg !4299
  tail call void @llvm.dbg.value(metadata double %51, i64 0, metadata !1288, metadata !1851) #4, !dbg !4300
  tail call void @llvm.dbg.value(metadata double %51, i64 0, metadata !1356, metadata !1851) #4, !dbg !4301
  tail call void @llvm.dbg.value(metadata double %51, i64 0, metadata !1356, metadata !1851) #4, !dbg !4301
  tail call void @llvm.dbg.value(metadata double %51, i64 0, metadata !1356, metadata !1851) #4, !dbg !4301
  tail call void @llvm.dbg.value(metadata double %51, i64 0, metadata !1356, metadata !1851) #4, !dbg !4301
  %52 = fcmp ole double %46, 0.000000e+00, !dbg !4302
  %53 = fcmp olt double %51, 0.000000e+00, !dbg !4304
  %or.cond.i = and i1 %52, %53, !dbg !4305
  br i1 %or.cond.i, label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, label %54, !dbg !4305

; <label>:54                                      ; preds = %14
  tail call void @llvm.dbg.value(metadata double %46, i64 0, metadata !1165, metadata !1851) #4, !dbg !4306
  %55 = fmul double %46, %46, !dbg !4308
  %56 = fsub double 1.000000e+00, %55, !dbg !4309
  tail call void @llvm.dbg.value(metadata double %56, i64 0, metadata !1346, metadata !1851) #4, !dbg !4310
  %57 = fcmp une double %56, 0.000000e+00, !dbg !4311
  br i1 %57, label %58, label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, !dbg !4313

; <label>:58                                      ; preds = %54
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1289, metadata !1851) #4, !dbg !4314
  tail call void @llvm.dbg.value(metadata double* %30, i64 0, metadata !1290, metadata !1851) #4, !dbg !4317
  %59 = fmul double %19, %32, !dbg !4318
  %60 = fmul double %24, %36, !dbg !4319
  %61 = fadd double %59, %60, !dbg !4320
  %62 = fmul double %29, %42, !dbg !4321
  %63 = fadd double %61, %62, !dbg !4322
  tail call void @llvm.dbg.value(metadata double %63, i64 0, metadata !1288, metadata !1851) #4, !dbg !4323
  tail call void @llvm.dbg.value(metadata double %63, i64 0, metadata !1357, metadata !1851) #4, !dbg !4324
  tail call void @llvm.dbg.value(metadata double %63, i64 0, metadata !1357, metadata !1851) #4, !dbg !4324
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1289, metadata !1851) #4, !dbg !4325
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1290, metadata !1851) #4, !dbg !4327
  %64 = fmul double %19, %19, !dbg !4328
  %65 = fmul double %24, %24, !dbg !4329
  %66 = fadd double %64, %65, !dbg !4330
  %67 = fmul double %29, %29, !dbg !4331
  %68 = fadd double %66, %67, !dbg !4332
  tail call void @llvm.dbg.value(metadata double %68, i64 0, metadata !1288, metadata !1851) #4, !dbg !4333
  tail call void @llvm.dbg.value(metadata double %68, i64 0, metadata !1358, metadata !1851) #4, !dbg !4334
  tail call void @llvm.dbg.value(metadata double %68, i64 0, metadata !1358, metadata !1851) #4, !dbg !4334
  %69 = fmul double %46, %51, !dbg !4335
  %70 = fsub double %63, %69, !dbg !4336
  tail call void @llvm.dbg.value(metadata double %70, i64 0, metadata !1347, metadata !1851) #4, !dbg !4337
  tail call void @llvm.dbg.value(metadata double %51, i64 0, metadata !1165, metadata !1851) #4, !dbg !4338
  %71 = fmul double %51, %51, !dbg !4340
  %72 = fsub double %68, %71, !dbg !4341
  %73 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 23, !dbg !4342
  %74 = load double* %73, align 8, !dbg !4342, !tbaa !4343
  tail call void @llvm.dbg.value(metadata double %74, i64 0, metadata !1165, metadata !1851) #4, !dbg !4344
  %75 = fmul double %74, %74, !dbg !4346
  %76 = fsub double %72, %75, !dbg !4347
  tail call void @llvm.dbg.value(metadata double %76, i64 0, metadata !1348, metadata !1851) #4, !dbg !4348
  tail call void @llvm.dbg.value(metadata double %70, i64 0, metadata !1165, metadata !1851) #4, !dbg !4349
  %77 = fmul double %70, %70, !dbg !4351
  %78 = fmul double %56, %76, !dbg !4352
  %79 = fsub double %77, %78, !dbg !4353
  tail call void @llvm.dbg.value(metadata double %79, i64 0, metadata !1349, metadata !1851) #4, !dbg !4354
  %80 = fcmp ogt double %79, 1.000000e-07, !dbg !4355
  br i1 %80, label %81, label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, !dbg !4357

; <label>:81                                      ; preds = %58
  %82 = tail call double @sqrt(double %79) #8, !dbg !4358
  tail call void @llvm.dbg.value(metadata double %82, i64 0, metadata !1349, metadata !1851) #4, !dbg !4354
  %83 = fsub double -0.000000e+00, %70, !dbg !4360
  %84 = fsub double %82, %70, !dbg !4361
  %85 = fdiv double %84, %56, !dbg !4362
  tail call void @llvm.dbg.value(metadata double %85, i64 0, metadata !1353, metadata !1851) #4, !dbg !4363
  %86 = fsub double %83, %82, !dbg !4364
  %87 = fdiv double %86, %56, !dbg !4365
  tail call void @llvm.dbg.value(metadata double %87, i64 0, metadata !1354, metadata !1851) #4, !dbg !4366
  %88 = fcmp ogt double %85, %87, !dbg !4367
  tail call void @llvm.dbg.value(metadata double %85, i64 0, metadata !1352, metadata !1851) #4, !dbg !4369
  tail call void @llvm.dbg.value(metadata double %87, i64 0, metadata !1353, metadata !1851) #4, !dbg !4363
  tail call void @llvm.dbg.value(metadata double %85, i64 0, metadata !1354, metadata !1851) #4, !dbg !4366
  %t1.0.i = select i1 %88, double %87, double %85, !dbg !4370
  %t2.0.i = select i1 %88, double %85, double %87, !dbg !4370
  %89 = fmul double %46, %t1.0.i, !dbg !4371
  %90 = fadd double %51, %89, !dbg !4372
  tail call void @llvm.dbg.value(metadata double %90, i64 0, metadata !1350, metadata !1851) #4, !dbg !4373
  %91 = fmul double %46, %t2.0.i, !dbg !4374
  %92 = fadd double %51, %91, !dbg !4375
  tail call void @llvm.dbg.value(metadata double %92, i64 0, metadata !1351, metadata !1851) #4, !dbg !4376
  %93 = fcmp ole double %90, 0.000000e+00, !dbg !4377
  %94 = fcmp ole double %92, 0.000000e+00, !dbg !4379
  %or.cond3.i = and i1 %93, %94, !dbg !4380
  br i1 %or.cond3.i, label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, label %95, !dbg !4380

; <label>:95                                      ; preds = %81
  %or.cond5.i = or i1 %93, %94, !dbg !4381
  %.not.i = xor i1 %94, true, !dbg !4381
  %brmerge.i = or i1 %93, %.not.i, !dbg !4381
  %t1.0.mux.i = select i1 %or.cond5.i, double 0.000000e+00, double %t1.0.i, !dbg !4381
  br i1 %brmerge.i, label %99, label %96, !dbg !4381

; <label>:96                                      ; preds = %95
  %97 = fsub double 1.000000e+07, %51, !dbg !4383
  %98 = fdiv double %97, %46, !dbg !4387
  tail call void @llvm.dbg.value(metadata double %98, i64 0, metadata !1354, metadata !1851) #4, !dbg !4366
  br label %99, !dbg !4388

; <label>:99                                      ; preds = %96, %95
  %t1.1.i = phi double [ %t1.0.i, %96 ], [ %t1.0.mux.i, %95 ], !dbg !4388
  %t2.1.i = phi double [ %98, %96 ], [ %t2.0.i, %95 ], !dbg !4388
  %100 = bitcast i64* %t1.sroa.0 to double*, !dbg !4389
  store double %t1.1.i, double* %100, align 8, !dbg !4389
  %101 = bitcast i64* %t2.sroa.0 to double*, !dbg !4390
  store double %t2.1.i, double* %101, align 8, !dbg !4390
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1335, metadata !1851), !dbg !4229
  br label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, !dbg !4391

; <label>:102                                     ; preds = %10
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1335, metadata !1851), !dbg !4229
  store i64 0, i64* %t1.sroa.0, align 8, !dbg !4392
  %103 = bitcast %"struct.pov::istk_entry"* %Inter to i64*, !dbg !4393
  %104 = load i64* %103, align 8, !dbg !4393, !tbaa !1941
  store i64 %104, i64* %t2.sroa.0, align 8, !dbg !4394
  tail call void @llvm.dbg.value(metadata i8 1, i64 0, metadata !1337, metadata !1851), !dbg !4231
  %105 = bitcast i64 %104 to double
  br label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, !dbg !4395

; <label>:106                                     ; preds = %10
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1335, metadata !1851), !dbg !4229
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1336, metadata !1851), !dbg !4230
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Ray, i64 0, metadata !1369, metadata !1851) #4, !dbg !4396
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_Source_Struct"* %6, i64 0, metadata !1370, metadata !1851) #4, !dbg !4399
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1371, metadata !1851) #4, !dbg !4400
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1372, metadata !1851) #4, !dbg !4401
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1389, metadata !1851) #4, !dbg !4402
  %107 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 23, !dbg !4403
  %108 = load double* %107, align 8, !dbg !4403, !tbaa !4343
  %109 = fmul double %108, %108, !dbg !4404
  %110 = fdiv double 1.000000e+00, %109, !dbg !4405
  tail call void @llvm.dbg.value(metadata double %110, i64 0, metadata !1378, metadata !1851) #4, !dbg !4406
  %111 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 0, !dbg !4407
  %112 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 17, i64 0, !dbg !4408
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1364, metadata !1851) #4, !dbg !4409
  tail call void @llvm.dbg.value(metadata double* %111, i64 0, metadata !1365, metadata !1851) #4, !dbg !4411
  tail call void @llvm.dbg.value(metadata double* %112, i64 0, metadata !1366, metadata !1851) #4, !dbg !4412
  %113 = load double* %111, align 8, !dbg !4413, !tbaa !2166
  %114 = load double* %112, align 8, !dbg !4414, !tbaa !2166
  %115 = fsub double %113, %114, !dbg !4415
  tail call void @llvm.dbg.value(metadata double %115, i64 0, metadata !1389, metadata !4265) #4, !dbg !4402
  %116 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 1, !dbg !4416
  %117 = load double* %116, align 8, !dbg !4416, !tbaa !2166
  %118 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 17, i64 1, !dbg !4417
  %119 = load double* %118, align 8, !dbg !4417, !tbaa !2166
  %120 = fsub double %117, %119, !dbg !4418
  tail call void @llvm.dbg.value(metadata double %120, i64 0, metadata !1389, metadata !4269) #4, !dbg !4402
  %121 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 2, !dbg !4419
  %122 = load double* %121, align 8, !dbg !4419, !tbaa !2166
  %123 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 17, i64 2, !dbg !4420
  %124 = load double* %123, align 8, !dbg !4420, !tbaa !2166
  %125 = fsub double %122, %124, !dbg !4421
  tail call void @llvm.dbg.value(metadata double %125, i64 0, metadata !1389, metadata !4273) #4, !dbg !4402
  %126 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !4422
  %127 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 16, i64 0, !dbg !4423
  tail call void @llvm.dbg.value(metadata double* %126, i64 0, metadata !1289, metadata !1851) #4, !dbg !4424
  tail call void @llvm.dbg.value(metadata double* %127, i64 0, metadata !1290, metadata !1851) #4, !dbg !4426
  %128 = load double* %126, align 8, !dbg !4427, !tbaa !2166
  %129 = load double* %127, align 8, !dbg !4428, !tbaa !2166
  %130 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 1, !dbg !4429
  %131 = load double* %130, align 8, !dbg !4429, !tbaa !2166
  %132 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 16, i64 1, !dbg !4430
  %133 = load double* %132, align 8, !dbg !4430, !tbaa !2166
  %134 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !4431
  %135 = load double* %134, align 8, !dbg !4431, !tbaa !2166
  %136 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %6, i64 0, i32 16, i64 2, !dbg !4432
  %137 = load double* %136, align 8, !dbg !4432, !tbaa !2166
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1288, metadata !1851) #4, !dbg !4433
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1385, metadata !1851) #4, !dbg !4434
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1385, metadata !1851) #4, !dbg !4434
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1385, metadata !1851) #4, !dbg !4434
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1385, metadata !1851) #4, !dbg !4434
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1385, metadata !1851) #4, !dbg !4434
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1289, metadata !1851) #4, !dbg !4435
  tail call void @llvm.dbg.value(metadata double* %127, i64 0, metadata !1290, metadata !1851) #4, !dbg !4437
  %138 = insertelement <2 x double> undef, double %115, i32 0, !dbg !4438
  %139 = insertelement <2 x double> %138, double %128, i32 1, !dbg !4438
  %140 = insertelement <2 x double> undef, double %129, i32 0, !dbg !4438
  %141 = insertelement <2 x double> %140, double %129, i32 1, !dbg !4438
  %142 = fmul <2 x double> %139, %141, !dbg !4438
  %143 = insertelement <2 x double> undef, double %120, i32 0, !dbg !4439
  %144 = insertelement <2 x double> %143, double %131, i32 1, !dbg !4439
  %145 = insertelement <2 x double> undef, double %133, i32 0, !dbg !4439
  %146 = insertelement <2 x double> %145, double %133, i32 1, !dbg !4439
  %147 = fmul <2 x double> %144, %146, !dbg !4439
  %148 = fadd <2 x double> %142, %147, !dbg !4440
  %149 = insertelement <2 x double> undef, double %125, i32 0, !dbg !4441
  %150 = insertelement <2 x double> %149, double %135, i32 1, !dbg !4441
  %151 = insertelement <2 x double> undef, double %137, i32 0, !dbg !4441
  %152 = insertelement <2 x double> %151, double %137, i32 1, !dbg !4441
  %153 = fmul <2 x double> %150, %152, !dbg !4441
  %154 = fadd <2 x double> %148, %153, !dbg !4442
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1288, metadata !1851) #4, !dbg !4443
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1386, metadata !1851) #4, !dbg !4444
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1386, metadata !1851) #4, !dbg !4444
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1386, metadata !1851) #4, !dbg !4444
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1386, metadata !1851) #4, !dbg !4444
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1386, metadata !1851) #4, !dbg !4444
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1395, metadata !1851) #4, !dbg !4445
  %155 = fmul double %115, %115, !dbg !4447
  %156 = fmul double %120, %120, !dbg !4448
  %157 = fadd double %155, %156, !dbg !4449
  %158 = fmul double %125, %125, !dbg !4450
  %159 = fadd double %157, %158, !dbg !4451
  %160 = tail call double @sqrt(double %159) #8, !dbg !4452
  tail call void @llvm.dbg.value(metadata double %160, i64 0, metadata !1394, metadata !1851) #4, !dbg !4453
  tail call void @llvm.dbg.value(metadata double %160, i64 0, metadata !1379, metadata !1851) #4, !dbg !4454
  tail call void @llvm.dbg.value(metadata double %160, i64 0, metadata !1379, metadata !1851) #4, !dbg !4454
  %161 = fcmp ogt double %160, 1.000000e-07, !dbg !4455
  br i1 %161, label %162, label %167, !dbg !4457

; <label>:162                                     ; preds = %106
  %163 = extractelement <2 x double> %154, i32 0, !dbg !4458
  %164 = fdiv double %163, %160, !dbg !4458
  %165 = fcmp oge double %164, %108, !dbg !4460
  %166 = zext i1 %165 to i32, !dbg !4461
  tail call void @llvm.dbg.value(metadata i32 %166, i64 0, metadata !1373, metadata !1851) #4, !dbg !4462
  br label %167, !dbg !4463

; <label>:167                                     ; preds = %162, %106
  %viewpoint_is_in_cone.0.i = phi i32 [ %166, %162 ], [ 0, %106 ], !dbg !4464
  %168 = extractelement <2 x double> %154, i32 1, !dbg !4465
  %169 = fcmp ole double %168, 0.000000e+00, !dbg !4465
  %170 = extractelement <2 x double> %154, i32 0, !dbg !4467
  %171 = fcmp olt double %170, 0.000000e+00, !dbg !4467
  %or.cond.i1 = and i1 %169, %171, !dbg !4468
  br i1 %or.cond.i1, label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, label %172, !dbg !4468

; <label>:172                                     ; preds = %167
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1289, metadata !1851) #4, !dbg !4469
  tail call void @llvm.dbg.value(metadata double* %126, i64 0, metadata !1290, metadata !1851) #4, !dbg !4471
  %173 = fmul double %115, %128, !dbg !4472
  %174 = fmul double %120, %131, !dbg !4473
  %175 = fadd double %173, %174, !dbg !4474
  %176 = fmul double %125, %135, !dbg !4475
  %177 = fadd double %175, %176, !dbg !4476
  tail call void @llvm.dbg.value(metadata double %177, i64 0, metadata !1288, metadata !1851) #4, !dbg !4477
  tail call void @llvm.dbg.value(metadata double %177, i64 0, metadata !1387, metadata !1851) #4, !dbg !4478
  tail call void @llvm.dbg.value(metadata double %177, i64 0, metadata !1387, metadata !1851) #4, !dbg !4478
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1289, metadata !1851) #4, !dbg !4479
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1290, metadata !1851) #4, !dbg !4481
  tail call void @llvm.dbg.value(metadata double %159, i64 0, metadata !1288, metadata !1851) #4, !dbg !4482
  tail call void @llvm.dbg.value(metadata double %159, i64 0, metadata !1388, metadata !1851) #4, !dbg !4483
  tail call void @llvm.dbg.value(metadata double %159, i64 0, metadata !1388, metadata !1851) #4, !dbg !4483
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1165, metadata !1851) #4, !dbg !4484
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1374, metadata !1851) #4, !dbg !4486
  %178 = extractelement <2 x double> %154, i32 1, !dbg !4487
  %179 = shufflevector <2 x double> %154, <2 x double> undef, <2 x i32> <i32 1, i32 1>, !dbg !4487
  %180 = extractelement <2 x double> %154, i32 0, !dbg !4487
  %181 = fmul <2 x double> %179, %154, !dbg !4487
  %182 = insertelement <2 x double> undef, double %110, i32 0, !dbg !4488
  %183 = insertelement <2 x double> %182, double %110, i32 1, !dbg !4488
  %184 = fmul <2 x double> %181, %183, !dbg !4488
  %185 = insertelement <2 x double> undef, double %177, i32 0, !dbg !4489
  %186 = insertelement <2 x double> %185, double 1.000000e+00, i32 1, !dbg !4489
  %187 = fsub <2 x double> %186, %184, !dbg !4489
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1375, metadata !1851) #4, !dbg !4490
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1165, metadata !1851) #4, !dbg !4491
  %188 = fmul double %180, %180, !dbg !4493
  %189 = fmul double %110, %188, !dbg !4494
  %190 = fsub double %159, %189, !dbg !4495
  tail call void @llvm.dbg.value(metadata double %190, i64 0, metadata !1376, metadata !1851) #4, !dbg !4496
  %191 = extractelement <2 x double> %187, i32 1, !dbg !4497
  %192 = fcmp une double %191, 0.000000e+00, !dbg !4497
  br i1 %192, label %193, label %241, !dbg !4499

; <label>:193                                     ; preds = %172
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1165, metadata !1851) #4, !dbg !4500
  %194 = extractelement <2 x double> %187, i32 0, !dbg !4503
  %195 = insertelement <2 x double> undef, double %194, i32 0, !dbg !4503
  %196 = insertelement <2 x double> %195, double %190, i32 1, !dbg !4503
  %197 = fmul <2 x double> %187, %196, !dbg !4503
  %198 = extractelement <2 x double> %197, i32 0, !dbg !4504
  %199 = extractelement <2 x double> %197, i32 1, !dbg !4504
  %200 = fsub double %198, %199, !dbg !4504
  tail call void @llvm.dbg.value(metadata double %200, i64 0, metadata !1377, metadata !1851) #4, !dbg !4505
  %201 = fcmp ogt double %200, 1.000000e-07, !dbg !4506
  br i1 %201, label %202, label %227, !dbg !4508

; <label>:202                                     ; preds = %193
  %203 = tail call double @sqrt(double %200) #8, !dbg !4509
  tail call void @llvm.dbg.value(metadata double %203, i64 0, metadata !1377, metadata !1851) #4, !dbg !4505
  %204 = fsub double -0.000000e+00, %194, !dbg !4511
  %205 = fsub double %203, %194, !dbg !4512
  %206 = fdiv double %205, %191, !dbg !4513
  tail call void @llvm.dbg.value(metadata double %206, i64 0, metadata !1383, metadata !1851) #4, !dbg !4514
  %207 = fsub double %204, %203, !dbg !4515
  %208 = fdiv double %207, %191, !dbg !4516
  tail call void @llvm.dbg.value(metadata double %208, i64 0, metadata !1384, metadata !1851) #4, !dbg !4517
  %209 = fcmp ogt double %206, %208, !dbg !4518
  tail call void @llvm.dbg.value(metadata double %206, i64 0, metadata !1382, metadata !1851) #4, !dbg !4520
  tail call void @llvm.dbg.value(metadata double %208, i64 0, metadata !1383, metadata !1851) #4, !dbg !4514
  tail call void @llvm.dbg.value(metadata double %206, i64 0, metadata !1384, metadata !1851) #4, !dbg !4517
  %t1.0.i2 = select i1 %209, double %208, double %206, !dbg !4521
  %t2.0.i3 = select i1 %209, double %206, double %208, !dbg !4521
  %210 = fmul double %178, %t1.0.i2, !dbg !4522
  %211 = fadd double %180, %210, !dbg !4523
  tail call void @llvm.dbg.value(metadata double %211, i64 0, metadata !1380, metadata !1851) #4, !dbg !4524
  %212 = fmul double %178, %t2.0.i3, !dbg !4525
  %213 = fadd double %180, %212, !dbg !4526
  tail call void @llvm.dbg.value(metadata double %213, i64 0, metadata !1381, metadata !1851) #4, !dbg !4527
  %214 = fcmp ole double %211, 0.000000e+00, !dbg !4528
  %215 = fcmp ole double %213, 0.000000e+00, !dbg !4530
  %or.cond3.i4 = and i1 %214, %215, !dbg !4531
  br i1 %or.cond3.i4, label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, label %216, !dbg !4531

; <label>:216                                     ; preds = %202
  %or.cond5.i5 = or i1 %214, %215, !dbg !4532
  br i1 %or.cond5.i5, label %217, label %224, !dbg !4532

; <label>:217                                     ; preds = %216
  %218 = icmp ne i32 %viewpoint_is_in_cone.0.i, 0, !dbg !4534
  br i1 %214, label %219, label %223, !dbg !4539

; <label>:219                                     ; preds = %217
  br i1 %218, label %220, label %224, !dbg !4540

; <label>:220                                     ; preds = %219
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1383, metadata !1851) #4, !dbg !4514
  %221 = fcmp ogt double %t2.0.i3, 0.000000e+00, !dbg !4541
  %222 = select i1 %221, double %t2.0.i3, double 1.000000e+07, !dbg !4543
  tail call void @llvm.dbg.value(metadata double %222, i64 0, metadata !1384, metadata !1851) #4, !dbg !4517
  br label %224, !dbg !4544

; <label>:223                                     ; preds = %217
  %.t1.0.i = select i1 %218, double 0.000000e+00, double %t1.0.i2, !dbg !4545
  %t1.0..i = select i1 %218, double %t1.0.i2, double 1.000000e+07, !dbg !4545
  br label %224, !dbg !4545

; <label>:224                                     ; preds = %223, %220, %219, %216
  %t1.1.i6 = phi double [ 0.000000e+00, %220 ], [ %t1.0.i2, %216 ], [ %t2.0.i3, %219 ], [ %.t1.0.i, %223 ], !dbg !4464
  %t2.1.i7 = phi double [ %222, %220 ], [ %t2.0.i3, %216 ], [ 1.000000e+07, %219 ], [ %t1.0..i, %223 ], !dbg !4464
  %225 = bitcast i64* %t1.sroa.0 to double*, !dbg !4549
  store double %t1.1.i6, double* %225, align 8, !dbg !4549
  %226 = bitcast i64* %t2.sroa.0 to double*, !dbg !4550
  store double %t2.1.i7, double* %226, align 8, !dbg !4550
  br label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, !dbg !4551

; <label>:227                                     ; preds = %193
  %228 = fcmp ogt double %200, -1.000000e-07, !dbg !4552
  br i1 %228, label %229, label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, !dbg !4555

; <label>:229                                     ; preds = %227
  %230 = icmp eq i32 %viewpoint_is_in_cone.0.i, 0, !dbg !4556
  br i1 %230, label %234, label %231, !dbg !4559

; <label>:231                                     ; preds = %229
  store i64 0, i64* %t1.sroa.0, align 8, !dbg !4560
  %232 = fsub double -0.000000e+00, %194, !dbg !4562
  %233 = fdiv double %232, %191, !dbg !4563
  %phitmp = bitcast double %233 to i64, !dbg !4564
  br label %238, !dbg !4564

; <label>:234                                     ; preds = %229
  %235 = fsub double -0.000000e+00, %194, !dbg !4565
  %236 = fdiv double %235, %191, !dbg !4567
  %237 = bitcast i64* %t1.sroa.0 to double*, !dbg !4568
  store double %236, double* %237, align 8, !dbg !4568
  br label %238, !dbg !4464

; <label>:238                                     ; preds = %234, %231
  %239 = phi double [ %236, %234 ], [ 0.000000e+00, %231 ]
  %storemerge.i = phi i64 [ 4711630319722168320, %234 ], [ %phitmp, %231 ]
  store i64 %storemerge.i, i64* %t2.sroa.0, align 8, !dbg !4569
  %240 = bitcast i64 %storemerge.i to double
  br label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, !dbg !4570

; <label>:241                                     ; preds = %172
  %242 = icmp eq i32 %viewpoint_is_in_cone.0.i, 0, !dbg !4571
  br i1 %242, label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, label %243, !dbg !4574

; <label>:243                                     ; preds = %241
  store i64 0, i64* %t1.sroa.0, align 8, !dbg !4575
  %244 = fsub double -0.000000e+00, %190, !dbg !4577
  %245 = extractelement <2 x double> %187, i32 0, !dbg !4578
  %246 = fdiv double %244, %245, !dbg !4578
  %247 = bitcast i64* %t2.sroa.0 to double*, !dbg !4579
  store double %246, double* %247, align 8, !dbg !4579
  br label %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread, !dbg !4580

_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread: ; preds = %243, %238, %224, %227, %241, %202, %167, %54, %58, %81, %14, %99, %10, %102
  %248 = phi double [ %246, %243 ], [ %240, %238 ], [ %t2.1.i7, %224 ], [ 0.000000e+00, %227 ], [ 0.000000e+00, %241 ], [ 0.000000e+00, %202 ], [ 0.000000e+00, %167 ], [ 0.000000e+00, %54 ], [ 0.000000e+00, %58 ], [ 0.000000e+00, %81 ], [ 0.000000e+00, %14 ], [ %t2.1.i, %99 ], [ 0.000000e+00, %10 ], [ %105, %102 ]
  %249 = phi double [ 0.000000e+00, %243 ], [ %239, %238 ], [ %t1.1.i6, %224 ], [ 0.000000e+00, %227 ], [ 0.000000e+00, %241 ], [ 0.000000e+00, %202 ], [ 0.000000e+00, %167 ], [ 0.000000e+00, %54 ], [ 0.000000e+00, %58 ], [ 0.000000e+00, %81 ], [ 0.000000e+00, %14 ], [ %t1.1.i, %99 ], [ 0.000000e+00, %10 ], [ 0.000000e+00, %102 ]
  store double 0.000000e+00, double* %1, align 8, !dbg !4581
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1335, metadata !1851), !dbg !4229
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1402, metadata !1851), !dbg !4583
  tail call void @llvm.dbg.value(metadata double* %1, i64 0, metadata !1403, metadata !1851), !dbg !4585
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1410, metadata !1851), !dbg !4586
  tail call void @llvm.dbg.value(metadata double* %1, i64 0, metadata !1411, metadata !1851), !dbg !4588
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1417, metadata !1851), !dbg !4589
  tail call void @llvm.dbg.value(metadata double* %1, i64 0, metadata !1418, metadata !1851), !dbg !4591
  %250 = bitcast i64* %t1.sroa.0 to double*, !dbg !4592
  %251 = fcmp olt double %249, 0.000000e+00, !dbg !4593
  %252 = select i1 %251, double* %1, double* %250, !dbg !4594
  %253 = bitcast double* %252 to i64*, !dbg !4595
  %254 = load i64* %253, align 8, !dbg !4595, !tbaa !2166
  store i64 %254, i64* %t1.sroa.0, align 8, !dbg !4596
  %255 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 0, !dbg !4597
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1336, metadata !1851), !dbg !4230
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1421, metadata !1851), !dbg !4598
  tail call void @llvm.dbg.value(metadata double* %255, i64 0, metadata !1422, metadata !1851), !dbg !4600
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1425, metadata !1851), !dbg !4601
  tail call void @llvm.dbg.value(metadata double* %255, i64 0, metadata !1426, metadata !1851), !dbg !4603
  tail call void @llvm.dbg.value(metadata double* %255, i64 0, metadata !1417, metadata !1851), !dbg !4604
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1418, metadata !1851), !dbg !4606
  %256 = load double* %255, align 8, !dbg !4607, !tbaa !2166
  %257 = bitcast i64* %t2.sroa.0 to double*, !dbg !4608
  %258 = fcmp olt double %256, %248, !dbg !4609
  %259 = select i1 %258, double* %255, double* %257, !dbg !4610
  %260 = bitcast double* %259 to i64*, !dbg !4611
  %261 = load i64* %260, align 8, !dbg !4611, !tbaa !2166
  store i64 %261, i64* %t2.sroa.0, align 8, !dbg !4612
  store i8 1, i8* %2, align 1, !dbg !4613, !tbaa !2648
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1335, metadata !1851), !dbg !4229
  %262 = bitcast double* %3 to i64*, !dbg !4614
  store i64 %254, i64* %262, align 8, !dbg !4614, !tbaa !2653
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1336, metadata !1851), !dbg !4230
  %263 = bitcast double* %4 to i64*, !dbg !4615
  store i64 %261, i64* %263, align 8, !dbg !4615, !tbaa !2657
  br label %264, !dbg !4616

; <label>:264                                     ; preds = %0, %_ZN3povL23intersect_cylinderlightEPNS_10Ray_StructEPNS_19Light_Source_StructEPdS4_.exit.thread
  ret void, !dbg !4616
}
