define internal fastcc void @_ZN3povL23update_light_list_entryEPNS_17Light_List_StructEPNS_10Ray_StructEPNS_10istk_entryE(%"struct.pov::Light_List_Struct"* nocapture %light, %"struct.pov::Ray_Struct"* nocapture %Ray, %"struct.pov::istk_entry"* nocapture %Inter) #6 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Light_List_Struct"* %light}, i64 0, metadata !1196), !dbg !2615
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Ray_Struct"* %Ray}, i64 0, metadata !1197), !dbg !2615
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::istk_entry"* %Inter}, i64 0, metadata !1198), !dbg !2615
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2616
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2617), !dbg !2620
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2621), !dbg !2624
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2625), !dbg !2627
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2628
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2629
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2630
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1200), !dbg !2616
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2631), !dbg !2633
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2634), !dbg !2624
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2635), !dbg !2627
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1200), !dbg !2636
  tail call void @llvm.dbg.value(metadata !2637, i64 0, metadata !1201), !dbg !2638
  %active = getelementptr inbounds %"struct.pov::Light_List_Struct"* %light, i64 0, i32 0, !dbg !2639
  store i8 0, i8* %active, align 1, !dbg !2639, !tbaa !1942
  %s0 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %light, i64 0, i32 1, !dbg !2640
  store double 0.000000e+00, double* %s0, align 8, !dbg !2640, !tbaa !1601
  %s1 = getelementptr inbounds %"struct.pov::Light_List_Struct"* %light, i64 0, i32 2, !dbg !2641
  store double 1.000000e+07, double* %s1, align 8, !dbg !2641, !tbaa !1601
  %Light = getelementptr inbounds %"struct.pov::Light_List_Struct"* %light, i64 0, i32 3, !dbg !2642
  %0 = load %"struct.pov::Light_Source_Struct"** %Light, align 8, !dbg !2642, !tbaa !1570
  %Media_Interaction = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 39, !dbg !2642
  %1 = load i32* %Media_Interaction, align 4, !dbg !2642, !tbaa !1580
  %tobool = icmp eq i32 %1, 0, !dbg !2642
  br i1 %tobool, label %return, label %if.end, !dbg !2642

if.end:                                           ; preds = %entry
  %Light_Type = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 27, !dbg !2643
  %2 = load i8* %Light_Type, align 1, !dbg !2643, !tbaa !1567
  %conv = zext i8 %2 to i32, !dbg !2643
  switch i32 %conv, label %sw.epilog [
    i32 4, label %sw.bb
    i32 1, label %sw.bb7
    i32 2, label %sw.bb9
  ], !dbg !2643

sw.bb:                                            ; preds = %if.end
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Ray_Struct"* %Ray}, i64 0, metadata !2644) #4, !dbg !2627
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Light_Source_Struct"* %0}, i64 0, metadata !2645) #4, !dbg !2627
  tail call void @llvm.dbg.declare(metadata !2646, metadata !1290) #4, !dbg !2647
  %arraydecay1.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 0, !dbg !2648
  %arraydecay2.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 17, i64 0, !dbg !2648
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2650) #4, !dbg !2651
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay1.i}, i64 0, metadata !2652) #4, !dbg !2651
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2.i}, i64 0, metadata !2653) #4, !dbg !2651
  %3 = load double* %arraydecay1.i, align 8, !dbg !2654, !tbaa !1601
  %4 = load double* %arraydecay2.i, align 8, !dbg !2654, !tbaa !1601
  %sub.i.i = fsub double %3, %4, !dbg !2654
  %arrayidx3.i.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 1, !dbg !2655
  %5 = load double* %arrayidx3.i.i, align 8, !dbg !2655, !tbaa !1601
  %arrayidx4.i.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 17, i64 1, !dbg !2655
  %6 = load double* %arrayidx4.i.i, align 8, !dbg !2655, !tbaa !1601
  %sub5.i.i = fsub double %5, %6, !dbg !2655
  %arrayidx7.i.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 2, !dbg !2656
  %7 = load double* %arrayidx7.i.i, align 8, !dbg !2656, !tbaa !1601
  %arrayidx8.i.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 17, i64 2, !dbg !2656
  %8 = load double* %arrayidx8.i.i, align 8, !dbg !2656, !tbaa !1601
  %sub9.i.i = fsub double %7, %8, !dbg !2656
  %arraydecay3.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !2657
  %arraydecay5.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 16, i64 0, !dbg !2657
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay3.i}, i64 0, metadata !2658) #4, !dbg !2659
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay5.i}, i64 0, metadata !2660) #4, !dbg !2659
  %9 = load double* %arraydecay3.i, align 8, !dbg !2661, !tbaa !1601
  %10 = load double* %arraydecay5.i, align 8, !dbg !2661, !tbaa !1601
  %mul.i103.i = fmul double %9, %10, !dbg !2661
  %arrayidx2.i104.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 1, !dbg !2661
  %11 = load double* %arrayidx2.i104.i, align 8, !dbg !2661, !tbaa !1601
  %arrayidx3.i105.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 16, i64 1, !dbg !2661
  %12 = load double* %arrayidx3.i105.i, align 8, !dbg !2661, !tbaa !1601
  %mul4.i106.i = fmul double %11, %12, !dbg !2661
  %add.i107.i = fadd double %mul.i103.i, %mul4.i106.i, !dbg !2661
  %arrayidx5.i108.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !2661
  %13 = load double* %arrayidx5.i108.i, align 8, !dbg !2661, !tbaa !1601
  %arrayidx6.i109.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 16, i64 2, !dbg !2661
  %14 = load double* %arrayidx6.i109.i, align 8, !dbg !2661, !tbaa !1601
  %mul7.i110.i = fmul double %13, %14, !dbg !2661
  %add8.i111.i = fadd double %add.i107.i, %mul7.i110.i, !dbg !2661
  tail call void @llvm.dbg.value(metadata !{double %add8.i111.i}, i64 0, metadata !2662) #4, !dbg !2661
  tail call void @llvm.dbg.value(metadata !{double %add8.i111.i}, i64 0, metadata !2663) #4, !dbg !2659
  tail call void @llvm.dbg.value(metadata !{double %add8.i111.i}, i64 0, metadata !2664) #4, !dbg !2665
  tail call void @llvm.dbg.value(metadata !{double %add8.i111.i}, i64 0, metadata !2664) #4, !dbg !2666
  tail call void @llvm.dbg.value(metadata !{double %add8.i111.i}, i64 0, metadata !2664) #4, !dbg !2667
  tail call void @llvm.dbg.value(metadata !{double %add8.i111.i}, i64 0, metadata !2664) #4, !dbg !2669
  tail call void @llvm.dbg.value(metadata !{double %add8.i111.i}, i64 0, metadata !2664) #4, !dbg !2671
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2674) #4, !dbg !2676
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay5.i}, i64 0, metadata !2677) #4, !dbg !2676
  %mul.i94.i = fmul double %sub.i.i, %10, !dbg !2678
  %mul4.i97.i = fmul double %sub5.i.i, %12, !dbg !2678
  %add.i98.i = fadd double %mul.i94.i, %mul4.i97.i, !dbg !2678
  %mul7.i101.i = fmul double %sub9.i.i, %14, !dbg !2678
  %add8.i102.i = fadd double %add.i98.i, %mul7.i101.i, !dbg !2678
  tail call void @llvm.dbg.value(metadata !{double %add8.i102.i}, i64 0, metadata !2679) #4, !dbg !2678
  tail call void @llvm.dbg.value(metadata !{double %add8.i102.i}, i64 0, metadata !2680) #4, !dbg !2676
  tail call void @llvm.dbg.value(metadata !{double %add8.i102.i}, i64 0, metadata !2681) #4, !dbg !2665
  tail call void @llvm.dbg.value(metadata !{double %add8.i102.i}, i64 0, metadata !2681) #4, !dbg !2667
  tail call void @llvm.dbg.value(metadata !{double %add8.i102.i}, i64 0, metadata !2681) #4, !dbg !2669
  tail call void @llvm.dbg.value(metadata !{double %add8.i102.i}, i64 0, metadata !2681) #4, !dbg !2671
  %cmp.i = fcmp ole double %add8.i111.i, 0.000000e+00, !dbg !2665
  %cmp9.i = fcmp olt double %add8.i102.i, 0.000000e+00, !dbg !2665
  %or.cond128.i = and i1 %cmp.i, %cmp9.i, !dbg !2665
  br i1 %or.cond128.i, label %sw.epilog, label %if.end.i, !dbg !2665

if.end.i:                                         ; preds = %sw.bb
  tail call void @llvm.dbg.value(metadata !{double %add8.i111.i}, i64 0, metadata !2682) #4, !dbg !2683
  %mul.i93.i = fmul double %add8.i111.i, %add8.i111.i, !dbg !2684
  %sub.i = fsub double 1.000000e+00, %mul.i93.i, !dbg !2666
  tail call void @llvm.dbg.value(metadata !{double %sub.i}, i64 0, metadata !2685) #4, !dbg !2666
  %cmp10.i = fcmp une double %sub.i, 0.000000e+00, !dbg !2686
  br i1 %cmp10.i, label %if.then11.i, label %sw.epilog, !dbg !2686

if.then11.i:                                      ; preds = %if.end.i
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2687) #4, !dbg !2689
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay3.i}, i64 0, metadata !2690) #4, !dbg !2689
  %mul.i84.i = fmul double %sub.i.i, %9, !dbg !2691
  %mul4.i87.i = fmul double %sub5.i.i, %11, !dbg !2691
  %add.i88.i = fadd double %mul.i84.i, %mul4.i87.i, !dbg !2691
  %mul7.i91.i = fmul double %sub9.i.i, %13, !dbg !2691
  %add8.i92.i = fadd double %add.i88.i, %mul7.i91.i, !dbg !2691
  tail call void @llvm.dbg.value(metadata !{double %add8.i92.i}, i64 0, metadata !2692) #4, !dbg !2691
  tail call void @llvm.dbg.value(metadata !{double %add8.i92.i}, i64 0, metadata !2693) #4, !dbg !2689
  tail call void @llvm.dbg.value(metadata !{double %add8.i92.i}, i64 0, metadata !2694) #4, !dbg !2667
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2695) #4, !dbg !2697
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2698) #4, !dbg !2697
  %mul.i81.i = fmul double %sub.i.i, %sub.i.i, !dbg !2699
  %mul4.i.i = fmul double %sub5.i.i, %sub5.i.i, !dbg !2699
  %add.i.i = fadd double %mul.i81.i, %mul4.i.i, !dbg !2699
  %mul7.i.i = fmul double %sub9.i.i, %sub9.i.i, !dbg !2699
  %add8.i.i = fadd double %add.i.i, %mul7.i.i, !dbg !2699
  tail call void @llvm.dbg.value(metadata !{double %add8.i.i}, i64 0, metadata !2700) #4, !dbg !2699
  tail call void @llvm.dbg.value(metadata !{double %add8.i.i}, i64 0, metadata !2701) #4, !dbg !2697
  tail call void @llvm.dbg.value(metadata !{double %add8.i.i}, i64 0, metadata !2702) #4, !dbg !2703
  %mul.i = fmul double %add8.i111.i, %add8.i102.i, !dbg !2667
  %sub17.i = fsub double %add8.i92.i, %mul.i, !dbg !2667
  tail call void @llvm.dbg.value(metadata !{double %sub17.i}, i64 0, metadata !2704) #4, !dbg !2667
  tail call void @llvm.dbg.value(metadata !{double %add8.i102.i}, i64 0, metadata !2705) #4, !dbg !2707
  %mul.i80.i = fmul double %add8.i102.i, %add8.i102.i, !dbg !2708
  %sub19.i = fsub double %add8.i.i, %mul.i80.i, !dbg !2706
  %Falloff.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 23, !dbg !2709
  %15 = load double* %Falloff.i, align 8, !dbg !2709, !tbaa !1601
  tail call void @llvm.dbg.value(metadata !{double %15}, i64 0, metadata !2710) #4, !dbg !2711
  %mul.i79.i = fmul double %15, %15, !dbg !2712
  %sub21.i = fsub double %sub19.i, %mul.i79.i, !dbg !2709
  tail call void @llvm.dbg.value(metadata !{double %sub21.i}, i64 0, metadata !2713) #4, !dbg !2709
  tail call void @llvm.dbg.value(metadata !{double %sub17.i}, i64 0, metadata !2714) #4, !dbg !2716
  %mul.i.i = fmul double %sub17.i, %sub17.i, !dbg !2717
  %mul23.i = fmul double %sub.i, %sub21.i, !dbg !2715
  %sub24.i = fsub double %mul.i.i, %mul23.i, !dbg !2715
  tail call void @llvm.dbg.value(metadata !{double %sub24.i}, i64 0, metadata !2718) #4, !dbg !2715
  %cmp25.i = fcmp ogt double %sub24.i, 1.000000e-07, !dbg !2719
  br i1 %cmp25.i, label %if.then26.i, label %sw.epilog, !dbg !2719

if.then26.i:                                      ; preds = %if.then11.i
  %call27.i = tail call double @sqrt(double %sub24.i) #8, !dbg !2720
  tail call void @llvm.dbg.value(metadata !{double %call27.i}, i64 0, metadata !2718) #4, !dbg !2720
  %sub28.i = fsub double -0.000000e+00, %sub17.i, !dbg !2721
  %add.i = fsub double %call27.i, %sub17.i, !dbg !2721
  %div.i = fdiv double %add.i, %sub.i, !dbg !2721
  tail call void @llvm.dbg.value(metadata !{double %div.i}, i64 0, metadata !2722) #4, !dbg !2721
  %sub30.i = fsub double %sub28.i, %call27.i, !dbg !2723
  %div31.i = fdiv double %sub30.i, %sub.i, !dbg !2723
  tail call void @llvm.dbg.value(metadata !{double %div31.i}, i64 0, metadata !2724) #4, !dbg !2723
  %cmp32.i = fcmp ogt double %div.i, %div31.i, !dbg !2725
  tail call void @llvm.dbg.value(metadata !{double %div.i}, i64 0, metadata !2726) #4, !dbg !2727
  tail call void @llvm.dbg.value(metadata !{double %div31.i}, i64 0, metadata !2722) #4, !dbg !2727
  tail call void @llvm.dbg.value(metadata !{double %div.i}, i64 0, metadata !2724) #4, !dbg !2727
  %t1.0.i = select i1 %cmp32.i, double %div31.i, double %div.i, !dbg !2725
  %t2.0.i = select i1 %cmp32.i, double %div.i, double %div31.i, !dbg !2725
  %mul35.i = fmul double %add8.i111.i, %t1.0.i, !dbg !2669
  %add36.i = fadd double %add8.i102.i, %mul35.i, !dbg !2669
  tail call void @llvm.dbg.value(metadata !{double %add36.i}, i64 0, metadata !2729) #4, !dbg !2669
  %mul37.i = fmul double %add8.i111.i, %t2.0.i, !dbg !2730
  %add38.i = fadd double %add8.i102.i, %mul37.i, !dbg !2730
  tail call void @llvm.dbg.value(metadata !{double %add38.i}, i64 0, metadata !2731) #4, !dbg !2730
  %cmp39.i = fcmp ole double %add36.i, 0.000000e+00, !dbg !2732
  %cmp39.not.i = xor i1 %cmp39.i, true, !dbg !2732
  %cmp41.i = fcmp ugt double %add38.i, 0.000000e+00, !dbg !2732
  %or.cond.i = or i1 %cmp41.i, %cmp39.not.i, !dbg !2732
  br i1 %or.cond.i, label %if.end43.i, label %sw.epilog, !dbg !2732

if.end43.i:                                       ; preds = %if.then26.i
  %or.cond78.i = and i1 %cmp41.i, %cmp39.not.i, !dbg !2733
  %brmerge.i = or i1 %or.cond78.i, %cmp39.i, !dbg !2733
  br i1 %brmerge.i, label %if.end43.i.sw.epilog_crit_edge, label %if.else.i, !dbg !2733

if.end43.i.sw.epilog_crit_edge:                   ; preds = %if.end43.i
  %t1.0.mux.i = select i1 %or.cond78.i, double %t1.0.i, double 0.000000e+00, !dbg !2733
  br label %sw.epilog, !dbg !2733

if.else.i:                                        ; preds = %if.end43.i
  %sub49.i = fsub double 1.000000e+07, %add8.i102.i, !dbg !2671
  %div50.i = fdiv double %sub49.i, %add8.i111.i, !dbg !2671
  tail call void @llvm.dbg.value(metadata !{double %div50.i}, i64 0, metadata !2724) #4, !dbg !2671
  br label %sw.epilog

sw.bb7:                                           ; preds = %if.end
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2734
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2617), !dbg !2620
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2621), !dbg !2624
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2625), !dbg !2627
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2628
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2629
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2630
  %Depth8 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 0, !dbg !2735
  %16 = load double* %Depth8, align 8, !dbg !2735, !tbaa !1601
  tail call void @llvm.dbg.value(metadata !{double %16}, i64 0, metadata !1200), !dbg !2735
  tail call void @llvm.dbg.value(metadata !{double %16}, i64 0, metadata !2631), !dbg !2633
  tail call void @llvm.dbg.value(metadata !{double %16}, i64 0, metadata !2634), !dbg !2624
  tail call void @llvm.dbg.value(metadata !{double %16}, i64 0, metadata !2635), !dbg !2627
  tail call void @llvm.dbg.value(metadata !{double %16}, i64 0, metadata !1200), !dbg !2636
  tail call void @llvm.dbg.value(metadata !2736, i64 0, metadata !1201), !dbg !2737
  br label %sw.epilog, !dbg !2738

sw.bb9:                                           ; preds = %if.end
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Ray_Struct"* %Ray}, i64 0, metadata !2739) #4, !dbg !2624
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Light_Source_Struct"* %0}, i64 0, metadata !2740) #4, !dbg !2624
  tail call void @llvm.dbg.declare(metadata !2646, metadata !1244) #4, !dbg !2741
  %Falloff.i40 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 23, !dbg !2742
  %17 = load double* %Falloff.i40, align 8, !dbg !2742, !tbaa !1601
  %mul.i41 = fmul double %17, %17, !dbg !2742
  %div.i42 = fdiv double 1.000000e+00, %mul.i41, !dbg !2742
  tail call void @llvm.dbg.value(metadata !{double %div.i42}, i64 0, metadata !2743) #4, !dbg !2742
  %arraydecay2.i43 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 0, !dbg !2744
  %arraydecay3.i44 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 17, i64 0, !dbg !2744
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2745) #4, !dbg !2746
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2.i43}, i64 0, metadata !2747) #4, !dbg !2746
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay3.i44}, i64 0, metadata !2748) #4, !dbg !2746
  %18 = load double* %arraydecay2.i43, align 8, !dbg !2749, !tbaa !1601
  %19 = load double* %arraydecay3.i44, align 8, !dbg !2749, !tbaa !1601
  %sub.i.i45 = fsub double %18, %19, !dbg !2749
  %arrayidx3.i.i46 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 1, !dbg !2750
  %20 = load double* %arrayidx3.i.i46, align 8, !dbg !2750, !tbaa !1601
  %arrayidx4.i.i47 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 17, i64 1, !dbg !2750
  %21 = load double* %arrayidx4.i.i47, align 8, !dbg !2750, !tbaa !1601
  %sub5.i.i48 = fsub double %20, %21, !dbg !2750
  %arrayidx7.i.i49 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 2, !dbg !2751
  %22 = load double* %arrayidx7.i.i49, align 8, !dbg !2751, !tbaa !1601
  %arrayidx8.i.i50 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 17, i64 2, !dbg !2751
  %23 = load double* %arrayidx8.i.i50, align 8, !dbg !2751, !tbaa !1601
  %sub9.i.i51 = fsub double %22, %23, !dbg !2751
  %arraydecay4.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !2752
  %arraydecay6.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 16, i64 0, !dbg !2752
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay4.i}, i64 0, metadata !2753) #4, !dbg !2754
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay6.i}, i64 0, metadata !2755) #4, !dbg !2754
  %24 = load double* %arraydecay4.i, align 8, !dbg !2756, !tbaa !1601
  %25 = load double* %arraydecay6.i, align 8, !dbg !2756, !tbaa !1601
  %mul.i158.i = fmul double %24, %25, !dbg !2756
  %arrayidx2.i159.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 1, !dbg !2756
  %26 = load double* %arrayidx2.i159.i, align 8, !dbg !2756, !tbaa !1601
  %arrayidx3.i160.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 16, i64 1, !dbg !2756
  %27 = load double* %arrayidx3.i160.i, align 8, !dbg !2756, !tbaa !1601
  %mul4.i161.i = fmul double %26, %27, !dbg !2756
  %add.i162.i = fadd double %mul.i158.i, %mul4.i161.i, !dbg !2756
  %arrayidx5.i163.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !2756
  %28 = load double* %arrayidx5.i163.i, align 8, !dbg !2756, !tbaa !1601
  %arrayidx6.i164.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %0, i64 0, i32 16, i64 2, !dbg !2756
  %29 = load double* %arrayidx6.i164.i, align 8, !dbg !2756, !tbaa !1601
  %mul7.i165.i = fmul double %28, %29, !dbg !2756
  %add8.i166.i = fadd double %add.i162.i, %mul7.i165.i, !dbg !2756
  tail call void @llvm.dbg.value(metadata !{double %add8.i166.i}, i64 0, metadata !2757) #4, !dbg !2756
  tail call void @llvm.dbg.value(metadata !{double %add8.i166.i}, i64 0, metadata !2758) #4, !dbg !2754
  tail call void @llvm.dbg.value(metadata !{double %add8.i166.i}, i64 0, metadata !2759) #4, !dbg !2760
  tail call void @llvm.dbg.value(metadata !{double %add8.i166.i}, i64 0, metadata !2759) #4, !dbg !2761
  tail call void @llvm.dbg.value(metadata !{double %add8.i166.i}, i64 0, metadata !2759) #4, !dbg !2762
  tail call void @llvm.dbg.value(metadata !{double %add8.i166.i}, i64 0, metadata !2759) #4, !dbg !2763
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2766) #4, !dbg !2768
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay6.i}, i64 0, metadata !2769) #4, !dbg !2768
  %mul.i167.i = fmul double %sub.i.i45, %25, !dbg !2770
  %mul4.i170.i = fmul double %sub5.i.i48, %27, !dbg !2770
  %add.i171.i = fadd double %mul.i167.i, %mul4.i170.i, !dbg !2770
  %mul7.i174.i = fmul double %sub9.i.i51, %29, !dbg !2770
  %add8.i175.i = fadd double %add.i171.i, %mul7.i174.i, !dbg !2770
  tail call void @llvm.dbg.value(metadata !{double %add8.i175.i}, i64 0, metadata !2771) #4, !dbg !2770
  tail call void @llvm.dbg.value(metadata !{double %add8.i175.i}, i64 0, metadata !2772) #4, !dbg !2768
  tail call void @llvm.dbg.value(metadata !{double %add8.i175.i}, i64 0, metadata !2773) #4, !dbg !2774
  tail call void @llvm.dbg.value(metadata !{double %add8.i175.i}, i64 0, metadata !2773) #4, !dbg !2760
  tail call void @llvm.dbg.value(metadata !{double %add8.i175.i}, i64 0, metadata !2773) #4, !dbg !2762
  tail call void @llvm.dbg.value(metadata !{double %add8.i175.i}, i64 0, metadata !2773) #4, !dbg !2763
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2776) #4, !dbg !2778
  %mul.i151.i = fmul double %sub.i.i45, %sub.i.i45, !dbg !2779
  %mul4.i153.i = fmul double %sub5.i.i48, %sub5.i.i48, !dbg !2779
  %add.i154.i = fadd double %mul.i151.i, %mul4.i153.i, !dbg !2779
  %mul7.i156.i = fmul double %sub9.i.i51, %sub9.i.i51, !dbg !2779
  %add8.i157.i = fadd double %add.i154.i, %mul7.i156.i, !dbg !2779
  %call.i.i = tail call double @sqrt(double %add8.i157.i) #8, !dbg !2779
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !2781) #4, !dbg !2779
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !2782) #4, !dbg !2778
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !2783) #4, !dbg !2784
  %cmp.i52 = fcmp ogt double %call.i.i, 1.000000e-07, !dbg !2784
  br i1 %cmp.i52, label %if.then.i, label %if.end.i53, !dbg !2784

if.then.i:                                        ; preds = %sw.bb9
  %div11.i = fdiv double %add8.i175.i, %call.i.i, !dbg !2774
  %30 = load double* %Falloff.i40, align 8, !dbg !2774, !tbaa !1601
  %cmp13.i = fcmp oge double %div11.i, %30, !dbg !2774
  %conv.i = zext i1 %cmp13.i to i32, !dbg !2774
  tail call void @llvm.dbg.value(metadata !{i32 %conv.i}, i64 0, metadata !2785) #4, !dbg !2774
  br label %if.end.i53, !dbg !2786

if.end.i53:                                       ; preds = %if.then.i, %sw.bb9
  %viewpoint_is_in_cone.0.i = phi i32 [ %conv.i, %if.then.i ], [ 0, %sw.bb9 ]
  %cmp14.i = fcmp ole double %add8.i166.i, 0.000000e+00, !dbg !2760
  %cmp15.i = fcmp olt double %add8.i175.i, 0.000000e+00, !dbg !2760
  %or.cond194.i = and i1 %cmp14.i, %cmp15.i, !dbg !2760
  br i1 %or.cond194.i, label %sw.epilog, label %if.end17.i, !dbg !2760

if.end17.i:                                       ; preds = %if.end.i53
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2787) #4, !dbg !2789
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay4.i}, i64 0, metadata !2790) #4, !dbg !2789
  %31 = load double* %arraydecay4.i, align 8, !dbg !2791, !tbaa !1601
  %mul.i142.i = fmul double %sub.i.i45, %31, !dbg !2791
  %32 = load double* %arrayidx2.i159.i, align 8, !dbg !2791, !tbaa !1601
  %mul4.i145.i = fmul double %sub5.i.i48, %32, !dbg !2791
  %add.i146.i = fadd double %mul.i142.i, %mul4.i145.i, !dbg !2791
  %33 = load double* %arrayidx5.i163.i, align 8, !dbg !2791, !tbaa !1601
  %mul7.i149.i = fmul double %sub9.i.i51, %33, !dbg !2791
  %add8.i150.i = fadd double %add.i146.i, %mul7.i149.i, !dbg !2791
  tail call void @llvm.dbg.value(metadata !{double %add8.i150.i}, i64 0, metadata !2792) #4, !dbg !2791
  tail call void @llvm.dbg.value(metadata !{double %add8.i150.i}, i64 0, metadata !2793) #4, !dbg !2789
  tail call void @llvm.dbg.value(metadata !{double %add8.i150.i}, i64 0, metadata !2794) #4, !dbg !2762
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2795) #4, !dbg !2797
  tail call void @llvm.dbg.value(metadata !2649, i64 0, metadata !2798) #4, !dbg !2797
  tail call void @llvm.dbg.value(metadata !{double %add8.i157.i}, i64 0, metadata !2799) #4, !dbg !2800
  tail call void @llvm.dbg.value(metadata !{double %add8.i157.i}, i64 0, metadata !2801) #4, !dbg !2797
  tail call void @llvm.dbg.value(metadata !{double %add8.i157.i}, i64 0, metadata !2802) #4, !dbg !2803
  tail call void @llvm.dbg.value(metadata !{double %add8.i166.i}, i64 0, metadata !2804) #4, !dbg !2805
  %mul.i138.i = fmul double %add8.i166.i, %add8.i166.i, !dbg !2806
  %mul23.i54 = fmul double %div.i42, %mul.i138.i, !dbg !2761
  %sub.i55 = fsub double 1.000000e+00, %mul23.i54, !dbg !2761
  tail call void @llvm.dbg.value(metadata !{double %sub.i55}, i64 0, metadata !2807) #4, !dbg !2761
  %mul24.i = fmul double %add8.i166.i, %add8.i175.i, !dbg !2762
  %mul25.i = fmul double %div.i42, %mul24.i, !dbg !2762
  %sub26.i = fsub double %add8.i150.i, %mul25.i, !dbg !2762
  tail call void @llvm.dbg.value(metadata !{double %sub26.i}, i64 0, metadata !2808) #4, !dbg !2762
  tail call void @llvm.dbg.value(metadata !{double %add8.i175.i}, i64 0, metadata !2809) #4, !dbg !2811
  %mul.i137.i = fmul double %add8.i175.i, %add8.i175.i, !dbg !2812
  %mul28.i = fmul double %div.i42, %mul.i137.i, !dbg !2810
  %sub29.i = fsub double %add8.i157.i, %mul28.i, !dbg !2810
  tail call void @llvm.dbg.value(metadata !{double %sub29.i}, i64 0, metadata !2813) #4, !dbg !2810
  %cmp30.i = fcmp une double %sub.i55, 0.000000e+00, !dbg !2814
  br i1 %cmp30.i, label %if.then31.i, label %if.else84.i, !dbg !2814

if.then31.i:                                      ; preds = %if.end17.i
  tail call void @llvm.dbg.value(metadata !{double %sub26.i}, i64 0, metadata !2815) #4, !dbg !2817
  %mul.i.i56 = fmul double %sub26.i, %sub26.i, !dbg !2818
  %mul33.i = fmul double %sub.i55, %sub29.i, !dbg !2816
  %sub34.i = fsub double %mul.i.i56, %mul33.i, !dbg !2816
  tail call void @llvm.dbg.value(metadata !{double %sub34.i}, i64 0, metadata !2819) #4, !dbg !2816
  %cmp35.i = fcmp ogt double %sub34.i, 1.000000e-07, !dbg !2820
  br i1 %cmp35.i, label %if.then36.i, label %if.else71.i, !dbg !2820

if.then36.i:                                      ; preds = %if.then31.i
  %call37.i = tail call double @sqrt(double %sub34.i) #8, !dbg !2821
  tail call void @llvm.dbg.value(metadata !{double %call37.i}, i64 0, metadata !2819) #4, !dbg !2821
  %sub38.i = fsub double -0.000000e+00, %sub26.i, !dbg !2822
  %add.i57 = fsub double %call37.i, %sub26.i, !dbg !2822
  %div39.i = fdiv double %add.i57, %sub.i55, !dbg !2822
  tail call void @llvm.dbg.value(metadata !{double %div39.i}, i64 0, metadata !2823) #4, !dbg !2822
  %sub41.i = fsub double %sub38.i, %call37.i, !dbg !2824
  %div42.i = fdiv double %sub41.i, %sub.i55, !dbg !2824
  tail call void @llvm.dbg.value(metadata !{double %div42.i}, i64 0, metadata !2825) #4, !dbg !2824
  %cmp43.i = fcmp ogt double %div39.i, %div42.i, !dbg !2826
  tail call void @llvm.dbg.value(metadata !{double %div39.i}, i64 0, metadata !2827) #4, !dbg !2828
  tail call void @llvm.dbg.value(metadata !{double %div42.i}, i64 0, metadata !2823) #4, !dbg !2828
  tail call void @llvm.dbg.value(metadata !{double %div39.i}, i64 0, metadata !2825) #4, !dbg !2828
  %t1.0.i58 = select i1 %cmp43.i, double %div42.i, double %div39.i, !dbg !2826
  %t2.0.i59 = select i1 %cmp43.i, double %div39.i, double %div42.i, !dbg !2826
  %mul46.i = fmul double %add8.i166.i, %t1.0.i58, !dbg !2763
  %add47.i = fadd double %add8.i175.i, %mul46.i, !dbg !2763
  tail call void @llvm.dbg.value(metadata !{double %add47.i}, i64 0, metadata !2830) #4, !dbg !2763
  %mul48.i = fmul double %add8.i166.i, %t2.0.i59, !dbg !2831
  %add49.i = fadd double %add8.i175.i, %mul48.i, !dbg !2831
  tail call void @llvm.dbg.value(metadata !{double %add49.i}, i64 0, metadata !2832) #4, !dbg !2831
  %cmp50.i = fcmp ole double %add47.i, 0.000000e+00, !dbg !2833
  %cmp50.not.i = xor i1 %cmp50.i, true, !dbg !2833
  %cmp52.i = fcmp ugt double %add49.i, 0.000000e+00, !dbg !2833
  %or.cond.i60 = or i1 %cmp52.i, %cmp50.not.i, !dbg !2833
  br i1 %or.cond.i60, label %if.end54.i, label %sw.epilog, !dbg !2833

if.end54.i:                                       ; preds = %if.then36.i
  %or.cond136.i = and i1 %cmp52.i, %cmp50.not.i, !dbg !2834
  br i1 %or.cond136.i, label %sw.epilog, label %if.then57.i, !dbg !2834

if.then57.i:                                      ; preds = %if.end54.i
  %tobool.i = icmp ne i32 %viewpoint_is_in_cone.0.i, 0, !dbg !2835
  br i1 %cmp50.i, label %if.then59.i, label %if.else64.i, !dbg !2838

if.then59.i:                                      ; preds = %if.then57.i
  br i1 %tobool.i, label %if.then60.i, label %sw.epilog, !dbg !2835

if.then60.i:                                      ; preds = %if.then59.i
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2823) #4, !dbg !2839
  %cmp61.i = fcmp ogt double %t2.0.i59, 0.000000e+00, !dbg !2841
  %cond.i = select i1 %cmp61.i, double %t2.0.i59, double 1.000000e+07, !dbg !2841
  tail call void @llvm.dbg.value(metadata !{double %cond.i}, i64 0, metadata !2825) #4, !dbg !2841
  br label %sw.epilog, !dbg !2842

if.else64.i:                                      ; preds = %if.then57.i
  %.t1.0.i = select i1 %tobool.i, double 0.000000e+00, double %t1.0.i58, !dbg !2843
  %t1.0..i = select i1 %tobool.i, double %t1.0.i58, double 1.000000e+07, !dbg !2843
  br label %sw.epilog, !dbg !2843

if.else71.i:                                      ; preds = %if.then31.i
  %cmp72.i = fcmp ogt double %sub34.i, -1.000000e-07, !dbg !2846
  br i1 %cmp72.i, label %if.then73.i, label %sw.epilog, !dbg !2846

if.then73.i:                                      ; preds = %if.else71.i
  %tobool74.i = icmp eq i32 %viewpoint_is_in_cone.0.i, 0, !dbg !2848
  %sub79.i = fsub double -0.000000e+00, %sub26.i, !dbg !2850
  %div80.i = fdiv double %sub79.i, %sub.i55, !dbg !2850
  %div80.i. = select i1 %tobool74.i, double %div80.i, double 0.000000e+00
  %.div80.i = select i1 %tobool74.i, double 1.000000e+07, double %div80.i
  br label %sw.epilog

if.else84.i:                                      ; preds = %if.end17.i
  %tobool85.i = icmp eq i32 %viewpoint_is_in_cone.0.i, 0, !dbg !2852
  br i1 %tobool85.i, label %sw.epilog, label %if.then86.i, !dbg !2852

if.then86.i:                                      ; preds = %if.else84.i
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2854
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2617), !dbg !2620
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2621), !dbg !2624
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2625), !dbg !2627
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2628
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2629
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !1199), !dbg !2630
  %sub87.i = fsub double -0.000000e+00, %sub29.i, !dbg !2856
  %div88.i = fdiv double %sub87.i, %sub26.i, !dbg !2856
  tail call void @llvm.dbg.value(metadata !{double %div88.i}, i64 0, metadata !1200), !dbg !2856
  tail call void @llvm.dbg.value(metadata !{double %div88.i}, i64 0, metadata !2631), !dbg !2633
  tail call void @llvm.dbg.value(metadata !{double %div88.i}, i64 0, metadata !2634), !dbg !2624
  tail call void @llvm.dbg.value(metadata !{double %div88.i}, i64 0, metadata !2635), !dbg !2627
  tail call void @llvm.dbg.value(metadata !{double %div88.i}, i64 0, metadata !1200), !dbg !2636
  br label %sw.epilog, !dbg !2857

sw.epilog:                                        ; preds = %if.else84.i, %if.else71.i, %if.then59.i, %if.end54.i, %if.then36.i, %if.end.i53, %if.then26.i, %if.then11.i, %if.end.i, %sw.bb, %if.end, %if.end43.i.sw.epilog_crit_edge, %if.then60.i, %if.else64.i, %if.then86.i, %if.then73.i, %if.else.i, %sw.bb7
  %t1.0.load7582 = phi double [ 0.000000e+00, %sw.bb7 ], [ %t1.0.i, %if.else.i ], [ %t1.0.mux.i, %if.end43.i.sw.epilog_crit_edge ], [ 0.000000e+00, %if.then86.i ], [ %.t1.0.i, %if.else64.i ], [ 0.000000e+00, %if.then60.i ], [ %div80.i., %if.then73.i ], [ 0.000000e+00, %if.end ], [ 0.000000e+00, %sw.bb ], [ 0.000000e+00, %if.end.i ], [ 0.000000e+00, %if.then11.i ], [ 0.000000e+00, %if.then26.i ], [ 0.000000e+00, %if.end.i53 ], [ 0.000000e+00, %if.then36.i ], [ %t1.0.i58, %if.end54.i ], [ %t2.0.i59, %if.then59.i ], [ 0.000000e+00, %if.else71.i ], [ 0.000000e+00, %if.else84.i ], !dbg !2620
  %t2.0.load7178 = phi double [ %16, %sw.bb7 ], [ %div50.i, %if.else.i ], [ %t2.0.i, %if.end43.i.sw.epilog_crit_edge ], [ %div88.i, %if.then86.i ], [ %t1.0..i, %if.else64.i ], [ %cond.i, %if.then60.i ], [ %.div80.i, %if.then73.i ], [ 0.000000e+00, %if.end ], [ 0.000000e+00, %sw.bb ], [ 0.000000e+00, %if.end.i ], [ 0.000000e+00, %if.then11.i ], [ 0.000000e+00, %if.then26.i ], [ 0.000000e+00, %if.end.i53 ], [ 0.000000e+00, %if.then36.i ], [ %t2.0.i59, %if.end54.i ], [ 1.000000e+07, %if.then59.i ], [ 0.000000e+00, %if.else71.i ], [ 0.000000e+00, %if.else84.i ], !dbg !2620
  tail call void @llvm.dbg.value(metadata !1956, i64 0, metadata !2858), !dbg !2620
  %cmp.i64 = fcmp olt double %t1.0.load7582, 0.000000e+00, !dbg !2859
  %.sroa.speculated = select i1 %cmp.i64, double 0.000000e+00, double %t1.0.load7582, !dbg !2618
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated}, i64 0, metadata !1199), !dbg !2618
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated}, i64 0, metadata !2617), !dbg !2620
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated}, i64 0, metadata !2621), !dbg !2624
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated}, i64 0, metadata !2625), !dbg !2627
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated}, i64 0, metadata !1199), !dbg !2628
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated}, i64 0, metadata !1199), !dbg !2629
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated}, i64 0, metadata !1199), !dbg !2630
  %Depth22 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 0, !dbg !2632
  tail call void @llvm.dbg.value(metadata !{double* %Depth22}, i64 0, metadata !2860), !dbg !2633
  %34 = load double* %Depth22, align 8, !dbg !2861, !tbaa !1601
  %cmp.i65 = fcmp olt double %34, %t2.0.load7178, !dbg !2861
  %.sroa.speculated69 = select i1 %cmp.i65, double %34, double %t2.0.load7178, !dbg !2632
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated69}, i64 0, metadata !1200), !dbg !2632
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated69}, i64 0, metadata !2631), !dbg !2633
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated69}, i64 0, metadata !2634), !dbg !2624
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated69}, i64 0, metadata !2635), !dbg !2627
  tail call void @llvm.dbg.value(metadata !{double %.sroa.speculated69}, i64 0, metadata !1200), !dbg !2636
  store i8 1, i8* %active, align 1, !dbg !2864, !tbaa !1942
  store double %.sroa.speculated, double* %s0, align 8, !dbg !2630, !tbaa !1601
  store double %.sroa.speculated69, double* %s1, align 8, !dbg !2636, !tbaa !1601
  br label %return, !dbg !2865

return:                                           ; preds = %entry, %sw.epilog
  ret void, !dbg !2865
}
