define void @_ZN3pov13Destroy_MediaEPNS_12Media_StructE(%"struct.pov::Media_Struct"* %IMedia) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Struct"* %IMedia}, i64 0, metadata !1103), !dbg !2568
  %cmp = icmp eq %"struct.pov::Media_Struct"* %IMedia, null, !dbg !2569
  br i1 %cmp, label %if.end6, label %while.body, !dbg !2569

while.body:                                       ; preds = %entry, %if.end
  %Local_Media.015 = phi %"struct.pov::Media_Struct"* [ %3, %if.end ], [ %IMedia, %entry ]
  %Sample_Threshold = getelementptr inbounds %"struct.pov::Media_Struct"* %Local_Media.015, i64 0, i32 20, !dbg !2570
  %0 = load double** %Sample_Threshold, align 8, !dbg !2570, !tbaa !1570
  %cmp2 = icmp eq double* %0, null, !dbg !2570
  br i1 %cmp2, label %if.end, label %if.then3, !dbg !2570

if.then3:                                         ; preds = %while.body
  %1 = bitcast double* %0 to i8*, !dbg !2573
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %1, i8* getelementptr inbounds ([54 x i8]* @.str, i64 0, i64 0), i32 2368) #7, !dbg !2573
  store double* null, double** %Sample_Threshold, align 8, !dbg !2573, !tbaa !1570
  br label %if.end, !dbg !2576

if.end:                                           ; preds = %while.body, %if.then3
  %Density = getelementptr inbounds %"struct.pov::Media_Struct"* %Local_Media.015, i64 0, i32 24, !dbg !2577
  %2 = load %"struct.pov::Pigment_Struct"** %Density, align 8, !dbg !2577, !tbaa !1570
  tail call void @_ZN3pov15Destroy_PigmentEPNS_14Pigment_StructE(%"struct.pov::Pigment_Struct"* %2) #7, !dbg !2577
  %Next_Media = getelementptr inbounds %"struct.pov::Media_Struct"* %Local_Media.015, i64 0, i32 25, !dbg !2578
  %3 = load %"struct.pov::Media_Struct"** %Next_Media, align 8, !dbg !2578, !tbaa !1570
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Struct"* %3}, i64 0, metadata !1105), !dbg !2578
  %4 = bitcast %"struct.pov::Media_Struct"* %Local_Media.015 to i8*, !dbg !2579
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %4, i8* getelementptr inbounds ([54 x i8]* @.str, i64 0, i64 0), i32 2376) #7, !dbg !2579
  tail call void @llvm.dbg.value(metadata !2539, i64 0, metadata !1104), !dbg !2579
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Media_Struct"* %3}, i64 0, metadata !1104), !dbg !2581
  %cmp1 = icmp eq %"struct.pov::Media_Struct"* %3, null, !dbg !2582
  br i1 %cmp1, label %if.end6, label %while.body, !dbg !2582

if.end6:                                          ; preds = %if.end, %entry
  ret void, !dbg !2583
}
