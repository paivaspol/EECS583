define i32 @_ZN3pov12Post_PigmentEPNS_14Pigment_StructE(%"struct.pov::Pigment_Struct"* %Pigment) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Pigment_Struct"* %Pigment}, i64 0, metadata !862), !dbg !1080
  %cmp = icmp eq %"struct.pov::Pigment_Struct"* %Pigment, null, !dbg !1081
  br i1 %cmp, label %if.then, label %if.end, !dbg !1081

if.then:                                          ; preds = %entry
  %call = tail call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([16 x i8]* @.str2, i64 0, i64 0)) #5, !dbg !1082
  br label %if.end, !dbg !1084

if.end:                                           ; preds = %if.then, %entry
  %Flags = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 2, !dbg !1085
  %0 = load i16* %Flags, align 2, !dbg !1085, !tbaa !1055
  %conv = zext i16 %0 to i32, !dbg !1085
  %and = and i32 %conv, 4, !dbg !1085
  %tobool = icmp eq i32 %and, 0, !dbg !1085
  br i1 %tobool, label %if.end5, label %if.then1, !dbg !1085

if.then1:                                         ; preds = %if.end
  %and4 = and i32 %conv, 1, !dbg !1086
  br label %return, !dbg !1086

if.end5:                                          ; preds = %if.end
  %Type = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 0, !dbg !1088
  %1 = load i16* %Type, align 2, !dbg !1088, !tbaa !1055
  %cmp7 = icmp eq i16 %1, 0, !dbg !1088
  br i1 %cmp7, label %if.then8, label %if.end11, !dbg !1088

if.then8:                                         ; preds = %if.end5
  store i16 1, i16* %Type, align 2, !dbg !1089, !tbaa !1055
  %arraydecay = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 11, i64 0, !dbg !1091
  tail call void @llvm.dbg.value(metadata !{float* %arraydecay}, i64 0, metadata !1092), !dbg !1093
  tail call void @llvm.dbg.value(metadata !1028, i64 0, metadata !1094), !dbg !1093
  tail call void @llvm.dbg.value(metadata !1028, i64 0, metadata !1095), !dbg !1093
  tail call void @llvm.dbg.value(metadata !1028, i64 0, metadata !1096), !dbg !1093
  %2 = bitcast float* %arraydecay to i8*, !dbg !1097
  call void @llvm.memset.p0i8.i64(i8* %2, i8 0, i64 20, i32 4, i1 false), !dbg !1098
  %call10 = tail call i32 (i32, i8*, ...)* @_ZN3pov7WarningEjPKcz(i32 150, i8* getelementptr inbounds ([23 x i8]* @.str3, i64 0, i64 0)) #5, !dbg !1097
  %.pre = load i16* %Flags, align 2, !dbg !1099, !tbaa !1055
  %.pre179 = load i16* %Type, align 2, !dbg !1100, !tbaa !1055
  br label %if.end11, !dbg !1101

if.end11:                                         ; preds = %if.then8, %if.end5
  %3 = phi i16 [ %.pre179, %if.then8 ], [ %1, %if.end5 ]
  %4 = phi i16 [ %.pre, %if.then8 ], [ %0, %if.end5 ]
  %or = or i16 %4, 4, !dbg !1099
  store i16 %or, i16* %Flags, align 2, !dbg !1099, !tbaa !1055
  %conv16 = zext i16 %3 to i32, !dbg !1100
  switch i32 %conv16, label %sw.default [
    i32 1, label %sw.bb
    i32 0, label %sw.epilog48
    i32 4, label %sw.epilog48
  ], !dbg !1100

sw.bb:                                            ; preds = %if.end11
  %Warps = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 7, !dbg !1102
  %5 = load %"struct.pov::Warps_Struct"** %Warps, align 8, !dbg !1102, !tbaa !1034
  tail call void @_ZN3pov13Destroy_WarpsEPNS_12Warps_StructE(%"struct.pov::Warps_Struct"* %5) #5, !dbg !1102
  store %"struct.pov::Warps_Struct"* null, %"struct.pov::Warps_Struct"** %Warps, align 8, !dbg !1104, !tbaa !1034
  br label %sw.epilog48, !dbg !1105

sw.default:                                       ; preds = %if.end11
  %Blend_Map = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 9, !dbg !1106
  %6 = load %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1106, !tbaa !1034
  %cmp19 = icmp eq %"struct.pov::Blend_Map_Struct"* %6, null, !dbg !1106
  br i1 %cmp19, label %if.then20, label %sw.epilog48, !dbg !1106

if.then20:                                        ; preds = %sw.default
  switch i32 %conv16, label %sw.default45 [
    i32 16, label %sw.bb23
    i32 14, label %sw.bb25
    i32 19, label %sw.bb27
    i32 30, label %sw.bb29
    i32 38, label %sw.bb31
    i32 21, label %sw.bb33
    i32 18, label %sw.bb35
    i32 15, label %sw.bb37
    i32 12, label %sw.bb39
    i32 2, label %sw.bb41
    i32 13, label %sw.bb43
  ], !dbg !1107

sw.bb23:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3povL16Bozo_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1109, !tbaa !1034
  br label %sw.epilog48, !dbg !1109

sw.bb25:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3pov17Brick_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1111, !tbaa !1034
  br label %sw.epilog48, !dbg !1111

sw.bb27:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3povL16Wood_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1112, !tbaa !1034
  br label %sw.epilog48, !dbg !1112

sw.bb29:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3povL18Mandel_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1113, !tbaa !1034
  br label %sw.epilog48, !dbg !1113

sw.bb31:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3povL18Radial_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1114, !tbaa !1034
  br label %sw.epilog48, !dbg !1114

sw.bb33:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3povL17Agate_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1115, !tbaa !1034
  br label %sw.epilog48, !dbg !1115

sw.bb35:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3povL18Marble_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1116, !tbaa !1034
  br label %sw.epilog48, !dbg !1116

sw.bb37:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3pov15Hex_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1117, !tbaa !1034
  br label %sw.epilog48, !dbg !1117

sw.bb39:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3pov17Check_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1118, !tbaa !1034
  br label %sw.epilog48, !dbg !1118

sw.bb41:                                          ; preds = %if.then20
  %call42 = tail call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([39 x i8]* @.str4, i64 0, i64 0)) #5, !dbg !1119
  br label %sw.epilog48, !dbg !1119

sw.bb43:                                          ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3pov17Check_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1120, !tbaa !1034
  br label %sw.epilog48, !dbg !1120

sw.default45:                                     ; preds = %if.then20
  store %"struct.pov::Blend_Map_Struct"* @_ZN3povL16Gray_Default_MapE, %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !1121, !tbaa !1034
  br label %sw.epilog48, !dbg !1121

sw.epilog48:                                      ; preds = %sw.default, %sw.default45, %sw.bb43, %sw.bb41, %sw.bb39, %sw.bb37, %sw.bb35, %sw.bb33, %sw.bb31, %sw.bb29, %sw.bb27, %sw.bb25, %sw.bb23, %if.end11, %if.end11, %sw.bb
  tail call void @llvm.dbg.value(metadata !77, i64 0, metadata !864), !dbg !1122
  %arrayidx = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 11, i64 3, !dbg !1123
  %7 = load float* %arrayidx, align 4, !dbg !1123, !tbaa !1063
  %fabsf = tail call float @fabsf(float %7) #6, !dbg !1123
  %8 = fpext float %fabsf to double, !dbg !1123
  %cmp52 = fcmp ogt double %8, 1.000000e-07, !dbg !1123
  br i1 %cmp52, label %if.then58, label %lor.lhs.false, !dbg !1123

lor.lhs.false:                                    ; preds = %sw.epilog48
  %arrayidx54 = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 11, i64 4, !dbg !1124
  %9 = load float* %arrayidx54, align 4, !dbg !1124, !tbaa !1063
  %fabsf164 = tail call float @fabsf(float %9) #6, !dbg !1124
  %10 = fpext float %fabsf164 to double, !dbg !1124
  %cmp57 = fcmp ogt double %10, 1.000000e-07, !dbg !1124
  br i1 %cmp57, label %if.then58, label %if.end59, !dbg !1124

if.then58:                                        ; preds = %lor.lhs.false, %sw.epilog48
  tail call void @llvm.dbg.value(metadata !1125, i64 0, metadata !864), !dbg !1126
  br label %if.end59, !dbg !1128

if.end59:                                         ; preds = %lor.lhs.false, %if.then58
  %Has_Filter.0 = phi i32 [ 1, %if.then58 ], [ 0, %lor.lhs.false ]
  %Blend_Map60 = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 9, !dbg !1129
  %11 = load %"struct.pov::Blend_Map_Struct"** %Blend_Map60, align 8, !dbg !1129, !tbaa !1034
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Blend_Map_Struct"* %11}, i64 0, metadata !865), !dbg !1129
  %cmp61 = icmp eq %"struct.pov::Blend_Map_Struct"* %11, null, !dbg !1129
  br i1 %cmp61, label %if.end108, label %if.then62, !dbg !1129

if.then62:                                        ; preds = %if.end59
  %Type63 = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %11, i64 0, i32 3, !dbg !1130
  %12 = load i8* %Type63, align 1, !dbg !1130, !tbaa !1035
  switch i8 %12, label %for.cond77.preheader [
    i8 0, label %for.cond.preheader
    i8 7, label %for.cond.preheader
  ], !dbg !1130

for.cond.preheader:                               ; preds = %if.then62, %if.then62
  %Number_Of_Entries = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %11, i64 0, i32 1, !dbg !1132
  %13 = load i16* %Number_Of_Entries, align 2, !dbg !1132, !tbaa !1055
  %cmp72173 = icmp sgt i16 %13, 0, !dbg !1132
  br i1 %cmp72173, label %for.body.lr.ph, label %if.end108, !dbg !1132

for.body.lr.ph:                                   ; preds = %for.cond.preheader
  %Blend_Map_Entries = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %11, i64 0, i32 4, !dbg !1135
  br label %for.body, !dbg !1132

for.cond77.preheader:                             ; preds = %if.then62
  %Number_Of_Entries78 = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %11, i64 0, i32 1, !dbg !1137
  %14 = load i16* %Number_Of_Entries78, align 2, !dbg !1137, !tbaa !1055
  %cmp80168 = icmp sgt i16 %14, 0, !dbg !1137
  br i1 %cmp80168, label %for.body81.lr.ph, label %if.end108, !dbg !1137

for.body81.lr.ph:                                 ; preds = %for.cond77.preheader
  %Blend_Map_Entries83 = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %11, i64 0, i32 4, !dbg !1140
  %15 = load %"struct.pov::Blend_Map_Entry"** %Blend_Map_Entries83, align 8, !dbg !1140, !tbaa !1034
  %conv79 = sext i16 %14 to i32, !dbg !1137
  br label %for.body81, !dbg !1137

for.body:                                         ; preds = %for.body.lr.ph, %for.body
  %indvars.iv177 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next178, %for.body ]
  %Has_Filter.1175 = phi i32 [ %Has_Filter.0, %for.body.lr.ph ], [ %or76, %for.body ]
  %16 = load %"struct.pov::Blend_Map_Entry"** %Blend_Map_Entries, align 8, !dbg !1135, !tbaa !1034
  %Vals = getelementptr inbounds %"struct.pov::Blend_Map_Entry"* %16, i64 %indvars.iv177, i32 2, !dbg !1135
  %Pigment74 = bitcast %union.anon* %Vals to %"struct.pov::Pigment_Struct"**, !dbg !1135
  %17 = load %"struct.pov::Pigment_Struct"** %Pigment74, align 8, !dbg !1135, !tbaa !1034
  %call75 = tail call i32 @_ZN3pov12Post_PigmentEPNS_14Pigment_StructE(%"struct.pov::Pigment_Struct"* %17) #5, !dbg !1135
  %or76 = or i32 %call75, %Has_Filter.1175, !dbg !1135
  tail call void @llvm.dbg.value(metadata !{i32 %or76}, i64 0, metadata !864), !dbg !1135
  %indvars.iv.next178 = add i64 %indvars.iv177, 1, !dbg !1132
  %18 = load i16* %Number_Of_Entries, align 2, !dbg !1132, !tbaa !1055
  %conv71 = sext i16 %18 to i32, !dbg !1132
  %19 = trunc i64 %indvars.iv.next178 to i32, !dbg !1132
  %cmp72 = icmp slt i32 %19, %conv71, !dbg !1132
  br i1 %cmp72, label %for.body, label %if.end108, !dbg !1132

for.body81:                                       ; preds = %for.body81.lr.ph, %for.body81
  %indvars.iv = phi i64 [ 0, %for.body81.lr.ph ], [ %indvars.iv.next, %for.body81 ]
  %Has_Filter.2170 = phi i32 [ %Has_Filter.0, %for.body81.lr.ph ], [ %or103, %for.body81 ]
  %Vals85 = getelementptr inbounds %"struct.pov::Blend_Map_Entry"* %15, i64 %indvars.iv, i32 2, !dbg !1140
  %Colour86 = bitcast %union.anon* %Vals85 to [5 x float]*, !dbg !1140
  %arrayidx87 = getelementptr inbounds [5 x float]* %Colour86, i64 0, i64 3, !dbg !1140
  %20 = load float* %arrayidx87, align 4, !dbg !1140, !tbaa !1063
  %fabsf165 = tail call float @fabsf(float %20) #6, !dbg !1140
  %21 = fpext float %fabsf165 to double, !dbg !1140
  %cmp90 = fcmp ogt double %21, 1.000000e-07, !dbg !1140
  %conv91 = zext i1 %cmp90 to i32, !dbg !1140
  %or92 = or i32 %conv91, %Has_Filter.2170, !dbg !1140
  tail call void @llvm.dbg.value(metadata !{i32 %or92}, i64 0, metadata !864), !dbg !1140
  %arrayidx98 = getelementptr inbounds %"struct.pov::Blend_Map_Entry"* %15, i64 %indvars.iv, i32 2, i32 1, !dbg !1142
  %22 = bitcast [8 x i8]* %arrayidx98 to float*, !dbg !1142
  %23 = load float* %22, align 4, !dbg !1142, !tbaa !1063
  %fabsf166 = tail call float @fabsf(float %23) #6, !dbg !1142
  %24 = fpext float %fabsf166 to double, !dbg !1142
  %cmp101 = fcmp ogt double %24, 1.000000e-07, !dbg !1142
  %conv102 = zext i1 %cmp101 to i32, !dbg !1142
  %or103 = or i32 %or92, %conv102, !dbg !1142
  tail call void @llvm.dbg.value(metadata !{i32 %or103}, i64 0, metadata !864), !dbg !1142
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !1137
  %25 = trunc i64 %indvars.iv.next to i32, !dbg !1137
  %cmp80 = icmp slt i32 %25, %conv79, !dbg !1137
  br i1 %cmp80, label %for.body81, label %if.end108, !dbg !1137

if.end108:                                        ; preds = %for.cond.preheader, %for.body, %for.cond77.preheader, %for.body81, %if.end59
  %Has_Filter.3 = phi i32 [ %Has_Filter.0, %if.end59 ], [ %Has_Filter.0, %for.cond77.preheader ], [ %or103, %for.body81 ], [ %Has_Filter.0, %for.cond.preheader ], [ %or76, %for.body ]
  %tobool109 = icmp eq i32 %Has_Filter.3, 0, !dbg !1143
  br i1 %tobool109, label %if.end115, label %if.then110, !dbg !1143

if.then110:                                       ; preds = %if.end108
  %26 = load i16* %Flags, align 2, !dbg !1144, !tbaa !1055
  %or113 = or i16 %26, 1, !dbg !1144
  store i16 %or113, i16* %Flags, align 2, !dbg !1144, !tbaa !1055
  br label %if.end115, !dbg !1146

if.end115:                                        ; preds = %if.end108, %if.then110
  %Next = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 8, !dbg !1147
  %27 = load %"struct.pov::Pattern_Struct"** %Next, align 8, !dbg !1147, !tbaa !1034
  %cmp116 = icmp eq %"struct.pov::Pattern_Struct"* %27, null, !dbg !1147
  br i1 %cmp116, label %return, label %if.then117, !dbg !1147

if.then117:                                       ; preds = %if.end115
  %28 = bitcast %"struct.pov::Pattern_Struct"* %27 to %"struct.pov::Pigment_Struct"*, !dbg !1148
  %call119 = tail call i32 @_ZN3pov12Post_PigmentEPNS_14Pigment_StructE(%"struct.pov::Pigment_Struct"* %28) #5, !dbg !1148
  ret i32 %Has_Filter.3, !dbg !1150

return:                                           ; preds = %if.end115, %if.then1
  %retval.0 = phi i32 [ %and4, %if.then1 ], [ %Has_Filter.3, %if.end115 ]
  ret i32 %retval.0, !dbg !1150
}
