define void @_ZN3pov9f_pigmentEPdjj(double* nocapture %ptr, i32 %fn, i32 %sp) #2 {
entry:
  %Vec = alloca [3 x double], align 16
  %Col = alloca [5 x float], align 16
  call void @llvm.dbg.value(metadata !{double* %ptr}, i64 0, metadata !1460), !dbg !2596
  call void @llvm.dbg.value(metadata !{i32 %fn}, i64 0, metadata !1461), !dbg !2596
  call void @llvm.dbg.value(metadata !{i32 %sp}, i64 0, metadata !1462), !dbg !2596
  call void @llvm.dbg.declare(metadata !{[3 x double]* %Vec}, metadata !1463), !dbg !2597
  %arrayinit.begin = getelementptr inbounds [3 x double]* %Vec, i64 0, i64 0, !dbg !2597
  %arrayidx = getelementptr inbounds double* %ptr, i64 5, !dbg !2597
  %0 = load double* %arrayidx, align 8, !dbg !2597, !tbaa !1656
  store double %0, double* %arrayinit.begin, align 16, !dbg !2597, !tbaa !1656
  %arrayinit.element = getelementptr inbounds [3 x double]* %Vec, i64 0, i64 1, !dbg !2597
  %arrayidx1 = getelementptr inbounds double* %ptr, i64 6, !dbg !2597
  %1 = load double* %arrayidx1, align 8, !dbg !2597, !tbaa !1656
  store double %1, double* %arrayinit.element, align 8, !dbg !2597, !tbaa !1656
  %arrayinit.element2 = getelementptr inbounds [3 x double]* %Vec, i64 0, i64 2, !dbg !2597
  %arrayidx3 = getelementptr inbounds double* %ptr, i64 7, !dbg !2597
  %2 = load double* %arrayidx3, align 8, !dbg !2597, !tbaa !1656
  store double %2, double* %arrayinit.element2, align 16, !dbg !2597, !tbaa !1656
  call void @llvm.dbg.declare(metadata !{[5 x float]* %Col}, metadata !1464), !dbg !2598
  %call = call %"struct.pov::FunctionCode"* @_ZN3pov18POVFPU_GetFunctionEj(i32 %fn) #10, !dbg !2599
  call void @llvm.dbg.value(metadata !{%"struct.pov::FunctionCode"* %call}, i64 0, metadata !1465), !dbg !2599
  %private_data = getelementptr inbounds %"struct.pov::FunctionCode"* %call, i64 0, i32 14, !dbg !2600
  %3 = load i8** %private_data, align 8, !dbg !2600, !tbaa !2392
  %cmp = icmp eq i8* %3, null, !dbg !2600
  br i1 %cmp, label %if.then, label %if.end, !dbg !2600

if.then:                                          ; preds = %entry
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %sp, double 0.000000e+00) #10, !dbg !2601
  %add4 = add i32 %sp, 1, !dbg !2603
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %add4, double 0.000000e+00) #10, !dbg !2603
  %add5 = add i32 %sp, 2, !dbg !2604
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %add5, double 0.000000e+00) #10, !dbg !2604
  %add6 = add i32 %sp, 3, !dbg !2605
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %add6, double 0.000000e+00) #10, !dbg !2605
  %add7 = add i32 %sp, 4, !dbg !2606
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %add7, double 0.000000e+00) #10, !dbg !2606
  br label %return, !dbg !2607

if.end:                                           ; preds = %entry
  %arraydecay = getelementptr inbounds [5 x float]* %Col, i64 0, i64 0, !dbg !2608
  %4 = bitcast i8* %3 to %"struct.pov::Pigment_Struct"*, !dbg !2608
  %call10 = call i32 @_ZN3pov15Compute_PigmentEPfPNS_14Pigment_StructEPdPNS_10istk_entryE(float* %arraydecay, %"struct.pov::Pigment_Struct"* %4, double* %arrayinit.begin, %"struct.pov::istk_entry"* null) #10, !dbg !2608
  %5 = load float* %arraydecay, align 16, !dbg !2609, !tbaa !2610
  %conv = fpext float %5 to double, !dbg !2609
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %sp, double %conv) #10, !dbg !2609
  %add13 = add i32 %sp, 1, !dbg !2611
  %arrayidx14 = getelementptr inbounds [5 x float]* %Col, i64 0, i64 1, !dbg !2611
  %6 = load float* %arrayidx14, align 4, !dbg !2611, !tbaa !2610
  %conv15 = fpext float %6 to double, !dbg !2611
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %add13, double %conv15) #10, !dbg !2611
  %add16 = add i32 %sp, 2, !dbg !2612
  %arrayidx17 = getelementptr inbounds [5 x float]* %Col, i64 0, i64 2, !dbg !2612
  %7 = load float* %arrayidx17, align 8, !dbg !2612, !tbaa !2610
  %conv18 = fpext float %7 to double, !dbg !2612
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %add16, double %conv18) #10, !dbg !2612
  %add19 = add i32 %sp, 3, !dbg !2613
  %arrayidx20 = getelementptr inbounds [5 x float]* %Col, i64 0, i64 3, !dbg !2613
  %8 = load float* %arrayidx20, align 4, !dbg !2613, !tbaa !2610
  %conv21 = fpext float %8 to double, !dbg !2613
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %add19, double %conv21) #10, !dbg !2613
  %add22 = add i32 %sp, 4, !dbg !2614
  %arrayidx23 = getelementptr inbounds [5 x float]* %Col, i64 0, i64 4, !dbg !2614
  %9 = load float* %arrayidx23, align 16, !dbg !2614, !tbaa !2610
  %conv24 = fpext float %9 to double, !dbg !2614
  call void @_ZN3pov15POVFPU_SetLocalEjd(i32 %add22, double %conv24) #10, !dbg !2614
  br label %return, !dbg !2614

return:                                           ; preds = %if.end, %if.then
  ret void, !dbg !2614
}
