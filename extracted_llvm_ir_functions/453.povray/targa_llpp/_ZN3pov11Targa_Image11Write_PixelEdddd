define void @_ZN3pov11Targa_Image11Write_PixelEdddd(%"class.pov::Targa_Image"* nocapture %this, double %b, double %g, double %r, double %f) #0 align 2 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"class.pov::Targa_Image"* %this}, i64 0, metadata !469), !dbg !907
  tail call void @llvm.dbg.value(metadata !{double %b}, i64 0, metadata !470), !dbg !907
  tail call void @llvm.dbg.value(metadata !{double %g}, i64 0, metadata !471), !dbg !907
  tail call void @llvm.dbg.value(metadata !{double %r}, i64 0, metadata !472), !dbg !907
  tail call void @llvm.dbg.value(metadata !{double %f}, i64 0, metadata !473), !dbg !907
  %0 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 0), align 8, !dbg !908, !tbaa !739
  %and = and i32 %0, 131072, !dbg !908
  %tobool = icmp eq i32 %and, 0, !dbg !908
  br i1 %tobool, label %if.else, label %if.then, !dbg !908

if.then:                                          ; preds = %entry
  %mul = fmul double %r, 2.970000e-01, !dbg !909
  %mul2 = fmul double %g, 5.890000e-01, !dbg !909
  %add = fadd double %mul2, %mul, !dbg !909
  %mul3 = fmul double %b, 1.140000e-01, !dbg !909
  %add4 = fadd double %mul3, %add, !dbg !909
  %mul5 = fmul double %add4, 6.553500e+04, !dbg !909
  %call = tail call double @floor(double %mul5) #9, !dbg !909
  %conv6 = fptosi double %call to i32, !dbg !909
  tail call void @llvm.dbg.value(metadata !{i32 %conv6}, i64 0, metadata !474), !dbg !909
  %out_file = getelementptr inbounds %"class.pov::Targa_Image"* %this, i64 0, i32 7, !dbg !911
  %1 = load %"class.pov_base::OStream"** %out_file, align 8, !dbg !911, !tbaa !741
  tail call void @llvm.dbg.value(metadata !{%"class.pov_base::OStream"* %1}, i64 0, metadata !912) #5, !dbg !913
  tail call void @llvm.dbg.value(metadata !775, i64 0, metadata !914) #5, !dbg !913
  %fail.i = getelementptr inbounds %"class.pov_base::OStream"* %1, i64 0, i32 0, i32 1, !dbg !915
  %2 = load i8* %fail.i, align 1, !dbg !915, !tbaa !733, !range !753
  %tobool.i = icmp eq i8 %2, 0, !dbg !915
  br i1 %tobool.i, label %_ZN8pov_base7OStream10Write_ByteEh.exit, label %if.then17, !dbg !915

_ZN8pov_base7OStream10Write_ByteEh.exit:          ; preds = %if.then
  %f.i = getelementptr inbounds %"class.pov_base::OStream"* %1, i64 0, i32 0, i32 2, !dbg !915
  %3 = load %struct._IO_FILE** %f.i, align 8, !dbg !915, !tbaa !741
  %call.i = tail call i32 @fputc(i32 0, %struct._IO_FILE* %3) #8, !dbg !915
  %cmp.i = icmp ne i32 %call.i, 0, !dbg !915
  %frombool.i = zext i1 %cmp.i to i8, !dbg !915
  store i8 %frombool.i, i8* %fail.i, align 1, !dbg !915, !tbaa !733
  %.pre125 = load %"class.pov_base::OStream"** %out_file, align 8, !dbg !916, !tbaa !741
  %fail.i63.phi.trans.insert = getelementptr inbounds %"class.pov_base::OStream"* %.pre125, i64 0, i32 0, i32 1
  %.pre126 = load i8* %fail.i63.phi.trans.insert, align 1, !dbg !917, !tbaa !733
  tail call void @llvm.dbg.value(metadata !{%"class.pov_base::OStream"* %.pre125}, i64 0, metadata !918) #5, !dbg !919
  %tobool.i64 = icmp eq i8 %.pre126, 0, !dbg !917
  br i1 %tobool.i64, label %_ZN8pov_base7OStream10Write_ByteEh.exit70, label %if.then17, !dbg !917

_ZN8pov_base7OStream10Write_ByteEh.exit70:        ; preds = %_ZN8pov_base7OStream10Write_ByteEh.exit
  %fail.i63 = getelementptr inbounds %"class.pov_base::OStream"* %.pre125, i64 0, i32 0, i32 1, !dbg !917
  %conv.i = and i32 %conv6, 255, !dbg !917
  %f.i65 = getelementptr inbounds %"class.pov_base::OStream"* %.pre125, i64 0, i32 0, i32 2, !dbg !917
  %4 = load %struct._IO_FILE** %f.i65, align 8, !dbg !917, !tbaa !741
  %call.i66 = tail call i32 @fputc(i32 %conv.i, %struct._IO_FILE* %4) #8, !dbg !917
  %cmp.i67 = icmp ne i32 %call.i66, %conv.i, !dbg !917
  %frombool.i68 = zext i1 %cmp.i67 to i8, !dbg !917
  store i8 %frombool.i68, i8* %fail.i63, align 1, !dbg !917, !tbaa !733
  %.pre127 = load %"class.pov_base::OStream"** %out_file, align 8, !dbg !920, !tbaa !741
  %fail.i71.phi.trans.insert = getelementptr inbounds %"class.pov_base::OStream"* %.pre127, i64 0, i32 0, i32 1
  %.pre128 = load i8* %fail.i71.phi.trans.insert, align 1, !dbg !921, !tbaa !733
  tail call void @llvm.dbg.value(metadata !{%"class.pov_base::OStream"* %.pre127}, i64 0, metadata !922) #5, !dbg !923
  %tobool.i72 = icmp eq i8 %.pre128, 0, !dbg !921
  br i1 %tobool.i72, label %_ZN8pov_base7OStream10Write_ByteEh.exit79, label %if.then17, !dbg !921

_ZN8pov_base7OStream10Write_ByteEh.exit79:        ; preds = %_ZN8pov_base7OStream10Write_ByteEh.exit70
  %fail.i71 = getelementptr inbounds %"class.pov_base::OStream"* %.pre127, i64 0, i32 0, i32 1, !dbg !921
  %shr = lshr i32 %conv6, 8, !dbg !920
  %conv.i73 = and i32 %shr, 255, !dbg !921
  %f.i74 = getelementptr inbounds %"class.pov_base::OStream"* %.pre127, i64 0, i32 0, i32 2, !dbg !921
  %5 = load %struct._IO_FILE** %f.i74, align 8, !dbg !921, !tbaa !741
  %call.i75 = tail call i32 @fputc(i32 %conv.i73, %struct._IO_FILE* %5) #8, !dbg !921
  %cmp.i76 = icmp ne i32 %call.i75, %conv.i73, !dbg !921
  %frombool.i77 = zext i1 %cmp.i76 to i8, !dbg !921
  store i8 %frombool.i77, i8* %fail.i71, align 1, !dbg !921, !tbaa !733
  br i1 %cmp.i76, label %if.then17, label %if.end58, !dbg !920

if.then17:                                        ; preds = %_ZN8pov_base7OStream10Write_ByteEh.exit79, %if.then, %_ZN8pov_base7OStream10Write_ByteEh.exit, %_ZN8pov_base7OStream10Write_ByteEh.exit70
  %filename = getelementptr inbounds %"class.pov::Targa_Image"* %this, i64 0, i32 1, !dbg !924
  %6 = load i8** %filename, align 8, !dbg !924, !tbaa !741
  %call18 = tail call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([36 x i8]* @.str3, i64 0, i64 0), i8* %6) #7, !dbg !924
  br label %if.end58, !dbg !924

if.else:                                          ; preds = %entry
  %out_file19 = getelementptr inbounds %"class.pov::Targa_Image"* %this, i64 0, i32 7, !dbg !925
  %7 = load %"class.pov_base::OStream"** %out_file19, align 8, !dbg !925, !tbaa !741
  tail call void @llvm.dbg.value(metadata !{%"class.pov_base::OStream"* %7}, i64 0, metadata !927) #5, !dbg !928
  %fail.i93 = getelementptr inbounds %"class.pov_base::OStream"* %7, i64 0, i32 0, i32 1, !dbg !929
  %8 = load i8* %fail.i93, align 1, !dbg !929, !tbaa !733, !range !753
  %tobool.i94 = icmp eq i8 %8, 0, !dbg !929
  br i1 %tobool.i94, label %_ZN8pov_base7OStream10Write_ByteEh.exit101, label %if.then38, !dbg !929

_ZN8pov_base7OStream10Write_ByteEh.exit101:       ; preds = %if.else
  %mul20 = fmul double %b, 2.550000e+02, !dbg !925
  %call21 = tail call double @floor(double %mul20) #9, !dbg !925
  %conv22 = fptosi double %call21 to i32, !dbg !925
  %conv.i95 = and i32 %conv22, 255, !dbg !929
  %f.i96 = getelementptr inbounds %"class.pov_base::OStream"* %7, i64 0, i32 0, i32 2, !dbg !929
  %9 = load %struct._IO_FILE** %f.i96, align 8, !dbg !929, !tbaa !741
  %call.i97 = tail call i32 @fputc(i32 %conv.i95, %struct._IO_FILE* %9) #8, !dbg !929
  %cmp.i98 = icmp ne i32 %call.i97, %conv.i95, !dbg !929
  %frombool.i99 = zext i1 %cmp.i98 to i8, !dbg !929
  store i8 %frombool.i99, i8* %fail.i93, align 1, !dbg !929, !tbaa !733
  %.pre = load %"class.pov_base::OStream"** %out_file19, align 8, !dbg !930, !tbaa !741
  %fail.i102.phi.trans.insert = getelementptr inbounds %"class.pov_base::OStream"* %.pre, i64 0, i32 0, i32 1
  %.pre122 = load i8* %fail.i102.phi.trans.insert, align 1, !dbg !931, !tbaa !733
  tail call void @llvm.dbg.value(metadata !{%"class.pov_base::OStream"* %.pre}, i64 0, metadata !932) #5, !dbg !933
  %tobool.i103 = icmp eq i8 %.pre122, 0, !dbg !931
  br i1 %tobool.i103, label %_ZN8pov_base7OStream10Write_ByteEh.exit110, label %if.then38, !dbg !931

_ZN8pov_base7OStream10Write_ByteEh.exit110:       ; preds = %_ZN8pov_base7OStream10Write_ByteEh.exit101
  %fail.i102 = getelementptr inbounds %"class.pov_base::OStream"* %.pre, i64 0, i32 0, i32 1, !dbg !931
  %mul26 = fmul double %g, 2.550000e+02, !dbg !930
  %call27 = tail call double @floor(double %mul26) #9, !dbg !930
  %conv28 = fptosi double %call27 to i32, !dbg !930
  %conv.i104 = and i32 %conv28, 255, !dbg !931
  %f.i105 = getelementptr inbounds %"class.pov_base::OStream"* %.pre, i64 0, i32 0, i32 2, !dbg !931
  %10 = load %struct._IO_FILE** %f.i105, align 8, !dbg !931, !tbaa !741
  %call.i106 = tail call i32 @fputc(i32 %conv.i104, %struct._IO_FILE* %10) #8, !dbg !931
  %cmp.i107 = icmp ne i32 %call.i106, %conv.i104, !dbg !931
  %frombool.i108 = zext i1 %cmp.i107 to i8, !dbg !931
  store i8 %frombool.i108, i8* %fail.i102, align 1, !dbg !931, !tbaa !733
  %.pre123 = load %"class.pov_base::OStream"** %out_file19, align 8, !dbg !934, !tbaa !741
  %fail.i111.phi.trans.insert = getelementptr inbounds %"class.pov_base::OStream"* %.pre123, i64 0, i32 0, i32 1
  %.pre124 = load i8* %fail.i111.phi.trans.insert, align 1, !dbg !935, !tbaa !733
  tail call void @llvm.dbg.value(metadata !{%"class.pov_base::OStream"* %.pre123}, i64 0, metadata !937) #5, !dbg !938
  %tobool.i112 = icmp eq i8 %.pre124, 0, !dbg !935
  br i1 %tobool.i112, label %_ZN8pov_base7OStream10Write_ByteEh.exit119, label %if.then38, !dbg !935

_ZN8pov_base7OStream10Write_ByteEh.exit119:       ; preds = %_ZN8pov_base7OStream10Write_ByteEh.exit110
  %fail.i111 = getelementptr inbounds %"class.pov_base::OStream"* %.pre123, i64 0, i32 0, i32 1, !dbg !935
  %mul32 = fmul double %r, 2.550000e+02, !dbg !936
  %call33 = tail call double @floor(double %mul32) #9, !dbg !936
  %conv34 = fptosi double %call33 to i32, !dbg !936
  %conv.i113 = and i32 %conv34, 255, !dbg !935
  %f.i114 = getelementptr inbounds %"class.pov_base::OStream"* %.pre123, i64 0, i32 0, i32 2, !dbg !935
  %11 = load %struct._IO_FILE** %f.i114, align 8, !dbg !935, !tbaa !741
  %call.i115 = tail call i32 @fputc(i32 %conv.i113, %struct._IO_FILE* %11) #8, !dbg !935
  %cmp.i116 = icmp ne i32 %call.i115, %conv.i113, !dbg !935
  %frombool.i117 = zext i1 %cmp.i116 to i8, !dbg !935
  store i8 %frombool.i117, i8* %fail.i111, align 1, !dbg !935, !tbaa !733
  br i1 %cmp.i116, label %if.then38, label %if.end41, !dbg !936

if.then38:                                        ; preds = %_ZN8pov_base7OStream10Write_ByteEh.exit119, %if.else, %_ZN8pov_base7OStream10Write_ByteEh.exit101, %_ZN8pov_base7OStream10Write_ByteEh.exit110
  %filename39 = getelementptr inbounds %"class.pov::Targa_Image"* %this, i64 0, i32 1, !dbg !939
  %12 = load i8** %filename39, align 8, !dbg !939, !tbaa !741
  %call40 = tail call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([36 x i8]* @.str3, i64 0, i64 0), i8* %12) #7, !dbg !939
  br label %if.end41, !dbg !939

if.end41:                                         ; preds = %_ZN8pov_base7OStream10Write_ByteEh.exit119, %if.then38
  %13 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 0), align 8, !dbg !940, !tbaa !739
  %and43 = and i32 %13, 65536, !dbg !940
  %tobool44 = icmp eq i32 %and43, 0, !dbg !940
  br i1 %tobool44, label %if.end58, label %if.then45, !dbg !940

if.then45:                                        ; preds = %if.end41
  %14 = load %"class.pov_base::OStream"** %out_file19, align 8, !dbg !941, !tbaa !741
  tail call void @llvm.dbg.value(metadata !{%"class.pov_base::OStream"* %14}, i64 0, metadata !943) #5, !dbg !945
  %fail.i84 = getelementptr inbounds %"class.pov_base::OStream"* %14, i64 0, i32 0, i32 1, !dbg !946
  %15 = load i8* %fail.i84, align 1, !dbg !946, !tbaa !733, !range !753
  %tobool.i85 = icmp eq i8 %15, 0, !dbg !946
  br i1 %tobool.i85, label %_ZN8pov_base7OStream10Write_ByteEh.exit92, label %if.then53, !dbg !946

_ZN8pov_base7OStream10Write_ByteEh.exit92:        ; preds = %if.then45
  %sub = fsub double 1.000000e+00, %f, !dbg !944
  %mul47 = fmul double %sub, 2.550000e+02, !dbg !944
  %call48 = tail call double @floor(double %mul47) #9, !dbg !944
  %conv49 = fptosi double %call48 to i32, !dbg !944
  %conv.i86 = and i32 %conv49, 255, !dbg !946
  %f.i87 = getelementptr inbounds %"class.pov_base::OStream"* %14, i64 0, i32 0, i32 2, !dbg !946
  %16 = load %struct._IO_FILE** %f.i87, align 8, !dbg !946, !tbaa !741
  %call.i88 = tail call i32 @fputc(i32 %conv.i86, %struct._IO_FILE* %16) #8, !dbg !946
  %cmp.i89 = icmp ne i32 %call.i88, %conv.i86, !dbg !946
  %frombool.i90 = zext i1 %cmp.i89 to i8, !dbg !946
  store i8 %frombool.i90, i8* %fail.i84, align 1, !dbg !946, !tbaa !733
  br i1 %cmp.i89, label %if.then53, label %if.end58, !dbg !944

if.then53:                                        ; preds = %_ZN8pov_base7OStream10Write_ByteEh.exit92, %if.then45
  %filename54 = getelementptr inbounds %"class.pov::Targa_Image"* %this, i64 0, i32 1, !dbg !947
  %17 = load i8** %filename54, align 8, !dbg !947, !tbaa !741
  %call55 = tail call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([36 x i8]* @.str3, i64 0, i64 0), i8* %17) #7, !dbg !947
  br label %if.end58, !dbg !947

if.end58:                                         ; preds = %_ZN8pov_base7OStream10Write_ByteEh.exit92, %_ZN8pov_base7OStream10Write_ByteEh.exit79, %if.end41, %if.then53, %if.then17
  ret void, !dbg !948
}
