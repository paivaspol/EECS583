define void @_ZN3pov23Determine_Blob_TexturesEPNS_11Blob_StructEPdPiPPNS_14Texture_StructES2_(%"struct.pov::Blob_Struct"* nocapture %Blob, double* %IPoint, i32* nocapture %Count, %"struct.pov::Texture_Struct"** %Textures, double* %Weights) #0 {
entry:
  %Textures.addr = alloca %"struct.pov::Texture_Struct"**, align 8
  %Weights.addr = alloca double*, align 8
  %size = alloca i32, align 4
  %P = alloca [3 x double], align 16
  call void @llvm.dbg.value(metadata !{%"struct.pov::Blob_Struct"* %Blob}, i64 0, metadata !1042), !dbg !2517
  call void @llvm.dbg.value(metadata !{double* %IPoint}, i64 0, metadata !1043), !dbg !2517
  call void @llvm.dbg.value(metadata !{i32* %Count}, i64 0, metadata !1044), !dbg !2517
  call void @llvm.dbg.value(metadata !{%"struct.pov::Texture_Struct"** %Textures}, i64 0, metadata !1045), !dbg !2517
  store %"struct.pov::Texture_Struct"** %Textures, %"struct.pov::Texture_Struct"*** %Textures.addr, align 8, !tbaa !1639
  call void @llvm.dbg.declare(metadata !{%"struct.pov::Texture_Struct"*** %Textures.addr}, metadata !1045), !dbg !2517
  call void @llvm.dbg.value(metadata !{double* %Weights}, i64 0, metadata !1046), !dbg !2517
  store double* %Weights, double** %Weights.addr, align 8, !tbaa !1639
  call void @llvm.dbg.declare(metadata !{double** %Weights.addr}, metadata !1046), !dbg !2517
  call void @llvm.dbg.declare(metadata !{i32* %size}, metadata !1048), !dbg !2518
  call void @llvm.dbg.declare(metadata !1624, metadata !1051), !dbg !2519
  call void @llvm.dbg.declare(metadata !{[3 x double]* %P}, metadata !1052), !dbg !2519
  %Data = getelementptr inbounds %"struct.pov::Blob_Struct"* %Blob, i64 0, i32 14, !dbg !2520
  %0 = load %"struct.pov::Blob_Data_Struct"** %Data, align 8, !dbg !2520, !tbaa !1639
  %Number_Of_Components = getelementptr inbounds %"struct.pov::Blob_Data_Struct"* %0, i64 0, i32 1, !dbg !2520
  %1 = load i32* %Number_Of_Components, align 4, !dbg !2520, !tbaa !1693
  call void @_ZN3pov26Reinitialize_Lighting_CodeEiPPPNS_14Texture_StructEPPd(i32 %1, %"struct.pov::Texture_Struct"*** %Textures.addr, double** %Weights.addr) #7, !dbg !2520
  %Trans = getelementptr inbounds %"struct.pov::Blob_Struct"* %Blob, i64 0, i32 10, !dbg !2521
  %2 = load %"struct.pov::Transform_Struct"** %Trans, align 8, !dbg !2521, !tbaa !1639
  %cmp = icmp eq %"struct.pov::Transform_Struct"* %2, null, !dbg !2521
  %arraydecay = getelementptr inbounds [3 x double]* %P, i64 0, i64 0, !dbg !2522
  br i1 %cmp, label %if.else, label %if.then, !dbg !2521

if.then:                                          ; preds = %entry
  call void @_ZN3pov14MInvTransPointEPdS0_PNS_16Transform_StructE(double* %arraydecay, double* %IPoint, %"struct.pov::Transform_Struct"* %2) #7, !dbg !2522
  br label %if.end, !dbg !2524

if.else:                                          ; preds = %entry
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay}, i64 0, metadata !2525), !dbg !2528
  tail call void @llvm.dbg.value(metadata !{double* %IPoint}, i64 0, metadata !2529), !dbg !2528
  %3 = load double* %IPoint, align 8, !dbg !2530, !tbaa !1647
  store double %3, double* %arraydecay, align 16, !dbg !2530, !tbaa !1647
  %arrayidx2.i = getelementptr inbounds double* %IPoint, i64 1, !dbg !2531
  %4 = load double* %arrayidx2.i, align 8, !dbg !2531, !tbaa !1647
  %arrayidx3.i = getelementptr inbounds [3 x double]* %P, i64 0, i64 1, !dbg !2531
  store double %4, double* %arrayidx3.i, align 8, !dbg !2531, !tbaa !1647
  %arrayidx4.i = getelementptr inbounds double* %IPoint, i64 2, !dbg !2532
  %5 = load double* %arrayidx4.i, align 8, !dbg !2532, !tbaa !1647
  %arrayidx5.i = getelementptr inbounds [3 x double]* %P, i64 0, i64 2, !dbg !2532
  store double %5, double* %arrayidx5.i, align 16, !dbg !2532, !tbaa !1647
  br label %if.end

if.end:                                           ; preds = %if.else, %if.then
  store i32 0, i32* %Count, align 4, !dbg !2533, !tbaa !1693
  %6 = load %"struct.pov::Blob_Data_Struct"** %Data, align 8, !dbg !2534, !tbaa !1639
  %Tree4 = getelementptr inbounds %"struct.pov::Blob_Data_Struct"* %6, i64 0, i32 5, !dbg !2534
  %7 = load %"struct.pov::BSphere_Tree_Struct"** %Tree4, align 8, !dbg !2534, !tbaa !1639
  %cmp5 = icmp eq %"struct.pov::BSphere_Tree_Struct"* %7, null, !dbg !2534
  br i1 %cmp5, label %for.cond.preheader, label %while.body.lr.ph, !dbg !2534

for.cond.preheader:                               ; preds = %if.end
  %Number_Of_Components8136 = getelementptr inbounds %"struct.pov::Blob_Data_Struct"* %6, i64 0, i32 1, !dbg !2535
  %8 = load i32* %Number_Of_Components8136, align 4, !dbg !2535, !tbaa !1693
  %cmp9137 = icmp sgt i32 %8, 0, !dbg !2535
  br i1 %cmp9137, label %for.body.lr.ph, label %if.end58, !dbg !2535

for.body.lr.ph:                                   ; preds = %for.cond.preheader
  %Element_Texture = getelementptr inbounds %"struct.pov::Blob_Struct"* %Blob, i64 0, i32 15, !dbg !2538
  br label %for.body, !dbg !2535

for.body:                                         ; preds = %for.body.lr.ph, %for.body
  %indvars.iv146 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next147, %for.body ]
  %9 = phi %"struct.pov::Blob_Data_Struct"* [ %6, %for.body.lr.ph ], [ %15, %for.body ]
  %Entry = getelementptr inbounds %"struct.pov::Blob_Data_Struct"* %9, i64 0, i32 3, !dbg !2540
  %10 = load %"struct.pov::Blob_Element_Struct"** %Entry, align 8, !dbg !2540, !tbaa !1639
  %arrayidx = getelementptr inbounds %"struct.pov::Blob_Element_Struct"* %10, i64 %indvars.iv146, !dbg !2540
  call void @llvm.dbg.value(metadata !{%"struct.pov::Blob_Element_Struct"* %arrayidx}, i64 0, metadata !1053), !dbg !2540
  %11 = load %"struct.pov::Texture_Struct"*** %Element_Texture, align 8, !dbg !2538, !tbaa !1639
  %arrayidx12 = getelementptr inbounds %"struct.pov::Texture_Struct"** %11, i64 %indvars.iv146, !dbg !2538
  %12 = load %"struct.pov::Texture_Struct"** %arrayidx12, align 8, !dbg !2538, !tbaa !1639
  call void @llvm.dbg.value(metadata !{%"struct.pov::Texture_Struct"*** %Textures.addr}, i64 0, metadata !1045), !dbg !2538
  %13 = load %"struct.pov::Texture_Struct"*** %Textures.addr, align 8, !dbg !2538, !tbaa !1639
  call void @llvm.dbg.value(metadata !{double** %Weights.addr}, i64 0, metadata !1046), !dbg !2538
  %14 = load double** %Weights.addr, align 8, !dbg !2538, !tbaa !1639
  call fastcc void @_ZN3povL25determine_element_textureEPNS_11Blob_StructEPNS_19Blob_Element_StructEPNS_14Texture_StructEPdPiPS5_S6_(%"struct.pov::Blob_Struct"* %Blob, %"struct.pov::Blob_Element_Struct"* %arrayidx, %"struct.pov::Texture_Struct"* %12, double* %arraydecay, i32* %Count, %"struct.pov::Texture_Struct"** %13, double* %14) #7, !dbg !2538
  %indvars.iv.next147 = add i64 %indvars.iv146, 1, !dbg !2535
  %15 = load %"struct.pov::Blob_Data_Struct"** %Data, align 8, !dbg !2535, !tbaa !1639
  %Number_Of_Components8 = getelementptr inbounds %"struct.pov::Blob_Data_Struct"* %15, i64 0, i32 1, !dbg !2535
  %16 = load i32* %Number_Of_Components8, align 4, !dbg !2535, !tbaa !1693
  %17 = trunc i64 %indvars.iv.next147 to i32, !dbg !2535
  %cmp9 = icmp slt i32 %17, %16, !dbg !2535
  br i1 %cmp9, label %for.body, label %if.end58, !dbg !2535

while.body.lr.ph:                                 ; preds = %if.end
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !1048), !dbg !2541
  call void @llvm.dbg.value(metadata !1708, i64 0, metadata !1048), !dbg !2543
  store i32 1, i32* %size, align 4, !dbg !2543, !tbaa !1693
  %Queue = getelementptr inbounds %"struct.pov::Blob_Struct"* %Blob, i64 0, i32 16, !dbg !2543
  %18 = load %"struct.pov::BSphere_Tree_Struct"*** %Queue, align 8, !dbg !2543, !tbaa !1639
  store %"struct.pov::BSphere_Tree_Struct"* %7, %"struct.pov::BSphere_Tree_Struct"** %18, align 8, !dbg !2543, !tbaa !1639
  call void @llvm.dbg.value(metadata !{i32* %size}, i64 0, metadata !1048), !dbg !2544
  %Element_Texture28 = getelementptr inbounds %"struct.pov::Blob_Struct"* %Blob, i64 0, i32 15, !dbg !2545
  %arrayidx3.i122 = getelementptr inbounds [3 x double]* %P, i64 0, i64 1, !dbg !2548
  %arrayidx7.i = getelementptr inbounds [3 x double]* %P, i64 0, i64 2, !dbg !2553
  br label %while.body, !dbg !2544

for.cond32.while.cond.loopexit_crit_edge:         ; preds = %for.inc54
  call void @llvm.dbg.value(metadata !{i32* %size}, i64 0, metadata !1048), !dbg !2544
  %.pre150.pre = load i32* %size, align 4, !dbg !2544, !tbaa !1693
  br label %while.cond.backedge, !dbg !2554

while.body:                                       ; preds = %while.cond.backedge, %while.body.lr.ph
  %19 = phi i32 [ 1, %while.body.lr.ph ], [ %30, %while.cond.backedge ]
  %dec = add i32 %19, -1, !dbg !2555
  call void @llvm.dbg.value(metadata !{i32 %dec}, i64 0, metadata !1048), !dbg !2555
  store i32 %dec, i32* %size, align 4, !dbg !2555, !tbaa !1693
  %idxprom21 = zext i32 %dec to i64, !dbg !2555
  %20 = load %"struct.pov::BSphere_Tree_Struct"*** %Queue, align 8, !dbg !2555, !tbaa !1639
  %arrayidx23 = getelementptr inbounds %"struct.pov::BSphere_Tree_Struct"** %20, i64 %idxprom21, !dbg !2555
  %21 = load %"struct.pov::BSphere_Tree_Struct"** %arrayidx23, align 8, !dbg !2555, !tbaa !1639
  call void @llvm.dbg.value(metadata !{%"struct.pov::BSphere_Tree_Struct"* %21}, i64 0, metadata !1054), !dbg !2555
  %Entries = getelementptr inbounds %"struct.pov::BSphere_Tree_Struct"* %21, i64 0, i32 0, !dbg !2556
  %22 = load i16* %Entries, align 2, !dbg !2556, !tbaa !1725
  %cmp24 = icmp slt i16 %22, 1, !dbg !2556
  %Node = getelementptr inbounds %"struct.pov::BSphere_Tree_Struct"* %21, i64 0, i32 3, !dbg !2545
  br i1 %cmp24, label %if.then25, label %for.body36, !dbg !2556

if.then25:                                        ; preds = %while.body
  %23 = load %"struct.pov::BSphere_Tree_Struct"*** %Node, align 8, !dbg !2545, !tbaa !1639
  %24 = bitcast %"struct.pov::BSphere_Tree_Struct"** %23 to %"struct.pov::Blob_Element_Struct"*, !dbg !2545
  %index = getelementptr inbounds %"struct.pov::Blob_Element_Struct"* %24, i64 0, i32 1, !dbg !2545
  %25 = load i32* %index, align 4, !dbg !2545, !tbaa !1693
  %idxprom27 = sext i32 %25 to i64, !dbg !2545
  %26 = load %"struct.pov::Texture_Struct"*** %Element_Texture28, align 8, !dbg !2545, !tbaa !1639
  %arrayidx29 = getelementptr inbounds %"struct.pov::Texture_Struct"** %26, i64 %idxprom27, !dbg !2545
  %27 = load %"struct.pov::Texture_Struct"** %arrayidx29, align 8, !dbg !2545, !tbaa !1639
  call void @llvm.dbg.value(metadata !{%"struct.pov::Texture_Struct"*** %Textures.addr}, i64 0, metadata !1045), !dbg !2545
  %28 = load %"struct.pov::Texture_Struct"*** %Textures.addr, align 8, !dbg !2545, !tbaa !1639
  call void @llvm.dbg.value(metadata !{double** %Weights.addr}, i64 0, metadata !1046), !dbg !2545
  %29 = load double** %Weights.addr, align 8, !dbg !2545, !tbaa !1639
  call fastcc void @_ZN3povL25determine_element_textureEPNS_11Blob_StructEPNS_19Blob_Element_StructEPNS_14Texture_StructEPdPiPS5_S6_(%"struct.pov::Blob_Struct"* %Blob, %"struct.pov::Blob_Element_Struct"* %24, %"struct.pov::Texture_Struct"* %27, double* %arraydecay, i32* %Count, %"struct.pov::Texture_Struct"** %28, double* %29) #7, !dbg !2545
  br label %while.cond.backedge, !dbg !2557

while.cond.backedge:                              ; preds = %for.cond32.while.cond.loopexit_crit_edge, %if.then25
  %30 = phi i32 [ %dec, %if.then25 ], [ %.pre150.pre, %for.cond32.while.cond.loopexit_crit_edge ]
  call void @llvm.dbg.value(metadata !{i32* %size}, i64 0, metadata !1048), !dbg !2544
  %cmp20 = icmp eq i32 %30, 0, !dbg !2544
  br i1 %cmp20, label %if.end58, label %while.body, !dbg !2544

for.body36:                                       ; preds = %while.body, %for.inc54
  %31 = phi i16 [ %41, %for.inc54 ], [ %22, %while.body ]
  %indvars.iv148 = phi i64 [ %indvars.iv.next149, %for.inc54 ], [ 0, %while.body ]
  %32 = load %"struct.pov::BSphere_Tree_Struct"*** %Node, align 8, !dbg !2549, !tbaa !1639
  %arrayidx41 = getelementptr inbounds %"struct.pov::BSphere_Tree_Struct"** %32, i64 %indvars.iv148, !dbg !2549
  %33 = load %"struct.pov::BSphere_Tree_Struct"** %arrayidx41, align 8, !dbg !2549, !tbaa !1639
  %arraydecay42 = getelementptr inbounds %"struct.pov::BSphere_Tree_Struct"* %33, i64 0, i32 1, i64 0, !dbg !2549
  tail call void @llvm.dbg.value(metadata !1736, i64 0, metadata !2558), !dbg !2559
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay}, i64 0, metadata !2560), !dbg !2559
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay42}, i64 0, metadata !2561), !dbg !2559
  %34 = load double* %arraydecay, align 16, !dbg !2562, !tbaa !1647
  %35 = load double* %arraydecay42, align 8, !dbg !2562, !tbaa !1647
  %sub.i = fsub double %34, %35, !dbg !2562
  %36 = load double* %arrayidx3.i122, align 8, !dbg !2548, !tbaa !1647
  %arrayidx4.i123 = getelementptr inbounds %"struct.pov::BSphere_Tree_Struct"* %33, i64 0, i32 1, i64 1, !dbg !2548
  %37 = load double* %arrayidx4.i123, align 8, !dbg !2548, !tbaa !1647
  %sub5.i = fsub double %36, %37, !dbg !2548
  %38 = load double* %arrayidx7.i, align 16, !dbg !2553, !tbaa !1647
  %arrayidx8.i = getelementptr inbounds %"struct.pov::BSphere_Tree_Struct"* %33, i64 0, i32 1, i64 2, !dbg !2553
  %39 = load double* %arrayidx8.i, align 8, !dbg !2553, !tbaa !1647
  %sub9.i = fsub double %38, %39, !dbg !2553
  tail call void @llvm.dbg.value(metadata !1736, i64 0, metadata !2563), !dbg !2565
  tail call void @llvm.dbg.value(metadata !1736, i64 0, metadata !2566), !dbg !2565
  %mul.i = fmul double %sub.i, %sub.i, !dbg !2567
  %mul4.i = fmul double %sub5.i, %sub5.i, !dbg !2567
  %add.i = fadd double %mul.i, %mul4.i, !dbg !2567
  %mul7.i = fmul double %sub9.i, %sub9.i, !dbg !2567
  %add8.i = fadd double %add.i, %mul7.i, !dbg !2567
  call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !1049), !dbg !2567
  call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !2568), !dbg !2565
  call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !1049), !dbg !2569
  %r2 = getelementptr inbounds %"struct.pov::BSphere_Tree_Struct"* %33, i64 0, i32 2, !dbg !2569
  %40 = load double* %r2, align 8, !dbg !2569, !tbaa !1647
  %cmp48 = fcmp ugt double %add8.i, %40, !dbg !2569
  br i1 %cmp48, label %for.inc54, label %if.then49, !dbg !2569

if.then49:                                        ; preds = %for.body36
  call fastcc void @_ZN3povL11insert_nodeEPNS_11Blob_StructEPNS_19BSphere_Tree_StructEPj(%"struct.pov::Blob_Struct"* %Blob, %"struct.pov::BSphere_Tree_Struct"* %33, i32* %size) #7, !dbg !2570
  %.pre = load i16* %Entries, align 2, !dbg !2554, !tbaa !1725
  br label %for.inc54, !dbg !2570

for.inc54:                                        ; preds = %for.body36, %if.then49
  %41 = phi i16 [ %31, %for.body36 ], [ %.pre, %if.then49 ], !dbg !2554
  %indvars.iv.next149 = add i64 %indvars.iv148, 1, !dbg !2554
  %conv34 = sext i16 %41 to i32, !dbg !2554
  %42 = trunc i64 %indvars.iv.next149 to i32, !dbg !2554
  %cmp35 = icmp slt i32 %42, %conv34, !dbg !2554
  br i1 %cmp35, label %for.body36, label %for.cond32.while.cond.loopexit_crit_edge, !dbg !2554

if.end58:                                         ; preds = %while.cond.backedge, %for.cond.preheader, %for.body
  %43 = load i32* %Count, align 4, !dbg !2571, !tbaa !1693
  %cmp59 = icmp sgt i32 %43, 0, !dbg !2571
  br i1 %cmp59, label %for.body63.lr.ph, label %if.end80, !dbg !2571

for.body63.lr.ph:                                 ; preds = %if.end58
  call void @llvm.dbg.value(metadata !{double** %Weights.addr}, i64 0, metadata !1046), !dbg !2572
  %44 = load double** %Weights.addr, align 8, !dbg !2572, !tbaa !1639
  br label %for.body63, !dbg !2575

for.body63:                                       ; preds = %for.body63.lr.ph, %for.body63
  %indvars.iv144 = phi i64 [ 0, %for.body63.lr.ph ], [ %indvars.iv.next145, %for.body63 ]
  %sum.0134 = phi double [ 0.000000e+00, %for.body63.lr.ph ], [ %add, %for.body63 ]
  call void @llvm.dbg.value(metadata !{double** %Weights.addr}, i64 0, metadata !1046), !dbg !2572
  %arrayidx65 = getelementptr inbounds double* %44, i64 %indvars.iv144, !dbg !2572
  %45 = load double* %arrayidx65, align 8, !dbg !2572, !tbaa !1647
  %add = fadd double %sum.0134, %45, !dbg !2572
  call void @llvm.dbg.value(metadata !{double %add}, i64 0, metadata !1050), !dbg !2572
  %indvars.iv.next145 = add i64 %indvars.iv144, 1, !dbg !2575
  %46 = trunc i64 %indvars.iv.next145 to i32, !dbg !2575
  %cmp62 = icmp slt i32 %46, %43, !dbg !2575
  br i1 %cmp62, label %for.body63, label %for.end68, !dbg !2575

for.end68:                                        ; preds = %for.body63
  %cmp69 = fcmp ogt double %add, 0.000000e+00, !dbg !2576
  br i1 %cmp69, label %for.body73.lr.ph, label %if.end80, !dbg !2576

for.body73.lr.ph:                                 ; preds = %for.end68
  %div = fdiv double 1.000000e+00, %add, !dbg !2577
  call void @llvm.dbg.value(metadata !{double %div}, i64 0, metadata !1050), !dbg !2577
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !1047), !dbg !2579
  call void @llvm.dbg.value(metadata !{double** %Weights.addr}, i64 0, metadata !1046), !dbg !2581
  %47 = load double** %Weights.addr, align 8, !dbg !2581, !tbaa !1639
  br label %for.body73, !dbg !2579

for.body73:                                       ; preds = %for.body73.lr.ph, %for.body73
  %indvars.iv = phi i64 [ 0, %for.body73.lr.ph ], [ %indvars.iv.next, %for.body73 ]
  call void @llvm.dbg.value(metadata !{double** %Weights.addr}, i64 0, metadata !1046), !dbg !2581
  %arrayidx75 = getelementptr inbounds double* %47, i64 %indvars.iv, !dbg !2581
  %48 = load double* %arrayidx75, align 8, !dbg !2581, !tbaa !1647
  %mul = fmul double %div, %48, !dbg !2581
  store double %mul, double* %arrayidx75, align 8, !dbg !2581, !tbaa !1647
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !2579
  %49 = trunc i64 %indvars.iv.next to i32, !dbg !2579
  %cmp72 = icmp slt i32 %49, %43, !dbg !2579
  br i1 %cmp72, label %for.body73, label %if.end80, !dbg !2579

if.end80:                                         ; preds = %for.body73, %for.end68, %if.end58
  ret void, !dbg !2582
}
