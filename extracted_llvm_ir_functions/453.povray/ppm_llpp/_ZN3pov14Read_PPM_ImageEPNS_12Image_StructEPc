define void @_ZN3pov14Read_PPM_ImageEPNS_12Image_StructEPc(%"struct.pov::Image_Struct"* nocapture %Image, i8* %name) #0 {
entry:
  %header = alloca [2 x i8], align 1
  %line = alloca [1024 x i8], align 16
  %width = alloca i32, align 4
  %height = alloca i32, align 4
  %depth = alloca i32, align 4
  call void @llvm.dbg.value(metadata !{%"struct.pov::Image_Struct"* %Image}, i64 0, metadata !559), !dbg !917
  call void @llvm.dbg.value(metadata !{i8* %name}, i64 0, metadata !560), !dbg !917
  call void @llvm.dbg.declare(metadata !{[2 x i8]* %header}, metadata !562), !dbg !918
  %0 = getelementptr inbounds [1024 x i8]* %line, i64 0, i64 0, !dbg !919
  call void @llvm.lifetime.start(i64 1024, i8* %0) #2, !dbg !919
  call void @llvm.dbg.declare(metadata !{[1024 x i8]* %line}, metadata !563), !dbg !919
  call void @llvm.dbg.declare(metadata !{i32* %width}, metadata !566), !dbg !920
  call void @llvm.dbg.declare(metadata !{i32* %height}, metadata !567), !dbg !920
  call void @llvm.dbg.declare(metadata !{i32* %depth}, metadata !568), !dbg !921
  %call = call %"class.pov_base::IStream"* @_ZN3pov11Locate_FileEPcjS0_b(i8* %name, i32 3, i8* null, i1 zeroext true) #8, !dbg !922
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !561), !dbg !922
  %cmp = icmp eq %"class.pov_base::IStream"* %call, null, !dbg !922
  br i1 %cmp, label %if.then, label %if.end, !dbg !922

if.then:                                          ; preds = %entry
  %call1 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([26 x i8]* @.str10, i64 0, i64 0), i8* %name) #8, !dbg !923
  br label %if.end, !dbg !923

if.end:                                           ; preds = %if.then, %entry
  %1 = getelementptr inbounds %"class.pov_base::IStream"* %call, i64 0, i32 0, !dbg !924
  %arraydecay = getelementptr inbounds [2 x i8]* %header, i64 0, i64 0, !dbg !924
  %call2 = call %"class.pov_base::IOBase"* @_ZN8pov_base6IOBase4readEPvm(%"class.pov_base::IOBase"* %1, i8* %arraydecay, i64 2) #8, !dbg !924
  tail call void @llvm.dbg.value(metadata !{%"class.pov_base::IOBase"* %call2}, i64 0, metadata !925), !dbg !926
  %fail.i = getelementptr inbounds %"class.pov_base::IOBase"* %call2, i64 0, i32 1, !dbg !927
  %2 = load i8* %fail.i, align 1, !dbg !927, !tbaa !686, !range !711
  %tobool.i = icmp eq i8 %2, 0, !dbg !927
  br i1 %tobool.i, label %if.end6, label %if.then4, !dbg !924

if.then4:                                         ; preds = %if.end
  %call5 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([36 x i8]* @.str11, i64 0, i64 0), i8* %name) #8, !dbg !928
  br label %if.end6, !dbg !928

if.end6:                                          ; preds = %if.end, %if.then4
  %3 = load i8* %arraydecay, align 1, !dbg !929, !tbaa !687
  %cmp7 = icmp eq i8 %3, 80, !dbg !929
  br i1 %cmp7, label %if.end10, label %if.then8, !dbg !929

if.then8:                                         ; preds = %if.end6
  %call9 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([27 x i8]* @.str12, i64 0, i64 0)) #8, !dbg !929
  br label %if.end10, !dbg !929

if.end10:                                         ; preds = %if.end6, %if.then8
  %arrayidx11 = getelementptr inbounds [2 x i8]* %header, i64 0, i64 1, !dbg !930
  %4 = load i8* %arrayidx11, align 1, !dbg !930, !tbaa !687
  switch i8 %4, label %if.then17 [
    i8 51, label %do.body.preheader
    i8 54, label %do.body.preheader
  ], !dbg !930

if.then17:                                        ; preds = %if.end10
  %conv12 = zext i8 %4 to i32, !dbg !930
  %call20 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([37 x i8]* @.str13, i64 0, i64 0), i32 %conv12) #8, !dbg !931
  br label %do.body.preheader, !dbg !931

do.body.preheader:                                ; preds = %if.then17, %if.end10, %if.end10
  %arrayidx24 = getelementptr inbounds [1024 x i8]* %line, i64 0, i64 1023, !dbg !932
  br label %do.body, !dbg !934

do.body:                                          ; preds = %do.body.preheader, %do.cond
  %call23 = call %"class.pov_base::IStream"* @_ZN8pov_base7IStream7getlineEPcm(%"class.pov_base::IStream"* %call, i8* %0, i64 1024) #8, !dbg !934
  store i8 0, i8* %arrayidx24, align 1, !dbg !932, !tbaa !687
  %call26 = call i8* @strchr(i8* %0, i32 35) #9, !dbg !935
  call void @llvm.dbg.value(metadata !{i8* %call26}, i64 0, metadata !564), !dbg !935
  %cmp27 = icmp eq i8* %call26, null, !dbg !935
  br i1 %cmp27, label %do.cond, label %if.then28, !dbg !935

if.then28:                                        ; preds = %do.body
  store i8 0, i8* %call26, align 1, !dbg !936, !tbaa !687
  br label %do.cond, !dbg !936

do.cond:                                          ; preds = %do.body, %if.then28
  %5 = load i8* %0, align 16, !dbg !937, !tbaa !687
  %cmp32 = icmp eq i8 %5, 0, !dbg !937
  br i1 %cmp32, label %do.body, label %do.end, !dbg !937

do.end:                                           ; preds = %do.cond
  %call34 = call i32 (i8*, i8*, ...)* @sscanf(i8* %0, i8* getelementptr inbounds ([6 x i8]* @.str, i64 0, i64 0), i32* %width, i32* %height) #10, !dbg !938
  %cmp35 = icmp eq i32 %call34, 2, !dbg !938
  br i1 %cmp35, label %if.end38, label %if.then36, !dbg !938

if.then36:                                        ; preds = %do.end
  %call37 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([45 x i8]* @.str14, i64 0, i64 0)) #8, !dbg !939
  br label %if.end38, !dbg !939

if.end38:                                         ; preds = %do.end, %if.then36
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !940
  %6 = load i32* %width, align 4, !dbg !940, !tbaa !694
  %cmp39 = icmp slt i32 %6, 1, !dbg !940
  br i1 %cmp39, label %if.then41, label %lor.lhs.false, !dbg !940

lor.lhs.false:                                    ; preds = %if.end38
  call void @llvm.dbg.value(metadata !{i32* %height}, i64 0, metadata !567), !dbg !940
  %7 = load i32* %height, align 4, !dbg !940, !tbaa !694
  %cmp40 = icmp slt i32 %7, 1, !dbg !940
  br i1 %cmp40, label %if.then41, label %do.body44, !dbg !940

if.then41:                                        ; preds = %lor.lhs.false, %if.end38
  %call42 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([45 x i8]* @.str15, i64 0, i64 0)) #8, !dbg !941
  br label %do.body44, !dbg !941

do.body44:                                        ; preds = %lor.lhs.false, %if.then41, %do.cond53
  %call46 = call %"class.pov_base::IStream"* @_ZN8pov_base7IStream7getlineEPcm(%"class.pov_base::IStream"* %call, i8* %0, i64 1024) #8, !dbg !942
  store i8 0, i8* %arrayidx24, align 1, !dbg !944, !tbaa !687
  %call49 = call i8* @strchr(i8* %0, i32 35) #9, !dbg !945
  call void @llvm.dbg.value(metadata !{i8* %call49}, i64 0, metadata !564), !dbg !945
  %cmp50 = icmp eq i8* %call49, null, !dbg !945
  br i1 %cmp50, label %do.cond53, label %if.then51, !dbg !945

if.then51:                                        ; preds = %do.body44
  store i8 0, i8* %call49, align 1, !dbg !946, !tbaa !687
  br label %do.cond53, !dbg !946

do.cond53:                                        ; preds = %do.body44, %if.then51
  %8 = load i8* %0, align 16, !dbg !947, !tbaa !687
  %cmp56 = icmp eq i8 %8, 0, !dbg !947
  br i1 %cmp56, label %do.body44, label %do.end57, !dbg !947

do.end57:                                         ; preds = %do.cond53
  %call59 = call i32 (i8*, i8*, ...)* @sscanf(i8* %0, i8* getelementptr inbounds ([3 x i8]* @.str1, i64 0, i64 0), i32* %depth) #10, !dbg !948
  %cmp60 = icmp eq i32 %call59, 1, !dbg !948
  br i1 %cmp60, label %if.end63, label %if.then61, !dbg !948

if.then61:                                        ; preds = %do.end57
  %call62 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([40 x i8]* @.str16, i64 0, i64 0)) #8, !dbg !949
  br label %if.end63, !dbg !949

if.end63:                                         ; preds = %do.end57, %if.then61
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !950
  %9 = load i32* %depth, align 4, !dbg !950, !tbaa !694
  %cmp64 = icmp ugt i32 %9, 65535, !dbg !950
  %cmp66 = icmp eq i32 %9, 0, !dbg !950
  %or.cond = or i1 %cmp64, %cmp66, !dbg !950
  br i1 %or.cond, label %if.then67, label %if.end69, !dbg !950

if.then67:                                        ; preds = %if.end63
  %call68 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([48 x i8]* @.str17, i64 0, i64 0), i32 %9) #8, !dbg !951
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !952
  %.pre = load i32* %depth, align 4, !dbg !952, !tbaa !694
  br label %if.end69, !dbg !951

if.end69:                                         ; preds = %if.end63, %if.then67
  %10 = phi i32 [ %9, %if.end63 ], [ %.pre, %if.then67 ]
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !953
  %11 = load i32* %width, align 4, !dbg !953, !tbaa !694
  %iwidth = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 5, !dbg !953
  store i32 %11, i32* %iwidth, align 4, !dbg !953, !tbaa !694
  call void @llvm.dbg.value(metadata !{i32* %height}, i64 0, metadata !567), !dbg !954
  %12 = load i32* %height, align 4, !dbg !954, !tbaa !694
  %iheight = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 6, !dbg !954
  store i32 %12, i32* %iheight, align 4, !dbg !954, !tbaa !694
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !955
  %conv70 = sitofp i32 %11 to double, !dbg !955
  %conv71 = fptrunc double %conv70 to float, !dbg !955
  %width72 = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 11, !dbg !955
  store float %conv71, float* %width72, align 4, !dbg !955, !tbaa !783
  call void @llvm.dbg.value(metadata !{i32* %height}, i64 0, metadata !567), !dbg !956
  %conv73 = sitofp i32 %12 to double, !dbg !956
  %conv74 = fptrunc double %conv73 to float, !dbg !956
  %height75 = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 12, !dbg !956
  store float %conv74, float* %height75, align 4, !dbg !956, !tbaa !783
  %Colour_Map = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 16, !dbg !957
  store %"struct.pov::Image_Colour_Struct"* null, %"struct.pov::Image_Colour_Struct"** %Colour_Map, align 8, !dbg !957, !tbaa !696
  %Colour_Map_Size = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 7, !dbg !958
  store i16 0, i16* %Colour_Map_Size, align 2, !dbg !958, !tbaa !959
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !952
  %cmp76 = icmp ult i32 %10, 256, !dbg !952
  br i1 %cmp76, label %if.then77, label %if.else175, !dbg !952

if.then77:                                        ; preds = %if.end69
  call void @llvm.dbg.value(metadata !{i32* %height}, i64 0, metadata !567), !dbg !960
  %conv78 = sext i32 %12 to i64, !dbg !960
  %mul = shl nsw i64 %conv78, 5, !dbg !960
  %call79 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %mul, i8* getelementptr inbounds ([52 x i8]* @.str18, i64 0, i64 0), i32 570, i8* getelementptr inbounds ([10 x i8]* @.str19, i64 0, i64 0)) #8, !dbg !960
  %13 = bitcast i8* %call79 to %"struct.pov::Image8_Line_Struct"*, !dbg !960
  %rgb8_lines = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 18, i32 0, !dbg !960
  store %"struct.pov::Image8_Line_Struct"* %13, %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !960, !tbaa !696
  call void @llvm.dbg.value(metadata !61, i64 0, metadata !574), !dbg !962
  call void @llvm.dbg.value(metadata !{i32* %height}, i64 0, metadata !567), !dbg !962
  %14 = load i32* %height, align 4, !dbg !962, !tbaa !694
  %cmp80492 = icmp sgt i32 %14, 0, !dbg !962
  br i1 %cmp80492, label %for.body.lr.ph, label %if.end310, !dbg !962

for.body.lr.ph:                                   ; preds = %if.then77
  %fail.i402 = getelementptr inbounds %"class.pov_base::IStream"* %call, i64 0, i32 0, i32 1, !dbg !964
  %f.i = getelementptr inbounds %"class.pov_base::IStream"* %call, i64 0, i32 0, i32 2, !dbg !964
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !970
  %.pre512 = load i32* %width, align 4, !dbg !970, !tbaa !694
  br label %for.body, !dbg !962

for.body:                                         ; preds = %for.inc172.for.body_crit_edge, %for.body.lr.ph
  %15 = phi %"struct.pov::Image8_Line_Struct"* [ %13, %for.body.lr.ph ], [ %.pre514, %for.inc172.for.body_crit_edge ]
  %16 = phi i32 [ %.pre512, %for.body.lr.ph ], [ %43, %for.inc172.for.body_crit_edge ]
  %indvars.iv504 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next505, %for.inc172.for.body_crit_edge ]
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !970
  %conv84 = sext i32 %16 to i64, !dbg !970
  %call85 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %conv84, i8* getelementptr inbounds ([52 x i8]* @.str18, i64 0, i64 0), i32 576, i8* getelementptr inbounds ([15 x i8]* @.str20, i64 0, i64 0)) #8, !dbg !970
  %red = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %15, i64 %indvars.iv504, i32 0, !dbg !970
  store i8* %call85, i8** %red, align 8, !dbg !970, !tbaa !696
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !971
  %17 = load i32* %width, align 4, !dbg !971, !tbaa !694
  %conv86 = sext i32 %17 to i64, !dbg !971
  %call87 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %conv86, i8* getelementptr inbounds ([52 x i8]* @.str18, i64 0, i64 0), i32 577, i8* getelementptr inbounds ([15 x i8]* @.str20, i64 0, i64 0)) #8, !dbg !971
  %green = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %15, i64 %indvars.iv504, i32 1, !dbg !971
  store i8* %call87, i8** %green, align 8, !dbg !971, !tbaa !696
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !972
  %18 = load i32* %width, align 4, !dbg !972, !tbaa !694
  %conv88 = sext i32 %18 to i64, !dbg !972
  %call89 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %conv88, i8* getelementptr inbounds ([52 x i8]* @.str18, i64 0, i64 0), i32 578, i8* getelementptr inbounds ([15 x i8]* @.str20, i64 0, i64 0)) #8, !dbg !972
  %blue = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %15, i64 %indvars.iv504, i32 2, !dbg !972
  store i8* %call89, i8** %blue, align 8, !dbg !972, !tbaa !696
  %transm = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %15, i64 %indvars.iv504, i32 3, !dbg !973
  store i8* null, i8** %transm, align 8, !dbg !973, !tbaa !696
  %19 = load i8* %arrayidx11, align 1, !dbg !974, !tbaa !687
  %cmp92 = icmp eq i8 %19, 51, !dbg !974
  call void @llvm.dbg.value(metadata !61, i64 0, metadata !573), !dbg !975
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !975
  %20 = load i32* %width, align 4, !dbg !975, !tbaa !694
  %cmp95490 = icmp sgt i32 %20, 0, !dbg !975
  br i1 %cmp92, label %for.cond94.preheader, label %for.cond132.preheader, !dbg !974

for.cond94.preheader:                             ; preds = %for.body
  br i1 %cmp95490, label %for.body96, label %for.inc172, !dbg !975

for.cond132.preheader:                            ; preds = %for.body
  br i1 %cmp95490, label %for.body134, label %for.inc172, !dbg !978

for.body96:                                       ; preds = %for.cond94.preheader, %for.inc
  %indvars.iv502 = phi i64 [ %indvars.iv.next503, %for.inc ], [ 0, %for.cond94.preheader ]
  %call97 = call i32 @_ZN3pov22Read_ASCII_File_NumberEPN8pov_base7IStreamE(%"class.pov_base::IStream"* %call) #8, !dbg !979
  call void @llvm.dbg.value(metadata !{i32 %call97}, i64 0, metadata !565), !dbg !979
  %cmp98 = icmp sgt i32 %call97, -1, !dbg !981
  br i1 %cmp98, label %if.then99, label %if.else, !dbg !981

if.then99:                                        ; preds = %for.body96
  %mul100 = mul nsw i32 %call97, 255, !dbg !981
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !981
  %21 = load i32* %depth, align 4, !dbg !981, !tbaa !694
  %div = udiv i32 %mul100, %21, !dbg !981
  %conv101 = trunc i32 %div to i8, !dbg !981
  %22 = load i8** %red, align 8, !dbg !981, !tbaa !696
  %arrayidx104 = getelementptr inbounds i8* %22, i64 %indvars.iv502, !dbg !981
  store i8 %conv101, i8* %arrayidx104, align 1, !dbg !981, !tbaa !687
  br label %if.end106, !dbg !981

if.else:                                          ; preds = %for.body96
  %call105 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([39 x i8]* @.str21, i64 0, i64 0)) #8, !dbg !982
  br label %if.end106

if.end106:                                        ; preds = %if.else, %if.then99
  %call107 = call i32 @_ZN3pov22Read_ASCII_File_NumberEPN8pov_base7IStreamE(%"class.pov_base::IStream"* %call) #8, !dbg !983
  call void @llvm.dbg.value(metadata !{i32 %call107}, i64 0, metadata !565), !dbg !983
  %cmp108 = icmp sgt i32 %call107, -1, !dbg !984
  br i1 %cmp108, label %if.then109, label %if.else116, !dbg !984

if.then109:                                       ; preds = %if.end106
  %mul110 = mul nsw i32 %call107, 255, !dbg !984
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !984
  %23 = load i32* %depth, align 4, !dbg !984, !tbaa !694
  %div111 = udiv i32 %mul110, %23, !dbg !984
  %conv112 = trunc i32 %div111 to i8, !dbg !984
  %24 = load i8** %green, align 8, !dbg !984, !tbaa !696
  %arrayidx115 = getelementptr inbounds i8* %24, i64 %indvars.iv502, !dbg !984
  store i8 %conv112, i8* %arrayidx115, align 1, !dbg !984, !tbaa !687
  br label %if.end118, !dbg !984

if.else116:                                       ; preds = %if.end106
  %call117 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([39 x i8]* @.str21, i64 0, i64 0)) #8, !dbg !985
  br label %if.end118

if.end118:                                        ; preds = %if.else116, %if.then109
  %call119 = call i32 @_ZN3pov22Read_ASCII_File_NumberEPN8pov_base7IStreamE(%"class.pov_base::IStream"* %call) #8, !dbg !986
  call void @llvm.dbg.value(metadata !{i32 %call119}, i64 0, metadata !565), !dbg !986
  %cmp120 = icmp sgt i32 %call119, -1, !dbg !987
  br i1 %cmp120, label %if.then121, label %if.else128, !dbg !987

if.then121:                                       ; preds = %if.end118
  %mul122 = mul nsw i32 %call119, 255, !dbg !987
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !987
  %25 = load i32* %depth, align 4, !dbg !987, !tbaa !694
  %div123 = udiv i32 %mul122, %25, !dbg !987
  %conv124 = trunc i32 %div123 to i8, !dbg !987
  %26 = load i8** %blue, align 8, !dbg !987, !tbaa !696
  %arrayidx127 = getelementptr inbounds i8* %26, i64 %indvars.iv502, !dbg !987
  store i8 %conv124, i8* %arrayidx127, align 1, !dbg !987, !tbaa !687
  br label %for.inc, !dbg !987

if.else128:                                       ; preds = %if.end118
  %call129 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([39 x i8]* @.str21, i64 0, i64 0)) #8, !dbg !988
  br label %for.inc

for.inc:                                          ; preds = %if.then121, %if.else128
  %indvars.iv.next503 = add i64 %indvars.iv502, 1, !dbg !975
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !975
  %27 = load i32* %width, align 4, !dbg !975, !tbaa !694
  %28 = trunc i64 %indvars.iv.next503 to i32, !dbg !975
  %cmp95 = icmp slt i32 %28, %27, !dbg !975
  br i1 %cmp95, label %for.body96, label %for.inc172, !dbg !975

for.body134:                                      ; preds = %for.cond132.preheader, %if.end161
  %indvars.iv = phi i64 [ %indvars.iv.next, %if.end161 ], [ 0, %for.cond132.preheader ]
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !989) #2, !dbg !990
  %29 = load i8* %fail.i402, align 1, !dbg !964, !tbaa !686, !range !711
  %tobool.i403 = icmp eq i8 %29, 0, !dbg !964
  br i1 %tobool.i403, label %_ZN8pov_base7IStream9Read_ByteEv.exit, label %if.then137, !dbg !964

_ZN8pov_base7IStream9Read_ByteEv.exit:            ; preds = %for.body134
  %30 = load %struct._IO_FILE** %f.i, align 8, !dbg !964, !tbaa !696
  %call.i = call i32 @fgetc(%struct._IO_FILE* %30) #10, !dbg !964
  call void @llvm.dbg.value(metadata !{i32 %cond.i461}, i64 0, metadata !565), !dbg !965
  %cmp136 = icmp eq i32 %call.i, -1, !dbg !965
  br i1 %cmp136, label %if.then137, label %if.end139, !dbg !965

if.then137:                                       ; preds = %for.body134, %_ZN8pov_base7IStream9Read_ByteEv.exit
  %call138 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([33 x i8]* @.str22, i64 0, i64 0)) #8, !dbg !991
  br label %if.end139, !dbg !991

if.end139:                                        ; preds = %if.then137, %_ZN8pov_base7IStream9Read_ByteEv.exit
  %cond.i461 = phi i32 [ -1, %if.then137 ], [ %call.i, %_ZN8pov_base7IStream9Read_ByteEv.exit ]
  %mul140 = mul nsw i32 %cond.i461, 255, !dbg !992
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !992
  %31 = load i32* %depth, align 4, !dbg !992, !tbaa !694
  %div141 = udiv i32 %mul140, %31, !dbg !992
  %conv142 = trunc i32 %div141 to i8, !dbg !992
  %32 = load i8** %red, align 8, !dbg !992, !tbaa !696
  %arrayidx145 = getelementptr inbounds i8* %32, i64 %indvars.iv, !dbg !992
  store i8 %conv142, i8* %arrayidx145, align 1, !dbg !992, !tbaa !687
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !993) #2, !dbg !995
  %33 = load i8* %fail.i402, align 1, !dbg !996, !tbaa !686, !range !711
  %tobool.i405 = icmp eq i8 %33, 0, !dbg !996
  br i1 %tobool.i405, label %_ZN8pov_base7IStream9Read_ByteEv.exit410, label %if.then148, !dbg !996

_ZN8pov_base7IStream9Read_ByteEv.exit410:         ; preds = %if.end139
  %34 = load %struct._IO_FILE** %f.i, align 8, !dbg !996, !tbaa !696
  %call.i407 = call i32 @fgetc(%struct._IO_FILE* %34) #10, !dbg !996
  call void @llvm.dbg.value(metadata !{i32 %cond.i409464}, i64 0, metadata !565), !dbg !994
  %cmp147 = icmp eq i32 %call.i407, -1, !dbg !994
  br i1 %cmp147, label %if.then148, label %if.end150, !dbg !994

if.then148:                                       ; preds = %if.end139, %_ZN8pov_base7IStream9Read_ByteEv.exit410
  %call149 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([33 x i8]* @.str22, i64 0, i64 0)) #8, !dbg !997
  br label %if.end150, !dbg !997

if.end150:                                        ; preds = %if.then148, %_ZN8pov_base7IStream9Read_ByteEv.exit410
  %cond.i409464 = phi i32 [ -1, %if.then148 ], [ %call.i407, %_ZN8pov_base7IStream9Read_ByteEv.exit410 ]
  %mul151 = mul nsw i32 %cond.i409464, 255, !dbg !998
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !998
  %35 = load i32* %depth, align 4, !dbg !998, !tbaa !694
  %div152 = udiv i32 %mul151, %35, !dbg !998
  %conv153 = trunc i32 %div152 to i8, !dbg !998
  %36 = load i8** %green, align 8, !dbg !998, !tbaa !696
  %arrayidx156 = getelementptr inbounds i8* %36, i64 %indvars.iv, !dbg !998
  store i8 %conv153, i8* %arrayidx156, align 1, !dbg !998, !tbaa !687
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !999) #2, !dbg !1001
  %37 = load i8* %fail.i402, align 1, !dbg !1002, !tbaa !686, !range !711
  %tobool.i412 = icmp eq i8 %37, 0, !dbg !1002
  br i1 %tobool.i412, label %_ZN8pov_base7IStream9Read_ByteEv.exit417, label %if.then159, !dbg !1002

_ZN8pov_base7IStream9Read_ByteEv.exit417:         ; preds = %if.end150
  %38 = load %struct._IO_FILE** %f.i, align 8, !dbg !1002, !tbaa !696
  %call.i414 = call i32 @fgetc(%struct._IO_FILE* %38) #10, !dbg !1002
  call void @llvm.dbg.value(metadata !{i32 %cond.i416467}, i64 0, metadata !565), !dbg !1000
  %cmp158 = icmp eq i32 %call.i414, -1, !dbg !1000
  br i1 %cmp158, label %if.then159, label %if.end161, !dbg !1000

if.then159:                                       ; preds = %if.end150, %_ZN8pov_base7IStream9Read_ByteEv.exit417
  %call160 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([33 x i8]* @.str22, i64 0, i64 0)) #8, !dbg !1003
  br label %if.end161, !dbg !1003

if.end161:                                        ; preds = %if.then159, %_ZN8pov_base7IStream9Read_ByteEv.exit417
  %cond.i416467 = phi i32 [ -1, %if.then159 ], [ %call.i414, %_ZN8pov_base7IStream9Read_ByteEv.exit417 ]
  %mul162 = mul nsw i32 %cond.i416467, 255, !dbg !1004
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !1004
  %39 = load i32* %depth, align 4, !dbg !1004, !tbaa !694
  %div163 = udiv i32 %mul162, %39, !dbg !1004
  %conv164 = trunc i32 %div163 to i8, !dbg !1004
  %40 = load i8** %blue, align 8, !dbg !1004, !tbaa !696
  %arrayidx167 = getelementptr inbounds i8* %40, i64 %indvars.iv, !dbg !1004
  store i8 %conv164, i8* %arrayidx167, align 1, !dbg !1004, !tbaa !687
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !978
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !978
  %41 = load i32* %width, align 4, !dbg !978, !tbaa !694
  %42 = trunc i64 %indvars.iv.next to i32, !dbg !978
  %cmp133 = icmp slt i32 %42, %41, !dbg !978
  br i1 %cmp133, label %for.body134, label %for.inc172, !dbg !978

for.inc172:                                       ; preds = %for.cond94.preheader, %for.inc, %for.cond132.preheader, %if.end161
  %43 = phi i32 [ %20, %for.cond132.preheader ], [ %41, %if.end161 ], [ %20, %for.cond94.preheader ], [ %27, %for.inc ]
  %indvars.iv.next505 = add i64 %indvars.iv504, 1, !dbg !962
  call void @llvm.dbg.value(metadata !{i32* %height}, i64 0, metadata !567), !dbg !962
  %44 = load i32* %height, align 4, !dbg !962, !tbaa !694
  %45 = trunc i64 %indvars.iv.next505 to i32, !dbg !962
  %cmp80 = icmp slt i32 %45, %44, !dbg !962
  br i1 %cmp80, label %for.inc172.for.body_crit_edge, label %if.end310, !dbg !962

for.inc172.for.body_crit_edge:                    ; preds = %for.inc172
  %.pre514 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !1005, !tbaa !696
  br label %for.body, !dbg !962

if.else175:                                       ; preds = %if.end69
  %Image_Type = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 3, !dbg !1006
  %46 = load i32* %Image_Type, align 4, !dbg !1006, !tbaa !694
  %or = or i32 %46, 131072, !dbg !1006
  store i32 %or, i32* %Image_Type, align 4, !dbg !1006, !tbaa !694
  call void @llvm.dbg.value(metadata !{i32* %height}, i64 0, metadata !567), !dbg !1008
  %conv176 = sext i32 %12 to i64, !dbg !1008
  %mul177 = shl nsw i64 %conv176, 5, !dbg !1008
  %call178 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %mul177, i8* getelementptr inbounds ([52 x i8]* @.str18, i64 0, i64 0), i32 622, i8* getelementptr inbounds ([10 x i8]* @.str19, i64 0, i64 0)) #8, !dbg !1008
  %data179 = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 18, !dbg !1008
  %rgb16_lines = bitcast %union.anon.0* %data179 to %"struct.pov::Image16_Line_Struct"**, !dbg !1008
  %47 = getelementptr inbounds %union.anon.0* %data179, i64 0, i32 0, !dbg !1008
  %.c = bitcast i8* %call178 to %"struct.pov::Image8_Line_Struct"*, !dbg !1008
  store %"struct.pov::Image8_Line_Struct"* %.c, %"struct.pov::Image8_Line_Struct"** %47, align 8, !dbg !1008, !tbaa !696
  call void @llvm.dbg.value(metadata !61, i64 0, metadata !574), !dbg !1009
  call void @llvm.dbg.value(metadata !{i32* %height}, i64 0, metadata !567), !dbg !1009
  %48 = load i32* %height, align 4, !dbg !1009, !tbaa !694
  %cmp181500 = icmp sgt i32 %48, 0, !dbg !1009
  br i1 %cmp181500, label %for.body182.lr.ph, label %if.end310, !dbg !1009

for.body182.lr.ph:                                ; preds = %if.else175
  %49 = bitcast i8* %call178 to %"struct.pov::Image16_Line_Struct"*
  %fail.i418 = getelementptr inbounds %"class.pov_base::IStream"* %call, i64 0, i32 0, i32 1, !dbg !1011
  %f.i420 = getelementptr inbounds %"class.pov_base::IStream"* %call, i64 0, i32 0, i32 2, !dbg !1011
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !1017
  %.pre513 = load i32* %width, align 4, !dbg !1017, !tbaa !694
  br label %for.body182, !dbg !1009

for.body182:                                      ; preds = %for.inc307.for.body182_crit_edge, %for.body182.lr.ph
  %50 = phi %"struct.pov::Image16_Line_Struct"* [ %49, %for.body182.lr.ph ], [ %.pre515, %for.inc307.for.body182_crit_edge ]
  %51 = phi i32 [ %.pre513, %for.body182.lr.ph ], [ %87, %for.inc307.for.body182_crit_edge ]
  %indvars.iv510 = phi i64 [ 0, %for.body182.lr.ph ], [ %indvars.iv.next511, %for.inc307.for.body182_crit_edge ]
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !1017
  %conv187 = sext i32 %51 to i64, !dbg !1017
  %mul188 = shl nsw i64 %conv187, 1, !dbg !1017
  %call189 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %mul188, i8* getelementptr inbounds ([52 x i8]* @.str18, i64 0, i64 0), i32 628, i8* getelementptr inbounds ([15 x i8]* @.str20, i64 0, i64 0)) #8, !dbg !1017
  %52 = bitcast i8* %call189 to i16*, !dbg !1017
  %red190 = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %50, i64 %indvars.iv510, i32 0, !dbg !1017
  store i16* %52, i16** %red190, align 8, !dbg !1017, !tbaa !696
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !1018
  %53 = load i32* %width, align 4, !dbg !1018, !tbaa !694
  %conv191 = sext i32 %53 to i64, !dbg !1018
  %mul192 = shl nsw i64 %conv191, 1, !dbg !1018
  %call193 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %mul192, i8* getelementptr inbounds ([52 x i8]* @.str18, i64 0, i64 0), i32 629, i8* getelementptr inbounds ([15 x i8]* @.str20, i64 0, i64 0)) #8, !dbg !1018
  %54 = bitcast i8* %call193 to i16*, !dbg !1018
  %green194 = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %50, i64 %indvars.iv510, i32 1, !dbg !1018
  store i16* %54, i16** %green194, align 8, !dbg !1018, !tbaa !696
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !1019
  %55 = load i32* %width, align 4, !dbg !1019, !tbaa !694
  %conv195 = sext i32 %55 to i64, !dbg !1019
  %mul196 = shl nsw i64 %conv195, 1, !dbg !1019
  %call197 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %mul196, i8* getelementptr inbounds ([52 x i8]* @.str18, i64 0, i64 0), i32 630, i8* getelementptr inbounds ([15 x i8]* @.str20, i64 0, i64 0)) #8, !dbg !1019
  %56 = bitcast i8* %call197 to i16*, !dbg !1019
  %blue198 = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %50, i64 %indvars.iv510, i32 2, !dbg !1019
  store i16* %56, i16** %blue198, align 8, !dbg !1019, !tbaa !696
  %transm199 = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %50, i64 %indvars.iv510, i32 3, !dbg !1020
  store i16* null, i16** %transm199, align 8, !dbg !1020, !tbaa !696
  %57 = load i8* %arrayidx11, align 1, !dbg !1021, !tbaa !687
  %cmp202 = icmp eq i8 %57, 51, !dbg !1021
  call void @llvm.dbg.value(metadata !61, i64 0, metadata !573), !dbg !1022
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !1022
  %58 = load i32* %width, align 4, !dbg !1022, !tbaa !694
  %cmp205497 = icmp sgt i32 %58, 0, !dbg !1022
  br i1 %cmp202, label %for.cond204.preheader, label %for.cond247.preheader, !dbg !1021

for.cond204.preheader:                            ; preds = %for.body182
  br i1 %cmp205497, label %for.body206, label %for.inc307, !dbg !1022

for.cond247.preheader:                            ; preds = %for.body182
  br i1 %cmp205497, label %for.body249, label %for.inc307, !dbg !1025

for.body206:                                      ; preds = %for.cond204.preheader, %for.inc243
  %indvars.iv508 = phi i64 [ %indvars.iv.next509, %for.inc243 ], [ 0, %for.cond204.preheader ]
  %call207 = call i32 @_ZN3pov22Read_ASCII_File_NumberEPN8pov_base7IStreamE(%"class.pov_base::IStream"* %call) #8, !dbg !1026
  call void @llvm.dbg.value(metadata !{i32 %call207}, i64 0, metadata !565), !dbg !1026
  %cmp208 = icmp sgt i32 %call207, -1, !dbg !1028
  br i1 %cmp208, label %if.then209, label %if.else216, !dbg !1028

if.then209:                                       ; preds = %for.body206
  %mul210 = mul nsw i32 %call207, 65535, !dbg !1028
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !1028
  %59 = load i32* %depth, align 4, !dbg !1028, !tbaa !694
  %div211 = udiv i32 %mul210, %59, !dbg !1028
  %conv212 = trunc i32 %div211 to i16, !dbg !1028
  %60 = load i16** %red190, align 8, !dbg !1028, !tbaa !696
  %arrayidx215 = getelementptr inbounds i16* %60, i64 %indvars.iv508, !dbg !1028
  store i16 %conv212, i16* %arrayidx215, align 2, !dbg !1028, !tbaa !959
  br label %if.end218, !dbg !1028

if.else216:                                       ; preds = %for.body206
  %call217 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([39 x i8]* @.str21, i64 0, i64 0)) #8, !dbg !1029
  br label %if.end218

if.end218:                                        ; preds = %if.else216, %if.then209
  %call219 = call i32 @_ZN3pov22Read_ASCII_File_NumberEPN8pov_base7IStreamE(%"class.pov_base::IStream"* %call) #8, !dbg !1030
  call void @llvm.dbg.value(metadata !{i32 %call219}, i64 0, metadata !565), !dbg !1030
  %cmp220 = icmp sgt i32 %call219, -1, !dbg !1031
  br i1 %cmp220, label %if.then221, label %if.else228, !dbg !1031

if.then221:                                       ; preds = %if.end218
  %mul222 = mul nsw i32 %call219, 65535, !dbg !1031
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !1031
  %61 = load i32* %depth, align 4, !dbg !1031, !tbaa !694
  %div223 = udiv i32 %mul222, %61, !dbg !1031
  %conv224 = trunc i32 %div223 to i16, !dbg !1031
  %62 = load i16** %green194, align 8, !dbg !1031, !tbaa !696
  %arrayidx227 = getelementptr inbounds i16* %62, i64 %indvars.iv508, !dbg !1031
  store i16 %conv224, i16* %arrayidx227, align 2, !dbg !1031, !tbaa !959
  br label %if.end230, !dbg !1031

if.else228:                                       ; preds = %if.end218
  %call229 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([39 x i8]* @.str21, i64 0, i64 0)) #8, !dbg !1032
  br label %if.end230

if.end230:                                        ; preds = %if.else228, %if.then221
  %call231 = call i32 @_ZN3pov22Read_ASCII_File_NumberEPN8pov_base7IStreamE(%"class.pov_base::IStream"* %call) #8, !dbg !1033
  call void @llvm.dbg.value(metadata !{i32 %call231}, i64 0, metadata !565), !dbg !1033
  %cmp232 = icmp sgt i32 %call231, -1, !dbg !1034
  br i1 %cmp232, label %if.then233, label %if.else240, !dbg !1034

if.then233:                                       ; preds = %if.end230
  %mul234 = mul nsw i32 %call231, 65535, !dbg !1034
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !1034
  %63 = load i32* %depth, align 4, !dbg !1034, !tbaa !694
  %div235 = udiv i32 %mul234, %63, !dbg !1034
  %conv236 = trunc i32 %div235 to i16, !dbg !1034
  %64 = load i16** %blue198, align 8, !dbg !1034, !tbaa !696
  %arrayidx239 = getelementptr inbounds i16* %64, i64 %indvars.iv508, !dbg !1034
  store i16 %conv236, i16* %arrayidx239, align 2, !dbg !1034, !tbaa !959
  br label %for.inc243, !dbg !1034

if.else240:                                       ; preds = %if.end230
  %call241 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([39 x i8]* @.str21, i64 0, i64 0)) #8, !dbg !1035
  br label %for.inc243

for.inc243:                                       ; preds = %if.then233, %if.else240
  %indvars.iv.next509 = add i64 %indvars.iv508, 1, !dbg !1022
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !1022
  %65 = load i32* %width, align 4, !dbg !1022, !tbaa !694
  %66 = trunc i64 %indvars.iv.next509 to i32, !dbg !1022
  %cmp205 = icmp slt i32 %66, %65, !dbg !1022
  br i1 %cmp205, label %for.body206, label %for.inc307, !dbg !1022

for.body249:                                      ; preds = %for.cond247.preheader, %if.end294
  %indvars.iv506 = phi i64 [ %indvars.iv.next507, %if.end294 ], [ 0, %for.cond247.preheader ]
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !1036) #2, !dbg !1037
  %67 = load i8* %fail.i418, align 1, !dbg !1011, !tbaa !686, !range !711
  %tobool.i419 = icmp eq i8 %67, 0, !dbg !1011
  br i1 %tobool.i419, label %_ZN8pov_base7IStream9Read_ByteEv.exit424, label %if.then252, !dbg !1011

_ZN8pov_base7IStream9Read_ByteEv.exit424:         ; preds = %for.body249
  %68 = load %struct._IO_FILE** %f.i420, align 8, !dbg !1011, !tbaa !696
  %call.i421 = call i32 @fgetc(%struct._IO_FILE* %68) #10, !dbg !1011
  call void @llvm.dbg.value(metadata !{i32 %cond.i423470}, i64 0, metadata !571), !dbg !1012
  %cmp251 = icmp eq i32 %call.i421, -1, !dbg !1012
  br i1 %cmp251, label %if.then252, label %if.end254, !dbg !1012

if.then252:                                       ; preds = %for.body249, %_ZN8pov_base7IStream9Read_ByteEv.exit424
  %call253 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([33 x i8]* @.str22, i64 0, i64 0)) #8, !dbg !1038
  br label %if.end254, !dbg !1038

if.end254:                                        ; preds = %if.then252, %_ZN8pov_base7IStream9Read_ByteEv.exit424
  %cond.i423470 = phi i32 [ -1, %if.then252 ], [ %call.i421, %_ZN8pov_base7IStream9Read_ByteEv.exit424 ]
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !1039) #2, !dbg !1041
  %69 = load i8* %fail.i418, align 1, !dbg !1042, !tbaa !686, !range !711
  %tobool.i426 = icmp eq i8 %69, 0, !dbg !1042
  br i1 %tobool.i426, label %_ZN8pov_base7IStream9Read_ByteEv.exit431, label %if.then257, !dbg !1042

_ZN8pov_base7IStream9Read_ByteEv.exit431:         ; preds = %if.end254
  %70 = load %struct._IO_FILE** %f.i420, align 8, !dbg !1042, !tbaa !696
  %call.i428 = call i32 @fgetc(%struct._IO_FILE* %70) #10, !dbg !1042
  call void @llvm.dbg.value(metadata !{i32 %cond.i430473}, i64 0, metadata !572), !dbg !1040
  %cmp256 = icmp eq i32 %call.i428, -1, !dbg !1040
  br i1 %cmp256, label %if.then257, label %if.end259, !dbg !1040

if.then257:                                       ; preds = %if.end254, %_ZN8pov_base7IStream9Read_ByteEv.exit431
  %call258 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([33 x i8]* @.str22, i64 0, i64 0)) #8, !dbg !1043
  br label %if.end259, !dbg !1043

if.end259:                                        ; preds = %if.then257, %_ZN8pov_base7IStream9Read_ByteEv.exit431
  %cond.i430473 = phi i32 [ -1, %if.then257 ], [ %call.i428, %_ZN8pov_base7IStream9Read_ByteEv.exit431 ]
  %mul260 = shl i32 %cond.i423470, 8, !dbg !1044
  %add = add nsw i32 %cond.i430473, %mul260, !dbg !1044
  %mul261 = mul nsw i32 %add, 65535, !dbg !1044
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !1044
  %71 = load i32* %depth, align 4, !dbg !1044, !tbaa !694
  %div262 = udiv i32 %mul261, %71, !dbg !1044
  %conv263 = trunc i32 %div262 to i16, !dbg !1044
  %72 = load i16** %red190, align 8, !dbg !1044, !tbaa !696
  %arrayidx266 = getelementptr inbounds i16* %72, i64 %indvars.iv506, !dbg !1044
  store i16 %conv263, i16* %arrayidx266, align 2, !dbg !1044, !tbaa !959
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !1045) #2, !dbg !1047
  %73 = load i8* %fail.i418, align 1, !dbg !1048, !tbaa !686, !range !711
  %tobool.i433 = icmp eq i8 %73, 0, !dbg !1048
  br i1 %tobool.i433, label %_ZN8pov_base7IStream9Read_ByteEv.exit438, label %if.then269, !dbg !1048

_ZN8pov_base7IStream9Read_ByteEv.exit438:         ; preds = %if.end259
  %74 = load %struct._IO_FILE** %f.i420, align 8, !dbg !1048, !tbaa !696
  %call.i435 = call i32 @fgetc(%struct._IO_FILE* %74) #10, !dbg !1048
  call void @llvm.dbg.value(metadata !{i32 %cond.i437476}, i64 0, metadata !571), !dbg !1046
  %cmp268 = icmp eq i32 %call.i435, -1, !dbg !1046
  br i1 %cmp268, label %if.then269, label %if.end271, !dbg !1046

if.then269:                                       ; preds = %if.end259, %_ZN8pov_base7IStream9Read_ByteEv.exit438
  %call270 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([33 x i8]* @.str22, i64 0, i64 0)) #8, !dbg !1049
  br label %if.end271, !dbg !1049

if.end271:                                        ; preds = %if.then269, %_ZN8pov_base7IStream9Read_ByteEv.exit438
  %cond.i437476 = phi i32 [ -1, %if.then269 ], [ %call.i435, %_ZN8pov_base7IStream9Read_ByteEv.exit438 ]
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !1050) #2, !dbg !1052
  %75 = load i8* %fail.i418, align 1, !dbg !1053, !tbaa !686, !range !711
  %tobool.i440 = icmp eq i8 %75, 0, !dbg !1053
  br i1 %tobool.i440, label %_ZN8pov_base7IStream9Read_ByteEv.exit445, label %if.then274, !dbg !1053

_ZN8pov_base7IStream9Read_ByteEv.exit445:         ; preds = %if.end271
  %76 = load %struct._IO_FILE** %f.i420, align 8, !dbg !1053, !tbaa !696
  %call.i442 = call i32 @fgetc(%struct._IO_FILE* %76) #10, !dbg !1053
  call void @llvm.dbg.value(metadata !{i32 %cond.i444479}, i64 0, metadata !572), !dbg !1051
  %cmp273 = icmp eq i32 %call.i442, -1, !dbg !1051
  br i1 %cmp273, label %if.then274, label %if.end276, !dbg !1051

if.then274:                                       ; preds = %if.end271, %_ZN8pov_base7IStream9Read_ByteEv.exit445
  %call275 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([33 x i8]* @.str22, i64 0, i64 0)) #8, !dbg !1054
  br label %if.end276, !dbg !1054

if.end276:                                        ; preds = %if.then274, %_ZN8pov_base7IStream9Read_ByteEv.exit445
  %cond.i444479 = phi i32 [ -1, %if.then274 ], [ %call.i442, %_ZN8pov_base7IStream9Read_ByteEv.exit445 ]
  %mul277 = shl i32 %cond.i437476, 8, !dbg !1055
  %add278 = add nsw i32 %cond.i444479, %mul277, !dbg !1055
  %mul279 = mul nsw i32 %add278, 65535, !dbg !1055
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !1055
  %77 = load i32* %depth, align 4, !dbg !1055, !tbaa !694
  %div280 = udiv i32 %mul279, %77, !dbg !1055
  %conv281 = trunc i32 %div280 to i16, !dbg !1055
  %78 = load i16** %green194, align 8, !dbg !1055, !tbaa !696
  %arrayidx284 = getelementptr inbounds i16* %78, i64 %indvars.iv506, !dbg !1055
  store i16 %conv281, i16* %arrayidx284, align 2, !dbg !1055, !tbaa !959
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !1056) #2, !dbg !1058
  %79 = load i8* %fail.i418, align 1, !dbg !1059, !tbaa !686, !range !711
  %tobool.i447 = icmp eq i8 %79, 0, !dbg !1059
  br i1 %tobool.i447, label %_ZN8pov_base7IStream9Read_ByteEv.exit452, label %if.then287, !dbg !1059

_ZN8pov_base7IStream9Read_ByteEv.exit452:         ; preds = %if.end276
  %80 = load %struct._IO_FILE** %f.i420, align 8, !dbg !1059, !tbaa !696
  %call.i449 = call i32 @fgetc(%struct._IO_FILE* %80) #10, !dbg !1059
  call void @llvm.dbg.value(metadata !{i32 %cond.i451482}, i64 0, metadata !571), !dbg !1057
  %cmp286 = icmp eq i32 %call.i449, -1, !dbg !1057
  br i1 %cmp286, label %if.then287, label %if.end289, !dbg !1057

if.then287:                                       ; preds = %if.end276, %_ZN8pov_base7IStream9Read_ByteEv.exit452
  %call288 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([33 x i8]* @.str22, i64 0, i64 0)) #8, !dbg !1060
  br label %if.end289, !dbg !1060

if.end289:                                        ; preds = %if.then287, %_ZN8pov_base7IStream9Read_ByteEv.exit452
  %cond.i451482 = phi i32 [ -1, %if.then287 ], [ %call.i449, %_ZN8pov_base7IStream9Read_ByteEv.exit452 ]
  call void @llvm.dbg.value(metadata !{%"class.pov_base::IStream"* %call}, i64 0, metadata !1061) #2, !dbg !1063
  %81 = load i8* %fail.i418, align 1, !dbg !1064, !tbaa !686, !range !711
  %tobool.i454 = icmp eq i8 %81, 0, !dbg !1064
  br i1 %tobool.i454, label %_ZN8pov_base7IStream9Read_ByteEv.exit459, label %if.then292, !dbg !1064

_ZN8pov_base7IStream9Read_ByteEv.exit459:         ; preds = %if.end289
  %82 = load %struct._IO_FILE** %f.i420, align 8, !dbg !1064, !tbaa !696
  %call.i456 = call i32 @fgetc(%struct._IO_FILE* %82) #10, !dbg !1064
  call void @llvm.dbg.value(metadata !{i32 %cond.i458485}, i64 0, metadata !572), !dbg !1062
  %cmp291 = icmp eq i32 %call.i456, -1, !dbg !1062
  br i1 %cmp291, label %if.then292, label %if.end294, !dbg !1062

if.then292:                                       ; preds = %if.end289, %_ZN8pov_base7IStream9Read_ByteEv.exit459
  %call293 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([33 x i8]* @.str22, i64 0, i64 0)) #8, !dbg !1065
  br label %if.end294, !dbg !1065

if.end294:                                        ; preds = %if.then292, %_ZN8pov_base7IStream9Read_ByteEv.exit459
  %cond.i458485 = phi i32 [ -1, %if.then292 ], [ %call.i456, %_ZN8pov_base7IStream9Read_ByteEv.exit459 ]
  %mul295 = shl i32 %cond.i451482, 8, !dbg !1066
  %add296 = add nsw i32 %cond.i458485, %mul295, !dbg !1066
  %mul297 = mul nsw i32 %add296, 65535, !dbg !1066
  call void @llvm.dbg.value(metadata !{i32* %depth}, i64 0, metadata !568), !dbg !1066
  %83 = load i32* %depth, align 4, !dbg !1066, !tbaa !694
  %div298 = udiv i32 %mul297, %83, !dbg !1066
  %conv299 = trunc i32 %div298 to i16, !dbg !1066
  %84 = load i16** %blue198, align 8, !dbg !1066, !tbaa !696
  %arrayidx302 = getelementptr inbounds i16* %84, i64 %indvars.iv506, !dbg !1066
  store i16 %conv299, i16* %arrayidx302, align 2, !dbg !1066, !tbaa !959
  %indvars.iv.next507 = add i64 %indvars.iv506, 1, !dbg !1025
  call void @llvm.dbg.value(metadata !{i32* %width}, i64 0, metadata !566), !dbg !1025
  %85 = load i32* %width, align 4, !dbg !1025, !tbaa !694
  %86 = trunc i64 %indvars.iv.next507 to i32, !dbg !1025
  %cmp248 = icmp slt i32 %86, %85, !dbg !1025
  br i1 %cmp248, label %for.body249, label %for.inc307, !dbg !1025

for.inc307:                                       ; preds = %for.cond204.preheader, %for.inc243, %for.cond247.preheader, %if.end294
  %87 = phi i32 [ %58, %for.cond247.preheader ], [ %85, %if.end294 ], [ %58, %for.cond204.preheader ], [ %65, %for.inc243 ]
  %indvars.iv.next511 = add i64 %indvars.iv510, 1, !dbg !1009
  call void @llvm.dbg.value(metadata !{i32* %height}, i64 0, metadata !567), !dbg !1009
  %88 = load i32* %height, align 4, !dbg !1009, !tbaa !694
  %89 = trunc i64 %indvars.iv.next511 to i32, !dbg !1009
  %cmp181 = icmp slt i32 %89, %88, !dbg !1009
  br i1 %cmp181, label %for.inc307.for.body182_crit_edge, label %if.end310, !dbg !1009

for.inc307.for.body182_crit_edge:                 ; preds = %for.inc307
  %.pre515 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !1067, !tbaa !696
  br label %for.body182, !dbg !1009

if.end310:                                        ; preds = %if.else175, %for.inc307, %if.then77, %for.inc172
  br i1 %cmp, label %delete.end, label %delete.notnull, !dbg !1068

delete.notnull:                                   ; preds = %if.end310
  %90 = bitcast %"class.pov_base::IStream"* %call to void (%"class.pov_base::IStream"*)***, !dbg !1068
  %vtable = load void (%"class.pov_base::IStream"*)*** %90, align 8, !dbg !1068, !tbaa !689
  %vfn = getelementptr inbounds void (%"class.pov_base::IStream"*)** %vtable, i64 1, !dbg !1068
  %91 = load void (%"class.pov_base::IStream"*)** %vfn, align 8, !dbg !1068
  call void %91(%"class.pov_base::IStream"* %call) #8, !dbg !1068
  br label %delete.end, !dbg !1068

delete.end:                                       ; preds = %delete.notnull, %if.end310
  call void @llvm.lifetime.end(i64 1024, i8* %0) #2, !dbg !1069
  ret void, !dbg !1069
}
