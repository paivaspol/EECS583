define internal fastcc i32 @_ZN3povL8ra_reuseEPdS0_Pf(double* %IPoint, double* nocapture readonly %S_Normal, float* nocapture %Illuminance) #0 {
  %gather = alloca %"struct.pov::wt_avg_struct", align 8
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1174, metadata !1800), !dbg !2539
  tail call void @llvm.dbg.value(metadata double* %S_Normal, i64 0, metadata !1175, metadata !1800), !dbg !2540
  tail call void @llvm.dbg.value(metadata float* %Illuminance, i64 0, metadata !1176, metadata !1800), !dbg !2541
  %1 = bitcast %"struct.pov::wt_avg_struct"* %gather to i8*, !dbg !2542
  call void @llvm.lifetime.start(i64 824, i8* %1) #2, !dbg !2542
  %2 = load %"struct.pov::ot_node_struct"** @_ZN3pov7ot_rootE, align 8, !dbg !2543, !tbaa !2089
  %3 = icmp eq %"struct.pov::ot_node_struct"* %2, null, !dbg !2545
  br i1 %3, label %58, label %4, !dbg !2546

; <label>:4                                       ; preds = %0
  %5 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 0, i64 0, !dbg !2547
  tail call void @llvm.dbg.value(metadata float* %5, i64 0, metadata !1183, metadata !1800), !dbg !2549
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1184, metadata !1800), !dbg !2551
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1185, metadata !1800), !dbg !2552
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1186, metadata !1800), !dbg !2553
  %6 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 0, i64 1, !dbg !2554
  %7 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 0, i64 2, !dbg !2555
  %8 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 1, !dbg !2556
  store double 0.000000e+00, double* %8, align 8, !dbg !2557, !tbaa !2558
  %9 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 4, i64 0, !dbg !2560
  tail call void @llvm.dbg.value(metadata double* %9, i64 0, metadata !1191, metadata !1800), !dbg !2561
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1192, metadata !1800), !dbg !2563
  %10 = bitcast %"struct.pov::wt_avg_struct"* %gather to i8*, !dbg !2564
  call void @llvm.memset.p0i8.i64(i8* %10, i8 0, i64 20, i32 8, i1 false), !dbg !2565
  %11 = bitcast double* %IPoint to <2 x i64>*, !dbg !2564
  %12 = load <2 x i64>* %11, align 8, !dbg !2564, !tbaa !1868
  %13 = bitcast double* %9 to <2 x i64>*, !dbg !2566
  store <2 x i64> %12, <2 x i64>* %13, align 8, !dbg !2566, !tbaa !1868
  %14 = getelementptr inbounds double* %IPoint, i64 2, !dbg !2567
  %15 = bitcast double* %14 to i64*, !dbg !2567
  %16 = load i64* %15, align 8, !dbg !2567, !tbaa !1868
  %17 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 4, i64 2, !dbg !2568
  %18 = bitcast double* %17 to i64*, !dbg !2569
  store i64 %16, i64* %18, align 8, !dbg !2569, !tbaa !1868
  %19 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 5, i64 0, !dbg !2570
  tail call void @llvm.dbg.value(metadata double* %19, i64 0, metadata !1191, metadata !1800), !dbg !2571
  tail call void @llvm.dbg.value(metadata double* %S_Normal, i64 0, metadata !1192, metadata !1800), !dbg !2573
  %20 = bitcast double* %S_Normal to <2 x i64>*, !dbg !2574
  %21 = load <2 x i64>* %20, align 8, !dbg !2574, !tbaa !1868
  %22 = bitcast double* %19 to <2 x i64>*, !dbg !2575
  store <2 x i64> %21, <2 x i64>* %22, align 8, !dbg !2575, !tbaa !1868
  %23 = getelementptr inbounds double* %S_Normal, i64 2, !dbg !2576
  %24 = bitcast double* %23 to i64*, !dbg !2576
  %25 = load i64* %24, align 8, !dbg !2576, !tbaa !1868
  %26 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 5, i64 2, !dbg !2577
  %27 = bitcast double* %26 to i64*, !dbg !2578
  store i64 %25, i64* %27, align 8, !dbg !2578, !tbaa !1868
  %28 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 2, !dbg !2579
  store i32 0, i32* %28, align 8, !dbg !2580, !tbaa !2581
  %29 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 3, !dbg !2582
  store i32 0, i32* %29, align 4, !dbg !2583, !tbaa !2584
  %30 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 10, !dbg !2585
  store i32 0, i32* %30, align 8, !dbg !2586, !tbaa !2587
  %31 = load i64* bitcast (double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 38) to i64*), align 8, !dbg !2588, !tbaa !1807
  %32 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 6, !dbg !2589
  %33 = bitcast double* %32 to i64*, !dbg !2590
  store i64 %31, i64* %33, align 8, !dbg !2590, !tbaa !2591
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1177, metadata !1800), !dbg !2592
  %34 = load i32* @_ZN3pov21Radiosity_Trace_LevelE, align 4, !dbg !2593, !tbaa !1842
  %35 = icmp sgt i32 %34, 1, !dbg !2596
  br i1 %35, label %.lr.ph, label %42, !dbg !2597

.lr.ph:                                           ; preds = %4
  %36 = bitcast i64 %31 to double
  br label %37, !dbg !2597

; <label>:37                                      ; preds = %.lr.ph, %37
  %38 = phi double [ %36, %.lr.ph ], [ %39, %37 ], !dbg !2598
  %i.01 = phi i32 [ 1, %.lr.ph ], [ %40, %37 ]
  %39 = fmul double %38, 2.000000e+00, !dbg !2598
  %40 = add nuw nsw i32 %i.01, 1, !dbg !2600
  tail call void @llvm.dbg.value(metadata i32 %40, i64 0, metadata !1177, metadata !1800), !dbg !2592
  %41 = icmp slt i32 %40, %34, !dbg !2596
  br i1 %41, label %37, label %._crit_edge, !dbg !2597

._crit_edge:                                      ; preds = %37
  store double %39, double* %32, align 8, !dbg !2598, !tbaa !2591
  br label %42, !dbg !2597

; <label>:42                                      ; preds = %._crit_edge, %4
  %43 = call zeroext i1 @_ZN3pov16ot_dist_traverseEPNS_14ot_node_structEPdiPFiPNS_15ot_block_structEPvES5_(%"struct.pov::ot_node_struct"* %2, double* %IPoint, i32 %34, i32 (%"struct.pov::ot_block_struct"*, i8*)* @_ZN3povL15ra_average_nearEPNS_15ot_block_structEPv, i8* %1) #8, !dbg !2601
  %44 = load i32* %29, align 4, !dbg !2602, !tbaa !2584
  %45 = icmp sgt i32 %44, 0, !dbg !2604
  br i1 %45, label %46, label %60, !dbg !2605

; <label>:46                                      ; preds = %42
  %47 = load double* %8, align 8, !dbg !2606, !tbaa !2558
  %48 = fptrunc double %47 to float, !dbg !2608
  tail call void @llvm.dbg.value(metadata float* %Illuminance, i64 0, metadata !1280, metadata !1800), !dbg !2609
  tail call void @llvm.dbg.value(metadata float* %5, i64 0, metadata !1281, metadata !1800), !dbg !2611
  tail call void @llvm.dbg.value(metadata float %48, i64 0, metadata !1282, metadata !1800), !dbg !2612
  %49 = fdiv float 1.000000e+00, %48, !dbg !2613
  tail call void @llvm.dbg.value(metadata float %49, i64 0, metadata !1283, metadata !1800), !dbg !2614
  %50 = load float* %5, align 8, !dbg !2615, !tbaa !2195
  %51 = fmul float %49, %50, !dbg !2616
  store float %51, float* %Illuminance, align 4, !dbg !2617, !tbaa !2195
  %52 = load float* %6, align 4, !dbg !2618, !tbaa !2195
  %53 = fmul float %49, %52, !dbg !2619
  %54 = getelementptr inbounds float* %Illuminance, i64 1, !dbg !2620
  store float %53, float* %54, align 4, !dbg !2621, !tbaa !2195
  %55 = load float* %7, align 8, !dbg !2622, !tbaa !2195
  %56 = fmul float %49, %55, !dbg !2623
  %57 = getelementptr inbounds float* %Illuminance, i64 2, !dbg !2624
  store float %56, float* %57, align 4, !dbg !2625, !tbaa !2195
  br label %60, !dbg !2626

; <label>:58                                      ; preds = %0
  %59 = getelementptr inbounds %"struct.pov::wt_avg_struct"* %gather, i64 0, i32 3, !dbg !2627
  store i32 0, i32* %59, align 4, !dbg !2629, !tbaa !2584
  br label %60

; <label>:60                                      ; preds = %42, %46, %58
  %61 = phi i32 [ %44, %42 ], [ %44, %46 ], [ 0, %58 ]
  call void @llvm.lifetime.end(i64 824, i8* %1) #2, !dbg !2630
  ret i32 %61, !dbg !2630
}
