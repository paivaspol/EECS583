define i32 @_ZN3pov15Compute_AmbientEPdS0_S0_Pfd(double* %IPoint, double* nocapture readonly %Raw_Normal, double* nocapture readonly %LayNormal, float* nocapture %Ambient_Colour, double %Weight) #0 {
  %Temp_Colour.i = alloca [5 x float], align 16
  %New_Ray.i = alloca %"struct.pov::Ray_Struct", align 16
  %id.i = alloca %"struct.pov::ot_id_struct", align 4
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1133, metadata !1800), !dbg !1801
  tail call void @llvm.dbg.value(metadata double* %Raw_Normal, i64 0, metadata !1134, metadata !1800), !dbg !1802
  tail call void @llvm.dbg.value(metadata double* %LayNormal, i64 0, metadata !1135, metadata !1800), !dbg !1803
  tail call void @llvm.dbg.value(metadata float* %Ambient_Colour, i64 0, metadata !1136, metadata !1800), !dbg !1804
  tail call void @llvm.dbg.value(metadata double %Weight, i64 0, metadata !1137, metadata !1800), !dbg !1805
  %1 = load double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 38), align 8, !dbg !1806, !tbaa !1807
  tail call void @llvm.dbg.value(metadata double %1, i64 0, metadata !1141, metadata !1800), !dbg !1821
  %2 = fcmp olt double %Weight, 2.500000e-01, !dbg !1822
  tail call void @llvm.dbg.declare(metadata [5 x float]* %Temp_Colour.i, metadata !1331, metadata !1800), !dbg !1824
  br i1 %2, label %3, label %6, !dbg !1828

; <label>:3                                       ; preds = %0
  %4 = fsub double 2.500000e-01, %Weight, !dbg !1829
  %5 = fadd double %4, %1, !dbg !1831
  store double %5, double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 38), align 8, !dbg !1831, !tbaa !1807
  br label %6, !dbg !1832

; <label>:6                                       ; preds = %3, %0
  %7 = tail call fastcc i32 @_ZN3povL8ra_reuseEPdS0_Pf(double* %IPoint, double* %LayNormal, float* %Ambient_Colour) #8, !dbg !1833
  tail call void @llvm.dbg.value(metadata i32 %7, i64 0, metadata !1139, metadata !1800), !dbg !1834
  store double %1, double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 38), align 8, !dbg !1835, !tbaa !1807
  %8 = sext i32 %7 to i64, !dbg !1836
  %9 = load i64* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 42), align 8, !dbg !1837, !tbaa !1838
  %10 = icmp slt i64 %8, %9, !dbg !1839
  br i1 %10, label %11, label %17, !dbg !1840

; <label>:11                                      ; preds = %6
  %12 = load i32* @_ZN3pov18firstRadiosityPassE, align 4, !dbg !1841, !tbaa !1842
  %notrhs = icmp slt i32 %7, 1, !dbg !1843
  %13 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 58), align 8
  %14 = or i32 %13, %12, !dbg !1843
  %15 = icmp ne i32 %14, 0, !dbg !1843
  %16 = or i1 %notrhs, %15, !dbg !1843
  br i1 %16, label %20, label %17, !dbg !1843

; <label>:17                                      ; preds = %6, %11
  %18 = load i64* @_ZN3pov14ra_reuse_countE, align 8, !dbg !1844, !tbaa !1846
  %19 = add nsw i64 %18, 1, !dbg !1844
  store i64 %19, i64* @_ZN3pov14ra_reuse_countE, align 8, !dbg !1844, !tbaa !1846
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1138, metadata !1800), !dbg !1847
  %.pre = getelementptr inbounds float* %Ambient_Colour, i64 1, !dbg !1848
  %.pre32 = getelementptr inbounds float* %Ambient_Colour, i64 2, !dbg !1848
  br label %528, !dbg !1849

; <label>:20                                      ; preds = %11
  %21 = bitcast [5 x float]* %Temp_Colour.i to i8*, !dbg !1850
  call void @llvm.lifetime.start(i64 20, i8* %21), !dbg !1850
  %22 = bitcast %"struct.pov::ot_id_struct"* %id.i to i8*, !dbg !1850
  call void @llvm.lifetime.start(i64 16, i8* %22), !dbg !1850
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1288, metadata !1800), !dbg !1850
  tail call void @llvm.dbg.value(metadata double* %Raw_Normal, i64 0, metadata !1289, metadata !1800), !dbg !1851
  tail call void @llvm.dbg.value(metadata double* %LayNormal, i64 0, metadata !1290, metadata !1800), !dbg !1852
  tail call void @llvm.dbg.value(metadata float* %Ambient_Colour, i64 0, metadata !1291, metadata !1800), !dbg !1853
  tail call void @llvm.dbg.value(metadata double %Weight, i64 0, metadata !1292, metadata !1800), !dbg !1854
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1298, metadata !1800), !dbg !1855
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1299, metadata !1800), !dbg !1856
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1300, metadata !1800), !dbg !1857
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1301, metadata !1800), !dbg !1858
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1330, metadata !1800), !dbg !1859
  %23 = bitcast %"struct.pov::Ray_Struct"* %New_Ray.i to i8*, !dbg !1860
  call void @llvm.lifetime.start(i64 856, i8* %23) #2, !dbg !1860
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1336, metadata !1800), !dbg !1861
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1337, metadata !1800), !dbg !1862
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1342, metadata !1800), !dbg !1863
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1191, metadata !1800), !dbg !1864
  tail call void @llvm.dbg.value(metadata double* %LayNormal, i64 0, metadata !1192, metadata !1800), !dbg !1866
  %24 = bitcast double* %LayNormal to i64*, !dbg !1867
  %25 = load i64* %24, align 8, !dbg !1867, !tbaa !1868
  tail call void @llvm.dbg.value(metadata i64 %25, i64 0, metadata !1342, metadata !1869), !dbg !1863
  %26 = getelementptr inbounds double* %LayNormal, i64 1, !dbg !1870
  %27 = bitcast double* %26 to i64*, !dbg !1870
  %28 = load i64* %27, align 8, !dbg !1870, !tbaa !1868
  tail call void @llvm.dbg.value(metadata i64 %28, i64 0, metadata !1342, metadata !1871), !dbg !1863
  %29 = getelementptr inbounds double* %LayNormal, i64 2, !dbg !1872
  %30 = bitcast double* %29 to i64*, !dbg !1872
  %31 = load i64* %30, align 8, !dbg !1872, !tbaa !1868
  tail call void @llvm.dbg.value(metadata i64 %31, i64 0, metadata !1342, metadata !1873), !dbg !1863
  %32 = load i64* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 36), align 8, !dbg !1874, !tbaa !1875
  %33 = trunc i64 %32 to i32, !dbg !1876
  tail call void @llvm.dbg.value(metadata i32 %33, i64 0, metadata !1295, metadata !1800), !dbg !1877
  %34 = load i64* bitcast (double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 41) to i64*), align 8, !dbg !1878, !tbaa !1879
  %35 = load i64* bitcast (double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 37) to i64*), align 8, !dbg !1880, !tbaa !1881
  %36 = load double* @_ZN3pov11ADC_BailoutE, align 8, !dbg !1882, !tbaa !1868
  tail call void @llvm.dbg.value(metadata double %36, i64 0, metadata !1341, metadata !1800), !dbg !1883
  %37 = load i32* @_ZN3pov21Radiosity_Trace_LevelE, align 4, !dbg !1884, !tbaa !1842
  %38 = icmp eq i32 %37, 1, !dbg !1886
  %39 = bitcast i64 %34 to double, !dbg !1887
  br i1 %38, label %40, label %43, !dbg !1888

; <label>:40                                      ; preds = %20
  %41 = load double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 53), align 8, !dbg !1889, !tbaa !1891
  %42 = fmul double %36, %41, !dbg !1892
  store double %42, double* @_ZN3pov11ADC_BailoutE, align 8, !dbg !1892, !tbaa !1868
  br label %43, !dbg !1893

; <label>:43                                      ; preds = %40, %20
  %44 = phi double [ %42, %40 ], [ %36, %20 ], !dbg !1887
  %45 = load %"struct.pov::Camera_Struct"** getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 0), align 8, !dbg !1894, !tbaa !1895
  %46 = getelementptr inbounds %"struct.pov::Camera_Struct"* %45, i64 0, i32 0, i64 0, !dbg !1897
  tail call void @llvm.dbg.value(metadata double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 37), i64 0, metadata !1423, metadata !1800) #2, !dbg !1898
  tail call void @llvm.dbg.value(metadata double* %46, i64 0, metadata !1424, metadata !1800) #2, !dbg !1900
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1425, metadata !1800) #2, !dbg !1901
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1426, metadata !1800) #2, !dbg !1902
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1225, metadata !1800) #2, !dbg !1903
  tail call void @llvm.dbg.value(metadata double* %46, i64 0, metadata !1226, metadata !1800) #2, !dbg !1905
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1227, metadata !1800) #2, !dbg !1906
  %47 = load double* %46, align 8, !dbg !1907, !tbaa !1868
  %48 = load double* %IPoint, align 8, !dbg !1908, !tbaa !1868
  %49 = fsub double %47, %48, !dbg !1909
  tail call void @llvm.dbg.value(metadata double %49, i64 0, metadata !1426, metadata !1869) #2, !dbg !1902
  %50 = getelementptr inbounds %"struct.pov::Camera_Struct"* %45, i64 0, i32 0, i64 1, !dbg !1910
  %51 = load double* %50, align 8, !dbg !1910, !tbaa !1868
  %52 = getelementptr inbounds double* %IPoint, i64 1, !dbg !1911
  %53 = load double* %52, align 8, !dbg !1911, !tbaa !1868
  %54 = fsub double %51, %53, !dbg !1912
  tail call void @llvm.dbg.value(metadata double %54, i64 0, metadata !1426, metadata !1871) #2, !dbg !1902
  %55 = getelementptr inbounds %"struct.pov::Camera_Struct"* %45, i64 0, i32 0, i64 2, !dbg !1913
  %56 = load double* %55, align 8, !dbg !1913, !tbaa !1868
  %57 = getelementptr inbounds double* %IPoint, i64 2, !dbg !1914
  %58 = load double* %57, align 8, !dbg !1914, !tbaa !1868
  %59 = fsub double %56, %58, !dbg !1915
  tail call void @llvm.dbg.value(metadata double %59, i64 0, metadata !1426, metadata !1873) #2, !dbg !1902
  tail call void @llvm.dbg.value(metadata double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 37), i64 0, metadata !1263, metadata !1800) #2, !dbg !1916
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1264, metadata !1800) #2, !dbg !1918
  %60 = fmul double %49, %49, !dbg !1919
  %61 = fmul double %54, %54, !dbg !1920
  %62 = fadd double %60, %61, !dbg !1921
  %63 = fmul double %59, %59, !dbg !1922
  %64 = fadd double %62, %63, !dbg !1923
  %65 = tail call double @sqrt(double %64) #9, !dbg !1924
  %66 = fmul double %65, 2.000000e-01, !dbg !1925
  store double %66, double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 37), align 8, !dbg !1925, !tbaa !1881
  %67 = icmp sgt i32 %37, 1, !dbg !1926
  br i1 %67, label %68, label %.thread.i, !dbg !1928

; <label>:68                                      ; preds = %43
  %69 = sdiv i32 %33, 3, !dbg !1929
  tail call void @llvm.dbg.value(metadata i32 %69, i64 0, metadata !1295, metadata !1800), !dbg !1877
  %70 = fmul double %39, 2.000000e+00, !dbg !1931
  store double %70, double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 41), align 8, !dbg !1931, !tbaa !1879
  store i64 2, i64* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 42), align 8, !dbg !1932, !tbaa !1838
  %71 = fmul double %66, 2.000000e+00, !dbg !1933
  store double %71, double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 37), align 8, !dbg !1933, !tbaa !1881
  %72 = icmp sgt i32 %37, 2, !dbg !1934
  br i1 %72, label %73, label %.thread.i, !dbg !1936

; <label>:73                                      ; preds = %68
  %74 = sdiv i32 %33, 6, !dbg !1937
  tail call void @llvm.dbg.value(metadata i32 %74, i64 0, metadata !1295, metadata !1800), !dbg !1877
  store i64 1, i64* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 42), align 8, !dbg !1939, !tbaa !1838
  %75 = fmul double %71, 2.000000e+00, !dbg !1940
  store double %75, double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 37), align 8, !dbg !1940, !tbaa !1881
  br label %.thread.i, !dbg !1941

.thread.i:                                        ; preds = %73, %68, %43
  %76 = phi double [ %75, %73 ], [ %71, %68 ], [ %66, %43 ], !dbg !1887
  %Current_Radiosity_Count.1.i = phi i32 [ %74, %73 ], [ %69, %68 ], [ %33, %43 ], !dbg !1887
  %77 = icmp slt i32 %Current_Radiosity_Count.1.i, 5, !dbg !1942
  tail call void @llvm.dbg.value(metadata i32 5, i64 0, metadata !1295, metadata !1800), !dbg !1877
  %.Current_Radiosity_Count.1.i = select i1 %77, i32 5, i32 %Current_Radiosity_Count.1.i, !dbg !1944
  %78 = load i32* @_ZN3pov15Max_Trace_LevelE, align 4, !dbg !1945, !tbaa !1842
  tail call void @llvm.dbg.value(metadata i32 %78, i64 0, metadata !1302, metadata !1800), !dbg !1946
  %79 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !1947, !tbaa !1842
  %80 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 43), align 8, !dbg !1948, !tbaa !1949
  %81 = add nsw i32 %80, %79, !dbg !1950
  %82 = add nsw i32 %81, 1, !dbg !1951
  %83 = icmp slt i32 %81, %78, !dbg !1952
  %storemerge.i = select i1 %83, i32 %82, i32 %78, !dbg !1954
  store i32 %storemerge.i, i32* @_ZN3pov15Max_Trace_LevelE, align 4, !dbg !1955, !tbaa !1842
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1183, metadata !1800), !dbg !1956
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1184, metadata !1800), !dbg !1958
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1185, metadata !1800), !dbg !1959
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1186, metadata !1800), !dbg !1960
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1330, metadata !1961), !dbg !1859
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1303, metadata !1800), !dbg !1962
  tail call void @llvm.dbg.value(metadata double 2.000000e+10, i64 0, metadata !1323, metadata !1800), !dbg !1963
  %84 = insertelement <2 x i64> undef, i64 %31, i32 0, !dbg !1964
  %85 = insertelement <2 x i64> %84, i64 %25, i32 1, !dbg !1964
  %86 = bitcast <2 x i64> %85 to <2 x double>, !dbg !1964
  %87 = bitcast i64 %31 to double, !dbg !1966
  %88 = tail call double @fabs(double %87) #9, !dbg !1966
  %89 = fadd double %88, -1.000000e+00, !dbg !1967
  %90 = tail call double @fabs(double %89) #9, !dbg !1968
  %91 = fcmp olt double %90, 1.000000e-01, !dbg !1969
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1300, metadata !1869), !dbg !1857
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1300, metadata !1871), !dbg !1857
  tail call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !1300, metadata !1873), !dbg !1857
  %92 = select i1 %91, double 0.000000e+00, double 1.000000e+00, !dbg !1970
  %93 = select i1 %91, double 1.000000e+00, double 0.000000e+00, !dbg !1970
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1350, metadata !1800), !dbg !1971
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1351, metadata !1800), !dbg !1973
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1352, metadata !1800), !dbg !1974
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1353, metadata !1800), !dbg !1975
  %94 = bitcast i64 %28 to double, !dbg !1976
  %95 = fmul double %94, %92, !dbg !1977
  %96 = fmul double %87, %93, !dbg !1978
  %97 = fsub double %95, %96, !dbg !1979
  %98 = insertelement <2 x double> <double 0.000000e+00, double undef>, double %93, i32 1, !dbg !1980
  %99 = fmul <2 x double> %86, %98, !dbg !1980
  %100 = bitcast i64 %25 to double, !dbg !1981
  %101 = insertelement <2 x double> undef, double %100, i32 0, !dbg !1981
  %102 = insertelement <2 x double> %101, double %94, i32 1, !dbg !1981
  %103 = insertelement <2 x double> undef, double %92, i32 0, !dbg !1981
  %104 = insertelement <2 x double> %103, double 0.000000e+00, i32 1, !dbg !1981
  %105 = fmul <2 x double> %102, %104, !dbg !1981
  %106 = fsub <2 x double> %99, %105, !dbg !1982
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1191, metadata !1800), !dbg !1983
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1192, metadata !1800), !dbg !1985
  tail call void @llvm.dbg.value(metadata double %97, i64 0, metadata !1336, metadata !1869), !dbg !1861
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1336, metadata !1871), !dbg !1861
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1336, metadata !1873), !dbg !1861
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1257, metadata !1800) #2, !dbg !1986
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1264, metadata !1800) #2, !dbg !1988
  %107 = fmul double %97, %97, !dbg !1990
  %108 = extractelement <2 x double> %106, i32 0, !dbg !1991
  %109 = fmul double %108, %108, !dbg !1991
  %110 = fadd double %107, %109, !dbg !1992
  %111 = extractelement <2 x double> %106, i32 1, !dbg !1993
  %112 = fmul double %111, %111, !dbg !1993
  %113 = fadd double %112, %110, !dbg !1994
  %114 = tail call double @sqrt(double %113) #9, !dbg !1995
  tail call void @llvm.dbg.value(metadata double %114, i64 0, metadata !1263, metadata !1800) #2, !dbg !1996
  tail call void @llvm.dbg.value(metadata double %114, i64 0, metadata !1258, metadata !1800) #2, !dbg !1997
  tail call void @llvm.dbg.value(metadata double %114, i64 0, metadata !1258, metadata !1800) #2, !dbg !1997
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1269, metadata !1800) #2, !dbg !1998
  tail call void @llvm.dbg.value(metadata double %114, i64 0, metadata !1270, metadata !1800) #2, !dbg !2000
  %115 = fdiv double 1.000000e+00, %114, !dbg !2001
  tail call void @llvm.dbg.value(metadata double %115, i64 0, metadata !1271, metadata !1800) #2, !dbg !2002
  %116 = fmul double %115, %97, !dbg !2003
  tail call void @llvm.dbg.value(metadata double %116, i64 0, metadata !1336, metadata !1869), !dbg !1861
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1336, metadata !1871), !dbg !1861
  %117 = insertelement <2 x double> undef, double %115, i32 0, !dbg !2004
  %118 = insertelement <2 x double> %117, double %115, i32 1, !dbg !2004
  %119 = fmul <2 x double> %106, %118, !dbg !2004
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1336, metadata !1873), !dbg !1861
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1350, metadata !1800), !dbg !2005
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1351, metadata !1800), !dbg !2007
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1352, metadata !1800), !dbg !2008
  tail call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1353, metadata !1800), !dbg !2009
  %120 = extractelement <2 x double> %119, i32 1, !dbg !2010
  %121 = fmul double %94, %120, !dbg !2010
  %122 = extractelement <2 x double> %119, i32 0, !dbg !2011
  %123 = fmul double %87, %122, !dbg !2011
  %124 = fsub double %121, %123, !dbg !2012
  %125 = insertelement <2 x double> undef, double %116, i32 0, !dbg !2013
  %126 = shufflevector <2 x double> %125, <2 x double> %119, <2 x i32> <i32 0, i32 2>, !dbg !2013
  %127 = fmul <2 x double> %86, %126, !dbg !2013
  %128 = insertelement <2 x double> undef, double %120, i32 0, !dbg !2014
  %129 = insertelement <2 x double> %128, double %116, i32 1, !dbg !2014
  %130 = fmul <2 x double> %102, %129, !dbg !2014
  %131 = fsub <2 x double> %127, %130, !dbg !2015
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1191, metadata !1800), !dbg !2016
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1192, metadata !1800), !dbg !2018
  tail call void @llvm.dbg.value(metadata double %124, i64 0, metadata !1337, metadata !1869), !dbg !1862
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1337, metadata !1871), !dbg !1862
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1337, metadata !1873), !dbg !1862
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1257, metadata !1800) #2, !dbg !2019
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1264, metadata !1800) #2, !dbg !2021
  %132 = fmul double %124, %124, !dbg !2023
  %133 = extractelement <2 x double> %131, i32 0, !dbg !2024
  %134 = fmul double %133, %133, !dbg !2024
  %135 = fadd double %132, %134, !dbg !2025
  %136 = extractelement <2 x double> %131, i32 1, !dbg !2026
  %137 = fmul double %136, %136, !dbg !2026
  %138 = fadd double %137, %135, !dbg !2027
  %139 = tail call double @sqrt(double %138) #9, !dbg !2028
  tail call void @llvm.dbg.value(metadata double %139, i64 0, metadata !1263, metadata !1800) #2, !dbg !2029
  tail call void @llvm.dbg.value(metadata double %139, i64 0, metadata !1258, metadata !1800) #2, !dbg !2030
  tail call void @llvm.dbg.value(metadata double %139, i64 0, metadata !1258, metadata !1800) #2, !dbg !2030
  tail call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1269, metadata !1800) #2, !dbg !2031
  tail call void @llvm.dbg.value(metadata double %139, i64 0, metadata !1270, metadata !1800) #2, !dbg !2033
  %140 = fdiv double 1.000000e+00, %139, !dbg !2034
  tail call void @llvm.dbg.value(metadata double %140, i64 0, metadata !1271, metadata !1800) #2, !dbg !2035
  %141 = fmul double %140, %124, !dbg !2036
  tail call void @llvm.dbg.value(metadata double %141, i64 0, metadata !1337, metadata !1869), !dbg !1862
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1337, metadata !1871), !dbg !1862
  %142 = insertelement <2 x double> undef, double %140, i32 0, !dbg !2037
  %143 = insertelement <2 x double> %142, double %140, i32 1, !dbg !2037
  %144 = fmul <2 x double> %131, %143, !dbg !2037
  tail call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1337, metadata !1873), !dbg !1862
  %145 = sitofp i32 %.Current_Radiosity_Count.1.i to double, !dbg !2038
  %146 = fdiv double %Weight, %145, !dbg !2039
  tail call void @llvm.dbg.value(metadata double %146, i64 0, metadata !1376, metadata !1800), !dbg !2040
  tail call void @llvm.dbg.value(metadata double %146, i64 0, metadata !1369, metadata !1800), !dbg !2044
  tail call void @llvm.dbg.value(metadata double %146, i64 0, metadata !1361, metadata !1800), !dbg !2045
  tail call void @llvm.dbg.value(metadata double* @_ZN3pov11ADC_BailoutE, i64 0, metadata !1360, metadata !1800), !dbg !2046
  tail call void @llvm.dbg.value(metadata double* @_ZN3pov11ADC_BailoutE, i64 0, metadata !1368, metadata !1800), !dbg !2047
  tail call void @llvm.dbg.value(metadata double* @_ZN3pov11ADC_BailoutE, i64 0, metadata !1375, metadata !1800), !dbg !2048
  %147 = fcmp olt double %44, %146, !dbg !2049
  %148 = select i1 %147, double %146, double %44, !dbg !2050
  tail call void @llvm.dbg.value(metadata double %148, i64 0, metadata !1306, metadata !1800), !dbg !2051
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1316, metadata !1800), !dbg !2052
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1315, metadata !1800), !dbg !2053
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1314, metadata !1800), !dbg !2054
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1313, metadata !1800), !dbg !2055
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1312, metadata !1800), !dbg !2056
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1311, metadata !1800), !dbg !2057
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1310, metadata !1800), !dbg !2058
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1309, metadata !1800), !dbg !2059
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1308, metadata !1800), !dbg !2060
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1329, metadata !1800), !dbg !2061
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1327, metadata !1800), !dbg !2062
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !1326, metadata !1800), !dbg !2063
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1294, metadata !1800), !dbg !2064
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1335, metadata !1800), !dbg !2065
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1293, metadata !1800), !dbg !2066
  %149 = icmp sgt i32 %.Current_Radiosity_Count.1.i, 0, !dbg !2067
  br i1 %149, label %.preheader.lr.ph.i, label %._crit_edge.i, !dbg !2068

.preheader.lr.ph.i:                               ; preds = %.thread.i
  %150 = mul nsw i32 %.Current_Radiosity_Count.1.i, 5, !dbg !2069
  %151 = getelementptr inbounds double* %Raw_Normal, i64 1, !dbg !2072
  %152 = getelementptr inbounds double* %Raw_Normal, i64 2, !dbg !2075
  %153 = getelementptr inbounds [5 x float]* %Temp_Colour.i, i64 0, i64 0, !dbg !2076
  %154 = getelementptr inbounds [5 x float]* %Temp_Colour.i, i64 0, i64 1, !dbg !2077
  %155 = getelementptr inbounds [5 x float]* %Temp_Colour.i, i64 0, i64 2, !dbg !2079
  %156 = bitcast double* %57 to i64*, !dbg !2080
  %157 = getelementptr inbounds %"struct.pov::Ray_Struct"* %New_Ray.i, i64 0, i32 0, i64 2, !dbg !2082
  %158 = bitcast double* %157 to i64*, !dbg !2083
  %159 = getelementptr inbounds %"struct.pov::Ray_Struct"* %New_Ray.i, i64 0, i32 1, i64 0, !dbg !2084
  %160 = bitcast double* %159 to i64*, !dbg !2085
  %161 = getelementptr inbounds %"struct.pov::Ray_Struct"* %New_Ray.i, i64 0, i32 1, i64 1, !dbg !2087
  br label %.preheader.i, !dbg !2068

.preheader.i:                                     ; preds = %346, %.preheader.lr.ph.i
  %i.041.i = phi i32 [ 0, %.preheader.lr.ph.i ], [ %362, %346 ], !dbg !1887
  %Inverse_Distance_Sum.040.i = phi double [ 0.000000e+00, %.preheader.lr.ph.i ], [ %361, %346 ], !dbg !1887
  %sampleNum.039.i = phi i32 [ 0, %.preheader.lr.ph.i ], [ %..i, %346 ], !dbg !1887
  %gradient_count.038.i = phi double [ 0.000000e+00, %.preheader.lr.ph.i ], [ %gradient_count.1.i, %346 ], !dbg !1887
  %sum_of_dist.037.i = phi double [ 0.000000e+00, %.preheader.lr.ph.i ], [ %sum_of_dist.1.i, %346 ], !dbg !1887
  %sum_of_inverse_dist.036.i = phi double [ 0.000000e+00, %.preheader.lr.ph.i ], [ %sum_of_inverse_dist.1.i, %346 ], !dbg !1887
  %drdxs.035.i = phi double [ 0.000000e+00, %.preheader.lr.ph.i ], [ %drdxs.1.i, %346 ], !dbg !1887
  %min_dist.034.i = phi double [ 2.000000e+10, %.preheader.lr.ph.i ], [ %min_dist.1.i, %346 ], !dbg !1887
  %162 = phi i64 [ %25, %.preheader.lr.ph.i ], [ %.80.i, %346 ], !dbg !1887
  %163 = phi i64 [ %28, %.preheader.lr.ph.i ], [ %.79.i, %346 ], !dbg !1887
  %164 = phi i64 [ %31, %.preheader.lr.ph.i ], [ %.78.i, %346 ], !dbg !1887
  %165 = phi float [ 0.000000e+00, %.preheader.lr.ph.i ], [ %355, %346 ], !dbg !1887
  %166 = phi float [ 0.000000e+00, %.preheader.lr.ph.i ], [ %357, %346 ], !dbg !1887
  %167 = phi float [ 0.000000e+00, %.preheader.lr.ph.i ], [ %359, %346 ], !dbg !1887
  %168 = phi i64 [ undef, %.preheader.lr.ph.i ], [ %353, %346 ], !dbg !1887
  %169 = phi <2 x i64> [ undef, %.preheader.lr.ph.i ], [ %354, %346 ], !dbg !1887
  %170 = phi <2 x double> [ zeroinitializer, %.preheader.lr.ph.i ], [ %347, %346 ], !dbg !1887
  %171 = phi <2 x double> [ zeroinitializer, %.preheader.lr.ph.i ], [ %348, %346 ], !dbg !1887
  %172 = phi <2 x double> [ zeroinitializer, %.preheader.lr.ph.i ], [ %349, %346 ], !dbg !1887
  %173 = phi <2 x double> [ zeroinitializer, %.preheader.lr.ph.i ], [ %350, %346 ], !dbg !1887
  %174 = load [3 x double]** @_ZN3pov16fast_rad_samplesE, align 8, !dbg !2088, !tbaa !2089
  %175 = load double* %Raw_Normal, align 8, !dbg !2090, !tbaa !1868
  %176 = load double* %151, align 8, !dbg !2092, !tbaa !1868
  %177 = load double* %152, align 8, !dbg !2093, !tbaa !1868
  %178 = bitcast double %175 to i64, !dbg !1887
  %179 = bitcast double %176 to i64, !dbg !1887
  %180 = bitcast double %177 to i64, !dbg !1887
  br label %181, !dbg !2094

; <label>:181                                     ; preds = %228, %.preheader.i
  %lockupTest.025.i = phi i32 [ 0, %.preheader.i ], [ %185, %228 ], !dbg !1887
  %sampleNum.124.i = phi i32 [ %sampleNum.039.i, %.preheader.i ], [ %..i, %228 ], !dbg !1887
  %182 = phi i64 [ %162, %.preheader.i ], [ %.80.i, %228 ], !dbg !1887
  %183 = phi i64 [ %163, %.preheader.i ], [ %.79.i, %228 ], !dbg !1887
  %184 = phi i64 [ %164, %.preheader.i ], [ %.78.i, %228 ], !dbg !1887
  %185 = add nuw nsw i32 %lockupTest.025.i, 1, !dbg !2095
  call void @llvm.dbg.value(metadata i32 %185, i64 0, metadata !1347, metadata !1800), !dbg !2096
  %186 = add nsw i32 %sampleNum.124.i, 1, !dbg !2097
  call void @llvm.dbg.value(metadata i32 %186, i64 0, metadata !1335, metadata !1800), !dbg !2065
  %187 = sext i32 %sampleNum.124.i to i64, !dbg !2088
  %188 = getelementptr inbounds [3 x double]* %174, i64 %187, i64 0, !dbg !2088
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1191, metadata !1800), !dbg !2098
  call void @llvm.dbg.value(metadata double* %188, i64 0, metadata !1192, metadata !1800), !dbg !2100
  %189 = bitcast double* %188 to i64*, !dbg !2101
  %190 = load i64* %189, align 8, !dbg !2101, !tbaa !1868
  call void @llvm.dbg.value(metadata i64 %190, i64 0, metadata !1298, metadata !1869), !dbg !1855
  %191 = getelementptr inbounds [3 x double]* %174, i64 %187, i64 1, !dbg !2102
  call void @llvm.dbg.value(metadata i64 undef, i64 0, metadata !1298, metadata !1871), !dbg !1855
  %192 = bitcast double* %191 to <2 x i64>*, !dbg !2102
  %193 = load <2 x i64>* %192, align 8, !dbg !2102, !tbaa !1868
  call void @llvm.dbg.value(metadata i64 undef, i64 0, metadata !1298, metadata !1873), !dbg !1855
  %194 = icmp sgt i32 %sampleNum.124.i, 1598, !dbg !2103
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1335, metadata !1800), !dbg !2065
  %..i = select i1 %194, i32 0, i32 %186, !dbg !2105
  %195 = icmp sgt i32 %..i, %150, !dbg !2106
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1191, metadata !1800), !dbg !2107
  call void @llvm.dbg.value(metadata double* %Raw_Normal, i64 0, metadata !1192, metadata !1800), !dbg !2108
  call void @llvm.dbg.value(metadata i64 %178, i64 0, metadata !1342, metadata !1869), !dbg !1863
  call void @llvm.dbg.value(metadata i64 %179, i64 0, metadata !1342, metadata !1871), !dbg !1863
  call void @llvm.dbg.value(metadata i64 %180, i64 0, metadata !1342, metadata !1873), !dbg !1863
  %.78.i = select i1 %195, i64 %180, i64 %184, !dbg !2109
  %.79.i = select i1 %195, i64 %179, i64 %183, !dbg !2109
  %.80.i = select i1 %195, i64 %178, i64 %182, !dbg !2109
  %196 = bitcast i64 %.78.i to double, !dbg !2110
  %197 = fadd double %196, -1.000000e+00, !dbg !2112
  %198 = call double @fabs(double %197) #9, !dbg !2113
  %199 = fcmp olt double %198, 1.000000e-03, !dbg !2114
  br i1 %199, label %228, label %200, !dbg !2115

; <label>:200                                     ; preds = %181
  %201 = bitcast i64 %190 to double, !dbg !2116
  %202 = fmul double %116, %201, !dbg !2118
  %203 = extractelement <2 x i64> %193, i32 0, !dbg !2119
  %204 = bitcast i64 %203 to double, !dbg !2119
  %205 = fmul double %141, %204, !dbg !2120
  %206 = fadd double %202, %205, !dbg !2121
  %207 = bitcast i64 %.80.i to double, !dbg !2122
  %208 = extractelement <2 x i64> %193, i32 1, !dbg !2123
  %209 = bitcast i64 %208 to double, !dbg !2123
  %210 = fmul double %207, %209, !dbg !2124
  %211 = fadd double %206, %210, !dbg !2125
  %212 = bitcast double %211 to i64, !dbg !2126
  call void @llvm.dbg.value(metadata i64 %212, i64 0, metadata !1299, metadata !1869), !dbg !1856
  %213 = bitcast i64 %.79.i to double, !dbg !2127
  call void @llvm.dbg.value(metadata i64 undef, i64 0, metadata !1299, metadata !1871), !dbg !1856
  %214 = insertelement <2 x double> undef, double %201, i32 0, !dbg !2128
  %215 = insertelement <2 x double> %214, double %201, i32 1, !dbg !2128
  %216 = fmul <2 x double> %119, %215, !dbg !2128
  %217 = insertelement <2 x double> undef, double %204, i32 0, !dbg !2129
  %218 = insertelement <2 x double> %217, double %204, i32 1, !dbg !2129
  %219 = fmul <2 x double> %144, %218, !dbg !2129
  %220 = fadd <2 x double> %216, %219, !dbg !2130
  %221 = insertelement <2 x double> undef, double %213, i32 0, !dbg !2131
  %222 = insertelement <2 x double> %221, double %196, i32 1, !dbg !2131
  %223 = insertelement <2 x double> undef, double %209, i32 0, !dbg !2131
  %224 = insertelement <2 x double> %223, double %209, i32 1, !dbg !2131
  %225 = fmul <2 x double> %222, %224, !dbg !2131
  %226 = fadd <2 x double> %220, %225, !dbg !2132
  %227 = bitcast <2 x double> %226 to <2 x i64>, !dbg !2133
  call void @llvm.dbg.value(metadata i64 undef, i64 0, metadata !1299, metadata !1873), !dbg !1856
  br label %228, !dbg !1887

; <label>:228                                     ; preds = %200, %181
  %229 = phi i64 [ %212, %200 ], [ %190, %181 ], !dbg !1887
  %230 = phi <2 x i64> [ %227, %200 ], [ %193, %181 ], !dbg !1887
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1246, metadata !1800), !dbg !2134
  call void @llvm.dbg.value(metadata double* %Raw_Normal, i64 0, metadata !1247, metadata !1800), !dbg !2135
  %231 = bitcast i64 %229 to double, !dbg !2136
  %232 = fmul double %175, %231, !dbg !2137
  %233 = extractelement <2 x i64> %230, i32 0, !dbg !2138
  %234 = bitcast i64 %233 to double, !dbg !2138
  %235 = fmul double %176, %234, !dbg !2139
  %236 = fadd double %235, %232, !dbg !2140
  %237 = extractelement <2 x i64> %230, i32 1, !dbg !2141
  %238 = bitcast i64 %237 to double, !dbg !2141
  %239 = fmul double %177, %238, !dbg !2142
  %240 = fadd double %239, %236, !dbg !2143
  call void @llvm.dbg.value(metadata double %240, i64 0, metadata !1245, metadata !1800), !dbg !2144
  call void @llvm.dbg.value(metadata double %240, i64 0, metadata !1343, metadata !1800), !dbg !2145
  call void @llvm.dbg.value(metadata double %240, i64 0, metadata !1343, metadata !1800), !dbg !2145
  %241 = fcmp ole double %240, 0.000000e+00, !dbg !2146
  %242 = icmp slt i32 %185, 1600, !dbg !2147
  %or.cond7.i = and i1 %242, %241, !dbg !2094
  br i1 %or.cond7.i, label %181, label %.critedge.i, !dbg !2094

.critedge.i:                                      ; preds = %228
  call void @llvm.dbg.value(metadata float* %153, i64 0, metadata !1183, metadata !1800), !dbg !2148
  call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1184, metadata !1800), !dbg !2149
  call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1185, metadata !1800), !dbg !2150
  call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1186, metadata !1800), !dbg !2151
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %New_Ray.i, i64 0, metadata !1332, metadata !1800), !dbg !2152
  call void @llvm.memset.p0i8.i64(i8* %21, i8 0, i64 20, i32 16, i1 false), !dbg !2153
  call void @_ZN3pov25Initialize_Ray_ContainersEPNS_10Ray_StructEj(%"struct.pov::Ray_Struct"* %New_Ray.i, i32 0) #8, !dbg !2154
  call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1192, metadata !1800), !dbg !2155
  %243 = bitcast double* %IPoint to <2 x i64>*, !dbg !2156
  %244 = load <2 x i64>* %243, align 8, !dbg !2156, !tbaa !1868
  %245 = bitcast %"struct.pov::Ray_Struct"* %New_Ray.i to <2 x i64>*, !dbg !2157
  store <2 x i64> %244, <2 x i64>* %245, align 16, !dbg !2157, !tbaa !1868
  %246 = load i64* %156, align 8, !dbg !2080, !tbaa !1868
  store i64 %246, i64* %158, align 16, !dbg !2083, !tbaa !1868
  call void @llvm.dbg.value(metadata double* %159, i64 0, metadata !1191, metadata !1800), !dbg !2158
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1192, metadata !1800), !dbg !2159
  store i64 %229, i64* %160, align 8, !dbg !2085, !tbaa !1868
  %247 = bitcast double* %161 to <2 x i64>*, !dbg !2160
  store <2 x i64> %230, <2 x i64>* %247, align 8, !dbg !2160, !tbaa !1868
  %248 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !2161, !tbaa !2162
  call void @llvm.dbg.value(metadata i32 %248, i64 0, metadata !1296, metadata !1800), !dbg !2163
  %249 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 0), align 8, !dbg !2164, !tbaa !2165
  call void @llvm.dbg.value(metadata i32 %249, i64 0, metadata !1297, metadata !1800), !dbg !2166
  store i64 6, i64* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 44), align 8, !dbg !2167, !tbaa !2168
  %250 = and i32 %249, -4097, !dbg !2169
  store i32 %250, i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 0), align 8, !dbg !2169, !tbaa !2165
  %251 = and i32 %248, -9, !dbg !2170
  store i32 %251, i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !2170, !tbaa !2162
  %252 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 55), align 4, !dbg !2171, !tbaa !2173
  %253 = icmp eq i32 %252, 0, !dbg !2174
  br i1 %253, label %254, label %256, !dbg !2175

; <label>:254                                     ; preds = %.critedge.i
  %255 = and i32 %248, -137, !dbg !2176
  store i32 %255, i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !2176, !tbaa !2162
  br label %256, !dbg !2178

; <label>:256                                     ; preds = %254, %.critedge.i
  %257 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !2179, !tbaa !1842
  %258 = add nsw i32 %257, 1, !dbg !2179
  store i32 %258, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !2179, !tbaa !1842
  %259 = load i32* @_ZN3pov21Radiosity_Trace_LevelE, align 4, !dbg !2180, !tbaa !1842
  %260 = add nsw i32 %259, 1, !dbg !2180
  store i32 %260, i32* @_ZN3pov21Radiosity_Trace_LevelE, align 4, !dbg !2180, !tbaa !1842
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %New_Ray.i, i64 0, metadata !1332, metadata !1800), !dbg !2152
  %261 = call double @_ZN3pov5TraceEPNS_10Ray_StructEPfd(%"struct.pov::Ray_Struct"* %New_Ray.i, float* %153, double %148) #8, !dbg !2181
  call void @llvm.dbg.value(metadata double %261, i64 0, metadata !1304, metadata !1800), !dbg !2182
  %262 = load i32* @_ZN3pov21Radiosity_Trace_LevelE, align 4, !dbg !2183, !tbaa !1842
  %263 = add nsw i32 %262, -1, !dbg !2183
  store i32 %263, i32* @_ZN3pov21Radiosity_Trace_LevelE, align 4, !dbg !2183, !tbaa !1842
  %264 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !2184, !tbaa !1842
  %265 = add nsw i32 %264, -1, !dbg !2184
  store i32 %265, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !2184, !tbaa !1842
  call void @llvm.dbg.value(metadata float* %154, i64 0, metadata !1383, metadata !1800), !dbg !2185
  call void @llvm.dbg.value(metadata float* %155, i64 0, metadata !1384, metadata !1800), !dbg !2187
  call void @llvm.dbg.value(metadata float* %154, i64 0, metadata !1391, metadata !1800), !dbg !2188
  call void @llvm.dbg.value(metadata float* %155, i64 0, metadata !1392, metadata !1800), !dbg !2190
  call void @llvm.dbg.value(metadata float* %154, i64 0, metadata !1398, metadata !1800), !dbg !2191
  call void @llvm.dbg.value(metadata float* %155, i64 0, metadata !1399, metadata !1800), !dbg !2193
  %266 = bitcast float* %154 to <2 x float>*, !dbg !2194
  %267 = load <2 x float>* %266, align 4, !dbg !2194, !tbaa !2195
  %268 = extractelement <2 x float> %267, i32 0, !dbg !2196
  %269 = extractelement <2 x float> %267, i32 1, !dbg !2196
  %270 = fcmp olt float %268, %269, !dbg !2196
  call void @llvm.dbg.value(metadata float* %153, i64 0, metadata !1383, metadata !1800), !dbg !2197
  call void @llvm.dbg.value(metadata float* %153, i64 0, metadata !1391, metadata !1800), !dbg !2199
  call void @llvm.dbg.value(metadata float* %153, i64 0, metadata !1398, metadata !1800), !dbg !2201
  %271 = load float* %153, align 16, !dbg !2203, !tbaa !2195
  %272 = select i1 %270, float %269, float %268, !dbg !2204
  %273 = fcmp olt float %271, %272, !dbg !2205
  %274 = select i1 %273, float %272, float %271, !dbg !2206
  %275 = fpext float %274 to double, !dbg !2206
  call void @llvm.dbg.value(metadata double %275, i64 0, metadata !1339, metadata !1800), !dbg !2207
  %276 = load double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 52), align 8, !dbg !2208, !tbaa !2210
  %277 = fcmp ogt double %275, %276, !dbg !2211
  %278 = fcmp ogt double %276, 0.000000e+00, !dbg !2212
  %or.cond.i = and i1 %278, %277, !dbg !2213
  br i1 %or.cond.i, label %279, label %288, !dbg !2213

; <label>:279                                     ; preds = %256
  %280 = fdiv double %276, %275, !dbg !2214
  call void @llvm.dbg.value(metadata double %280, i64 0, metadata !1339, metadata !1800), !dbg !2207
  %281 = fptrunc double %280 to float, !dbg !2216
  call void @llvm.dbg.value(metadata float* %153, i64 0, metadata !1404, metadata !1800), !dbg !2217
  call void @llvm.dbg.value(metadata float %281, i64 0, metadata !1405, metadata !1800), !dbg !2219
  %282 = fmul float %271, %281, !dbg !2220
  store float %282, float* %153, align 16, !dbg !2220, !tbaa !2195
  %283 = insertelement <2 x float> undef, float %281, i32 0, !dbg !2221
  %284 = insertelement <2 x float> %283, float %281, i32 1, !dbg !2221
  %285 = fmul <2 x float> %267, %284, !dbg !2221
  %286 = extractelement <2 x float> %285, i32 0, !dbg !2221
  store float %286, float* %154, align 4, !dbg !2221, !tbaa !2195
  %287 = extractelement <2 x float> %285, i32 1, !dbg !2222
  store float %287, float* %155, align 8, !dbg !2222, !tbaa !2195
  br label %288, !dbg !2223

; <label>:288                                     ; preds = %279, %256
  %289 = phi float [ %282, %279 ], [ %271, %256 ], !dbg !1887
  %290 = phi <2 x float> [ %285, %279 ], [ %267, %256 ], !dbg !1887
  call void @llvm.dbg.value(metadata double %261, i64 0, metadata !1322, metadata !1800), !dbg !2224
  %291 = load double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 37), align 8, !dbg !2225, !tbaa !1881
  %292 = fmul double %291, 1.000000e+01, !dbg !2227
  %293 = fcmp olt double %261, %292, !dbg !2228
  br i1 %293, label %294, label %346, !dbg !2229

; <label>:294                                     ; preds = %288
  %295 = fdiv double 1.000000e+00, %261, !dbg !2230
  call void @llvm.dbg.value(metadata double %295, i64 0, metadata !1317, metadata !1800), !dbg !2232
  %296 = fadd double %sum_of_inverse_dist.036.i, %295, !dbg !2233
  call void @llvm.dbg.value(metadata double %296, i64 0, metadata !1326, metadata !1800), !dbg !2063
  %297 = fadd double %sum_of_dist.037.i, %261, !dbg !2234
  call void @llvm.dbg.value(metadata double %297, i64 0, metadata !1327, metadata !1800), !dbg !2062
  %298 = fadd double %gradient_count.038.i, 1.000000e+00, !dbg !2235
  call void @llvm.dbg.value(metadata double %298, i64 0, metadata !1329, metadata !1800), !dbg !2061
  %299 = fmul double %231, %231, !dbg !2236
  call void @llvm.dbg.value(metadata double %299, i64 0, metadata !1318, metadata !1800), !dbg !2237
  %300 = fcmp olt double %231, 0.000000e+00, !dbg !2238
  br i1 %300, label %301, label %303, !dbg !2240

; <label>:301                                     ; preds = %294
  %302 = fsub double -0.000000e+00, %299, !dbg !2241
  call void @llvm.dbg.value(metadata double %302, i64 0, metadata !1318, metadata !1800), !dbg !2237
  br label %303, !dbg !2242

; <label>:303                                     ; preds = %301, %294
  %dxsquared.0.i = phi double [ %302, %301 ], [ %299, %294 ], !dbg !1887
  %304 = fmul double %234, %234, !dbg !2243
  call void @llvm.dbg.value(metadata double %304, i64 0, metadata !1319, metadata !1800), !dbg !2244
  %305 = fcmp olt double %234, 0.000000e+00, !dbg !2245
  br i1 %305, label %306, label %308, !dbg !2247

; <label>:306                                     ; preds = %303
  %307 = fsub double -0.000000e+00, %304, !dbg !2248
  call void @llvm.dbg.value(metadata double %307, i64 0, metadata !1319, metadata !1800), !dbg !2244
  br label %308, !dbg !2249

; <label>:308                                     ; preds = %306, %303
  %dysquared.0.i = phi double [ %307, %306 ], [ %304, %303 ], !dbg !1887
  %309 = fmul double %238, %238, !dbg !2250
  call void @llvm.dbg.value(metadata double %309, i64 0, metadata !1320, metadata !1800), !dbg !2251
  %310 = fcmp olt double %238, 0.000000e+00, !dbg !2252
  br i1 %310, label %311, label %313, !dbg !2254

; <label>:311                                     ; preds = %308
  %312 = fsub double -0.000000e+00, %309, !dbg !2255
  call void @llvm.dbg.value(metadata double %312, i64 0, metadata !1320, metadata !1800), !dbg !2251
  br label %313, !dbg !2256

; <label>:313                                     ; preds = %311, %308
  %dzsquared.0.i = phi double [ %312, %311 ], [ %309, %308 ], !dbg !1887
  %314 = fpext float %289 to double, !dbg !2257
  %315 = fmul double %314, %dxsquared.0.i, !dbg !2258
  %316 = fmul double %295, %315, !dbg !2259
  %317 = fadd double %drdxs.035.i, %316, !dbg !2260
  call void @llvm.dbg.value(metadata double %317, i64 0, metadata !1308, metadata !1800), !dbg !2060
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1309, metadata !1800), !dbg !2059
  %318 = fpext <2 x float> %290 to <2 x double>, !dbg !2261
  %319 = insertelement <2 x double> undef, double %dxsquared.0.i, i32 0, !dbg !2262
  %320 = insertelement <2 x double> %319, double %dxsquared.0.i, i32 1, !dbg !2262
  %321 = fmul <2 x double> %318, %320, !dbg !2262
  %322 = insertelement <2 x double> undef, double %295, i32 0, !dbg !2263
  %323 = insertelement <2 x double> %322, double %295, i32 1, !dbg !2263
  %324 = fmul <2 x double> %321, %323, !dbg !2263
  %325 = fadd <2 x double> %170, %324, !dbg !2264
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1310, metadata !1800), !dbg !2058
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1311, metadata !1800), !dbg !2057
  %326 = extractelement <2 x double> %318, i32 0, !dbg !2265
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1312, metadata !1800), !dbg !2056
  %327 = insertelement <2 x double> undef, double %dysquared.0.i, i32 0, !dbg !2266
  %328 = insertelement <2 x double> %327, double %dysquared.0.i, i32 1, !dbg !2266
  %329 = shufflevector <2 x double> %318, <2 x double> undef, <2 x i32> <i32 1, i32 0>, !dbg !2266
  %330 = fmul <2 x double> %328, %329, !dbg !2266
  %331 = fmul <2 x double> %330, %323, !dbg !2267
  %332 = fadd <2 x double> %173, %331, !dbg !2268
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1313, metadata !1800), !dbg !2055
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1314, metadata !1800), !dbg !2054
  %333 = insertelement <2 x double> undef, double %326, i32 0, !dbg !2269
  %334 = insertelement <2 x double> %333, double %314, i32 1, !dbg !2269
  %335 = insertelement <2 x double> undef, double %dzsquared.0.i, i32 0, !dbg !2269
  %336 = insertelement <2 x double> %335, double %dzsquared.0.i, i32 1, !dbg !2269
  %337 = fmul <2 x double> %334, %336, !dbg !2269
  %338 = fmul <2 x double> %337, %323, !dbg !2270
  %339 = fadd <2 x double> %172, %338, !dbg !2271
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1315, metadata !1800), !dbg !2053
  %340 = insertelement <2 x double> undef, double %314, i32 0, !dbg !2272
  %341 = shufflevector <2 x double> %340, <2 x double> %318, <2 x i32> <i32 0, i32 3>, !dbg !2272
  %342 = insertelement <2 x double> %327, double %dzsquared.0.i, i32 1, !dbg !2272
  %343 = fmul <2 x double> %341, %342, !dbg !2272
  %344 = fmul <2 x double> %343, %323, !dbg !2273
  %345 = fadd <2 x double> %171, %344, !dbg !2274
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1316, metadata !1800), !dbg !2052
  br label %346, !dbg !2275

; <label>:346                                     ; preds = %313, %288
  %drdxs.1.i = phi double [ %317, %313 ], [ %drdxs.035.i, %288 ], !dbg !1887
  %sum_of_inverse_dist.1.i = phi double [ %296, %313 ], [ %sum_of_inverse_dist.036.i, %288 ], !dbg !1887
  %sum_of_dist.1.i = phi double [ %297, %313 ], [ %sum_of_dist.037.i, %288 ], !dbg !1887
  %gradient_count.1.i = phi double [ %298, %313 ], [ %gradient_count.038.i, %288 ], !dbg !1887
  %347 = phi <2 x double> [ %325, %313 ], [ %170, %288 ], !dbg !1887
  %348 = phi <2 x double> [ %345, %313 ], [ %171, %288 ], !dbg !1887
  %349 = phi <2 x double> [ %339, %313 ], [ %172, %288 ], !dbg !1887
  %350 = phi <2 x double> [ %332, %313 ], [ %173, %288 ], !dbg !1887
  %351 = fcmp ogt double %261, %291, !dbg !2276
  call void @llvm.dbg.value(metadata double %291, i64 0, metadata !1304, metadata !1800), !dbg !2182
  %depth.0.i = select i1 %351, double %291, double %261, !dbg !2278
  %352 = fcmp olt double %depth.0.i, %min_dist.034.i, !dbg !2279
  call void @llvm.dbg.value(metadata double %depth.0.i, i64 0, metadata !1323, metadata !1800), !dbg !1963
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1191, metadata !1800), !dbg !2281
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1192, metadata !1800), !dbg !2284
  call void @llvm.dbg.value(metadata i64 %229, i64 0, metadata !1301, metadata !1869), !dbg !1858
  call void @llvm.dbg.value(metadata i64 undef, i64 0, metadata !1301, metadata !1871), !dbg !1858
  call void @llvm.dbg.value(metadata i64 undef, i64 0, metadata !1301, metadata !1873), !dbg !1858
  %353 = select i1 %352, i64 %229, i64 %168, !dbg !2285
  %min_dist.1.i = select i1 %352, double %depth.0.i, double %min_dist.034.i, !dbg !2285
  %354 = select i1 %352, <2 x i64> %230, <2 x i64> %169, !dbg !2285
  store i32 %248, i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !2286, !tbaa !2162
  store i32 %249, i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 0), align 8, !dbg !2287, !tbaa !2165
  call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1276, metadata !1800), !dbg !2288
  call void @llvm.dbg.value(metadata float* %153, i64 0, metadata !1277, metadata !1800), !dbg !2290
  %355 = fadd float %165, %289, !dbg !2291
  call void @llvm.dbg.value(metadata float %355, i64 0, metadata !1330, metadata !1961), !dbg !1859
  %356 = extractelement <2 x float> %290, i32 0, !dbg !2292
  %357 = fadd float %166, %356, !dbg !2292
  call void @llvm.dbg.value(metadata float %357, i64 0, metadata !1330, metadata !2293), !dbg !1859
  %358 = extractelement <2 x float> %290, i32 1, !dbg !2294
  %359 = fadd float %167, %358, !dbg !2294
  call void @llvm.dbg.value(metadata float %359, i64 0, metadata !1330, metadata !2295), !dbg !1859
  %360 = fdiv double 1.000000e+00, %depth.0.i, !dbg !2296
  %361 = fadd double %Inverse_Distance_Sum.040.i, %360, !dbg !2297
  call void @llvm.dbg.value(metadata double %361, i64 0, metadata !1303, metadata !1800), !dbg !1962
  %362 = add nuw nsw i32 %i.041.i, 1, !dbg !2298
  call void @llvm.dbg.value(metadata i32 %362, i64 0, metadata !1293, metadata !1800), !dbg !2066
  %363 = icmp slt i32 %362, %.Current_Radiosity_Count.1.i, !dbg !2067
  br i1 %363, label %.preheader.i, label %._crit_edge.i, !dbg !2068

._crit_edge.i:                                    ; preds = %346, %.thread.i
  %364 = phi double [ %76, %.thread.i ], [ %291, %346 ], !dbg !1887
  %365 = phi i32 [ %37, %.thread.i ], [ %263, %346 ], !dbg !1887
  %Inverse_Distance_Sum.0.lcssa.i = phi double [ 0.000000e+00, %.thread.i ], [ %361, %346 ], !dbg !1887
  %gradient_count.0.lcssa.i = phi double [ 0.000000e+00, %.thread.i ], [ %gradient_count.1.i, %346 ], !dbg !1887
  %sum_of_dist.0.lcssa.i = phi double [ 0.000000e+00, %.thread.i ], [ %sum_of_dist.1.i, %346 ], !dbg !1887
  %sum_of_inverse_dist.0.lcssa.i = phi double [ 0.000000e+00, %.thread.i ], [ %sum_of_inverse_dist.1.i, %346 ], !dbg !1887
  %drdxs.0.lcssa.i = phi double [ 0.000000e+00, %.thread.i ], [ %drdxs.1.i, %346 ], !dbg !1887
  %min_dist.0.lcssa.i = phi double [ 2.000000e+10, %.thread.i ], [ %min_dist.1.i, %346 ], !dbg !1887
  %.lcssa23.i = phi i64 [ %25, %.thread.i ], [ %.80.i, %346 ], !dbg !1887
  %.lcssa22.i = phi i64 [ %28, %.thread.i ], [ %.79.i, %346 ], !dbg !1887
  %.lcssa21.i = phi i64 [ %31, %.thread.i ], [ %.78.i, %346 ], !dbg !1887
  %.lcssa20.i = phi float [ 0.000000e+00, %.thread.i ], [ %355, %346 ], !dbg !1887
  %.lcssa19.i = phi float [ 0.000000e+00, %.thread.i ], [ %357, %346 ], !dbg !1887
  %.lcssa18.i = phi float [ 0.000000e+00, %.thread.i ], [ %359, %346 ], !dbg !1887
  %.lcssa17.i = phi i64 [ undef, %.thread.i ], [ %353, %346 ], !dbg !1887
  %366 = phi <2 x i64> [ undef, %.thread.i ], [ %354, %346 ], !dbg !1887
  %367 = phi <2 x double> [ zeroinitializer, %.thread.i ], [ %347, %346 ], !dbg !1887
  %368 = phi <2 x double> [ zeroinitializer, %.thread.i ], [ %348, %346 ], !dbg !1887
  %369 = phi <2 x double> [ zeroinitializer, %.thread.i ], [ %349, %346 ], !dbg !1887
  %370 = phi <2 x double> [ zeroinitializer, %.thread.i ], [ %350, %346 ], !dbg !1887
  %371 = fdiv double %Inverse_Distance_Sum.0.lcssa.i, %145, !dbg !2299
  %372 = fdiv double 1.000000e+00, %371, !dbg !2300
  call void @llvm.dbg.value(metadata double %372, i64 0, metadata !1305, metadata !1800), !dbg !2301
  %373 = fptrunc double %145 to float, !dbg !2302
  call void @llvm.dbg.value(metadata float* %Ambient_Colour, i64 0, metadata !1280, metadata !1800), !dbg !2303
  call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1281, metadata !1800), !dbg !2305
  call void @llvm.dbg.value(metadata float %373, i64 0, metadata !1282, metadata !1800), !dbg !2306
  %374 = fdiv float 1.000000e+00, %373, !dbg !2307
  call void @llvm.dbg.value(metadata float %374, i64 0, metadata !1283, metadata !1800), !dbg !2308
  %375 = fmul float %.lcssa20.i, %374, !dbg !2309
  store float %375, float* %Ambient_Colour, align 4, !dbg !2310, !tbaa !2195
  %376 = fmul float %.lcssa19.i, %374, !dbg !2311
  %377 = getelementptr inbounds float* %Ambient_Colour, i64 1, !dbg !2312
  store float %376, float* %377, align 4, !dbg !2313, !tbaa !2195
  %378 = fmul float %.lcssa18.i, %374, !dbg !2314
  %379 = getelementptr inbounds float* %Ambient_Colour, i64 2, !dbg !2315
  store float %378, float* %379, align 4, !dbg !2316, !tbaa !2195
  %380 = icmp eq i32 %365, 1, !dbg !2317
  br i1 %380, label %.thread76.i, label %391, !dbg !2319

.thread76.i:                                      ; preds = %._crit_edge.i
  call void @llvm.dbg.value(metadata float* getelementptr inbounds ([5 x float]* @_ZN3pov22Radiosity_Gather_TotalE, i64 0, i64 0), i64 0, metadata !1276, metadata !1800), !dbg !2320
  call void @llvm.dbg.value(metadata float* %Ambient_Colour, i64 0, metadata !1277, metadata !1800), !dbg !2323
  %381 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov22Radiosity_Gather_TotalE, i64 0, i64 0), align 16, !dbg !2324, !tbaa !2195
  %382 = fadd float %375, %381, !dbg !2324
  store float %382, float* getelementptr inbounds ([5 x float]* @_ZN3pov22Radiosity_Gather_TotalE, i64 0, i64 0), align 16, !dbg !2324, !tbaa !2195
  %383 = load float* %377, align 4, !dbg !2325, !tbaa !2195
  %384 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov22Radiosity_Gather_TotalE, i64 0, i64 1), align 4, !dbg !2326, !tbaa !2195
  %385 = fadd float %383, %384, !dbg !2326
  store float %385, float* getelementptr inbounds ([5 x float]* @_ZN3pov22Radiosity_Gather_TotalE, i64 0, i64 1), align 4, !dbg !2326, !tbaa !2195
  %386 = load float* %379, align 4, !dbg !2327, !tbaa !2195
  %387 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov22Radiosity_Gather_TotalE, i64 0, i64 2), align 8, !dbg !2328, !tbaa !2195
  %388 = fadd float %386, %387, !dbg !2328
  store float %388, float* getelementptr inbounds ([5 x float]* @_ZN3pov22Radiosity_Gather_TotalE, i64 0, i64 2), align 8, !dbg !2328, !tbaa !2195
  %389 = load i64* @_ZN3pov28Radiosity_Gather_Total_CountE, align 8, !dbg !2329, !tbaa !1846
  %390 = add nsw i64 %389, 1, !dbg !2329
  store i64 %390, i64* @_ZN3pov28Radiosity_Gather_Total_CountE, align 8, !dbg !2329, !tbaa !1846
  %.old.i = fmul double %364, 1.000000e-04, !dbg !2330
  %.old81.i = fcmp ogt double %372, %.old.i, !dbg !2333
  br i1 %.old81.i, label %395, label %_ZN3povL9ra_gatherEPdS0_S0_Pfd.exit, !dbg !2334

; <label>:391                                     ; preds = %._crit_edge.i
  %392 = icmp sgt i32 %.Current_Radiosity_Count.1.i, 4, !dbg !2335
  %393 = fmul double %364, 1.000000e-04, !dbg !1887
  %394 = fcmp ogt double %372, %393, !dbg !2333
  %or.cond82.i = and i1 %392, %394, !dbg !2336
  br i1 %or.cond82.i, label %395, label %_ZN3povL9ra_gatherEPdS0_S0_Pfd.exit, !dbg !2336

; <label>:395                                     ; preds = %391, %.thread76.i
  %396 = load %"struct.pov::Camera_Struct"** getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 0), align 8, !dbg !2337, !tbaa !1895
  %397 = getelementptr inbounds %"struct.pov::Camera_Struct"* %396, i64 0, i32 0, i64 0, !dbg !2339
  call void @llvm.dbg.value(metadata double* %397, i64 0, metadata !1424, metadata !1800) #2, !dbg !2340
  call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1425, metadata !1800) #2, !dbg !2342
  call void @llvm.dbg.declare(metadata [3 x double]* undef, metadata !1426, metadata !1800) #2, !dbg !2343
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1225, metadata !1800) #2, !dbg !2344
  call void @llvm.dbg.value(metadata double* %397, i64 0, metadata !1226, metadata !1800) #2, !dbg !2346
  call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1227, metadata !1800) #2, !dbg !2347
  %398 = load double* %397, align 8, !dbg !2348, !tbaa !1868
  %399 = load double* %IPoint, align 8, !dbg !2349, !tbaa !1868
  %400 = fsub double %398, %399, !dbg !2350
  call void @llvm.dbg.value(metadata double %400, i64 0, metadata !1426, metadata !1869) #2, !dbg !2343
  %401 = getelementptr inbounds %"struct.pov::Camera_Struct"* %396, i64 0, i32 0, i64 1, !dbg !2351
  %402 = load double* %401, align 8, !dbg !2351, !tbaa !1868
  %403 = load double* %52, align 8, !dbg !2352, !tbaa !1868
  %404 = fsub double %402, %403, !dbg !2353
  call void @llvm.dbg.value(metadata double %404, i64 0, metadata !1426, metadata !1871) #2, !dbg !2343
  %405 = getelementptr inbounds %"struct.pov::Camera_Struct"* %396, i64 0, i32 0, i64 2, !dbg !2354
  %406 = load double* %405, align 8, !dbg !2354, !tbaa !1868
  %407 = load double* %57, align 8, !dbg !2355, !tbaa !1868
  %408 = fsub double %406, %407, !dbg !2356
  call void @llvm.dbg.value(metadata double %408, i64 0, metadata !1426, metadata !1873) #2, !dbg !2343
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1264, metadata !1800) #2, !dbg !2357
  %409 = fmul double %400, %400, !dbg !2359
  %410 = fmul double %404, %404, !dbg !2360
  %411 = fadd double %409, %410, !dbg !2361
  %412 = fmul double %408, %408, !dbg !2362
  %413 = fadd double %411, %412, !dbg !2363
  %414 = call double @sqrt(double %413) #9, !dbg !2364
  call void @llvm.dbg.value(metadata double %414, i64 0, metadata !1263, metadata !1800), !dbg !2365
  call void @llvm.dbg.value(metadata double %414, i64 0, metadata !1423, metadata !1800), !dbg !2366
  call void @llvm.dbg.value(metadata double %414, i64 0, metadata !1325, metadata !1800), !dbg !2367
  call void @llvm.dbg.value(metadata double %414, i64 0, metadata !1325, metadata !1800), !dbg !2367
  %415 = load double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 41), align 8, !dbg !2368, !tbaa !1879
  %416 = fmul double %414, %415, !dbg !2369
  call void @llvm.dbg.value(metadata double %416, i64 0, metadata !1324, metadata !1800), !dbg !2370
  %417 = fcmp olt double %372, %416, !dbg !2371
  call void @llvm.dbg.value(metadata double %416, i64 0, metadata !1305, metadata !1800), !dbg !2301
  %mean_dist.0.i = select i1 %417, double %416, double %372, !dbg !2373
  %418 = load double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 51), align 8, !dbg !2374, !tbaa !2375
  %419 = fmul double %418, %mean_dist.0.i, !dbg !2376
  call void @llvm.dbg.value(metadata %"struct.pov::ot_id_struct"* %id.i, i64 0, metadata !1334, metadata !1800), !dbg !2377
  call void @_ZN3pov15ot_index_sphereEPddPNS_12ot_id_structE(double* %IPoint, double %419, %"struct.pov::ot_id_struct"* %id.i) #8, !dbg !2378
  %420 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 144, i8* getelementptr inbounds ([69 x i8]* @.str, i64 0, i64 0), i32 867, i8* getelementptr inbounds ([13 x i8]* @.str3, i64 0, i64 0)) #8, !dbg !2379
  %421 = bitcast i8* %420 to %"struct.pov::ot_block_struct"*, !dbg !2380
  call void @llvm.dbg.value(metadata %"struct.pov::ot_block_struct"* %421, i64 0, metadata !1333, metadata !1800), !dbg !2381
  call void @llvm.memset.p0i8.i64(i8* %420, i8 0, i64 144, i32 8, i1 false), !dbg !2382
  %422 = fcmp ogt double %gradient_count.0.lcssa.i, 1.000000e+01, !dbg !2383
  br i1 %422, label %423, label %471, !dbg !2385

; <label>:423                                     ; preds = %395
  %424 = fdiv double %sum_of_dist.0.lcssa.i, %gradient_count.0.lcssa.i, !dbg !2386
  call void @llvm.dbg.value(metadata double %424, i64 0, metadata !1328, metadata !1800), !dbg !2388
  %425 = fmul double %sum_of_inverse_dist.0.lcssa.i, %424, !dbg !2389
  %426 = fdiv double 1.000000e+00, %425, !dbg !2390
  call void @llvm.dbg.value(metadata double %426, i64 0, metadata !1321, metadata !1800), !dbg !2391
  %427 = fmul double %drdxs.0.lcssa.i, %426, !dbg !2392
  %428 = fptrunc double %427 to float, !dbg !2393
  %429 = getelementptr inbounds i8* %420, i64 56, !dbg !2394
  %430 = bitcast i8* %429 to float*, !dbg !2394
  store float %428, float* %430, align 4, !dbg !2395, !tbaa !2396
  %431 = extractelement <2 x double> %367, i32 0, !dbg !2399
  %432 = fmul double %431, %426, !dbg !2399
  %433 = fptrunc double %432 to float, !dbg !2400
  %434 = getelementptr inbounds i8* %420, i64 60, !dbg !2401
  %435 = bitcast i8* %434 to float*, !dbg !2401
  store float %433, float* %435, align 4, !dbg !2402, !tbaa !2403
  %436 = extractelement <2 x double> %367, i32 1, !dbg !2404
  %437 = fmul double %436, %426, !dbg !2404
  %438 = fptrunc double %437 to float, !dbg !2405
  %439 = getelementptr inbounds i8* %420, i64 64, !dbg !2406
  %440 = bitcast i8* %439 to float*, !dbg !2406
  store float %438, float* %440, align 4, !dbg !2407, !tbaa !2408
  %441 = extractelement <2 x double> %368, i32 0, !dbg !2409
  %442 = fmul double %441, %426, !dbg !2409
  %443 = fptrunc double %442 to float, !dbg !2410
  %444 = getelementptr inbounds i8* %420, i64 68, !dbg !2411
  %445 = bitcast i8* %444 to float*, !dbg !2411
  store float %443, float* %445, align 4, !dbg !2412, !tbaa !2413
  %446 = extractelement <2 x double> %370, i32 1, !dbg !2414
  %447 = fmul double %446, %426, !dbg !2414
  %448 = fptrunc double %447 to float, !dbg !2415
  %449 = getelementptr inbounds i8* %420, i64 72, !dbg !2416
  %450 = bitcast i8* %449 to float*, !dbg !2416
  store float %448, float* %450, align 4, !dbg !2417, !tbaa !2418
  %451 = extractelement <2 x double> %370, i32 0, !dbg !2419
  %452 = fmul double %451, %426, !dbg !2419
  %453 = fptrunc double %452 to float, !dbg !2420
  %454 = getelementptr inbounds i8* %420, i64 76, !dbg !2421
  %455 = bitcast i8* %454 to float*, !dbg !2421
  store float %453, float* %455, align 4, !dbg !2422, !tbaa !2423
  %456 = extractelement <2 x double> %369, i32 1, !dbg !2424
  %457 = fmul double %456, %426, !dbg !2424
  %458 = fptrunc double %457 to float, !dbg !2425
  %459 = getelementptr inbounds i8* %420, i64 80, !dbg !2426
  %460 = bitcast i8* %459 to float*, !dbg !2426
  store float %458, float* %460, align 4, !dbg !2427, !tbaa !2428
  %461 = extractelement <2 x double> %369, i32 0, !dbg !2429
  %462 = fmul double %461, %426, !dbg !2429
  %463 = fptrunc double %462 to float, !dbg !2430
  %464 = getelementptr inbounds i8* %420, i64 84, !dbg !2431
  %465 = bitcast i8* %464 to float*, !dbg !2431
  store float %463, float* %465, align 4, !dbg !2432, !tbaa !2433
  %466 = extractelement <2 x double> %368, i32 1, !dbg !2434
  %467 = fmul double %466, %426, !dbg !2434
  %468 = fptrunc double %467 to float, !dbg !2435
  %469 = getelementptr inbounds i8* %420, i64 88, !dbg !2436
  %470 = bitcast i8* %469 to float*, !dbg !2436
  store float %468, float* %470, align 4, !dbg !2437, !tbaa !2438
  br label %471, !dbg !2439

; <label>:471                                     ; preds = %423, %395
  %472 = getelementptr inbounds i8* %420, i64 92, !dbg !2440
  call void @llvm.dbg.value(metadata float* %Ambient_Colour, i64 0, metadata !1411, metadata !1800), !dbg !2441
  %473 = bitcast float* %Ambient_Colour to i32*, !dbg !2443
  %474 = load i32* %473, align 4, !dbg !2443, !tbaa !2195
  %475 = bitcast i8* %472 to i32*, !dbg !2444
  store i32 %474, i32* %475, align 4, !dbg !2444, !tbaa !2195
  %476 = bitcast float* %377 to i32*, !dbg !2445
  %477 = load i32* %476, align 4, !dbg !2445, !tbaa !2195
  %478 = getelementptr inbounds i8* %420, i64 96, !dbg !2446
  %479 = bitcast i8* %478 to i32*, !dbg !2447
  store i32 %477, i32* %479, align 4, !dbg !2447, !tbaa !2195
  %480 = bitcast float* %379 to i32*, !dbg !2448
  %481 = load i32* %480, align 4, !dbg !2448, !tbaa !2195
  %482 = getelementptr inbounds i8* %420, i64 100, !dbg !2449
  %483 = bitcast i8* %482 to i32*, !dbg !2450
  store i32 %481, i32* %483, align 4, !dbg !2450, !tbaa !2195
  %484 = getelementptr inbounds i8* %420, i64 112, !dbg !2451
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1192, metadata !1800), !dbg !2452
  %485 = bitcast i8* %484 to i64*, !dbg !2454
  store i64 %.lcssa17.i, i64* %485, align 8, !dbg !2454, !tbaa !1868
  %486 = getelementptr inbounds i8* %420, i64 120, !dbg !2455
  %487 = bitcast i8* %486 to <2 x i64>*, !dbg !2456
  store <2 x i64> %366, <2 x i64>* %487, align 8, !dbg !2456, !tbaa !1868
  %488 = fptrunc double %mean_dist.0.i to float, !dbg !2457
  %489 = getelementptr inbounds i8* %420, i64 104, !dbg !2458
  %490 = bitcast i8* %489 to float*, !dbg !2458
  store float %488, float* %490, align 4, !dbg !2459, !tbaa !2460
  %491 = fptrunc double %min_dist.0.lcssa.i to float, !dbg !2461
  %492 = getelementptr inbounds i8* %420, i64 108, !dbg !2462
  %493 = bitcast i8* %492 to float*, !dbg !2462
  store float %491, float* %493, align 4, !dbg !2463, !tbaa !2464
  %494 = load i32* @_ZN3pov21Radiosity_Trace_LevelE, align 4, !dbg !2465, !tbaa !1842
  %495 = trunc i32 %494 to i16, !dbg !2465
  %496 = getelementptr inbounds i8* %420, i64 136, !dbg !2466
  %497 = bitcast i8* %496 to i16*, !dbg !2466
  store i16 %495, i16* %497, align 2, !dbg !2467, !tbaa !2468
  %498 = getelementptr inbounds i8* %420, i64 8, !dbg !2469
  call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1192, metadata !1800), !dbg !2470
  %499 = bitcast double* %IPoint to i64*, !dbg !2472
  %500 = load i64* %499, align 8, !dbg !2472, !tbaa !1868
  %501 = bitcast i8* %498 to i64*, !dbg !2473
  store i64 %500, i64* %501, align 8, !dbg !2473, !tbaa !1868
  %502 = bitcast double* %52 to i64*, !dbg !2474
  %503 = load i64* %502, align 8, !dbg !2474, !tbaa !1868
  %504 = getelementptr inbounds i8* %420, i64 16, !dbg !2475
  %505 = bitcast i8* %504 to i64*, !dbg !2476
  store i64 %503, i64* %505, align 8, !dbg !2476, !tbaa !1868
  %506 = bitcast double* %57 to i64*, !dbg !2477
  %507 = load i64* %506, align 8, !dbg !2477, !tbaa !1868
  %508 = getelementptr inbounds i8* %420, i64 24, !dbg !2478
  %509 = bitcast i8* %508 to i64*, !dbg !2479
  store i64 %507, i64* %509, align 8, !dbg !2479, !tbaa !1868
  %510 = getelementptr inbounds i8* %420, i64 32, !dbg !2480
  call void @llvm.dbg.value(metadata double* undef, i64 0, metadata !1192, metadata !1800), !dbg !2481
  %511 = bitcast i8* %510 to i64*, !dbg !2483
  store i64 %.lcssa23.i, i64* %511, align 8, !dbg !2483, !tbaa !1868
  %512 = getelementptr inbounds i8* %420, i64 40, !dbg !2484
  %513 = bitcast i8* %512 to i64*, !dbg !2485
  store i64 %.lcssa22.i, i64* %513, align 8, !dbg !2485, !tbaa !1868
  %514 = getelementptr inbounds i8* %420, i64 48, !dbg !2486
  %515 = bitcast i8* %514 to i64*, !dbg !2487
  store i64 %.lcssa21.i, i64* %515, align 8, !dbg !2487, !tbaa !1868
  %516 = bitcast i8* %420 to %"struct.pov::ot_block_struct"**, !dbg !2488
  store %"struct.pov::ot_block_struct"* null, %"struct.pov::ot_block_struct"** %516, align 8, !dbg !2489, !tbaa !2490
  call void @llvm.dbg.value(metadata %"struct.pov::ot_id_struct"* %id.i, i64 0, metadata !1334, metadata !1800), !dbg !2377
  call void @_ZN3pov6ot_insEPPNS_14ot_node_structEPNS_15ot_block_structEPNS_12ot_id_structE(%"struct.pov::ot_node_struct"** @_ZN3pov7ot_rootE, %"struct.pov::ot_block_struct"* %421, %"struct.pov::ot_id_struct"* %id.i) #8, !dbg !2491
  %517 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 46), align 4, !dbg !2492, !tbaa !2494
  %518 = icmp ne i32 %517, 0, !dbg !2495
  %519 = load %"class.pov_base::OStream"** @_ZN3pov5ot_fdE, align 8, !dbg !1887
  %520 = icmp ne %"class.pov_base::OStream"* %519, null, !dbg !2496
  %or.cond5.i = and i1 %518, %520, !dbg !2497
  br i1 %or.cond5.i, label %521, label %_ZN3povL9ra_gatherEPdS0_S0_Pfd.exit, !dbg !2497

; <label>:521                                     ; preds = %471
  %522 = bitcast %"class.pov_base::OStream"* %519 to i8*, !dbg !2498
  %523 = call zeroext i1 @_ZN3pov14ot_write_blockEPNS_15ot_block_structEPv(%"struct.pov::ot_block_struct"* %421, i8* %522) #8, !dbg !2500
  br label %_ZN3povL9ra_gatherEPdS0_S0_Pfd.exit, !dbg !2501

_ZN3povL9ra_gatherEPdS0_S0_Pfd.exit:              ; preds = %.thread76.i, %391, %471, %521
  store i32 %78, i32* @_ZN3pov15Max_Trace_LevelE, align 4, !dbg !2502, !tbaa !1842
  store i64 %34, i64* bitcast (double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 41) to i64*), align 8, !dbg !2503, !tbaa !1879
  %sext.i = shl i64 %9, 32, !dbg !2504
  %524 = ashr exact i64 %sext.i, 32, !dbg !2504
  store i64 %524, i64* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 42), align 8, !dbg !2505, !tbaa !1838
  store i64 %35, i64* bitcast (double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 37) to i64*), align 8, !dbg !2506, !tbaa !1881
  store double %36, double* @_ZN3pov11ADC_BailoutE, align 8, !dbg !2507, !tbaa !1868
  call void @llvm.lifetime.end(i64 856, i8* %23) #2, !dbg !2508
  call void @llvm.lifetime.end(i64 20, i8* %21), !dbg !2508
  call void @llvm.lifetime.end(i64 16, i8* %22), !dbg !2508
  %525 = call fastcc i32 @_ZN3povL8ra_reuseEPdS0_Pf(double* %IPoint, double* %LayNormal, float* %Ambient_Colour) #8, !dbg !2509
  call void @llvm.dbg.value(metadata i32 %525, i64 0, metadata !1139, metadata !1800), !dbg !1834
  %526 = load i64* @_ZN3pov15ra_gather_countE, align 8, !dbg !2510, !tbaa !1846
  %527 = add nsw i64 %526, 1, !dbg !2510
  store i64 %527, i64* @_ZN3pov15ra_gather_countE, align 8, !dbg !2510, !tbaa !1846
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1138, metadata !1800), !dbg !1847
  br label %528

; <label>:528                                     ; preds = %_ZN3povL9ra_gatherEPdS0_S0_Pfd.exit, %17
  %.pre-phi33 = phi float* [ %379, %_ZN3povL9ra_gatherEPdS0_S0_Pfd.exit ], [ %.pre32, %17 ], !dbg !1848
  %.pre-phi = phi float* [ %377, %_ZN3povL9ra_gatherEPdS0_S0_Pfd.exit ], [ %.pre, %17 ], !dbg !1848
  %retval.0 = phi i32 [ 1, %_ZN3povL9ra_gatherEPdS0_S0_Pfd.exit ], [ 0, %17 ]
  %529 = load float* %Ambient_Colour, align 4, !dbg !1848, !tbaa !2195
  %530 = fpext float %529 to double, !dbg !1848
  %531 = fmul double %530, 2.970000e-01, !dbg !1848
  %532 = load float* %.pre-phi, align 4, !dbg !1848, !tbaa !2195
  %533 = fpext float %532 to double, !dbg !1848
  %534 = fmul double %533, 5.890000e-01, !dbg !1848
  %535 = fadd double %531, %534, !dbg !1848
  %536 = load float* %.pre-phi33, align 4, !dbg !1848, !tbaa !2195
  %537 = fpext float %536 to double, !dbg !1848
  %538 = fmul double %537, 1.140000e-01, !dbg !1848
  %539 = fadd double %535, %538, !dbg !1848
  call void @llvm.dbg.value(metadata double %539, i64 0, metadata !1140, metadata !1800), !dbg !2511
  %540 = load double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 39), align 8, !dbg !2512, !tbaa !2513
  %541 = fmul double %540, %539, !dbg !2514
  %542 = fsub double 1.000000e+00, %540, !dbg !2515
  %543 = fmul double %530, %542, !dbg !2516
  %544 = fadd double %543, %541, !dbg !2517
  %545 = fptrunc double %544 to float, !dbg !2518
  %546 = fmul double %542, %533, !dbg !2519
  %547 = fadd double %541, %546, !dbg !2520
  %548 = fptrunc double %547 to float, !dbg !2521
  %549 = fmul double %542, %537, !dbg !2522
  %550 = fadd double %541, %549, !dbg !2523
  %551 = fptrunc double %550 to float, !dbg !2524
  %552 = load double* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 35), align 8, !dbg !2525, !tbaa !2526
  %553 = fptrunc double %552 to float, !dbg !2527
  tail call void @llvm.dbg.value(metadata float* %Ambient_Colour, i64 0, metadata !1167, metadata !1800), !dbg !2528
  tail call void @llvm.dbg.value(metadata float* %Ambient_Colour, i64 0, metadata !1168, metadata !1800), !dbg !2530
  tail call void @llvm.dbg.value(metadata float %553, i64 0, metadata !1169, metadata !1800), !dbg !2531
  %554 = fmul float %545, %553, !dbg !2532
  store float %554, float* %Ambient_Colour, align 4, !dbg !2533, !tbaa !2195
  %555 = fmul float %553, %548, !dbg !2534
  store float %555, float* %.pre-phi, align 4, !dbg !2535, !tbaa !2195
  %556 = fmul float %553, %551, !dbg !2536
  store float %556, float* %.pre-phi33, align 4, !dbg !2537, !tbaa !2195
  ret i32 %retval.0, !dbg !2538
}
