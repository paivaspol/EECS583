define internal fastcc void @_ZN3povL10focal_blurEPNS_10Ray_StructEPfdd(float* %Colour, double %x, double %y) #0 {
  %C = alloca [5 x float], align 16
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* @_ZN3povL10Camera_RayE, i64 0, metadata !1385, metadata !2153), !dbg !4269
  tail call void @llvm.dbg.declare(metadata [5 x float]* %C, metadata !1398, metadata !2153), !dbg !4270
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1399, metadata !2153), !dbg !4271
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1400, metadata !2153), !dbg !4272
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1401, metadata !2153), !dbg !4273
  tail call void @llvm.dbg.value(metadata float* %Colour, i64 0, metadata !1226, metadata !2153), !dbg !4274
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1227, metadata !2153), !dbg !4276
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1228, metadata !2153), !dbg !4277
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1229, metadata !2153), !dbg !4278
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1230, metadata !2153), !dbg !4279
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1231, metadata !2153), !dbg !4280
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1226, metadata !2153), !dbg !4281
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1227, metadata !2153), !dbg !4283
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1228, metadata !2153), !dbg !4284
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1229, metadata !2153), !dbg !4285
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1230, metadata !2153), !dbg !4286
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1231, metadata !2153), !dbg !4287
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1399, metadata !3213), !dbg !4271
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1226, metadata !2153), !dbg !4288
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1227, metadata !2153), !dbg !4290
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1228, metadata !2153), !dbg !4291
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1229, metadata !2153), !dbg !4292
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1230, metadata !2153), !dbg !4293
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1231, metadata !2153), !dbg !4294
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1400, metadata !3213), !dbg !4272
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1226, metadata !2153), !dbg !4295
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1227, metadata !2153), !dbg !4297
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1228, metadata !2153), !dbg !4298
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1229, metadata !2153), !dbg !4299
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1230, metadata !2153), !dbg !4300
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1231, metadata !2153), !dbg !4301
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1401, metadata !3213), !dbg !4273
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1389, metadata !2153), !dbg !4302
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1390, metadata !2153), !dbg !4303
  %1 = getelementptr inbounds [5 x float]* %C, i64 0, i64 0, !dbg !4304
  %2 = getelementptr inbounds [5 x float]* %C, i64 0, i64 1, !dbg !4311
  %3 = getelementptr inbounds [5 x float]* %C, i64 0, i64 2, !dbg !4313
  %4 = getelementptr inbounds [5 x float]* %C, i64 0, i64 4, !dbg !4314
  %5 = bitcast float* %Colour to i8*, !dbg !4315
  call void @llvm.memset.p0i8.i64(i8* %5, i8 0, i64 20, i32 4, i1 false), !dbg !4316
  br label %6, !dbg !4315

; <label>:6                                       ; preds = %131, %0
  %level.0 = phi i32 [ 0, %0 ], [ %level.1, %131 ]
  %nr.0 = phi i32 [ 0, %0 ], [ %nr.1.lcssa, %131 ]
  %7 = phi <4 x float> [ zeroinitializer, %0 ], [ %74, %131 ]
  %8 = phi <4 x float> [ zeroinitializer, %0 ], [ %75, %131 ]
  call void @llvm.dbg.value(metadata i32 4, i64 0, metadata !1391, metadata !2153), !dbg !4317
  %9 = load i32** @_ZN3povL25Current_Number_Of_SamplesE, align 8, !dbg !4318, !tbaa !2157
  %10 = icmp eq i32* %9, null, !dbg !4320
  br i1 %10, label %17, label %11, !dbg !4321

; <label>:11                                      ; preds = %6
  %12 = sext i32 %level.0 to i64, !dbg !4322
  %13 = getelementptr inbounds i32* %9, i64 %12, !dbg !4322
  %14 = load i32* %13, align 4, !dbg !4322, !tbaa !2144
  %15 = icmp sgt i32 %14, 0, !dbg !4325
  call void @llvm.dbg.value(metadata i32 %14, i64 0, metadata !1391, metadata !2153), !dbg !4317
  %. = select i1 %15, i32 %14, i32 4, !dbg !4326
  %16 = zext i1 %15 to i32, !dbg !4326
  %.level.0 = add nsw i32 %16, %level.0, !dbg !4326
  br label %17, !dbg !4326

; <label>:17                                      ; preds = %11, %6
  %max_s.0 = phi i32 [ 4, %6 ], [ %., %11 ]
  %level.1 = phi i32 [ %level.0, %6 ], [ %.level.0, %11 ]
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1394, metadata !2153), !dbg !4327
  br label %18, !dbg !4328

; <label>:18                                      ; preds = %17, %66
  %nr.113 = phi i32 [ %nr.0, %17 ], [ %71, %66 ]
  %i.012 = phi i32 [ 0, %17 ], [ %72, %66 ]
  %19 = phi <4 x float> [ %7, %17 ], [ %70, %66 ]
  %20 = phi <4 x float> [ %8, %17 ], [ %68, %66 ]
  %21 = load %"struct.pov::Camera_Struct"** getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 0), align 8, !dbg !4329, !tbaa !2227
  %22 = getelementptr inbounds %"struct.pov::Camera_Struct"* %21, i64 0, i32 9, !dbg !4330
  %23 = load i32* %22, align 4, !dbg !4330, !tbaa !2255
  %24 = icmp slt i32 %nr.113, %23, !dbg !4331
  br i1 %24, label %25, label %.critedge, !dbg !4332

; <label>:25                                      ; preds = %18
  %26 = call i32 @_ZN3pov8POV_RANDEv() #7, !dbg !4333
  %27 = srem i32 %26, 16, !dbg !4334
  call void @llvm.dbg.value(metadata i32 %27, i64 0, metadata !1392, metadata !2153), !dbg !4335
  %28 = call i32 @_ZN3pov8POV_RANDEv() #7, !dbg !4336
  %29 = srem i32 %28, 16, !dbg !4337
  call void @llvm.dbg.value(metadata i32 %29, i64 0, metadata !1393, metadata !2153), !dbg !4338
  %30 = shl nsw i32 %27, 1, !dbg !4339
  %31 = or i32 %30, 1, !dbg !4340
  %32 = sitofp i32 %31 to double, !dbg !4341
  %33 = fmul double %32, 3.125000e-02, !dbg !4342
  %34 = fadd double %33, -5.000000e-01, !dbg !4343
  call void @llvm.dbg.value(metadata double %34, i64 0, metadata !1395, metadata !2153), !dbg !4344
  %35 = shl nsw i32 %29, 1, !dbg !4345
  %36 = or i32 %35, 1, !dbg !4346
  %37 = sitofp i32 %36 to double, !dbg !4347
  %38 = fmul double %37, 3.125000e-02, !dbg !4348
  %39 = fadd double %38, -5.000000e-01, !dbg !4349
  call void @llvm.dbg.value(metadata double %39, i64 0, metadata !1396, metadata !2153), !dbg !4350
  %40 = call i32 @_ZN3pov8POV_RANDEv() #7, !dbg !4351
  %41 = sitofp i32 %40 to double, !dbg !4351
  %42 = fmul double %41, 0x3F0000200040021E, !dbg !4351
  %43 = fadd double %42, -5.000000e-01, !dbg !4352
  %44 = fmul double %43, 6.250000e-02, !dbg !4353
  %45 = fadd double %34, %44, !dbg !4354
  call void @llvm.dbg.value(metadata double %45, i64 0, metadata !1395, metadata !2153), !dbg !4344
  %46 = call i32 @_ZN3pov8POV_RANDEv() #7, !dbg !4355
  %47 = sitofp i32 %46 to double, !dbg !4355
  %48 = fmul double %47, 0x3F0000200040021E, !dbg !4355
  %49 = fadd double %48, -5.000000e-01, !dbg !4356
  %50 = fmul double %49, 6.250000e-02, !dbg !4357
  %51 = fadd double %39, %50, !dbg !4358
  call void @llvm.dbg.value(metadata double %51, i64 0, metadata !1396, metadata !2153), !dbg !4350
  %52 = fadd double %45, %x, !dbg !4359
  %53 = fadd double %51, %y, !dbg !4360
  %54 = call fastcc i32 @_ZN3povL10create_rayEPNS_10Ray_StructEddi(double %52, double %53, i32 %nr.113) #7, !dbg !4361
  %55 = icmp eq i32 %54, 0, !dbg !4361
  br i1 %55, label %64, label %56, !dbg !4362

; <label>:56                                      ; preds = %25
  store i32 1, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !4363, !tbaa !2144
  store i8 0, i8* @_ZN3pov17In_Reflection_RayE, align 1, !dbg !4365, !tbaa !2757
  store i8 0, i8* @_ZN3pov13In_Shadow_RayE, align 1, !dbg !4366, !tbaa !2757
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 2), i64 0, metadata !1301, metadata !2153), !dbg !4367
  %57 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 2), align 8, !dbg !4369, !tbaa !2670
  %58 = add nsw i64 %57, 1, !dbg !4369
  store i64 %58, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 2), align 8, !dbg !4369, !tbaa !2670
  %59 = call double @_ZN3pov5TraceEPNS_10Ray_StructEPfd(%"struct.pov::Ray_Struct"* @_ZN3povL10Camera_RayE, float* %1, double 1.000000e+00) #7, !dbg !4370
  call void @_ZN3pov10Add_ColourEPfS0_S0_(float* %Colour, float* %Colour, float* %1) #7, !dbg !4371
  %.pre = load float* %1, align 16, !dbg !4372, !tbaa !2801
  %.pre15 = load float* %2, align 4, !dbg !4373, !tbaa !2801
  %.pre16 = load float* %3, align 8, !dbg !4374, !tbaa !2801
  %.pre17 = load float* %4, align 16, !dbg !4375, !tbaa !2801
  %60 = insertelement <4 x float> undef, float %.pre, i32 0
  %61 = insertelement <4 x float> %60, float %.pre15, i32 1
  %62 = insertelement <4 x float> %61, float %.pre16, i32 2
  %63 = insertelement <4 x float> %62, float %.pre17, i32 3
  br label %66, !dbg !4376

; <label>:64                                      ; preds = %25
  tail call void @llvm.dbg.value(metadata float* %1, i64 0, metadata !1226, metadata !2153), !dbg !4377
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1227, metadata !2153), !dbg !4378
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1228, metadata !2153), !dbg !4379
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1229, metadata !2153), !dbg !4380
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1230, metadata !2153), !dbg !4381
  tail call void @llvm.dbg.value(metadata float 1.000000e+00, i64 0, metadata !1231, metadata !2153), !dbg !4382
  %65 = bitcast [5 x float]* %C to i8*, !dbg !4383
  call void @llvm.memset.p0i8.i64(i8* %65, i8 0, i64 16, i32 16, i1 false), !dbg !4384
  store float 1.000000e+00, float* %4, align 16, !dbg !4383, !tbaa !2801
  br label %66

; <label>:66                                      ; preds = %64, %56
  %67 = phi <4 x float> [ <float 0.000000e+00, float 0.000000e+00, float 0.000000e+00, float 1.000000e+00>, %64 ], [ %63, %56 ]
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1400, metadata !3213), !dbg !4272
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1400, metadata !3216), !dbg !4272
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1400, metadata !3219), !dbg !4272
  %68 = fadd <4 x float> %20, %67, !dbg !4385
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1400, metadata !4386), !dbg !4272
  tail call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1406, metadata !2153), !dbg !4387
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1401, metadata !3213), !dbg !4273
  tail call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1406, metadata !2153), !dbg !4389
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1401, metadata !3216), !dbg !4273
  tail call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1406, metadata !2153), !dbg !4391
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1401, metadata !3219), !dbg !4273
  tail call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1406, metadata !2153), !dbg !4393
  %69 = fmul <4 x float> %67, %67, !dbg !4395
  %70 = fadd <4 x float> %19, %69, !dbg !4396
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !1401, metadata !4386), !dbg !4273
  %71 = add nsw i32 %nr.113, 1, !dbg !4397
  call void @llvm.dbg.value(metadata i32 %71, i64 0, metadata !1389, metadata !2153), !dbg !4302
  %72 = add nuw nsw i32 %i.012, 1, !dbg !4398
  call void @llvm.dbg.value(metadata i32 %72, i64 0, metadata !1394, metadata !2153), !dbg !4327
  %73 = icmp slt i32 %72, %max_s.0, !dbg !4399
  br i1 %73, label %18, label %.critedge, !dbg !4328

.critedge:                                        ; preds = %66, %18
  %nr.1.lcssa = phi i32 [ %71, %66 ], [ %nr.113, %18 ]
  %74 = phi <4 x float> [ %70, %66 ], [ %19, %18 ]
  %75 = phi <4 x float> [ %68, %66 ], [ %20, %18 ]
  %76 = sitofp i32 %nr.1.lcssa to double, !dbg !4400
  call void @llvm.dbg.value(metadata double %76, i64 0, metadata !1397, metadata !2153), !dbg !4401
  %77 = extractelement <4 x float> %74, i32 0, !dbg !4402
  %78 = fpext float %77 to double, !dbg !4402
  %79 = fdiv double %78, %76, !dbg !4403
  %80 = extractelement <4 x float> %75, i32 0, !dbg !4404
  %81 = fpext float %80 to double, !dbg !4404
  %82 = fdiv double %81, %76, !dbg !4405
  tail call void @llvm.dbg.value(metadata double %82, i64 0, metadata !1411, metadata !2153), !dbg !4406
  %83 = fmul double %82, %82, !dbg !4408
  %84 = fsub double %79, %83, !dbg !4409
  %85 = fdiv double %84, %76, !dbg !4410
  %86 = fptrunc double %85 to float, !dbg !4411
  call void @llvm.dbg.value(metadata float %86, i64 0, metadata !1399, metadata !3213), !dbg !4271
  %87 = extractelement <4 x float> %74, i32 1, !dbg !4412
  %88 = fpext float %87 to double, !dbg !4412
  %89 = fdiv double %88, %76, !dbg !4413
  %90 = extractelement <4 x float> %75, i32 1, !dbg !4414
  %91 = fpext float %90 to double, !dbg !4414
  %92 = fdiv double %91, %76, !dbg !4415
  tail call void @llvm.dbg.value(metadata double %92, i64 0, metadata !1411, metadata !2153), !dbg !4416
  %93 = fmul double %92, %92, !dbg !4418
  %94 = fsub double %89, %93, !dbg !4419
  %95 = fdiv double %94, %76, !dbg !4420
  %96 = fptrunc double %95 to float, !dbg !4421
  call void @llvm.dbg.value(metadata float %96, i64 0, metadata !1399, metadata !3216), !dbg !4271
  %97 = extractelement <4 x float> %75, i32 2, !dbg !4422
  %98 = fpext float %97 to double, !dbg !4422
  %99 = fdiv double %98, %76, !dbg !4423
  tail call void @llvm.dbg.value(metadata double %99, i64 0, metadata !1411, metadata !2153), !dbg !4424
  call void @llvm.dbg.value(metadata float %126, i64 0, metadata !1399, metadata !3219), !dbg !4271
  %100 = extractelement <4 x float> %75, i32 3, !dbg !4426
  %101 = fpext float %100 to double, !dbg !4426
  %102 = fdiv double %101, %76, !dbg !4427
  tail call void @llvm.dbg.value(metadata double %102, i64 0, metadata !1411, metadata !2153), !dbg !4428
  call void @llvm.dbg.value(metadata float %119, i64 0, metadata !1399, metadata !4386), !dbg !4271
  %103 = fpext float %86 to double, !dbg !4430
  %104 = add nsw i32 %nr.1.lcssa, -1, !dbg !4432
  %105 = sext i32 %104 to i64, !dbg !4433
  %106 = load double** @_ZN3povL16Sample_ThresholdE, align 8, !dbg !4433, !tbaa !2157
  %107 = getelementptr inbounds double* %106, i64 %105, !dbg !4433
  %108 = load double* %107, align 8, !dbg !4433, !tbaa !2141
  %109 = fcmp olt double %103, %108, !dbg !4434
  %110 = fpext float %96 to double
  %111 = fcmp olt double %110, %108, !dbg !4435
  %or.cond3 = and i1 %109, %111, !dbg !4436
  br i1 %or.cond3, label %112, label %131, !dbg !4436

; <label>:112                                     ; preds = %.critedge
  %113 = extractelement <4 x float> %74, i32 3, !dbg !4437
  %114 = fpext float %113 to double, !dbg !4437
  %115 = fdiv double %114, %76, !dbg !4438
  %116 = fmul double %102, %102, !dbg !4439
  %117 = fsub double %115, %116, !dbg !4440
  %118 = fdiv double %117, %76, !dbg !4441
  %119 = fptrunc double %118 to float, !dbg !4442
  %120 = extractelement <4 x float> %74, i32 2, !dbg !4443
  %121 = fpext float %120 to double, !dbg !4443
  %122 = fdiv double %121, %76, !dbg !4444
  %123 = fmul double %99, %99, !dbg !4445
  %124 = fsub double %122, %123, !dbg !4446
  %125 = fdiv double %124, %76, !dbg !4447
  %126 = fptrunc double %125 to float, !dbg !4448
  %127 = fpext float %126 to double, !dbg !4449
  %128 = fcmp olt double %127, %108, !dbg !4450
  %129 = fpext float %119 to double
  %130 = fcmp olt double %129, %108, !dbg !4451
  %or.cond = and i1 %130, %128, !dbg !4452
  br i1 %or.cond, label %136, label %131, !dbg !4452

; <label>:131                                     ; preds = %.critedge, %112
  %132 = load %"struct.pov::Camera_Struct"** getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 0), align 8, !dbg !4453, !tbaa !2227
  %133 = getelementptr inbounds %"struct.pov::Camera_Struct"* %132, i64 0, i32 9, !dbg !4454
  %134 = load i32* %133, align 4, !dbg !4454, !tbaa !2255
  %135 = icmp slt i32 %nr.1.lcssa, %134, !dbg !4455
  br i1 %135, label %6, label %136, !dbg !4456

; <label>:136                                     ; preds = %112, %131
  %137 = fdiv double 1.000000e+00, %76, !dbg !4457
  call void @_ZN3pov12Scale_ColourEPfS0_d(float* %Colour, float* %Colour, double %137) #7, !dbg !4458
  ret void, !dbg !4459
}
