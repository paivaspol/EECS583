define void @_ZN3pov19Build_Light_BuffersEv() #0 {
entry:
  %Project = alloca %"struct.pov::Project_Struct", align 4
  %proj_proj = alloca %"struct.pov::Project_Struct", align 4
  call void @llvm.dbg.declare(metadata !{%"struct.pov::Project_Struct"* %Project}, metadata !175), !dbg !1227
  call void @llvm.dbg.declare(metadata !{%"struct.pov::Project_Struct"* %proj_proj}, metadata !958), !dbg !1228
  %0 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !1229, !tbaa !1230
  %and = and i32 %0, 4, !dbg !1229
  %tobool = icmp eq i32 %and, 0, !dbg !1229
  %1 = load i8* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 29), align 4, !dbg !1229, !tbaa !1233, !range !1234
  %tobool1 = icmp eq i8 %1, 0, !dbg !1229
  %or.cond = or i1 %tobool, %tobool1, !dbg !1229
  %2 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 0), align 8, !dbg !1235, !tbaa !1230
  br i1 %or.cond, label %if.then, label %if.end, !dbg !1229

if.then:                                          ; preds = %entry
  %and3 = and i32 %2, -4097, !dbg !1235
  store i32 %and3, i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 0), align 8, !dbg !1235, !tbaa !1230
  br label %if.end, !dbg !1237

if.end:                                           ; preds = %entry, %if.then
  %3 = phi i32 [ %and3, %if.then ], [ %2, %entry ]
  %and6 = and i32 %3, 4096, !dbg !1238
  %tobool7 = icmp eq i32 %and6, 0, !dbg !1238
  br i1 %tobool7, label %if.end38, label %if.then8, !dbg !1238

if.then8:                                         ; preds = %if.end
  %call = call i32 @_ZN3pov13Send_ProgressEPKci(i8* getelementptr inbounds ([23 x i8]* @.str, i64 0, i64 0), i32 3) #5, !dbg !1239
  store i1 true, i1* @_ZN3povL11BuffersInitE, align 1
  %Light.061 = load %"struct.pov::Light_Source_Struct"** getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 4), align 8, !dbg !1241
  %cmp62 = icmp eq %"struct.pov::Light_Source_Struct"* %Light.061, null, !dbg !1241
  br i1 %cmp62, label %if.end38, label %for.body.lr.ph, !dbg !1241

for.body.lr.ph:                                   ; preds = %if.then8
  %x1 = getelementptr inbounds %"struct.pov::Project_Struct"* %proj_proj, i64 0, i32 0, !dbg !1243
  %x2 = getelementptr inbounds %"struct.pov::Project_Struct"* %proj_proj, i64 0, i32 2, !dbg !1243
  %y1 = getelementptr inbounds %"struct.pov::Project_Struct"* %proj_proj, i64 0, i32 1, !dbg !1243
  %y2 = getelementptr inbounds %"struct.pov::Project_Struct"* %proj_proj, i64 0, i32 3, !dbg !1243
  br label %for.body, !dbg !1241

for.body:                                         ; preds = %for.body.lr.ph, %for.inc36
  %Light.063 = phi %"struct.pov::Light_Source_Struct"* [ %Light.061, %for.body.lr.ph ], [ %Light.0, %for.inc36 ]
  %Area_Light = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.063, i64 0, i32 28, !dbg !1248
  %4 = load i8* %Area_Light, align 1, !dbg !1248, !tbaa !1231
  %tobool9 = icmp eq i8 %4, 0, !dbg !1248
  br i1 %tobool9, label %land.lhs.true, label %for.inc36, !dbg !1248

land.lhs.true:                                    ; preds = %for.body
  %Light_Type = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.063, i64 0, i32 27, !dbg !1248
  %5 = load i8* %Light_Type, align 1, !dbg !1248, !tbaa !1231
  %cmp11 = icmp eq i8 %5, 3, !dbg !1248
  br i1 %cmp11, label %for.inc36, label %land.lhs.true12, !dbg !1248

land.lhs.true12:                                  ; preds = %land.lhs.true
  %Parallel = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.063, i64 0, i32 33, !dbg !1248
  %6 = load i8* %Parallel, align 1, !dbg !1248, !tbaa !1231
  %tobool13 = icmp eq i8 %6, 0, !dbg !1248
  br i1 %tobool13, label %if.then14, label %for.inc36, !dbg !1248

if.then14:                                        ; preds = %land.lhs.true12
  %call15 = call i32 @_ZN3pov19Send_ProgressUpdateEii(i32 3, i32 1) #5, !dbg !1249
  call void @llvm.dbg.value(metadata !165, i64 0, metadata !172), !dbg !1250
  %Projected_Through_Object = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.063, i64 0, i32 42, !dbg !1251
  %arraydecay30 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.063, i64 0, i32 17, i64 0, !dbg !1252
  br label %for.body18, !dbg !1250

for.body18:                                       ; preds = %for.inc, %if.then14
  %indvars.iv = phi i64 [ 0, %if.then14 ], [ %indvars.iv.next, %for.inc ]
  %7 = load %"struct.pov::Object_Struct"** %Projected_Through_Object, align 8, !dbg !1251, !tbaa !1254
  %tobool19 = icmp eq %"struct.pov::Object_Struct"* %7, null, !dbg !1251
  br i1 %tobool19, label %if.end22.thread, label %lor.lhs.false24, !dbg !1251

if.end22.thread:                                  ; preds = %for.body18
  %arrayidx56 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.063, i64 0, i32 44, i64 %indvars.iv, !dbg !1255
  store %"struct.pov::Project_Tree_Node_Struct"* null, %"struct.pov::Project_Tree_Node_Struct"** %arrayidx56, align 8, !dbg !1255, !tbaa !1254
  %.pre65 = trunc i64 %indvars.iv to i32, !dbg !1252
  br label %if.then28, !dbg !1243

lor.lhs.false24:                                  ; preds = %for.body18
  call void @llvm.dbg.value(metadata !1256, i64 0, metadata !957), !dbg !1257
  %8 = trunc i64 %indvars.iv to i32, !dbg !1259
  call fastcc void @_ZN3povL14project_objectEPNS_14Project_StructEPNS_13Object_StructEiPdiS1_(%"struct.pov::Project_Struct"* %proj_proj, %"struct.pov::Object_Struct"* %7, i32 %8, double* %arraydecay30, i32 0, %"struct.pov::Project_Struct"* null) #5, !dbg !1259
  %arrayidx = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.063, i64 0, i32 44, i64 %indvars.iv, !dbg !1255
  store %"struct.pov::Project_Tree_Node_Struct"* null, %"struct.pov::Project_Tree_Node_Struct"** %arrayidx, align 8, !dbg !1255, !tbaa !1254
  %9 = load i32* %x1, align 4, !dbg !1243, !tbaa !1230
  %10 = load i32* %x2, align 4, !dbg !1243, !tbaa !1230
  %cmp25 = icmp sgt i32 %9, %10, !dbg !1243
  br i1 %cmp25, label %for.inc, label %land.lhs.true26, !dbg !1243

land.lhs.true26:                                  ; preds = %lor.lhs.false24
  %11 = load i32* %y1, align 4, !dbg !1243, !tbaa !1230
  %12 = load i32* %y2, align 4, !dbg !1243, !tbaa !1230
  %cmp27 = icmp sgt i32 %11, %12, !dbg !1243
  br i1 %cmp27, label %for.inc, label %if.then28, !dbg !1243

if.then28:                                        ; preds = %if.end22.thread, %land.lhs.true26
  %.pre-phi = phi i32 [ %.pre65, %if.end22.thread ], [ %8, %land.lhs.true26 ], !dbg !1252
  %arrayidx59 = phi %"struct.pov::Project_Tree_Node_Struct"** [ %arrayidx56, %if.end22.thread ], [ %arrayidx, %land.lhs.true26 ]
  %proj_thru.058 = phi i32 [ 0, %if.end22.thread ], [ 1, %land.lhs.true26 ]
  %13 = load %"struct.pov::BBox_Tree_Struct"** @_ZN3pov11Root_ObjectE, align 8, !dbg !1252, !tbaa !1254
  call fastcc void @_ZN3povL21project_bounding_slabEiPdPNS_14Project_StructEPPNS_24Project_Tree_Node_StructEPNS_16BBox_Tree_StructEiS2_(i32 %.pre-phi, double* %arraydecay30, %"struct.pov::Project_Struct"* %Project, %"struct.pov::Project_Tree_Node_Struct"** %arrayidx59, %"struct.pov::BBox_Tree_Struct"* %13, i32 %proj_thru.058, %"struct.pov::Project_Struct"* %proj_proj) #5, !dbg !1252
  br label %for.inc, !dbg !1260

for.inc:                                          ; preds = %land.lhs.true26, %lor.lhs.false24, %if.then28
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !1250
  %lftr.wideiv = trunc i64 %indvars.iv.next to i32, !dbg !1250
  %exitcond = icmp eq i32 %lftr.wideiv, 6, !dbg !1250
  br i1 %exitcond, label %for.inc36, label %for.body18, !dbg !1250

for.inc36:                                        ; preds = %for.inc, %land.lhs.true12, %land.lhs.true, %for.body
  %Next_Light_Source = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light.063, i64 0, i32 26, !dbg !1241
  %Light.0 = load %"struct.pov::Light_Source_Struct"** %Next_Light_Source, align 8, !dbg !1241
  %cmp = icmp eq %"struct.pov::Light_Source_Struct"* %Light.0, null, !dbg !1241
  br i1 %cmp, label %if.end38, label %for.body, !dbg !1241

if.end38:                                         ; preds = %if.then8, %for.inc36, %if.end
  ret void, !dbg !1261
}
