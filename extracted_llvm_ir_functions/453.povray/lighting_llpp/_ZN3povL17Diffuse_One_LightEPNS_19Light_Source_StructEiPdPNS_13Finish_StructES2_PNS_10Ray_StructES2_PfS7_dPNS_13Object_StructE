define internal fastcc void @_ZN3povL17Diffuse_One_LightEPNS_19Light_Source_StructEiPdPNS_13Finish_StructES2_PNS_10Ray_StructES2_PfS7_dPNS_13Object_StructE(%"struct.pov::Light_Source_Struct"* %Light_Source, i32 %Light_Index, double* nocapture readonly %REye, %"struct.pov::Finish_Struct"* nocapture readonly %Finish, double* %IPoint, %"struct.pov::Ray_Struct"* %Eye, double* nocapture readonly %Layer_Normal, float* nocapture readonly %Layer_Pigment_Colour, float* nocapture %Colour, double %Attenuation, %"struct.pov::Object_Struct"* nocapture readonly %Object) #0 {
  %Light_Source_Depth = alloca double, align 8
  %Light_Source_Ray = alloca %"struct.pov::Ray_Struct", align 8
  %Light_Colour = alloca [5 x float], align 16
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, metadata !1862, metadata !2666), !dbg !8554
  tail call void @llvm.dbg.value(metadata i32 %Light_Index, i64 0, metadata !1863, metadata !2666), !dbg !8555
  tail call void @llvm.dbg.value(metadata double* %REye, i64 0, metadata !1864, metadata !2666), !dbg !8556
  tail call void @llvm.dbg.value(metadata %"struct.pov::Finish_Struct"* %Finish, i64 0, metadata !1865, metadata !2666), !dbg !8557
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1866, metadata !2666), !dbg !8558
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Eye, i64 0, metadata !1867, metadata !2666), !dbg !8559
  tail call void @llvm.dbg.value(metadata double* %Layer_Normal, i64 0, metadata !1868, metadata !2666), !dbg !8560
  tail call void @llvm.dbg.value(metadata float* %Layer_Pigment_Colour, i64 0, metadata !1869, metadata !2666), !dbg !8561
  tail call void @llvm.dbg.value(metadata float* %Colour, i64 0, metadata !1870, metadata !2666), !dbg !8562
  tail call void @llvm.dbg.value(metadata double %Attenuation, i64 0, metadata !1871, metadata !2666), !dbg !8563
  tail call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"* %Object, i64 0, metadata !1872, metadata !2666), !dbg !8564
  %1 = bitcast %"struct.pov::Ray_Struct"* %Light_Source_Ray to i8*, !dbg !8565
  call void @llvm.lifetime.start(i64 856, i8* %1) #5, !dbg !8565
  tail call void @llvm.dbg.declare(metadata [5 x float]* %Light_Colour, metadata !1876, metadata !2666), !dbg !8566
  %2 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 0, !dbg !8567
  tail call void @llvm.dbg.value(metadata double* %Light_Source_Depth, i64 0, metadata !1873, metadata !2666), !dbg !8568
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !1875, metadata !2666), !dbg !8569
  call fastcc void @_ZN3povL8do_lightEPNS_19Light_Source_StructEPdPNS_10Ray_StructES4_S2_Pf(%"struct.pov::Light_Source_Struct"* %Light_Source, double* %Light_Source_Depth, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::Ray_Struct"* %Eye, double* %IPoint, float* %2) #6, !dbg !8570
  %3 = load float* %2, align 16, !dbg !8571, !tbaa !3269
  %fabsf = call float @fabsf(float %3) #4, !dbg !8573
  %4 = fpext float %fabsf to double, !dbg !8573
  %5 = fcmp olt double %4, 1.000000e-07, !dbg !8574
  br i1 %5, label %6, label %16, !dbg !8575

; <label>:6                                       ; preds = %0
  %7 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 1, !dbg !8576
  %8 = load float* %7, align 4, !dbg !8576, !tbaa !3269
  %fabsf5 = call float @fabsf(float %8) #4, !dbg !8577
  %9 = fpext float %fabsf5 to double, !dbg !8577
  %10 = fcmp olt double %9, 1.000000e-07, !dbg !8578
  br i1 %10, label %11, label %16, !dbg !8579

; <label>:11                                      ; preds = %6
  %12 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 2, !dbg !8580
  %13 = load float* %12, align 8, !dbg !8580, !tbaa !3269
  %fabsf6 = call float @fabsf(float %13) #4, !dbg !8581
  %14 = fpext float %fabsf6 to double, !dbg !8581
  %15 = fcmp olt double %14, 1.000000e-07, !dbg !8582
  br i1 %15, label %160, label %16, !dbg !8583

; <label>:16                                      ; preds = %11, %6, %0
  %17 = getelementptr inbounds %"struct.pov::Object_Struct"* %Object, i64 0, i32 13, !dbg !8584
  %18 = load i32* %17, align 4, !dbg !8584, !tbaa !3160
  %19 = and i32 %18, 16384, !dbg !8586
  %20 = icmp eq i32 %19, 0, !dbg !8586
  br i1 %20, label %21, label %39, !dbg !8587

; <label>:21                                      ; preds = %16
  %22 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 0, !dbg !8588
  tail call void @llvm.dbg.value(metadata double* %Layer_Normal, i64 0, metadata !1358, metadata !2666), !dbg !8590
  tail call void @llvm.dbg.value(metadata double* %22, i64 0, metadata !1359, metadata !2666), !dbg !8592
  %23 = load double* %Layer_Normal, align 8, !dbg !8593, !tbaa !3114
  %24 = load double* %22, align 8, !dbg !8594, !tbaa !3114
  %25 = fmul double %23, %24, !dbg !8595
  %26 = getelementptr inbounds double* %Layer_Normal, i64 1, !dbg !8596
  %27 = load double* %26, align 8, !dbg !8596, !tbaa !3114
  %28 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 1, !dbg !8597
  %29 = load double* %28, align 8, !dbg !8597, !tbaa !3114
  %30 = fmul double %27, %29, !dbg !8598
  %31 = fadd double %25, %30, !dbg !8599
  %32 = getelementptr inbounds double* %Layer_Normal, i64 2, !dbg !8600
  %33 = load double* %32, align 8, !dbg !8600, !tbaa !3114
  %34 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 2, !dbg !8601
  %35 = load double* %34, align 8, !dbg !8601, !tbaa !3114
  %36 = fmul double %33, %35, !dbg !8602
  %37 = fadd double %31, %36, !dbg !8603
  call void @llvm.dbg.value(metadata double %37, i64 0, metadata !1357, metadata !2666), !dbg !8604
  call void @llvm.dbg.value(metadata double %37, i64 0, metadata !1874, metadata !2666), !dbg !8605
  call void @llvm.dbg.value(metadata double %37, i64 0, metadata !1874, metadata !2666), !dbg !8605
  %38 = fcmp olt double %37, 1.000000e-07, !dbg !8606
  br i1 %38, label %160, label %39, !dbg !8608

; <label>:39                                      ; preds = %16, %21
  %40 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !8609, !tbaa !3797
  %41 = and i32 %40, 4, !dbg !8611
  %42 = icmp eq i32 %41, 0, !dbg !8611
  br i1 %42, label %119, label %43, !dbg !8612

; <label>:43                                      ; preds = %39
  %44 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 42, !dbg !8613
  %45 = load %"struct.pov::Object_Struct"** %44, align 8, !dbg !8613, !tbaa !4200
  %46 = icmp eq %"struct.pov::Object_Struct"* %45, null, !dbg !8614
  br i1 %46, label %47, label %51, !dbg !8615

; <label>:47                                      ; preds = %43
  %48 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 27, !dbg !8616
  %49 = load i8* %48, align 1, !dbg !8616, !tbaa !4205
  %50 = icmp eq i8 %49, 3, !dbg !8617
  br i1 %50, label %119, label %51, !dbg !8618

; <label>:51                                      ; preds = %47, %43
  %52 = icmp sgt i32 %Light_Index, -1, !dbg !8619
  br i1 %52, label %53, label %117, !dbg !8622

; <label>:53                                      ; preds = %51
  %54 = sext i32 %Light_Index to i64, !dbg !8623
  %55 = load %"struct.pov::Light_Tested_Struct"** @_ZN3pov10Light_ListE, align 8, !dbg !8623, !tbaa !2657
  %56 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %55, i64 %54, i32 0, !dbg !8626
  %57 = load i32* %56, align 4, !dbg !8626, !tbaa !3148
  %58 = icmp eq i32 %57, 0, !dbg !8623
  br i1 %58, label %84, label %59, !dbg !8627

; <label>:59                                      ; preds = %53
  %60 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %55, i64 %54, i32 1, i64 0, !dbg !8628
  tail call void @llvm.dbg.value(metadata float* %2, i64 0, metadata !1391, metadata !2666), !dbg !8630
  tail call void @llvm.dbg.value(metadata float* %60, i64 0, metadata !1392, metadata !2666), !dbg !8632
  %61 = bitcast float* %60 to i32*, !dbg !8633
  %62 = load i32* %61, align 4, !dbg !8633, !tbaa !3269
  %63 = bitcast [5 x float]* %Light_Colour to i32*, !dbg !8634
  store i32 %62, i32* %63, align 16, !dbg !8634, !tbaa !3269
  %64 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %55, i64 %54, i32 1, i64 1, !dbg !8635
  %65 = bitcast float* %64 to i32*, !dbg !8635
  %66 = load i32* %65, align 4, !dbg !8635, !tbaa !3269
  %67 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 1, !dbg !8636
  %68 = bitcast float* %67 to i32*, !dbg !8637
  store i32 %66, i32* %68, align 4, !dbg !8637, !tbaa !3269
  %69 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %55, i64 %54, i32 1, i64 2, !dbg !8638
  %70 = bitcast float* %69 to i32*, !dbg !8638
  %71 = load i32* %70, align 4, !dbg !8638, !tbaa !3269
  %72 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 2, !dbg !8639
  %73 = bitcast float* %72 to i32*, !dbg !8640
  store i32 %71, i32* %73, align 8, !dbg !8640, !tbaa !3269
  %74 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %55, i64 %54, i32 1, i64 3, !dbg !8641
  %75 = bitcast float* %74 to i32*, !dbg !8641
  %76 = load i32* %75, align 4, !dbg !8641, !tbaa !3269
  %77 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 3, !dbg !8642
  %78 = bitcast float* %77 to i32*, !dbg !8643
  store i32 %76, i32* %78, align 4, !dbg !8643, !tbaa !3269
  %79 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %55, i64 %54, i32 1, i64 4, !dbg !8644
  %80 = bitcast float* %79 to i32*, !dbg !8644
  %81 = load i32* %80, align 4, !dbg !8644, !tbaa !3269
  %82 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 4, !dbg !8645
  %83 = bitcast float* %82 to i32*, !dbg !8646
  store i32 %81, i32* %83, align 16, !dbg !8646, !tbaa !3269
  br label %119, !dbg !8647

; <label>:84                                      ; preds = %53
  %85 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 1, !dbg !8648
  %86 = load i32* %85, align 4, !dbg !8648, !tbaa !4530
  %87 = and i32 %86, 4096, !dbg !8650
  %88 = icmp eq i32 %87, 0, !dbg !8651
  br i1 %88, label %89, label %119, !dbg !8652

; <label>:89                                      ; preds = %84
  call void @llvm.dbg.value(metadata double* %Light_Source_Depth, i64 0, metadata !1873, metadata !2666), !dbg !8568
  %90 = load double* %Light_Source_Depth, align 8, !dbg !8653, !tbaa !3114
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !1875, metadata !2666), !dbg !8569
  call fastcc void @_ZN3povL18block_light_sourceEPNS_19Light_Source_StructEdPNS_10Ray_StructES3_PdPf(%"struct.pov::Light_Source_Struct"* %Light_Source, double %90, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::Ray_Struct"* %Eye, double* %IPoint, float* %2) #6, !dbg !8655
  %91 = load %"struct.pov::Light_Tested_Struct"** @_ZN3pov10Light_ListE, align 8, !dbg !8656, !tbaa !2657
  %92 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %91, i64 %54, i32 0, !dbg !8657
  store i32 1, i32* %92, align 4, !dbg !8658, !tbaa !3148
  %93 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %91, i64 %54, i32 1, i64 0, !dbg !8659
  tail call void @llvm.dbg.value(metadata float* %93, i64 0, metadata !1391, metadata !2666), !dbg !8660
  tail call void @llvm.dbg.value(metadata float* %2, i64 0, metadata !1392, metadata !2666), !dbg !8662
  %94 = bitcast [5 x float]* %Light_Colour to i32*, !dbg !8663
  %95 = load i32* %94, align 16, !dbg !8663, !tbaa !3269
  %96 = bitcast float* %93 to i32*, !dbg !8664
  store i32 %95, i32* %96, align 4, !dbg !8664, !tbaa !3269
  %97 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 1, !dbg !8665
  %98 = bitcast float* %97 to i32*, !dbg !8665
  %99 = load i32* %98, align 4, !dbg !8665, !tbaa !3269
  %100 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %91, i64 %54, i32 1, i64 1, !dbg !8666
  %101 = bitcast float* %100 to i32*, !dbg !8667
  store i32 %99, i32* %101, align 4, !dbg !8667, !tbaa !3269
  %102 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 2, !dbg !8668
  %103 = bitcast float* %102 to i32*, !dbg !8668
  %104 = load i32* %103, align 8, !dbg !8668, !tbaa !3269
  %105 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %91, i64 %54, i32 1, i64 2, !dbg !8669
  %106 = bitcast float* %105 to i32*, !dbg !8670
  store i32 %104, i32* %106, align 4, !dbg !8670, !tbaa !3269
  %107 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 3, !dbg !8671
  %108 = bitcast float* %107 to i32*, !dbg !8671
  %109 = load i32* %108, align 4, !dbg !8671, !tbaa !3269
  %110 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %91, i64 %54, i32 1, i64 3, !dbg !8672
  %111 = bitcast float* %110 to i32*, !dbg !8673
  store i32 %109, i32* %111, align 4, !dbg !8673, !tbaa !3269
  %112 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 4, !dbg !8674
  %113 = bitcast float* %112 to i32*, !dbg !8674
  %114 = load i32* %113, align 16, !dbg !8674, !tbaa !3269
  %115 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"* %91, i64 %54, i32 1, i64 4, !dbg !8675
  %116 = bitcast float* %115 to i32*, !dbg !8676
  store i32 %114, i32* %116, align 4, !dbg !8676, !tbaa !3269
  br label %119, !dbg !8677

; <label>:117                                     ; preds = %51
  call void @llvm.dbg.value(metadata double* %Light_Source_Depth, i64 0, metadata !1873, metadata !2666), !dbg !8568
  %118 = load double* %Light_Source_Depth, align 8, !dbg !8678, !tbaa !3114
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !1875, metadata !2666), !dbg !8569
  call fastcc void @_ZN3povL18block_light_sourceEPNS_19Light_Source_StructEdPNS_10Ray_StructES3_PdPf(%"struct.pov::Light_Source_Struct"* %Light_Source, double %118, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::Ray_Struct"* %Eye, double* %IPoint, float* %2) #6, !dbg !8680
  br label %119

; <label>:119                                     ; preds = %47, %39, %117, %84, %89, %59
  %120 = load float* %2, align 16, !dbg !8681, !tbaa !3269
  %fabsf2 = call float @fabsf(float %120) #4, !dbg !8683
  %121 = fpext float %fabsf2 to double, !dbg !8683
  %122 = fcmp ogt double %121, 1.000000e-07, !dbg !8684
  br i1 %122, label %133, label %123, !dbg !8685

; <label>:123                                     ; preds = %119
  %124 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 1, !dbg !8686
  %125 = load float* %124, align 4, !dbg !8686, !tbaa !3269
  %fabsf3 = call float @fabsf(float %125) #4, !dbg !8687
  %126 = fpext float %fabsf3 to double, !dbg !8687
  %127 = fcmp ogt double %126, 1.000000e-07, !dbg !8688
  br i1 %127, label %133, label %128, !dbg !8689

; <label>:128                                     ; preds = %123
  %129 = getelementptr inbounds [5 x float]* %Light_Colour, i64 0, i64 2, !dbg !8690
  %130 = load float* %129, align 8, !dbg !8690, !tbaa !3269
  %fabsf4 = call float @fabsf(float %130) #4, !dbg !8691
  %131 = fpext float %fabsf4 to double, !dbg !8691
  %132 = fcmp ogt double %131, 1.000000e-07, !dbg !8692
  br i1 %132, label %133, label %160, !dbg !8693

; <label>:133                                     ; preds = %128, %123, %119
  %134 = getelementptr inbounds %"struct.pov::Finish_Struct"* %Finish, i64 0, i32 0, !dbg !8694
  %135 = load float* %134, align 4, !dbg !8694, !tbaa !4818
  %136 = fcmp ogt float %135, 0.000000e+00, !dbg !8697
  br i1 %136, label %137, label %138, !dbg !8698

; <label>:137                                     ; preds = %133
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !1875, metadata !2666), !dbg !8569
  call void @_ZN3pov10do_diffuseEPNS_13Finish_StructEPNS_10Ray_StructEPdPfS5_S5_d(%"struct.pov::Finish_Struct"* %Finish, %"struct.pov::Ray_Struct"* %Light_Source_Ray, double* %Layer_Normal, float* %Colour, float* %2, float* %Layer_Pigment_Colour, double %Attenuation) #6, !dbg !8699
  br label %138, !dbg !8701

; <label>:138                                     ; preds = %137, %133
  %139 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 27, !dbg !8702
  %140 = load i8* %139, align 1, !dbg !8702, !tbaa !4205
  %141 = icmp ne i8 %140, 3, !dbg !8704
  %142 = load i32* @_ZN3pov21Radiosity_Trace_LevelE, align 4
  %143 = icmp slt i32 %142, 2, !dbg !8705
  %or.cond = and i1 %141, %143, !dbg !8706
  br i1 %or.cond, label %144, label %155, !dbg !8706

; <label>:144                                     ; preds = %138
  %145 = getelementptr inbounds %"struct.pov::Finish_Struct"* %Finish, i64 0, i32 4, !dbg !8707
  %146 = load float* %145, align 4, !dbg !8707, !tbaa !4914
  %147 = fcmp ogt float %146, 0.000000e+00, !dbg !8710
  br i1 %147, label %148, label %150, !dbg !8711

; <label>:148                                     ; preds = %144
  %149 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Eye, i64 0, i32 1, i64 0, !dbg !8712
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !1875, metadata !2666), !dbg !8569
  call void @_ZN3pov8do_phongEPNS_13Finish_StructEPNS_10Ray_StructEPdS4_PfS5_S5_(%"struct.pov::Finish_Struct"* %Finish, %"struct.pov::Ray_Struct"* %Light_Source_Ray, double* %149, double* %Layer_Normal, float* %Colour, float* %2, float* %Layer_Pigment_Colour) #6, !dbg !8714
  br label %150, !dbg !8715

; <label>:150                                     ; preds = %148, %144
  %151 = getelementptr inbounds %"struct.pov::Finish_Struct"* %Finish, i64 0, i32 2, !dbg !8716
  %152 = load float* %151, align 4, !dbg !8716, !tbaa !5070
  %153 = fcmp ogt float %152, 0.000000e+00, !dbg !8718
  br i1 %153, label %154, label %155, !dbg !8719

; <label>:154                                     ; preds = %150
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !1875, metadata !2666), !dbg !8569
  call void @_ZN3pov11do_specularEPNS_13Finish_StructEPNS_10Ray_StructEPdS4_PfS5_S5_(%"struct.pov::Finish_Struct"* %Finish, %"struct.pov::Ray_Struct"* %Light_Source_Ray, double* %REye, double* %Layer_Normal, float* %Colour, float* %2, float* %Layer_Pigment_Colour) #6, !dbg !8720
  br label %155, !dbg !8722

; <label>:155                                     ; preds = %150, %154, %138
  %156 = getelementptr inbounds %"struct.pov::Finish_Struct"* %Finish, i64 0, i32 6, !dbg !8723
  %157 = load float* %156, align 4, !dbg !8723, !tbaa !7255
  %158 = fcmp ogt float %157, 0.000000e+00, !dbg !8725
  br i1 %158, label %159, label %160, !dbg !8726

; <label>:159                                     ; preds = %155
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !1875, metadata !2666), !dbg !8569
  call fastcc void @_ZN3povL7do_iridEPNS_13Finish_StructEPNS_10Ray_StructEPdS4_Pf(%"struct.pov::Finish_Struct"* %Finish, %"struct.pov::Ray_Struct"* %Light_Source_Ray, double* %Layer_Normal, double* %IPoint, float* %Colour) #6, !dbg !8727
  br label %160, !dbg !8729

; <label>:160                                     ; preds = %128, %159, %155, %21, %11
  call void @llvm.lifetime.end(i64 856, i8* %1) #5, !dbg !8730
  ret void, !dbg !8730
}
