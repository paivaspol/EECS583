define internal fastcc void @_ZN3povL25compute_backtrace_textureEPfPNS_14Texture_StructEPdS3_PNS_10Ray_StructEdPNS_10istk_entryE(float* %LightCol, %"struct.pov::Texture_Struct"* readonly %Texture, double* %IPoint, double* %Raw_Normal, %"struct.pov::Ray_Struct"* %Ray, double %Weight, %"struct.pov::istk_entry"* %Intersection) #0 {
  %Local_Normal.i = alloca [3 x double], align 16
  %NRay.i = alloca %"struct.pov::Ray_Struct", align 16
  %Hue.i = alloca [5 x float], align 16
  %Elem.i = alloca [5 x float], align 16
  %lc.i = alloca [5 x float], align 16
  %lc1.i = alloca [5 x float], align 16
  %LayNormal = alloca [3 x double], align 16
  %TopNormal = alloca [3 x double], align 16
  %LayCol = alloca [5 x float], align 16
  %TmpCol = alloca [5 x float], align 16
  %CurLightCol = alloca [5 x float], align 16
  %NewRay = alloca %"struct.pov::Ray_Struct", align 16
  %NRay = alloca %"struct.pov::Ray_Struct", align 16
  tail call void @llvm.dbg.value(metadata float* %LightCol, i64 0, metadata !1543, metadata !2666), !dbg !5307
  tail call void @llvm.dbg.value(metadata %"struct.pov::Texture_Struct"* %Texture, i64 0, metadata !1544, metadata !2666), !dbg !5308
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1545, metadata !2666), !dbg !5309
  tail call void @llvm.dbg.value(metadata double* %Raw_Normal, i64 0, metadata !1546, metadata !2666), !dbg !5310
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Ray, i64 0, metadata !1547, metadata !2666), !dbg !5311
  tail call void @llvm.dbg.value(metadata double %Weight, i64 0, metadata !1548, metadata !2666), !dbg !5312
  tail call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Intersection, i64 0, metadata !1549, metadata !2666), !dbg !5313
  tail call void @llvm.dbg.declare(metadata [3 x double]* %LayNormal, metadata !1560, metadata !2666), !dbg !5314
  tail call void @llvm.dbg.declare(metadata [3 x double]* %TopNormal, metadata !1561, metadata !2666), !dbg !5315
  tail call void @llvm.dbg.declare(metadata [5 x float]* %LayCol, metadata !1562, metadata !2666), !dbg !5316
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1563, metadata !2666), !dbg !5317
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1564, metadata !2666), !dbg !5318
  tail call void @llvm.dbg.declare(metadata [5 x float]* %TmpCol, metadata !1565, metadata !2666), !dbg !5319
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1566, metadata !2666), !dbg !5320
  tail call void @llvm.dbg.declare(metadata [5 x float]* %CurLightCol, metadata !1567, metadata !2666), !dbg !5321
  %1 = bitcast %"struct.pov::Ray_Struct"* %NewRay to i8*, !dbg !5322
  call void @llvm.lifetime.start(i64 856, i8* %1) #5, !dbg !5322
  %2 = tail call %"struct.pov::ComTexData_Struct"* @_ZN3pov13NewComTexDataEv() #6, !dbg !5323
  tail call void @llvm.dbg.value(metadata %"struct.pov::ComTexData_Struct"* %2, i64 0, metadata !1585, metadata !2666), !dbg !5324
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1495, metadata !2666), !dbg !5325
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1496, metadata !2666), !dbg !5327
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1497, metadata !2666), !dbg !5328
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1498, metadata !2666), !dbg !5329
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1499, metadata !2666), !dbg !5330
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1500, metadata !2666), !dbg !5331
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1566, metadata !3896), !dbg !5320
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1495, metadata !2666), !dbg !5332
  tail call void @llvm.dbg.value(metadata float 1.000000e+00, i64 0, metadata !1496, metadata !2666), !dbg !5334
  tail call void @llvm.dbg.value(metadata float 1.000000e+00, i64 0, metadata !1497, metadata !2666), !dbg !5335
  tail call void @llvm.dbg.value(metadata float 1.000000e+00, i64 0, metadata !1498, metadata !2666), !dbg !5336
  tail call void @llvm.dbg.value(metadata float 1.000000e+00, i64 0, metadata !1499, metadata !2666), !dbg !5337
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1500, metadata !2666), !dbg !5338
  tail call void @llvm.dbg.value(metadata i32 1065353216, i64 0, metadata !1563, metadata !3896), !dbg !5317
  tail call void @llvm.dbg.value(metadata i32 1065353216, i64 0, metadata !1563, metadata !3933), !dbg !5317
  tail call void @llvm.dbg.value(metadata i32 1065353216, i64 0, metadata !1563, metadata !3940), !dbg !5317
  tail call void @llvm.dbg.value(metadata i32 1065353216, i64 0, metadata !1563, metadata !3897), !dbg !5317
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1563, metadata !5339), !dbg !5317
  tail call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !1559, metadata !2666), !dbg !5340
  %3 = getelementptr inbounds %"struct.pov::istk_entry"* %Intersection, i64 0, i32 1, i64 0, !dbg !5341
  tail call void @llvm.dbg.value(metadata double* %3, i64 0, metadata !1349, metadata !2666), !dbg !5342
  %4 = bitcast double* %3 to <2 x i64>*, !dbg !5344
  %5 = load <2 x i64>* %4, align 8, !dbg !5344, !tbaa !3114
  %6 = bitcast %"struct.pov::Ray_Struct"* %NewRay to <2 x i64>*, !dbg !5345
  store <2 x i64> %5, <2 x i64>* %6, align 16, !dbg !5345, !tbaa !3114
  %7 = getelementptr inbounds %"struct.pov::istk_entry"* %Intersection, i64 0, i32 1, i64 2, !dbg !5346
  %8 = bitcast double* %7 to i64*, !dbg !5346
  %9 = load i64* %8, align 8, !dbg !5346, !tbaa !3114
  %10 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NewRay, i64 0, i32 0, i64 2, !dbg !5347
  %11 = bitcast double* %10 to i64*, !dbg !5348
  store i64 %9, i64* %11, align 16, !dbg !5348, !tbaa !3114
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NewRay, i64 0, metadata !1570, metadata !2666), !dbg !5349
  call void @_ZN3pov19Copy_Ray_ContainersEPNS_10Ray_StructES1_(%"struct.pov::Ray_Struct"* %NewRay, %"struct.pov::Ray_Struct"* %Ray) #6, !dbg !5350
  %12 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !5351, !tbaa !3797
  %13 = and i32 %12, 128, !dbg !5353
  %14 = icmp eq i32 %13, 0, !dbg !5353
  call void @llvm.dbg.declare(metadata [3 x double]* %Local_Normal.i, metadata !1676, metadata !2666), !dbg !5354
  call void @llvm.dbg.declare(metadata [5 x float]* %Hue.i, metadata !1678, metadata !2666), !dbg !5361
  call void @llvm.dbg.declare(metadata [5 x float]* %Elem.i, metadata !1679, metadata !2666), !dbg !5362
  call void @llvm.dbg.declare(metadata [5 x float]* %lc.i, metadata !1680, metadata !2666), !dbg !5363
  call void @llvm.dbg.declare(metadata [5 x float]* %lc1.i, metadata !1687, metadata !2666), !dbg !5364
  br i1 %14, label %.loopexit41, label %15, !dbg !5365

; <label>:15                                      ; preds = %0
  %16 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 2, !dbg !5366
  %17 = load i32* %16, align 4, !dbg !5366, !tbaa !3972
  %18 = icmp sgt i32 %17, -1, !dbg !5367
  br i1 %18, label %.lr.ph75, label %.loopexit41, !dbg !5368

; <label>:19                                      ; preds = %.lr.ph75
  %indvars.iv.next93 = add nuw i64 %indvars.iv92, 1, !dbg !5369
  %20 = sext i32 %17 to i64, !dbg !5372
  %21 = icmp slt i64 %indvars.iv92, %20, !dbg !5372
  br i1 %21, label %.lr.ph75, label %.critedge13, !dbg !5369

.lr.ph75:                                         ; preds = %15, %19
  %indvars.iv92 = phi i64 [ %indvars.iv.next93, %19 ], [ 0, %15 ]
  %22 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 4, i64 %indvars.iv92, !dbg !5374
  %23 = load %"struct.pov::Interior_Struct"** %22, align 8, !dbg !5374, !tbaa !2657
  %24 = getelementptr inbounds %"struct.pov::Interior_Struct"* %23, i64 0, i32 1, !dbg !5377
  %25 = load i32* %24, align 4, !dbg !5377, !tbaa !3985
  %26 = icmp eq i32 %25, 0, !dbg !5374
  br i1 %26, label %.loopexit41, label %19, !dbg !5378

.critedge13:                                      ; preds = %19
  %27 = add nsw i32 %17, 2, !dbg !5379
  %28 = sext i32 %27 to i64, !dbg !5379
  %29 = shl nsw i64 %28, 3, !dbg !5379
  %30 = call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %29, i8* getelementptr inbounds ([69 x i8]* @.str, i64 0, i64 0), i32 4629, i8* getelementptr inbounds ([16 x i8]* @.str3, i64 0, i64 0)) #6, !dbg !5379
  %31 = bitcast i8* %30 to %"struct.pov::Media_Struct"**, !dbg !5382
  call void @llvm.dbg.value(metadata %"struct.pov::Media_Struct"** %31, i64 0, metadata !1581, metadata !2666), !dbg !5383
  call void @llvm.dbg.value(metadata %"struct.pov::Media_Struct"** %31, i64 0, metadata !1582, metadata !2666), !dbg !5384
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1550, metadata !2666), !dbg !5385
  %32 = load i32* %16, align 4, !dbg !5386, !tbaa !3972
  %33 = icmp slt i32 %32, 0, !dbg !5389
  br i1 %33, label %._crit_edge72, label %.lr.ph71, !dbg !5390

.lr.ph71:                                         ; preds = %.critedge13, %45
  %indvars.iv90 = phi i64 [ %indvars.iv.next91, %45 ], [ 0, %.critedge13 ]
  %TmpMedia.069 = phi %"struct.pov::Media_Struct"** [ %TmpMedia.1, %45 ], [ %31, %.critedge13 ]
  %34 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 4, i64 %indvars.iv90, !dbg !5391
  %35 = load %"struct.pov::Interior_Struct"** %34, align 8, !dbg !5391, !tbaa !2657
  %36 = getelementptr inbounds %"struct.pov::Interior_Struct"* %35, i64 0, i32 1, !dbg !5394
  %37 = load i32* %36, align 4, !dbg !5394, !tbaa !3985
  %38 = icmp eq i32 %37, 0, !dbg !5391
  br i1 %38, label %45, label %39, !dbg !5395

; <label>:39                                      ; preds = %.lr.ph71
  %40 = getelementptr inbounds %"struct.pov::Interior_Struct"* %35, i64 0, i32 10, !dbg !5396
  %41 = load %"struct.pov::Media_Struct"** %40, align 8, !dbg !5396, !tbaa !4036
  %42 = icmp eq %"struct.pov::Media_Struct"* %41, null, !dbg !5399
  br i1 %42, label %45, label %43, !dbg !5400

; <label>:43                                      ; preds = %39
  store %"struct.pov::Media_Struct"* %41, %"struct.pov::Media_Struct"** %TmpMedia.069, align 8, !dbg !5401, !tbaa !2657
  %44 = getelementptr inbounds %"struct.pov::Media_Struct"** %TmpMedia.069, i64 1, !dbg !5403
  call void @llvm.dbg.value(metadata %"struct.pov::Media_Struct"** %44, i64 0, metadata !1582, metadata !2666), !dbg !5384
  br label %45, !dbg !5404

; <label>:45                                      ; preds = %39, %.lr.ph71, %43
  %TmpMedia.1 = phi %"struct.pov::Media_Struct"** [ %44, %43 ], [ %TmpMedia.069, %39 ], [ %TmpMedia.069, %.lr.ph71 ]
  %indvars.iv.next91 = add nuw i64 %indvars.iv90, 1, !dbg !5390
  %46 = sext i32 %32 to i64, !dbg !5389
  %47 = icmp slt i64 %indvars.iv90, %46, !dbg !5389
  br i1 %47, label %.lr.ph71, label %._crit_edge72, !dbg !5390

._crit_edge72:                                    ; preds = %45, %.critedge13
  %TmpMedia.0.lcssa = phi %"struct.pov::Media_Struct"** [ %31, %.critedge13 ], [ %TmpMedia.1, %45 ]
  store %"struct.pov::Media_Struct"* null, %"struct.pov::Media_Struct"** %TmpMedia.0.lcssa, align 8, !dbg !5405, !tbaa !2657
  %48 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5406, !tbaa !2664
  %49 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 24), align 4
  %notlhs = icmp sgt i32 %48, 1, !dbg !5408
  %notrhs = icmp eq i32 %49, 0, !dbg !5408
  %or.cond.not = and i1 %notlhs, %notrhs, !dbg !5408
  %50 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 31), align 8
  %51 = icmp sgt i32 %50, 0, !dbg !5409
  %or.cond3 = and i1 %or.cond.not, %51, !dbg !5408
  br i1 %or.cond3, label %52, label %53, !dbg !5408

; <label>:52                                      ; preds = %._crit_edge72
  call void @_ZN3pov24Backtrace_Simulate_MediaEPPNS_12Media_StructEPNS_10Ray_StructEPNS_10istk_entryEPf(%"struct.pov::Media_Struct"** %31, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::istk_entry"* %Intersection, float* %LightCol) #6, !dbg !5410
  br label %54, !dbg !5412

; <label>:53                                      ; preds = %._crit_edge72
  call void @_ZN3pov14Simulate_MediaEPPNS_12Media_StructEPNS_10Ray_StructEPNS_10istk_entryEPfi(%"struct.pov::Media_Struct"** %31, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::istk_entry"* %Intersection, float* %LightCol, i32 1) #6, !dbg !5413
  br label %54

; <label>:54                                      ; preds = %53, %52
  call void @_ZN3pov8pov_freeEPvPKci(i8* %30, i8* getelementptr inbounds ([69 x i8]* @.str, i64 0, i64 0), i32 4664) #6, !dbg !5415
  call void @llvm.dbg.value(metadata %"struct.pov::Media_Struct"** null, i64 0, metadata !1581, metadata !2666), !dbg !5383
  br label %.loopexit41, !dbg !5417

.loopexit41:                                      ; preds = %.lr.ph75, %0, %54, %15
  %55 = getelementptr inbounds %"struct.pov::istk_entry"* %Intersection, i64 0, i32 5, !dbg !5418
  %56 = load %"struct.pov::Object_Struct"** %55, align 8, !dbg !5418, !tbaa !3151
  %57 = getelementptr inbounds %"struct.pov::Object_Struct"* %56, i64 0, i32 5, !dbg !5419
  %58 = load %"struct.pov::Interior_Struct"** %57, align 8, !dbg !5419, !tbaa !3723
  call void @llvm.dbg.value(metadata %"struct.pov::Interior_Struct"* %58, i64 0, metadata !1568, metadata !2666), !dbg !5420
  %59 = getelementptr inbounds %"struct.pov::Interior_Struct"* %58, i64 0, i32 6, !dbg !5421
  %60 = load float* %59, align 4, !dbg !5421, !tbaa !5422
  call void @llvm.dbg.value(metadata float %60, i64 0, metadata !1564, metadata !3940), !dbg !5318
  %61 = icmp eq %"struct.pov::Interior_Struct"* %58, null, !dbg !5423
  br i1 %61, label %135, label %62, !dbg !5425

; <label>:62                                      ; preds = %.loopexit41
  %63 = call i32 @_ZN3pov25Interior_In_Ray_ContainerEPNS_10Ray_StructEPNS_15Interior_StructE(%"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Interior_Struct"* %58) #6, !dbg !5426
  %64 = icmp sgt i32 %63, -1, !dbg !5429
  br i1 %64, label %65, label %135, !dbg !5430

; <label>:65                                      ; preds = %62
  %66 = getelementptr inbounds %"struct.pov::Interior_Struct"* %58, i64 0, i32 8, !dbg !5431
  %67 = load float* %66, align 4, !dbg !5431, !tbaa !3906
  %68 = fpext float %67 to double, !dbg !5434
  %69 = fcmp ogt float %67, 0.000000e+00, !dbg !5435
  br i1 %69, label %70, label %135, !dbg !5436

; <label>:70                                      ; preds = %65
  %71 = getelementptr inbounds %"struct.pov::Interior_Struct"* %58, i64 0, i32 7, !dbg !5437
  %72 = load float* %71, align 4, !dbg !5437, !tbaa !3911
  %73 = fpext float %72 to double, !dbg !5438
  %fabsf12 = call float @fabsf(float %72) #4, !dbg !5439
  %74 = fpext float %fabsf12 to double, !dbg !5439
  %75 = fcmp ogt double %74, 1.000000e-07, !dbg !5440
  br i1 %75, label %76, label %135, !dbg !5441

; <label>:76                                      ; preds = %70
  %77 = fcmp ult float %67, 1.000000e+03, !dbg !5442
  %78 = getelementptr inbounds %"struct.pov::istk_entry"* %Intersection, i64 0, i32 0
  %79 = load double* %78, align 8
  %80 = getelementptr inbounds %"struct.pov::Interior_Struct"* %58, i64 0, i32 9, i64 0
  %81 = load float* %80, align 4
  %82 = getelementptr inbounds %"struct.pov::Interior_Struct"* %58, i64 0, i32 9, i64 1
  %83 = load float* %82, align 4
  %84 = getelementptr inbounds %"struct.pov::Interior_Struct"* %58, i64 0, i32 9, i64 2
  %85 = load float* %84, align 4
  br i1 %77, label %112, label %86, !dbg !5445

; <label>:86                                      ; preds = %76
  %87 = fpext float %81 to double, !dbg !5446
  %88 = fsub double 1.000000e+00, %87, !dbg !5448
  %89 = fmul double %79, %88, !dbg !5449
  %90 = fsub double -0.000000e+00, %89, !dbg !5449
  %91 = fdiv double %90, %73, !dbg !5450
  %92 = call double @exp(double %91) #7, !dbg !5451
  %93 = fpext float %60 to double, !dbg !5452
  %94 = fmul double %93, %92, !dbg !5452
  %95 = fptrunc double %94 to float, !dbg !5452
  call void @llvm.dbg.value(metadata float %95, i64 0, metadata !1564, metadata !3896), !dbg !5318
  %96 = fpext float %83 to double, !dbg !5453
  %97 = fsub double 1.000000e+00, %96, !dbg !5454
  %98 = fmul double %79, %97, !dbg !5455
  %99 = fsub double -0.000000e+00, %98, !dbg !5455
  %100 = fdiv double %99, %73, !dbg !5456
  %101 = call double @exp(double %100) #7, !dbg !5457
  %102 = fmul double %93, %101, !dbg !5458
  %103 = fptrunc double %102 to float, !dbg !5458
  call void @llvm.dbg.value(metadata float %103, i64 0, metadata !1564, metadata !3933), !dbg !5318
  %104 = fpext float %85 to double, !dbg !5459
  %105 = fsub double 1.000000e+00, %104, !dbg !5460
  %106 = fmul double %79, %105, !dbg !5461
  %107 = fsub double -0.000000e+00, %106, !dbg !5461
  %108 = fdiv double %107, %73, !dbg !5462
  %109 = call double @exp(double %108) #7, !dbg !5463
  %110 = fmul double %93, %109, !dbg !5464
  %111 = fptrunc double %110 to float, !dbg !5464
  call void @llvm.dbg.value(metadata float %111, i64 0, metadata !1564, metadata !3940), !dbg !5318
  br label %135, !dbg !5465

; <label>:112                                     ; preds = %76
  %113 = fdiv double %79, %73, !dbg !5466
  %114 = call double @llvm.pow.f64(double %113, double %68), !dbg !5468
  %115 = fadd double %114, 1.000000e+00, !dbg !5469
  call void @llvm.dbg.value(metadata double %115, i64 0, metadata !1558, metadata !2666), !dbg !5470
  %116 = fpext float %81 to double, !dbg !5471
  %117 = fsub double 1.000000e+00, %116, !dbg !5472
  %118 = fdiv double %117, %115, !dbg !5473
  %119 = fadd double %116, %118, !dbg !5474
  %120 = fpext float %60 to double, !dbg !5475
  %121 = fmul double %120, %119, !dbg !5475
  %122 = fptrunc double %121 to float, !dbg !5475
  call void @llvm.dbg.value(metadata float %122, i64 0, metadata !1564, metadata !3896), !dbg !5318
  %123 = fpext float %83 to double, !dbg !5476
  %124 = fsub double 1.000000e+00, %123, !dbg !5477
  %125 = fdiv double %124, %115, !dbg !5478
  %126 = fadd double %123, %125, !dbg !5479
  %127 = fmul double %120, %126, !dbg !5480
  %128 = fptrunc double %127 to float, !dbg !5480
  call void @llvm.dbg.value(metadata float %128, i64 0, metadata !1564, metadata !3933), !dbg !5318
  %129 = fpext float %85 to double, !dbg !5481
  %130 = fsub double 1.000000e+00, %129, !dbg !5482
  %131 = fdiv double %130, %115, !dbg !5483
  %132 = fadd double %129, %131, !dbg !5484
  %133 = fmul double %120, %132, !dbg !5485
  %134 = fptrunc double %133 to float, !dbg !5485
  call void @llvm.dbg.value(metadata float %134, i64 0, metadata !1564, metadata !3940), !dbg !5318
  br label %135

; <label>:135                                     ; preds = %.loopexit41, %62, %86, %112, %70, %65
  %AttCol.sroa.0.0 = phi float [ %95, %86 ], [ %122, %112 ], [ %60, %70 ], [ %60, %65 ], [ %60, %62 ], [ %60, %.loopexit41 ]
  %AttCol.sroa.6.0 = phi float [ %103, %86 ], [ %128, %112 ], [ %60, %70 ], [ %60, %65 ], [ %60, %62 ], [ %60, %.loopexit41 ]
  %AttCol.sroa.12.0 = phi float [ %111, %86 ], [ %134, %112 ], [ %60, %70 ], [ %60, %65 ], [ %60, %62 ], [ %60, %.loopexit41 ]
  %136 = load float* %LightCol, align 4, !dbg !5486, !tbaa !3269
  %137 = fmul float %AttCol.sroa.0.0, %136, !dbg !5486
  store float %137, float* %LightCol, align 4, !dbg !5486, !tbaa !3269
  %138 = getelementptr inbounds float* %LightCol, i64 1, !dbg !5487
  %139 = load float* %138, align 4, !dbg !5488, !tbaa !3269
  %140 = fmul float %AttCol.sroa.6.0, %139, !dbg !5488
  store float %140, float* %138, align 4, !dbg !5488, !tbaa !3269
  %141 = getelementptr inbounds float* %LightCol, i64 2, !dbg !5489
  %142 = load float* %141, align 4, !dbg !5490, !tbaa !3269
  %143 = fmul float %AttCol.sroa.12.0, %142, !dbg !5490
  store float %143, float* %141, align 4, !dbg !5490, !tbaa !3269
  %144 = getelementptr inbounds %"struct.pov::istk_entry"* %Intersection, i64 0, i32 0, !dbg !5491
  %145 = load double* %144, align 8, !dbg !5491, !tbaa !3111
  %146 = load double* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 17), align 8, !dbg !5492, !tbaa !5493
  %147 = fadd double %145, %146, !dbg !5492
  store double %147, double* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 17), align 8, !dbg !5492, !tbaa !5493
  %148 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5494, !tbaa !2664
  %149 = icmp slt i32 %148, 2, !dbg !5496
  %150 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 24), align 4
  %151 = icmp ne i32 %150, 0, !dbg !5497
  %or.cond5 = or i1 %149, %151, !dbg !5498
  br i1 %or.cond5, label %162, label %152, !dbg !5498

; <label>:152                                     ; preds = %135
  %153 = load %"struct.pov::Object_Struct"** %55, align 8, !dbg !5499, !tbaa !3151
  %154 = getelementptr inbounds %"struct.pov::Object_Struct"* %153, i64 0, i32 13, !dbg !5499
  %155 = load i32* %154, align 4, !dbg !5499, !tbaa !3160
  %156 = and i32 %155, 33554432, !dbg !5499
  %157 = icmp eq i32 %156, 0, !dbg !5499
  br i1 %157, label %158, label %162, !dbg !5500

; <label>:158                                     ; preds = %152
  %159 = call zeroext i1 @_ZN3pov24Check_Photon_Light_GroupEPNS_13Object_StructE(%"struct.pov::Object_Struct"* %153) #6, !dbg !5501
  br i1 %159, label %160, label %162, !dbg !5502

; <label>:160                                     ; preds = %158
  %161 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 0, !dbg !5503
  call void @_ZN3pov16addSurfacePhotonEPdS0_PfS0_(double* %3, double* %161, float* %LightCol, double* %Raw_Normal) #6, !dbg !5505
  br label %162, !dbg !5506

; <label>:162                                     ; preds = %152, %135, %160, %158
  %163 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 23), align 8, !dbg !5507, !tbaa !5508
  %164 = icmp eq i32 %163, 0, !dbg !5509
  br i1 %164, label %.preheader39, label %165, !dbg !5510

; <label>:165                                     ; preds = %162
  %166 = bitcast %"struct.pov::Ray_Struct"* %NRay to i8*, !dbg !5511
  call void @llvm.lifetime.start(i64 856, i8* %166) #5, !dbg !5511
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay, i64 0, metadata !1590, metadata !2666), !dbg !5512
  call void @_ZN3pov19Copy_Ray_ContainersEPNS_10Ray_StructES1_(%"struct.pov::Ray_Struct"* %NRay, %"struct.pov::Ray_Struct"* %Ray) #6, !dbg !5513
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1349, metadata !2666), !dbg !5514
  %167 = bitcast double* %IPoint to <2 x i64>*, !dbg !5516
  %168 = load <2 x i64>* %167, align 8, !dbg !5516, !tbaa !3114
  %169 = bitcast %"struct.pov::Ray_Struct"* %NRay to <2 x i64>*, !dbg !5517
  store <2 x i64> %168, <2 x i64>* %169, align 16, !dbg !5517, !tbaa !3114
  %170 = getelementptr inbounds double* %IPoint, i64 2, !dbg !5518
  %171 = bitcast double* %170 to i64*, !dbg !5518
  %172 = load i64* %171, align 8, !dbg !5518, !tbaa !3114
  %173 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay, i64 0, i32 0, i64 2, !dbg !5519
  %174 = bitcast double* %173 to i64*, !dbg !5520
  store i64 %172, i64* %174, align 16, !dbg !5520, !tbaa !3114
  %175 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay, i64 0, i32 1, i64 0, !dbg !5521
  %176 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !5522
  tail call void @llvm.dbg.value(metadata double* %175, i64 0, metadata !1348, metadata !2666), !dbg !5523
  tail call void @llvm.dbg.value(metadata double* %176, i64 0, metadata !1349, metadata !2666), !dbg !5525
  %177 = bitcast double* %176 to <2 x i64>*, !dbg !5526
  %178 = load <2 x i64>* %177, align 8, !dbg !5526, !tbaa !3114
  %179 = bitcast double* %175 to <2 x i64>*, !dbg !5527
  store <2 x i64> %178, <2 x i64>* %179, align 8, !dbg !5527, !tbaa !3114
  %180 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !5528
  %181 = bitcast double* %180 to i64*, !dbg !5528
  %182 = load i64* %181, align 8, !dbg !5528, !tbaa !3114
  %183 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay, i64 0, i32 1, i64 2, !dbg !5529
  %184 = bitcast double* %183 to i64*, !dbg !5530
  store i64 %182, i64* %184, align 8, !dbg !5530, !tbaa !3114
  %185 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5531, !tbaa !2664
  %186 = add nsw i32 %185, 1, !dbg !5531
  store i32 %186, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5531, !tbaa !2664
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay, i64 0, metadata !1590, metadata !2666), !dbg !5512
  %187 = call double @_ZN3pov5TraceEPNS_10Ray_StructEPfd(%"struct.pov::Ray_Struct"* %NRay, float* %LightCol, double %Weight) #6, !dbg !5532
  %188 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5533, !tbaa !2664
  %189 = add nsw i32 %188, -1, !dbg !5533
  store i32 %189, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5533, !tbaa !2664
  call void @llvm.lifetime.end(i64 856, i8* %166) #5, !dbg !5534
  br label %.preheader39, !dbg !5535

.preheader39:                                     ; preds = %162, %165
  %190 = icmp ne %"struct.pov::Texture_Struct"* %Texture, null, !dbg !5536
  %191 = load double* @_ZN3pov11ADC_BailoutE, align 8
  %192 = fcmp olt double %191, 1.000000e+00, !dbg !5537
  %or.cond57 = and i1 %190, %192, !dbg !5538
  br i1 %or.cond57, label %.lr.ph61, label %.critedge, !dbg !5538

.lr.ph61:                                         ; preds = %.preheader39
  %193 = getelementptr inbounds [3 x double]* %LayNormal, i64 0, i64 0, !dbg !5539
  %194 = bitcast [3 x double]* %LayNormal to i64*, !dbg !5540
  %195 = getelementptr inbounds [3 x double]* %LayNormal, i64 0, i64 1, !dbg !5542
  %196 = bitcast double* %195 to i64*, !dbg !5543
  %197 = getelementptr inbounds double* %Raw_Normal, i64 2, !dbg !5544
  %198 = bitcast double* %197 to i64*, !dbg !5544
  %199 = getelementptr inbounds [3 x double]* %LayNormal, i64 0, i64 2, !dbg !5545
  %200 = bitcast double* %199 to i64*, !dbg !5546
  %201 = bitcast [3 x double]* %TopNormal to i64*, !dbg !5547
  %202 = getelementptr inbounds [3 x double]* %TopNormal, i64 0, i64 1, !dbg !5551
  %203 = bitcast double* %202 to i64*, !dbg !5552
  %204 = getelementptr inbounds [3 x double]* %TopNormal, i64 0, i64 2, !dbg !5553
  %205 = bitcast double* %204 to i64*, !dbg !5554
  %206 = getelementptr inbounds [5 x float]* %LayCol, i64 0, i64 0, !dbg !5555
  %207 = getelementptr inbounds [5 x float]* %LayCol, i64 0, i64 3, !dbg !5556
  %208 = getelementptr inbounds [5 x float]* %LayCol, i64 0, i64 4, !dbg !5557
  %209 = getelementptr inbounds [5 x float]* %LayCol, i64 0, i64 1, !dbg !5558
  %210 = getelementptr inbounds [5 x float]* %LayCol, i64 0, i64 2, !dbg !5559
  %211 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !5560
  %212 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 1, !dbg !5561
  %213 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !5563
  br label %214, !dbg !5538

; <label>:214                                     ; preds = %.lr.ph61, %479
  %215 = phi double [ undef, %.lr.ph61 ], [ %303, %479 ]
  %216 = phi double [ undef, %.lr.ph61 ], [ %304, %479 ]
  %217 = phi double [ undef, %.lr.ph61 ], [ %305, %479 ]
  %218 = phi double [ undef, %.lr.ph61 ], [ %306, %479 ]
  %219 = phi double [ undef, %.lr.ph61 ], [ %307, %479 ]
  %220 = phi double [ undef, %.lr.ph61 ], [ %308, %479 ]
  %indvars.iv88 = phi i64 [ 0, %.lr.ph61 ], [ %indvars.iv.next89, %479 ]
  %Trans.059 = phi double [ 1.000000e+00, %.lr.ph61 ], [ %497, %479 ]
  %Layer.058 = phi %"struct.pov::Texture_Struct"* [ %Texture, %.lr.ph61 ], [ %500, %479 ]
  %221 = phi float [ 0.000000e+00, %.lr.ph61 ], [ %332, %479 ]
  %222 = phi float [ 0.000000e+00, %.lr.ph61 ], [ %334, %479 ]
  %223 = phi float [ 0.000000e+00, %.lr.ph61 ], [ %336, %479 ]
  %224 = phi i32 [ 1065353216, %.lr.ph61 ], [ %480, %479 ]
  %225 = phi <2 x i32> [ <i32 1065353216, i32 1065353216>, %.lr.ph61 ], [ %481, %479 ]
  tail call void @llvm.dbg.value(metadata double* %193, i64 0, metadata !1348, metadata !2666), !dbg !5564
  tail call void @llvm.dbg.value(metadata double* %Raw_Normal, i64 0, metadata !1349, metadata !2666), !dbg !5565
  %226 = bitcast double* %Raw_Normal to <2 x i64>*, !dbg !5566
  %227 = load <2 x i64>* %226, align 8, !dbg !5566, !tbaa !3114
  %228 = bitcast [3 x double]* %LayNormal to <2 x i64>*, !dbg !5540
  store <2 x i64> %227, <2 x i64>* %228, align 16, !dbg !5540, !tbaa !3114
  %229 = load i64* %198, align 8, !dbg !5544, !tbaa !3114
  store i64 %229, i64* %200, align 16, !dbg !5546, !tbaa !3114
  %230 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !5567, !tbaa !3797
  %231 = and i32 %230, 64, !dbg !5569
  %232 = icmp eq i32 %231, 0, !dbg !5569
  br i1 %232, label %.loopexit, label %233, !dbg !5570

; <label>:233                                     ; preds = %214
  %234 = getelementptr inbounds %"struct.pov::Texture_Struct"* %Layer.058, i64 0, i32 13, !dbg !5571
  %235 = load %"struct.pov::Tnormal_Struct"** %234, align 8, !dbg !5571, !tbaa !3801
  %236 = icmp eq %"struct.pov::Tnormal_Struct"* %235, null, !dbg !5572
  br i1 %236, label %.loopexit, label %237, !dbg !5573

; <label>:237                                     ; preds = %233
  %238 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 28), align 8, !dbg !5574, !tbaa !3543
  %239 = icmp sgt i32 %238, 310, !dbg !5577
  br i1 %239, label %.preheader38, label %292, !dbg !5578

.preheader38:                                     ; preds = %237
  %240 = load i32* @_ZN3pov18warpNormalTexturesE, align 4, !dbg !5579, !tbaa !2664
  %241 = icmp sgt i32 %240, 0, !dbg !5583
  br i1 %241, label %.lr.ph52, label %253, !dbg !5584

.lr.ph52:                                         ; preds = %.preheader38, %.lr.ph52
  %indvars.iv = phi i64 [ %indvars.iv.next, %.lr.ph52 ], [ 0, %.preheader38 ]
  %242 = load %"struct.pov::Texture_Struct"*** @_ZN3pov21warpNormalTextureListE, align 8, !dbg !5585, !tbaa !2657
  %243 = getelementptr inbounds %"struct.pov::Texture_Struct"** %242, i64 %indvars.iv, !dbg !5585
  %244 = load %"struct.pov::Texture_Struct"** %243, align 8, !dbg !5585, !tbaa !2657
  %245 = bitcast %"struct.pov::Texture_Struct"* %244 to %"struct.pov::Pattern_Struct"*, !dbg !5586
  %246 = getelementptr inbounds %"struct.pov::Texture_Struct"* %244, i64 0, i32 2, !dbg !5587
  %247 = load i16* %246, align 2, !dbg !5587, !tbaa !3819
  %248 = zext i16 %247 to i32, !dbg !5587
  %249 = and i32 %248, 8, !dbg !5587
  call void @_ZN3pov11Warp_NormalEPdS0_PNS_14Pattern_StructEi(double* %193, double* %193, %"struct.pov::Pattern_Struct"* %245, i32 %249) #6, !dbg !5588
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1, !dbg !5584
  %250 = load i32* @_ZN3pov18warpNormalTexturesE, align 4, !dbg !5579, !tbaa !2664
  %251 = sext i32 %250 to i64, !dbg !5583
  %252 = icmp slt i64 %indvars.iv.next, %251, !dbg !5583
  br i1 %252, label %.lr.ph52, label %._crit_edge, !dbg !5584

._crit_edge:                                      ; preds = %.lr.ph52
  %.pre = load %"struct.pov::Tnormal_Struct"** %234, align 8, !dbg !5589, !tbaa !3801
  br label %253, !dbg !5584

; <label>:253                                     ; preds = %._crit_edge, %.preheader38
  %254 = phi %"struct.pov::Tnormal_Struct"* [ %.pre, %._crit_edge ], [ %235, %.preheader38 ]
  call void @_ZN3pov14Perturb_NormalEPdPNS_14Tnormal_StructES0_PNS_10istk_entryE(double* %193, %"struct.pov::Tnormal_Struct"* %254, double* %IPoint, %"struct.pov::istk_entry"* %Intersection) #6, !dbg !5590
  %255 = load %"struct.pov::Tnormal_Struct"** %234, align 8, !dbg !5591, !tbaa !3801
  %256 = getelementptr inbounds %"struct.pov::Tnormal_Struct"* %255, i64 0, i32 2, !dbg !5591
  %257 = load i16* %256, align 2, !dbg !5591, !tbaa !3825
  %258 = and i16 %257, 8, !dbg !5593
  %259 = icmp eq i16 %258, 0, !dbg !5593
  br i1 %259, label %278, label %260, !dbg !5594

; <label>:260                                     ; preds = %253
  call void @llvm.dbg.value(metadata double* %193, i64 0, metadata !1404, metadata !2666) #5, !dbg !5595
  call void @llvm.dbg.value(metadata double* %193, i64 0, metadata !1450, metadata !2666) #5, !dbg !5597
  %261 = bitcast [3 x double]* %LayNormal to <2 x double>*, !dbg !5599
  %262 = load <2 x double>* %261, align 16, !dbg !5599, !tbaa !3114
  %263 = extractelement <2 x double> %262, i32 0, !dbg !5600
  %264 = fmul double %263, %263, !dbg !5600
  %265 = extractelement <2 x double> %262, i32 1, !dbg !5601
  %266 = fmul double %265, %265, !dbg !5601
  %267 = fadd double %264, %266, !dbg !5602
  %268 = load double* %199, align 16, !dbg !5603, !tbaa !3114
  %269 = fmul double %268, %268, !dbg !5604
  %270 = fadd double %267, %269, !dbg !5605
  %271 = call double @sqrt(double %270) #7, !dbg !5606
  call void @llvm.dbg.value(metadata double %271, i64 0, metadata !1449, metadata !2666) #5, !dbg !5607
  call void @llvm.dbg.value(metadata double %271, i64 0, metadata !1405, metadata !2666) #5, !dbg !5608
  call void @llvm.dbg.value(metadata double %271, i64 0, metadata !1405, metadata !2666) #5, !dbg !5608
  call void @llvm.dbg.value(metadata double* %193, i64 0, metadata !1408, metadata !2666) #5, !dbg !5609
  call void @llvm.dbg.value(metadata double %271, i64 0, metadata !1409, metadata !2666) #5, !dbg !5611
  %272 = fdiv double 1.000000e+00, %271, !dbg !5612
  call void @llvm.dbg.value(metadata double %272, i64 0, metadata !1410, metadata !2666) #5, !dbg !5613
  %273 = insertelement <2 x double> undef, double %272, i32 0, !dbg !5614
  %274 = insertelement <2 x double> %273, double %272, i32 1, !dbg !5614
  %275 = fmul <2 x double> %274, %262, !dbg !5614
  %276 = bitcast [3 x double]* %LayNormal to <2 x double>*, !dbg !5614
  store <2 x double> %275, <2 x double>* %276, align 16, !dbg !5614, !tbaa !3114
  %277 = fmul double %268, %272, !dbg !5615
  store double %277, double* %199, align 16, !dbg !5615, !tbaa !3114
  br label %278, !dbg !5616

; <label>:278                                     ; preds = %253, %260
  %279 = load i32* @_ZN3pov18warpNormalTexturesE, align 4, !dbg !5617, !tbaa !2664
  %280 = icmp sgt i32 %279, 0, !dbg !5619
  br i1 %280, label %.lr.ph56, label %.loopexit, !dbg !5621

.lr.ph56:                                         ; preds = %278
  %281 = sext i32 %279 to i64
  br label %282, !dbg !5621

; <label>:282                                     ; preds = %.lr.ph56, %282
  %indvars.iv86 = phi i64 [ %281, %.lr.ph56 ], [ %indvars.iv.next87, %282 ]
  %indvars.iv.next87 = add nsw i64 %indvars.iv86, -1, !dbg !5621
  %283 = load %"struct.pov::Texture_Struct"*** @_ZN3pov21warpNormalTextureListE, align 8, !dbg !5622, !tbaa !2657
  %284 = getelementptr inbounds %"struct.pov::Texture_Struct"** %283, i64 %indvars.iv.next87, !dbg !5622
  %285 = load %"struct.pov::Texture_Struct"** %284, align 8, !dbg !5622, !tbaa !2657
  %286 = bitcast %"struct.pov::Texture_Struct"* %285 to %"struct.pov::Pattern_Struct"*, !dbg !5623
  %287 = getelementptr inbounds %"struct.pov::Texture_Struct"* %285, i64 0, i32 2, !dbg !5624
  %288 = load i16* %287, align 2, !dbg !5624, !tbaa !3819
  %289 = zext i16 %288 to i32, !dbg !5624
  %290 = and i32 %289, 8, !dbg !5624
  call void @_ZN3pov13UnWarp_NormalEPdS0_PNS_14Pattern_StructEi(double* %193, double* %193, %"struct.pov::Pattern_Struct"* %286, i32 %290) #6, !dbg !5625
  %291 = icmp sgt i64 %indvars.iv86, 1, !dbg !5619
  br i1 %291, label %282, label %.loopexit, !dbg !5621

; <label>:292                                     ; preds = %237
  call void @_ZN3pov14Perturb_NormalEPdPNS_14Tnormal_StructES0_PNS_10istk_entryE(double* %193, %"struct.pov::Tnormal_Struct"* %235, double* %IPoint, %"struct.pov::istk_entry"* %Intersection) #6, !dbg !5626
  br label %.loopexit

.loopexit:                                        ; preds = %282, %278, %233, %214, %292
  %293 = trunc i64 %indvars.iv88 to i32, !dbg !5627
  %294 = icmp eq i32 %293, 0, !dbg !5627
  br i1 %294, label %295, label %302, !dbg !5628

; <label>:295                                     ; preds = %.loopexit
  tail call void @llvm.dbg.value(metadata double* %193, i64 0, metadata !1349, metadata !2666), !dbg !5629
  %296 = load i64* %194, align 16, !dbg !5630, !tbaa !3114
  store i64 %296, i64* %201, align 16, !dbg !5547, !tbaa !3114
  %297 = load i64* %196, align 8, !dbg !5631, !tbaa !3114
  store i64 %297, i64* %203, align 8, !dbg !5552, !tbaa !3114
  %298 = load i64* %200, align 16, !dbg !5632, !tbaa !3114
  store i64 %298, i64* %205, align 16, !dbg !5554, !tbaa !3114
  %299 = bitcast i64 %296 to double
  %300 = bitcast i64 %297 to double
  %301 = bitcast i64 %298 to double
  br label %302, !dbg !5633

; <label>:302                                     ; preds = %.loopexit, %295
  %303 = phi double [ %215, %.loopexit ], [ %301, %295 ]
  %304 = phi double [ %216, %.loopexit ], [ %300, %295 ]
  %305 = phi double [ %217, %.loopexit ], [ %299, %295 ]
  %306 = phi double [ %218, %.loopexit ], [ %301, %295 ]
  %307 = phi double [ %219, %.loopexit ], [ %300, %295 ]
  %308 = phi double [ %220, %.loopexit ], [ %299, %295 ]
  %309 = fmul double %Trans.059, %Weight, !dbg !5634
  call void @llvm.dbg.value(metadata double %309, i64 0, metadata !1556, metadata !2666), !dbg !5635
  %310 = getelementptr inbounds %"struct.pov::Texture_Struct"* %Layer.058, i64 0, i32 12, !dbg !5636
  %311 = load %"struct.pov::Pigment_Struct"** %310, align 8, !dbg !5636, !tbaa !3768
  %312 = call i32 @_ZN3pov15Compute_PigmentEPfPNS_14Pigment_StructEPdPNS_10istk_entryE(float* %206, %"struct.pov::Pigment_Struct"* %311, double* %IPoint, %"struct.pov::istk_entry"* %Intersection) #6, !dbg !5637
  call void @llvm.dbg.value(metadata i32 %312, i64 0, metadata !1553, metadata !2666), !dbg !5638
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2215, metadata !2666), !dbg !5639
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2222, metadata !2666), !dbg !5643
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2218, metadata !2666), !dbg !5644
  %313 = load float* %207, align 4, !dbg !5556, !tbaa !3269
  %314 = load float* %208, align 16, !dbg !5557, !tbaa !3269
  %315 = fadd float %313, %314, !dbg !5645
  %316 = fpext float %315 to double, !dbg !5646
  call void @llvm.dbg.value(metadata double %316, i64 0, metadata !2214, metadata !2666), !dbg !5647
  call void @llvm.dbg.value(metadata double %316, i64 0, metadata !2223, metadata !2666), !dbg !5648
  call void @llvm.dbg.value(metadata double %316, i64 0, metadata !2219, metadata !2666), !dbg !5649
  %317 = fcmp olt float %315, 1.000000e+00, !dbg !5650
  %.op = fsub double 1.000000e+00, %316, !dbg !5651
  %318 = select i1 %317, double %.op, double 0.000000e+00, !dbg !5651
  %319 = fmul double %Trans.059, %318, !dbg !5652
  call void @llvm.dbg.value(metadata double %319, i64 0, metadata !1558, metadata !2666), !dbg !5470
  %320 = bitcast i32 %224 to float, !dbg !5653
  %321 = load float* %206, align 16, !dbg !5654, !tbaa !3269
  %322 = fmul float %320, %321, !dbg !5654
  store float %322, float* %206, align 16, !dbg !5654, !tbaa !3269
  %323 = load float* %209, align 4, !dbg !5655, !tbaa !3269
  %324 = bitcast <2 x i32> %225 to <2 x float>, !dbg !5656
  %325 = extractelement <2 x float> %324, i32 0, !dbg !5655
  %326 = fmul float %325, %323, !dbg !5655
  store float %326, float* %209, align 4, !dbg !5655, !tbaa !3269
  %327 = load float* %210, align 8, !dbg !5657, !tbaa !3269
  %328 = extractelement <2 x float> %324, i32 1, !dbg !5657
  %329 = fmul float %328, %327, !dbg !5657
  store float %329, float* %210, align 8, !dbg !5657, !tbaa !3269
  %330 = fptrunc double %319 to float, !dbg !5658
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1437, metadata !2666), !dbg !5659
  tail call void @llvm.dbg.value(metadata float %330, i64 0, metadata !1438, metadata !2666), !dbg !5661
  tail call void @llvm.dbg.value(metadata float* %206, i64 0, metadata !1439, metadata !2666), !dbg !5662
  %331 = fmul float %322, %330, !dbg !5663
  %332 = fadd float %221, %331, !dbg !5664
  call void @llvm.dbg.value(metadata float %332, i64 0, metadata !1566, metadata !3896), !dbg !5320
  %333 = fmul float %326, %330, !dbg !5665
  %334 = fadd float %222, %333, !dbg !5666
  call void @llvm.dbg.value(metadata float %334, i64 0, metadata !1566, metadata !3933), !dbg !5320
  %335 = fmul float %329, %330, !dbg !5667
  %336 = fadd float %223, %335, !dbg !5668
  call void @llvm.dbg.value(metadata float %336, i64 0, metadata !1566, metadata !3940), !dbg !5320
  %337 = icmp eq i32 %312, 0, !dbg !5669
  %338 = icmp eq i32 %293, 100, !dbg !5671
  br i1 %338, label %339, label %341, !dbg !5673

; <label>:339                                     ; preds = %302
  %340 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([25 x i8]* @.str10, i64 0, i64 0)) #6, !dbg !5674
  br label %341, !dbg !5676

; <label>:341                                     ; preds = %339, %302
  %342 = getelementptr inbounds %"struct.pov::Texture_Struct"* %Layer.058, i64 0, i32 14, !dbg !5677
  %343 = load %"struct.pov::Finish_Struct"** %342, align 8, !dbg !5677, !tbaa !5678
  %344 = getelementptr inbounds %"struct.pov::Finish_Struct"* %343, i64 0, i32 13, !dbg !5679
  %345 = bitcast float* %344 to i32*, !dbg !5679
  %346 = load i32* %345, align 4, !dbg !5679, !tbaa !5680
  %347 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 5, i64 %indvars.iv88, !dbg !5681
  %348 = bitcast float* %347 to i32*, !dbg !5682
  store i32 %346, i32* %348, align 4, !dbg !5682, !tbaa !3269
  %349 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 2, i64 %indvars.iv88, !dbg !5683
  store double %309, double* %349, align 8, !dbg !5684, !tbaa !3114
  %350 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 3, i64 %indvars.iv88, i64 0, !dbg !5685
  tail call void @llvm.dbg.value(metadata double* %350, i64 0, metadata !1348, metadata !2666), !dbg !5686
  tail call void @llvm.dbg.value(metadata double* %193, i64 0, metadata !1349, metadata !2666), !dbg !5688
  %351 = load i64* %194, align 16, !dbg !5689, !tbaa !3114
  %352 = bitcast double* %350 to i64*, !dbg !5690
  store i64 %351, i64* %352, align 8, !dbg !5690, !tbaa !3114
  %353 = load i64* %196, align 8, !dbg !5691, !tbaa !3114
  %354 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 3, i64 %indvars.iv88, i64 1, !dbg !5692
  %355 = bitcast double* %354 to i64*, !dbg !5693
  store i64 %353, i64* %355, align 8, !dbg !5693, !tbaa !3114
  %356 = load i64* %200, align 16, !dbg !5694, !tbaa !3114
  %357 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 3, i64 %indvars.iv88, i64 2, !dbg !5695
  %358 = bitcast double* %357 to i64*, !dbg !5696
  store i64 %356, i64* %358, align 8, !dbg !5696, !tbaa !3114
  tail call void @llvm.dbg.value(metadata double* %211, i64 0, metadata !1358, metadata !2666), !dbg !5697
  tail call void @llvm.dbg.value(metadata double* %193, i64 0, metadata !1359, metadata !2666), !dbg !5698
  %359 = load double* %211, align 8, !dbg !5699, !tbaa !3114
  %360 = load double* %193, align 16, !dbg !5700, !tbaa !3114
  %361 = fmul double %359, %360, !dbg !5701
  %362 = load double* %212, align 8, !dbg !5561, !tbaa !3114
  %363 = load double* %195, align 8, !dbg !5702, !tbaa !3114
  %364 = fmul double %362, %363, !dbg !5703
  %365 = fadd double %361, %364, !dbg !5704
  %366 = load double* %213, align 8, !dbg !5563, !tbaa !3114
  %367 = load double* %199, align 16, !dbg !5705, !tbaa !3114
  %368 = fmul double %366, %367, !dbg !5706
  %369 = fadd double %365, %368, !dbg !5707
  call void @llvm.dbg.value(metadata double %369, i64 0, metadata !1357, metadata !2666), !dbg !5708
  call void @llvm.dbg.value(metadata double %369, i64 0, metadata !1583, metadata !2666), !dbg !5709
  call void @llvm.dbg.value(metadata double %369, i64 0, metadata !1583, metadata !2666), !dbg !5709
  call void @llvm.dbg.value(metadata double %369, i64 0, metadata !1583, metadata !2666), !dbg !5709
  call void @llvm.dbg.value(metadata double %369, i64 0, metadata !1583, metadata !2666), !dbg !5709
  %370 = fsub double -0.000000e+00, %369, !dbg !5710
  call void @llvm.dbg.value(metadata double %370, i64 0, metadata !1583, metadata !2666), !dbg !5709
  call void @llvm.dbg.value(metadata double %370, i64 0, metadata !1357, metadata !2666), !dbg !5708
  call void @llvm.dbg.value(metadata double %370, i64 0, metadata !1583, metadata !2666), !dbg !5709
  call void @llvm.dbg.value(metadata double %370, i64 0, metadata !1583, metadata !2666), !dbg !5709
  call void @llvm.dbg.value(metadata double %370, i64 0, metadata !1583, metadata !2666), !dbg !5709
  call void @llvm.dbg.value(metadata double %370, i64 0, metadata !1583, metadata !2666), !dbg !5709
  %371 = load %"struct.pov::Object_Struct"** %55, align 8, !dbg !5711, !tbaa !3151
  %372 = getelementptr inbounds %"struct.pov::Object_Struct"* %371, i64 0, i32 5, !dbg !5713
  %373 = load %"struct.pov::Interior_Struct"** %372, align 8, !dbg !5713, !tbaa !3723
  %374 = icmp eq %"struct.pov::Interior_Struct"* %373, null, !dbg !5714
  %375 = getelementptr inbounds %"struct.pov::Finish_Struct"* %343, i64 0, i32 20, !dbg !5715
  %376 = load i32* %375, align 4, !dbg !5715, !tbaa !5716
  %377 = icmp eq i32 %376, 1, !dbg !5717
  %or.cond104 = and i1 %374, %377, !dbg !5718
  br i1 %or.cond104, label %384, label %._crit_edge96, !dbg !5718

._crit_edge96:                                    ; preds = %341
  %378 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %indvars.iv88, i64 0, !dbg !5719
  %379 = getelementptr inbounds %"struct.pov::Finish_Struct"* %343, i64 0, i32 17, i64 0, !dbg !5721
  %380 = getelementptr inbounds %"struct.pov::Finish_Struct"* %343, i64 0, i32 18, i64 0, !dbg !5722
  %381 = getelementptr inbounds %"struct.pov::Finish_Struct"* %343, i64 0, i32 19, !dbg !5723
  %382 = load float* %381, align 4, !dbg !5723, !tbaa !5724
  %383 = fpext float %382 to double, !dbg !5725
  call fastcc void @_ZN3povL22determine_reflectivityEPdPfS1_S1_iddPNS_10Ray_StructEPNS_15Interior_StructE(double* %349, float* %378, float* %379, float* %380, i32 %376, double %383, double %370, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Interior_Struct"* %373) #6, !dbg !5726
  br label %386, !dbg !5727

; <label>:384                                     ; preds = %341
  %385 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([41 x i8]* @.str11, i64 0, i64 0)) #6, !dbg !5728
  br label %386

; <label>:386                                     ; preds = %384, %._crit_edge96
  %387 = load %"struct.pov::Finish_Struct"** %342, align 8, !dbg !5730, !tbaa !5678
  %388 = getelementptr inbounds %"struct.pov::Finish_Struct"* %387, i64 0, i32 21, !dbg !5731
  %389 = load float* %388, align 4, !dbg !5731, !tbaa !5732
  %390 = fcmp une float %389, 0.000000e+00, !dbg !5733
  br i1 %390, label %391, label %435, !dbg !5734

; <label>:391                                     ; preds = %386
  %392 = fpext float %389 to double, !dbg !5735
  call void @llvm.dbg.value(metadata double %392, i64 0, metadata !1593, metadata !2666), !dbg !5736
  %393 = call double @acos(double %370) #7, !dbg !5737
  %394 = call double @fabs(double %393) #7, !dbg !5738
  %395 = fdiv double %394, 0x3FF921FB54442D18, !dbg !5739
  call void @llvm.dbg.value(metadata double %395, i64 0, metadata !1599, metadata !2666), !dbg !5740
  %396 = fadd double %395, -1.120000e+00, !dbg !5741
  tail call void @llvm.dbg.value(metadata double %396, i64 0, metadata !1430, metadata !2666), !dbg !5742
  %397 = fmul double %396, %396, !dbg !5744
  %398 = fdiv double 0x3F8DD56BD7BF6F16, %397, !dbg !5745
  %399 = fadd double %398, 0xBF87C88174C5E0DC, !dbg !5746
  call void @llvm.dbg.value(metadata double %399, i64 0, metadata !1600, metadata !2666), !dbg !5747
  call void @llvm.dbg.value(metadata double %399, i64 0, metadata !2215, metadata !2666), !dbg !5748
  call void @llvm.dbg.value(metadata double %399, i64 0, metadata !2208, metadata !2666), !dbg !5752
  call void @llvm.dbg.value(metadata double %399, i64 0, metadata !2200, metadata !2666), !dbg !5753
  call void @llvm.dbg.value(metadata double %399, i64 0, metadata !1600, metadata !2666), !dbg !5747
  call void @llvm.dbg.value(metadata double %399, i64 0, metadata !1600, metadata !2666), !dbg !5747
  call void @llvm.dbg.value(metadata double %399, i64 0, metadata !1600, metadata !2666), !dbg !5747
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2215, metadata !2666), !dbg !5754
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2222, metadata !2666), !dbg !5758
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2218, metadata !2666), !dbg !5759
  %400 = fcmp ogt double %399, 0.000000e+00, !dbg !5760
  %401 = select i1 %400, double %399, double 0.000000e+00, !dbg !5761
  %402 = fcmp olt double %401, 1.000000e+00, !dbg !5762
  %.op36 = fsub double 1.000000e+00, %401, !dbg !5763
  %403 = select i1 %402, double %.op36, double 0.000000e+00, !dbg !5763
  %404 = fmul double %392, %403, !dbg !5764
  %405 = load float* %206, align 16, !dbg !5765, !tbaa !3269
  %406 = fpext float %405 to double, !dbg !5765
  %407 = fadd double %406, -1.000000e+00, !dbg !5766
  %408 = fmul double %407, %404, !dbg !5767
  %409 = fadd double %408, 1.000000e+00, !dbg !5768
  %410 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %indvars.iv88, i64 0, !dbg !5769
  %411 = load float* %410, align 4, !dbg !5770, !tbaa !3269
  %412 = fpext float %411 to double, !dbg !5770
  %413 = fmul double %412, %409, !dbg !5770
  %414 = fptrunc double %413 to float, !dbg !5770
  store float %414, float* %410, align 4, !dbg !5770, !tbaa !3269
  %415 = load float* %209, align 4, !dbg !5771, !tbaa !3269
  %416 = fpext float %415 to double, !dbg !5771
  %417 = fadd double %416, -1.000000e+00, !dbg !5772
  %418 = fmul double %417, %404, !dbg !5773
  %419 = fadd double %418, 1.000000e+00, !dbg !5774
  %420 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %indvars.iv88, i64 1, !dbg !5775
  %421 = load float* %420, align 4, !dbg !5776, !tbaa !3269
  %422 = fpext float %421 to double, !dbg !5776
  %423 = fmul double %422, %419, !dbg !5776
  %424 = fptrunc double %423 to float, !dbg !5776
  store float %424, float* %420, align 4, !dbg !5776, !tbaa !3269
  %425 = load float* %210, align 8, !dbg !5777, !tbaa !3269
  %426 = fpext float %425 to double, !dbg !5777
  %427 = fadd double %426, -1.000000e+00, !dbg !5778
  %428 = fmul double %404, %427, !dbg !5779
  %429 = fadd double %428, 1.000000e+00, !dbg !5780
  %430 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %indvars.iv88, i64 2, !dbg !5781
  %431 = load float* %430, align 4, !dbg !5782, !tbaa !3269
  %432 = fpext float %431 to double, !dbg !5782
  %433 = fmul double %432, %429, !dbg !5782
  %434 = fptrunc double %433 to float, !dbg !5782
  store float %434, float* %430, align 4, !dbg !5782, !tbaa !3269
  br label %435, !dbg !5783

; <label>:435                                     ; preds = %391, %386
  br i1 %337, label %479, label %436, !dbg !5784

; <label>:436                                     ; preds = %435
  %437 = load float* %206, align 16, !dbg !5785, !tbaa !3269
  %438 = load float* %207, align 4, !dbg !5788, !tbaa !3269
  %439 = fmul float %437, %438, !dbg !5789
  %440 = load float* %208, align 16, !dbg !5790, !tbaa !3269
  %441 = fadd float %439, %440, !dbg !5791
  %442 = fmul float %320, %441, !dbg !5792
  %443 = bitcast float %442 to i32, !dbg !5792
  call void @llvm.dbg.value(metadata i32 %443, i64 0, metadata !1563, metadata !3896), !dbg !5317
  call void @llvm.dbg.value(metadata i32 undef, i64 0, metadata !1563, metadata !3933), !dbg !5317
  %444 = bitcast float* %209 to <2 x float>*, !dbg !5793
  %445 = load <2 x float>* %444, align 4, !dbg !5793, !tbaa !3269
  %446 = insertelement <2 x float> undef, float %438, i32 0, !dbg !5794
  %447 = insertelement <2 x float> %446, float %438, i32 1, !dbg !5794
  %448 = fmul <2 x float> %447, %445, !dbg !5794
  %449 = insertelement <2 x float> undef, float %440, i32 0, !dbg !5795
  %450 = insertelement <2 x float> %449, float %440, i32 1, !dbg !5795
  %451 = fadd <2 x float> %448, %450, !dbg !5795
  %452 = fmul <2 x float> %324, %451, !dbg !5796
  %453 = bitcast <2 x float> %452 to <2 x i32>, !dbg !5796
  call void @llvm.dbg.value(metadata i32 undef, i64 0, metadata !1563, metadata !3940), !dbg !5317
  %454 = getelementptr inbounds %"struct.pov::Finish_Struct"* %387, i64 0, i32 22, !dbg !5797
  %455 = load i32* %454, align 4, !dbg !5797, !tbaa !5799
  %456 = icmp eq i32 %455, 0, !dbg !5800
  br i1 %456, label %479, label %457, !dbg !5801

; <label>:457                                     ; preds = %436
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2215, metadata !2666), !dbg !5802
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2222, metadata !2666), !dbg !5807
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2218, metadata !2666), !dbg !5808
  %458 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %indvars.iv88, i64 0, !dbg !5809
  %459 = load float* %458, align 4, !dbg !5809, !tbaa !3269
  %460 = fpext float %459 to double, !dbg !5809
  %461 = fsub double 1.000000e+00, %460, !dbg !5810
  call void @llvm.dbg.value(metadata double %461, i64 0, metadata !2214, metadata !2666), !dbg !5811
  call void @llvm.dbg.value(metadata double %461, i64 0, metadata !2223, metadata !2666), !dbg !5812
  call void @llvm.dbg.value(metadata double %461, i64 0, metadata !2219, metadata !2666), !dbg !5813
  %462 = fcmp olt double %461, 1.000000e+00, !dbg !5814
  %463 = select i1 %462, double %461, double 1.000000e+00, !dbg !5815
  %464 = fpext float %442 to double, !dbg !5816
  %465 = fmul double %464, %463, !dbg !5816
  %466 = fptrunc double %465 to float, !dbg !5816
  %467 = bitcast float %466 to i32, !dbg !5816
  call void @llvm.dbg.value(metadata i32 %467, i64 0, metadata !1563, metadata !3896), !dbg !5317
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2215, metadata !2666), !dbg !5817
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2222, metadata !2666), !dbg !5821
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2218, metadata !2666), !dbg !5822
  %468 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %indvars.iv88, i64 1, !dbg !5823
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !2214, metadata !2666), !dbg !5824
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !2223, metadata !2666), !dbg !5825
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !2219, metadata !2666), !dbg !5826
  call void @llvm.dbg.value(metadata i32 undef, i64 0, metadata !1563, metadata !3933), !dbg !5317
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2215, metadata !2666), !dbg !5827
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2222, metadata !2666), !dbg !5831
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2218, metadata !2666), !dbg !5832
  %469 = bitcast float* %468 to <2 x float>*, !dbg !5823
  %470 = load <2 x float>* %469, align 4, !dbg !5823, !tbaa !3269
  %471 = fpext <2 x float> %470 to <2 x double>, !dbg !5823
  %472 = fsub <2 x double> <double 1.000000e+00, double 1.000000e+00>, %471, !dbg !5833
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !2214, metadata !2666), !dbg !5834
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !2223, metadata !2666), !dbg !5835
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !2219, metadata !2666), !dbg !5836
  %473 = fcmp olt <2 x double> %472, <double 1.000000e+00, double 1.000000e+00>, !dbg !5837
  %474 = select <2 x i1> %473, <2 x double> %472, <2 x double> <double 1.000000e+00, double 1.000000e+00>, !dbg !5838
  %475 = fpext <2 x float> %452 to <2 x double>, !dbg !5839
  %476 = fmul <2 x double> %475, %474, !dbg !5839
  %477 = fptrunc <2 x double> %476 to <2 x float>, !dbg !5839
  %478 = bitcast <2 x float> %477 to <2 x i32>, !dbg !5839
  call void @llvm.dbg.value(metadata i32 undef, i64 0, metadata !1563, metadata !3940), !dbg !5317
  br label %479, !dbg !5840

; <label>:479                                     ; preds = %435, %436, %457
  %480 = phi i32 [ %443, %436 ], [ %467, %457 ], [ %224, %435 ]
  %481 = phi <2 x i32> [ %453, %436 ], [ %478, %457 ], [ %225, %435 ]
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2215, metadata !2666), !dbg !5841
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2222, metadata !2666), !dbg !5845
  call void @llvm.dbg.value(metadata double 1.000000e+00, i64 0, metadata !2218, metadata !2666), !dbg !5846
  %482 = bitcast i32 %480 to float, !dbg !5847
  %483 = fpext float %482 to double, !dbg !5847
  %484 = fmul double %483, 2.970000e-01, !dbg !5847
  %485 = extractelement <2 x i32> %481, i32 0, !dbg !5847
  %486 = bitcast i32 %485 to float, !dbg !5847
  %487 = fpext float %486 to double, !dbg !5847
  %488 = fmul double %487, 5.890000e-01, !dbg !5847
  %489 = fadd double %484, %488, !dbg !5847
  %490 = extractelement <2 x i32> %481, i32 1, !dbg !5847
  %491 = bitcast i32 %490 to float, !dbg !5847
  %492 = fpext float %491 to double, !dbg !5847
  %493 = fmul double %492, 1.140000e-01, !dbg !5847
  %494 = fadd double %489, %493, !dbg !5847
  %495 = call double @fabs(double %494) #7, !dbg !5848
  call void @llvm.dbg.value(metadata double %495, i64 0, metadata !2214, metadata !2666), !dbg !5849
  call void @llvm.dbg.value(metadata double %495, i64 0, metadata !2223, metadata !2666), !dbg !5850
  call void @llvm.dbg.value(metadata double %495, i64 0, metadata !2219, metadata !2666), !dbg !5851
  %496 = fcmp olt double %495, 1.000000e+00, !dbg !5852
  %497 = select i1 %496, double %495, double 1.000000e+00, !dbg !5853
  call void @llvm.dbg.value(metadata double %497, i64 0, metadata !1559, metadata !2666), !dbg !5340
  %indvars.iv.next89 = add nuw i64 %indvars.iv88, 1, !dbg !5538
  %498 = getelementptr inbounds %"struct.pov::Texture_Struct"* %Layer.058, i64 0, i32 8, !dbg !5854
  %499 = bitcast %"struct.pov::Pattern_Struct"** %498 to %"struct.pov::Texture_Struct"**, !dbg !5854
  %500 = load %"struct.pov::Texture_Struct"** %499, align 8, !dbg !5854, !tbaa !3883
  call void @llvm.dbg.value(metadata %"struct.pov::Texture_Struct"* %500, i64 0, metadata !1569, metadata !2666), !dbg !5855
  %501 = icmp ne %"struct.pov::Texture_Struct"* %500, null, !dbg !5536
  %502 = load double* @_ZN3pov11ADC_BailoutE, align 8
  %503 = fcmp ogt double %497, %502, !dbg !5537
  %or.cond = and i1 %501, %503, !dbg !5538
  br i1 %or.cond, label %214, label %..critedge_crit_edge, !dbg !5538

..critedge_crit_edge:                             ; preds = %479
  %504 = trunc i64 %indvars.iv.next89 to i32, !dbg !5538
  br label %.critedge, !dbg !5538

.critedge:                                        ; preds = %..critedge_crit_edge, %.preheader39
  %505 = phi double [ %303, %..critedge_crit_edge ], [ undef, %.preheader39 ]
  %506 = phi double [ %304, %..critedge_crit_edge ], [ undef, %.preheader39 ]
  %507 = phi double [ %305, %..critedge_crit_edge ], [ undef, %.preheader39 ]
  %508 = phi double [ %306, %..critedge_crit_edge ], [ undef, %.preheader39 ]
  %509 = phi double [ %307, %..critedge_crit_edge ], [ undef, %.preheader39 ]
  %510 = phi double [ %308, %..critedge_crit_edge ], [ undef, %.preheader39 ]
  %511 = phi double [ %502, %..critedge_crit_edge ], [ %191, %.preheader39 ]
  %layer_number.0.lcssa = phi i32 [ %504, %..critedge_crit_edge ], [ 0, %.preheader39 ]
  %Trans.0.lcssa = phi double [ %497, %..critedge_crit_edge ], [ 1.000000e+00, %.preheader39 ]
  %.lcssa46 = phi float [ %332, %..critedge_crit_edge ], [ 0.000000e+00, %.preheader39 ]
  %.lcssa45 = phi float [ %334, %..critedge_crit_edge ], [ 0.000000e+00, %.preheader39 ]
  %.lcssa44 = phi float [ %336, %..critedge_crit_edge ], [ 0.000000e+00, %.preheader39 ]
  %.lcssa = phi i32 [ %480, %..critedge_crit_edge ], [ 1065353216, %.preheader39 ]
  %512 = phi <2 x i32> [ %481, %..critedge_crit_edge ], [ <i32 1065353216, i32 1065353216>, %.preheader39 ]
  %513 = load %"struct.pov::Object_Struct"** getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 18), align 8, !dbg !5856, !tbaa !5858
  %514 = icmp eq %"struct.pov::Object_Struct"* %513, null, !dbg !5859
  br i1 %514, label %515, label %621, !dbg !5860

; <label>:515                                     ; preds = %.critedge
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2214, metadata !2666), !dbg !5861
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2207, metadata !2666), !dbg !5866
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2199, metadata !2666), !dbg !5867
  %516 = fpext float %.lcssa46 to double, !dbg !5868
  %517 = fmul double %516, 2.970000e-01, !dbg !5868
  %518 = fpext float %.lcssa45 to double, !dbg !5868
  %519 = fmul double %518, 5.890000e-01, !dbg !5868
  %520 = fadd double %519, %517, !dbg !5868
  %521 = fpext float %.lcssa44 to double, !dbg !5868
  %522 = fmul double %521, 1.140000e-01, !dbg !5868
  %523 = fadd double %522, %520, !dbg !5868
  %524 = call double @fabs(double %523) #7, !dbg !5869
  call void @llvm.dbg.value(metadata double %524, i64 0, metadata !2215, metadata !2666), !dbg !5870
  call void @llvm.dbg.value(metadata double %524, i64 0, metadata !2208, metadata !2666), !dbg !5871
  call void @llvm.dbg.value(metadata double %524, i64 0, metadata !2200, metadata !2666), !dbg !5872
  %525 = fcmp one double %523, 0.000000e+00, !dbg !5873
  %526 = select i1 %525, double %524, double 0.000000e+00, !dbg !5874
  call void @llvm.dbg.value(metadata double %526, i64 0, metadata !1576, metadata !2666), !dbg !5875
  %527 = getelementptr inbounds %"struct.pov::Texture_Struct"* %Texture, i64 0, i32 14, !dbg !5876
  %528 = load %"struct.pov::Finish_Struct"** %527, align 8, !dbg !5876, !tbaa !5678
  %529 = icmp eq %"struct.pov::Finish_Struct"* %528, null, !dbg !5878
  br i1 %529, label %535, label %530, !dbg !5879

; <label>:530                                     ; preds = %515
  %531 = getelementptr inbounds %"struct.pov::Finish_Struct"* %528, i64 0, i32 0, !dbg !5880
  %532 = load float* %531, align 4, !dbg !5880, !tbaa !4818
  %533 = fpext float %532 to double, !dbg !5881
  %534 = fmul double %526, %533, !dbg !5882
  call void @llvm.dbg.value(metadata double %534, i64 0, metadata !1576, metadata !2666), !dbg !5875
  br label %535, !dbg !5883

; <label>:535                                     ; preds = %515, %530
  %diffuseWeight.0 = phi double [ %534, %530 ], [ %526, %515 ]
  call void @llvm.dbg.value(metadata double %497, i64 0, metadata !1575, metadata !2666), !dbg !5884
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2214, metadata !2666), !dbg !5885
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2207, metadata !2666), !dbg !5889
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2199, metadata !2666), !dbg !5890
  %536 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 0, i64 0, !dbg !5891
  %537 = load float* %536, align 4, !dbg !5891, !tbaa !3269
  %538 = fpext float %537 to double, !dbg !5891
  %539 = fmul double %538, 2.970000e-01, !dbg !5891
  %540 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 0, i64 1, !dbg !5891
  %541 = load float* %540, align 4, !dbg !5891, !tbaa !3269
  %542 = fpext float %541 to double, !dbg !5891
  %543 = fmul double %542, 5.890000e-01, !dbg !5891
  %544 = fadd double %539, %543, !dbg !5891
  %545 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 0, i64 2, !dbg !5891
  %546 = load float* %545, align 4, !dbg !5891, !tbaa !3269
  %547 = fpext float %546 to double, !dbg !5891
  %548 = fmul double %547, 1.140000e-01, !dbg !5891
  %549 = fadd double %544, %548, !dbg !5891
  %550 = call double @fabs(double %549) #7, !dbg !5892
  call void @llvm.dbg.value(metadata double %550, i64 0, metadata !2215, metadata !2666), !dbg !5893
  call void @llvm.dbg.value(metadata double %550, i64 0, metadata !2208, metadata !2666), !dbg !5894
  call void @llvm.dbg.value(metadata double %550, i64 0, metadata !2200, metadata !2666), !dbg !5895
  %551 = fcmp one double %549, 0.000000e+00, !dbg !5896
  %552 = select i1 %551, double %550, double 0.000000e+00, !dbg !5897
  call void @llvm.dbg.value(metadata double %552, i64 0, metadata !1574, metadata !2666), !dbg !5898
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2214, metadata !2666), !dbg !5899
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2207, metadata !2666), !dbg !5903
  call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2199, metadata !2666), !dbg !5904
  %553 = fsub double 1.000000e+00, %diffuseWeight.0, !dbg !5905
  call void @llvm.dbg.value(metadata double %553, i64 0, metadata !2215, metadata !2666), !dbg !5906
  call void @llvm.dbg.value(metadata double %553, i64 0, metadata !2208, metadata !2666), !dbg !5907
  call void @llvm.dbg.value(metadata double %553, i64 0, metadata !2200, metadata !2666), !dbg !5908
  %554 = fcmp ogt double %553, 0.000000e+00, !dbg !5909
  %555 = select i1 %554, double %553, double 0.000000e+00, !dbg !5910
  call void @llvm.dbg.value(metadata double %555, i64 0, metadata !1577, metadata !2666), !dbg !5911
  %556 = fadd double %Trans.0.lcssa, %552, !dbg !5912
  %557 = fadd double %diffuseWeight.0, %556, !dbg !5913
  %558 = fadd double %555, %557, !dbg !5914
  call void @llvm.dbg.value(metadata double %558, i64 0, metadata !1578, metadata !2666), !dbg !5915
  %559 = fcmp ogt double %557, %511, !dbg !5916
  br i1 %559, label %560, label %.thread.thread, !dbg !5918

; <label>:560                                     ; preds = %535
  %561 = fdiv double %diffuseWeight.0, %558, !dbg !5919
  call void @llvm.dbg.value(metadata double %561, i64 0, metadata !1576, metadata !2666), !dbg !5875
  %562 = fdiv double %Trans.0.lcssa, %558, !dbg !5921
  call void @llvm.dbg.value(metadata double %562, i64 0, metadata !1575, metadata !2666), !dbg !5884
  %563 = fdiv double %552, %558, !dbg !5922
  call void @llvm.dbg.value(metadata double %563, i64 0, metadata !1574, metadata !2666), !dbg !5898
  %564 = call i32 @_ZN3pov8POV_RANDEv() #6, !dbg !5923
  %565 = sitofp i32 %564 to double, !dbg !5923
  %566 = fmul double %565, 0x3F0000200040021E, !dbg !5923
  call void @llvm.dbg.value(metadata double %566, i64 0, metadata !1579, metadata !2666), !dbg !5924
  %567 = fcmp olt double %566, %561, !dbg !5925
  br i1 %567, label %568, label %574, !dbg !5927

; <label>:568                                     ; preds = %560
  %569 = fdiv double 1.000000e+00, %561, !dbg !5928
  %570 = fptrunc double %569 to float, !dbg !5930
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1415, metadata !2666), !dbg !5931
  tail call void @llvm.dbg.value(metadata float %570, i64 0, metadata !1416, metadata !2666), !dbg !5933
  %571 = fmul float %.lcssa46, %570, !dbg !5934
  call void @llvm.dbg.value(metadata float %571, i64 0, metadata !1566, metadata !3896), !dbg !5320
  %572 = fmul float %.lcssa45, %570, !dbg !5935
  call void @llvm.dbg.value(metadata float %572, i64 0, metadata !1566, metadata !3933), !dbg !5320
  %573 = fmul float %.lcssa44, %570, !dbg !5936
  call void @llvm.dbg.value(metadata float %573, i64 0, metadata !1566, metadata !3940), !dbg !5320
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1571, metadata !2666), !dbg !5937
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1573, metadata !2666), !dbg !5938
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1572, metadata !2666), !dbg !5939
  store i32 0, i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 24), align 4, !dbg !5940, !tbaa !5941
  br label %.thread32, !dbg !5942

; <label>:574                                     ; preds = %560
  %575 = fadd double %561, %562, !dbg !5943
  %576 = fcmp olt double %566, %575, !dbg !5945
  br i1 %576, label %577, label %588, !dbg !5946

; <label>:577                                     ; preds = %574
  %578 = fdiv double 1.000000e+00, %562, !dbg !5947
  %579 = fptrunc double %578 to float, !dbg !5949
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1415, metadata !2666), !dbg !5950
  tail call void @llvm.dbg.value(metadata float %579, i64 0, metadata !1416, metadata !2666), !dbg !5952
  %580 = bitcast i32 %.lcssa to float, !dbg !5953
  %581 = fmul float %580, %579, !dbg !5953
  %582 = bitcast float %581 to i32, !dbg !5953
  call void @llvm.dbg.value(metadata i32 %582, i64 0, metadata !1563, metadata !3896), !dbg !5317
  call void @llvm.dbg.value(metadata i32 undef, i64 0, metadata !1563, metadata !3933), !dbg !5317
  %583 = bitcast <2 x i32> %512 to <2 x float>, !dbg !5954
  %584 = insertelement <2 x float> undef, float %579, i32 0, !dbg !5954
  %585 = insertelement <2 x float> %584, float %579, i32 1, !dbg !5954
  %586 = fmul <2 x float> %585, %583, !dbg !5954
  %587 = bitcast <2 x float> %586 to <2 x i32>, !dbg !5954
  call void @llvm.dbg.value(metadata i32 undef, i64 0, metadata !1563, metadata !3940), !dbg !5317
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1571, metadata !2666), !dbg !5937
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1573, metadata !2666), !dbg !5938
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1572, metadata !2666), !dbg !5939
  store i32 1, i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 24), align 4, !dbg !5955, !tbaa !5941
  br label %621, !dbg !5956

; <label>:588                                     ; preds = %574
  %589 = fadd double %575, %563, !dbg !5957
  %590 = fcmp olt double %566, %589, !dbg !5959
  br i1 %590, label %.thread.thread33, label %.thread32, !dbg !5960

.thread.thread33:                                 ; preds = %588
  %591 = fdiv double 1.000000e+00, %563, !dbg !5961
  %592 = fptrunc double %591 to float, !dbg !5963
  tail call void @llvm.dbg.value(metadata float* %536, i64 0, metadata !1415, metadata !2666), !dbg !5964
  tail call void @llvm.dbg.value(metadata float %592, i64 0, metadata !1416, metadata !2666), !dbg !5966
  %593 = load float* %536, align 4, !dbg !5967, !tbaa !3269
  %594 = fmul float %593, %592, !dbg !5967
  store float %594, float* %536, align 4, !dbg !5967, !tbaa !3269
  %595 = load float* %540, align 4, !dbg !5968, !tbaa !3269
  %596 = fmul float %592, %595, !dbg !5968
  store float %596, float* %540, align 4, !dbg !5968, !tbaa !3269
  %597 = load float* %545, align 4, !dbg !5969, !tbaa !3269
  %598 = fmul float %592, %597, !dbg !5969
  store float %598, float* %545, align 4, !dbg !5969, !tbaa !3269
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !1571, metadata !2666), !dbg !5937
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1573, metadata !2666), !dbg !5938
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1572, metadata !2666), !dbg !5939
  store i32 1, i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 24), align 4, !dbg !5970, !tbaa !5941
  br label %955, !dbg !5971

.thread32:                                        ; preds = %568, %588
  %599 = phi float [ %573, %568 ], [ %.lcssa44, %588 ]
  %600 = phi float [ %572, %568 ], [ %.lcssa45, %588 ]
  %601 = phi float [ %571, %568 ], [ %.lcssa46, %588 ]
  %602 = getelementptr inbounds [3 x double]* %LayNormal, i64 0, i64 0, !dbg !5972
  %603 = call double @_ZN3pov9spec_randEv() #6, !dbg !5975
  %604 = fmul double %603, 0x41DFFFFFFFC00000, !dbg !5976
  %605 = fptosi double %604 to i32, !dbg !5977
  %606 = srem i32 %605, 400, !dbg !5978
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NewRay, i64 0, metadata !1570, metadata !2666), !dbg !5349
  call void @_ZN3pov9ChooseRayEPNS_10Ray_StructEPdS1_S2_i(%"struct.pov::Ray_Struct"* %NewRay, double* %602, %"struct.pov::Ray_Struct"* %Ray, double* %Raw_Normal, i32 %606) #6, !dbg !5979
  %607 = load float* %LightCol, align 4, !dbg !5980, !tbaa !3269
  %608 = fmul float %601, %607, !dbg !5981
  %609 = getelementptr inbounds [5 x float]* %CurLightCol, i64 0, i64 0, !dbg !5982
  store float %608, float* %609, align 16, !dbg !5983, !tbaa !3269
  %610 = load float* %138, align 4, !dbg !5984, !tbaa !3269
  %611 = fmul float %600, %610, !dbg !5985
  %612 = getelementptr inbounds [5 x float]* %CurLightCol, i64 0, i64 1, !dbg !5986
  store float %611, float* %612, align 4, !dbg !5987, !tbaa !3269
  %613 = load float* %141, align 4, !dbg !5988, !tbaa !3269
  %614 = fmul float %599, %613, !dbg !5989
  %615 = getelementptr inbounds [5 x float]* %CurLightCol, i64 0, i64 2, !dbg !5990
  store float %614, float* %615, align 8, !dbg !5991, !tbaa !3269
  %616 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5992, !tbaa !2664
  %617 = add nsw i32 %616, 1, !dbg !5992
  store i32 %617, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5992, !tbaa !2664
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NewRay, i64 0, metadata !1570, metadata !2666), !dbg !5349
  %618 = call double @_ZN3pov5TraceEPNS_10Ray_StructEPfd(%"struct.pov::Ray_Struct"* %NewRay, float* %609, double 1.000000e+00) #6, !dbg !5993
  %619 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5994, !tbaa !2664
  %620 = add nsw i32 %619, -1, !dbg !5994
  store i32 %620, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !5994, !tbaa !2664
  br label %.thread.thread, !dbg !5971

; <label>:621                                     ; preds = %.critedge, %577
  %.ph.ph = phi i32 [ %582, %577 ], [ %.lcssa, %.critedge ]
  %doReflection.0.ph.ph26 = phi i32 [ 0, %577 ], [ 1, %.critedge ]
  %622 = phi <2 x i32> [ %587, %577 ], [ %512, %.critedge ]
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !1584, metadata !2666), !dbg !5995
  %623 = load %"struct.pov::Object_Struct"** %55, align 8, !dbg !5996, !tbaa !3151
  %624 = getelementptr inbounds %"struct.pov::Object_Struct"* %623, i64 0, i32 13, !dbg !5996
  %625 = load i32* %624, align 4, !dbg !5996, !tbaa !3160
  %626 = and i32 %625, 8388608, !dbg !5996
  %627 = icmp eq i32 %626, 0, !dbg !5996
  br i1 %627, label %632, label %628, !dbg !5997

; <label>:628                                     ; preds = %621
  %629 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 25), align 8, !dbg !5998, !tbaa !4495
  %630 = and i32 %629, 16777216, !dbg !5999
  %631 = icmp eq i32 %630, 0, !dbg !5999
  br i1 %631, label %642, label %632, !dbg !6000

; <label>:632                                     ; preds = %628, %621
  %633 = and i32 %625, 16777216, !dbg !6001
  %634 = icmp eq i32 %633, 0, !dbg !6001
  br i1 %634, label %635, label %641, !dbg !6002

; <label>:635                                     ; preds = %632
  %636 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 25), align 8, !dbg !6003, !tbaa !4495
  %637 = and i32 %636, 8388608, !dbg !6004
  %638 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 23), align 8
  %639 = or i32 %637, %638, !dbg !6005
  %640 = icmp eq i32 %639, 0, !dbg !6005
  br i1 %640, label %.thread, label %642, !dbg !6005

; <label>:641                                     ; preds = %632
  %.old = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 23), align 8, !dbg !6006, !tbaa !5508
  %.old6 = icmp eq i32 %.old, 0, !dbg !6007
  br i1 %.old6, label %.thread, label %642, !dbg !6008

; <label>:642                                     ; preds = %628, %641, %635
  %643 = getelementptr inbounds %"struct.pov::Object_Struct"* %623, i64 0, i32 5, !dbg !6009
  %644 = load %"struct.pov::Interior_Struct"** %643, align 8, !dbg !6009, !tbaa !3723
  call void @llvm.dbg.value(metadata %"struct.pov::Interior_Struct"* %644, i64 0, metadata !1568, metadata !2666), !dbg !5420
  %645 = icmp ne %"struct.pov::Interior_Struct"* %644, null, !dbg !6010
  %646 = load double* @_ZN3pov11ADC_BailoutE, align 8
  %647 = fcmp ogt double %Trans.0.lcssa, %646, !dbg !6011
  %or.cond18 = and i1 %645, %647, !dbg !6012
  br i1 %or.cond18, label %648, label %.thread, !dbg !6012

; <label>:648                                     ; preds = %642
  %649 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !6013, !tbaa !3797
  %650 = and i32 %649, 16, !dbg !6014
  %651 = icmp eq i32 %650, 0, !dbg !6014
  br i1 %651, label %.thread, label %652, !dbg !6015

; <label>:652                                     ; preds = %648
  %fabsf = call float @fabsf(float 1.000000e+00) #4, !dbg !6016
  %653 = fpext float %fabsf to double, !dbg !6016
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1643, metadata !2666), !dbg !6017
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1644, metadata !2666), !dbg !6019
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1651, metadata !2666), !dbg !6020
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1652, metadata !2666), !dbg !6022
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1658, metadata !2666), !dbg !6023
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1659, metadata !2666), !dbg !6025
  %654 = bitcast <2 x i32> %622 to <2 x float>, !dbg !6026
  %655 = extractelement <2 x float> %654, i32 0, !dbg !6027
  %656 = extractelement <2 x float> %654, i32 1, !dbg !6027
  %657 = fcmp olt float %655, %656, !dbg !6027
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1643, metadata !2666), !dbg !6028
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1651, metadata !2666), !dbg !6030
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1658, metadata !2666), !dbg !6032
  %658 = bitcast i32 %.ph.ph to float, !dbg !6034
  %659 = select i1 %657, float %656, float %655, !dbg !6035
  %660 = fcmp olt float %658, %659, !dbg !6036
  %661 = select i1 %660, float %659, float %658, !dbg !6037
  %662 = fpext float %661 to double, !dbg !6037
  %663 = fmul double %662, %653, !dbg !6038
  call void @llvm.dbg.value(metadata double %663, i64 0, metadata !1554, metadata !2666), !dbg !6039
  call void @llvm.dbg.value(metadata double %663, i64 0, metadata !2214, metadata !2666), !dbg !6040
  call void @llvm.dbg.value(metadata double %663, i64 0, metadata !2207, metadata !2666), !dbg !6044
  call void @llvm.dbg.value(metadata double %663, i64 0, metadata !2199, metadata !2666), !dbg !6045
  call void @llvm.dbg.value(metadata double %663, i64 0, metadata !1554, metadata !2666), !dbg !6039
  %fabsf11 = call float @fabsf(float 0.000000e+00) #4, !dbg !6046
  %664 = fpext float %fabsf11 to double, !dbg !6046
  call void @llvm.dbg.value(metadata double %664, i64 0, metadata !1555, metadata !2666), !dbg !6047
  call void @llvm.dbg.value(metadata double %664, i64 0, metadata !2215, metadata !2666), !dbg !6048
  call void @llvm.dbg.value(metadata double %664, i64 0, metadata !2208, metadata !2666), !dbg !6049
  call void @llvm.dbg.value(metadata double %664, i64 0, metadata !2200, metadata !2666), !dbg !6050
  call void @llvm.dbg.value(metadata double %664, i64 0, metadata !1555, metadata !2666), !dbg !6047
  %665 = fcmp olt double %663, %664, !dbg !6051
  %666 = select i1 %665, double %664, double %663, !dbg !6052
  %667 = fmul double %666, %Weight, !dbg !6053
  call void @llvm.dbg.value(metadata double %667, i64 0, metadata !1556, metadata !2666), !dbg !5635
  tail call void @llvm.dbg.value(metadata float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 0), i64 0, metadata !1391, metadata !2666), !dbg !6054
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1392, metadata !2666), !dbg !6056
  store i32 %.ph.ph, i32* bitcast ([5 x float]* @_ZN3pov7GFilColE to i32*), align 16, !dbg !6057, !tbaa !3269
  %668 = extractelement <2 x i32> %622, i32 0, !dbg !6058
  store i32 %668, i32* bitcast (float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 1) to i32*), align 4, !dbg !6058, !tbaa !3269
  %669 = extractelement <2 x i32> %622, i32 1, !dbg !6059
  store i32 %669, i32* bitcast (float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 2) to i32*), align 8, !dbg !6059, !tbaa !3269
  store i32 1065353216, i32* bitcast (float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 3) to i32*), align 4, !dbg !6060, !tbaa !3269
  store i32 0, i32* bitcast (float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 4) to i32*), align 16, !dbg !6061, !tbaa !3269
  %670 = getelementptr inbounds [3 x double]* %TopNormal, i64 0, i64 0, !dbg !6062
  %671 = bitcast [3 x double]* %Local_Normal.i to i8*, !dbg !6063
  call void @llvm.lifetime.start(i64 24, i8* %671), !dbg !6063
  %672 = bitcast [5 x float]* %Hue.i to i8*, !dbg !6063
  call void @llvm.lifetime.start(i64 20, i8* %672), !dbg !6063
  %673 = bitcast [5 x float]* %Elem.i to i8*, !dbg !6063
  call void @llvm.lifetime.start(i64 20, i8* %673), !dbg !6063
  %674 = bitcast [5 x float]* %lc.i to i8*, !dbg !6063
  call void @llvm.lifetime.start(i64 20, i8* %674), !dbg !6063
  %675 = bitcast [5 x float]* %lc1.i to i8*, !dbg !6063
  call void @llvm.lifetime.start(i64 20, i8* %675), !dbg !6063
  call void @llvm.dbg.value(metadata %"struct.pov::Interior_Struct"* %644, i64 0, metadata !1664, metadata !2666), !dbg !6063
  call void @llvm.dbg.value(metadata double* %3, i64 0, metadata !1665, metadata !2666), !dbg !6064
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Ray, i64 0, metadata !1666, metadata !2666), !dbg !6065
  call void @llvm.dbg.value(metadata double* %670, i64 0, metadata !1667, metadata !2666), !dbg !6066
  call void @llvm.dbg.value(metadata double* %Raw_Normal, i64 0, metadata !1668, metadata !2666), !dbg !6067
  call void @llvm.dbg.value(metadata float* %LightCol, i64 0, metadata !1669, metadata !2666), !dbg !6068
  call void @llvm.dbg.value(metadata double %667, i64 0, metadata !1670, metadata !2666), !dbg !6069
  %676 = bitcast %"struct.pov::Ray_Struct"* %NRay.i to i8*, !dbg !6070
  call void @llvm.lifetime.start(i64 856, i8* %676) #5, !dbg !6070
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay.i, i64 0, metadata !1677, metadata !2666), !dbg !6071
  call void @_ZN3pov19Copy_Ray_ContainersEPNS_10Ray_StructES1_(%"struct.pov::Ray_Struct"* %NRay.i, %"struct.pov::Ray_Struct"* %Ray) #6, !dbg !6072
  call void @llvm.dbg.value(metadata double* %3, i64 0, metadata !1349, metadata !2666), !dbg !6073
  %677 = bitcast double* %3 to <2 x i64>*, !dbg !6075
  %678 = load <2 x i64>* %677, align 8, !dbg !6075, !tbaa !3114
  %679 = bitcast %"struct.pov::Ray_Struct"* %NRay.i to <2 x i64>*, !dbg !6076
  store <2 x i64> %678, <2 x i64>* %679, align 16, !dbg !6076, !tbaa !3114
  %680 = load i64* %8, align 8, !dbg !6077, !tbaa !3114
  %681 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay.i, i64 0, i32 0, i64 2, !dbg !6078
  %682 = bitcast double* %681 to i64*, !dbg !6079
  store i64 %680, i64* %682, align 16, !dbg !6079, !tbaa !3114
  %683 = load i32* @_ZN3pov9disp_elemE, align 4, !dbg !6080, !tbaa !2664
  %684 = icmp eq i32 %683, 0, !dbg !6082
  br i1 %684, label %685, label %688, !dbg !6083

; <label>:685                                     ; preds = %652
  %686 = getelementptr inbounds %"struct.pov::Interior_Struct"* %644, i64 0, i32 2, !dbg !6084
  %687 = load i32* %686, align 4, !dbg !6084, !tbaa !6086
  store i32 %687, i32* @_ZN3pov11disp_nelemsE, align 4, !dbg !6087, !tbaa !2664
  br label %688, !dbg !6088

; <label>:688                                     ; preds = %685, %652
  %689 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 2, !dbg !6089
  %690 = load i32* %689, align 4, !dbg !6089, !tbaa !3972
  %691 = icmp eq i32 %690, -1, !dbg !6091
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay.i, i64 0, metadata !1677, metadata !2666), !dbg !6071
  br i1 %691, label %692, label %705, !dbg !6092

; <label>:692                                     ; preds = %688
  call void @_ZN3pov9Ray_EnterEPNS_10Ray_StructEPNS_15Interior_StructE(%"struct.pov::Ray_Struct"* %NRay.i, %"struct.pov::Interior_Struct"* %644) #6, !dbg !6093
  %693 = load double* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 6), align 8, !dbg !6095, !tbaa !6096
  %694 = getelementptr inbounds %"struct.pov::Interior_Struct"* %644, i64 0, i32 3, !dbg !6097
  %695 = load float* %694, align 4, !dbg !6097, !tbaa !6098
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1673, metadata !2666), !dbg !6099
  %696 = load double* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 7), align 8, !dbg !6100, !tbaa !6101
  %697 = getelementptr inbounds %"struct.pov::Interior_Struct"* %644, i64 0, i32 4, !dbg !6102
  %698 = load float* %697, align 4, !dbg !6102, !tbaa !6103
  %699 = insertelement <2 x float> undef, float %698, i32 0, !dbg !6104
  %700 = insertelement <2 x float> %699, float %695, i32 1, !dbg !6104
  %701 = fpext <2 x float> %700 to <2 x double>, !dbg !6104
  %702 = insertelement <2 x double> undef, double %696, i32 0, !dbg !6105
  %703 = insertelement <2 x double> %702, double %693, i32 1, !dbg !6105
  %704 = fdiv <2 x double> %703, %701, !dbg !6105
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1674, metadata !2666), !dbg !6106
  br label %766, !dbg !6107

; <label>:705                                     ; preds = %688
  %706 = call i32 @_ZN3pov25Interior_In_Ray_ContainerEPNS_10Ray_StructEPNS_15Interior_StructE(%"struct.pov::Ray_Struct"* %NRay.i, %"struct.pov::Interior_Struct"* %644) #6, !dbg !6108
  call void @llvm.dbg.value(metadata i32 %706, i64 0, metadata !1671, metadata !2666), !dbg !6111
  %707 = icmp sgt i32 %706, -1, !dbg !6112
  br i1 %707, label %708, label %746, !dbg !6113

; <label>:708                                     ; preds = %705
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay.i, i64 0, metadata !1677, metadata !2666), !dbg !6071
  call void @_ZN3pov8Ray_ExitEPNS_10Ray_StructEi(%"struct.pov::Ray_Struct"* %NRay.i, i32 %706) #6, !dbg !6114
  %709 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay.i, i64 0, i32 2, !dbg !6116
  %710 = load i32* %709, align 16, !dbg !6116, !tbaa !3972
  %711 = icmp eq i32 %710, -1, !dbg !6118
  br i1 %711, label %712, label %725, !dbg !6119

; <label>:712                                     ; preds = %708
  %713 = getelementptr inbounds %"struct.pov::Interior_Struct"* %644, i64 0, i32 3, !dbg !6120
  %714 = load float* %713, align 4, !dbg !6120, !tbaa !6098
  %715 = load double* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 6), align 8, !dbg !6122, !tbaa !6096
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1673, metadata !2666), !dbg !6099
  %716 = getelementptr inbounds %"struct.pov::Interior_Struct"* %644, i64 0, i32 4, !dbg !6123
  %717 = load float* %716, align 4, !dbg !6123, !tbaa !6103
  %718 = insertelement <2 x float> undef, float %717, i32 0, !dbg !6124
  %719 = insertelement <2 x float> %718, float %714, i32 1, !dbg !6124
  %720 = fpext <2 x float> %719 to <2 x double>, !dbg !6124
  %721 = load double* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 7), align 8, !dbg !6125, !tbaa !6101
  %722 = insertelement <2 x double> undef, double %721, i32 0, !dbg !6126
  %723 = insertelement <2 x double> %722, double %715, i32 1, !dbg !6126
  %724 = fdiv <2 x double> %720, %723, !dbg !6126
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1674, metadata !2666), !dbg !6106
  br label %766, !dbg !6127

; <label>:725                                     ; preds = %708
  %726 = add nsw i32 %710, 1, !dbg !6128
  %727 = icmp eq i32 %706, %726, !dbg !6130
  br i1 %727, label %728, label %766, !dbg !6131

; <label>:728                                     ; preds = %725
  %729 = getelementptr inbounds %"struct.pov::Interior_Struct"* %644, i64 0, i32 3, !dbg !6132
  %730 = load float* %729, align 4, !dbg !6132, !tbaa !6098
  %731 = sext i32 %710 to i64, !dbg !6134
  %732 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay.i, i64 0, i32 4, i64 %731, !dbg !6134
  %733 = load %"struct.pov::Interior_Struct"** %732, align 8, !dbg !6134, !tbaa !2657
  %734 = getelementptr inbounds %"struct.pov::Interior_Struct"* %733, i64 0, i32 3, !dbg !6135
  %735 = load float* %734, align 4, !dbg !6135, !tbaa !6098
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1673, metadata !2666), !dbg !6099
  %736 = getelementptr inbounds %"struct.pov::Interior_Struct"* %644, i64 0, i32 4, !dbg !6136
  %737 = load float* %736, align 4, !dbg !6136, !tbaa !6103
  %738 = getelementptr inbounds %"struct.pov::Interior_Struct"* %733, i64 0, i32 4, !dbg !6137
  %739 = load float* %738, align 4, !dbg !6137, !tbaa !6103
  %740 = insertelement <2 x float> undef, float %737, i32 0, !dbg !6138
  %741 = insertelement <2 x float> %740, float %730, i32 1, !dbg !6138
  %742 = insertelement <2 x float> undef, float %739, i32 0, !dbg !6138
  %743 = insertelement <2 x float> %742, float %735, i32 1, !dbg !6138
  %744 = fdiv <2 x float> %741, %743, !dbg !6138
  %745 = fpext <2 x float> %744 to <2 x double>, !dbg !6139
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1674, metadata !2666), !dbg !6106
  br label %766, !dbg !6140

; <label>:746                                     ; preds = %705
  %747 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay.i, i64 0, i32 2, !dbg !6141
  %748 = load i32* %747, align 16, !dbg !6141, !tbaa !3972
  %749 = sext i32 %748 to i64, !dbg !6143
  %750 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay.i, i64 0, i32 4, i64 %749, !dbg !6143
  %751 = load %"struct.pov::Interior_Struct"** %750, align 8, !dbg !6143, !tbaa !2657
  %752 = getelementptr inbounds %"struct.pov::Interior_Struct"* %751, i64 0, i32 3, !dbg !6144
  %753 = load float* %752, align 4, !dbg !6144, !tbaa !6098
  %754 = getelementptr inbounds %"struct.pov::Interior_Struct"* %644, i64 0, i32 3, !dbg !6145
  %755 = load float* %754, align 4, !dbg !6145, !tbaa !6098
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1673, metadata !2666), !dbg !6099
  %756 = getelementptr inbounds %"struct.pov::Interior_Struct"* %751, i64 0, i32 4, !dbg !6146
  %757 = load float* %756, align 4, !dbg !6146, !tbaa !6103
  %758 = getelementptr inbounds %"struct.pov::Interior_Struct"* %644, i64 0, i32 4, !dbg !6147
  %759 = load float* %758, align 4, !dbg !6147, !tbaa !6103
  %760 = insertelement <2 x float> undef, float %757, i32 0, !dbg !6148
  %761 = insertelement <2 x float> %760, float %753, i32 1, !dbg !6148
  %762 = insertelement <2 x float> undef, float %759, i32 0, !dbg !6148
  %763 = insertelement <2 x float> %762, float %755, i32 1, !dbg !6148
  %764 = fdiv <2 x float> %761, %763, !dbg !6148
  %765 = fpext <2 x float> %764 to <2 x double>, !dbg !6149
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1674, metadata !2666), !dbg !6106
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay.i, i64 0, metadata !1677, metadata !2666), !dbg !6071
  call void @_ZN3pov9Ray_EnterEPNS_10Ray_StructEPNS_15Interior_StructE(%"struct.pov::Ray_Struct"* %NRay.i, %"struct.pov::Interior_Struct"* %644) #6, !dbg !6150
  br label %766, !dbg !6151

; <label>:766                                     ; preds = %746, %728, %725, %712, %692
  %767 = phi <2 x double> [ %704, %692 ], [ %724, %712 ], [ %745, %728 ], [ %765, %746 ], [ <double 1.000000e+00, double 1.000000e+00>, %725 ], !dbg !6151
  %768 = extractelement <2 x double> %767, i32 1, !dbg !6152
  %769 = fadd double %768, -1.000000e+00, !dbg !6152
  %770 = call double @fabs(double %769) #7, !dbg !6153
  %771 = fcmp olt double %770, 1.000000e-07, !dbg !6154
  br i1 %771, label %772, label %815, !dbg !6155

; <label>:772                                     ; preds = %766
  %773 = extractelement <2 x double> %767, i32 0, !dbg !6156
  %774 = fadd double %773, -1.000000e+00, !dbg !6156
  %775 = call double @fabs(double %774) #7, !dbg !6157
  %776 = fcmp olt double %775, 1.000000e-07, !dbg !6158
  br i1 %776, label %777, label %815, !dbg !6159

; <label>:777                                     ; preds = %772
  %778 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay.i, i64 0, i32 1, i64 0, !dbg !6160
  %779 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !6161
  call void @llvm.dbg.value(metadata double* %778, i64 0, metadata !1348, metadata !2666), !dbg !6162
  call void @llvm.dbg.value(metadata double* %779, i64 0, metadata !1349, metadata !2666), !dbg !6164
  %780 = bitcast double* %779 to <2 x i64>*, !dbg !6165
  %781 = load <2 x i64>* %780, align 8, !dbg !6165, !tbaa !3114
  %782 = bitcast double* %778 to <2 x i64>*, !dbg !6166
  store <2 x i64> %781, <2 x i64>* %782, align 8, !dbg !6166, !tbaa !3114
  %783 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !6167
  %784 = bitcast double* %783 to i64*, !dbg !6167
  %785 = load i64* %784, align 8, !dbg !6167, !tbaa !3114
  %786 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay.i, i64 0, i32 1, i64 2, !dbg !6168
  %787 = bitcast double* %786 to i64*, !dbg !6169
  store i64 %785, i64* %787, align 8, !dbg !6169, !tbaa !3114
  call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 103), i64 0, metadata !1697, metadata !2666), !dbg !6170
  %788 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 103), align 8, !dbg !6172, !tbaa !2676
  %789 = add nsw i64 %788, 1, !dbg !6172
  store i64 %789, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 103), align 8, !dbg !6172, !tbaa !2676
  %790 = load float* %LightCol, align 4, !dbg !6173, !tbaa !3269
  %791 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 0), align 16, !dbg !6174, !tbaa !3269
  %792 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 3), align 4, !dbg !6175, !tbaa !3269
  %793 = fmul float %791, %792, !dbg !6176
  %794 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 4), align 16, !dbg !6177, !tbaa !3269
  %795 = fadd float %793, %794, !dbg !6178
  %796 = fmul float %790, %795, !dbg !6179
  %797 = getelementptr inbounds [5 x float]* %lc.i, i64 0, i64 0, !dbg !6180
  store float %796, float* %797, align 16, !dbg !6181, !tbaa !3269
  %798 = load float* %138, align 4, !dbg !6182, !tbaa !3269
  %799 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 1), align 4, !dbg !6183, !tbaa !3269
  %800 = fmul float %792, %799, !dbg !6184
  %801 = fadd float %794, %800, !dbg !6185
  %802 = fmul float %798, %801, !dbg !6186
  %803 = getelementptr inbounds [5 x float]* %lc.i, i64 0, i64 1, !dbg !6187
  store float %802, float* %803, align 4, !dbg !6188, !tbaa !3269
  %804 = load float* %141, align 4, !dbg !6189, !tbaa !3269
  %805 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 2), align 8, !dbg !6190, !tbaa !3269
  %806 = fmul float %792, %805, !dbg !6191
  %807 = fadd float %794, %806, !dbg !6192
  %808 = fmul float %804, %807, !dbg !6193
  %809 = getelementptr inbounds [5 x float]* %lc.i, i64 0, i64 2, !dbg !6194
  store float %808, float* %809, align 8, !dbg !6195, !tbaa !3269
  %810 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !6196, !tbaa !2664
  %811 = add nsw i32 %810, 1, !dbg !6196
  store i32 %811, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !6196, !tbaa !2664
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay.i, i64 0, metadata !1677, metadata !2666), !dbg !6071
  %812 = call double @_ZN3pov5TraceEPNS_10Ray_StructEPfd(%"struct.pov::Ray_Struct"* %NRay.i, float* %797, double %667) #6, !dbg !6197
  %813 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !6198, !tbaa !2664
  %814 = add nsw i32 %813, -1, !dbg !6198
  store i32 %814, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !6198, !tbaa !2664
  br label %_ZN3povL16BacktraceRefractEPNS_15Interior_StructEPdPNS_10Ray_StructES2_S2_Pfd.exit, !dbg !6199

; <label>:815                                     ; preds = %772, %766
  %816 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !6200
  call void @llvm.dbg.value(metadata double* %816, i64 0, metadata !1358, metadata !2666), !dbg !6201
  call void @llvm.dbg.value(metadata double* %670, i64 0, metadata !1359, metadata !2666), !dbg !6203
  %817 = load double* %816, align 8, !dbg !6204, !tbaa !3114
  %818 = fmul double %817, %510, !dbg !6205
  %819 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 1, !dbg !6206
  %820 = load double* %819, align 8, !dbg !6206, !tbaa !3114
  %821 = fmul double %820, %509, !dbg !6207
  %822 = fadd double %818, %821, !dbg !6208
  %823 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !6209
  %824 = load double* %823, align 8, !dbg !6209, !tbaa !3114
  %825 = fmul double %824, %508, !dbg !6210
  %826 = fadd double %822, %825, !dbg !6211
  call void @llvm.dbg.value(metadata double %826, i64 0, metadata !1357, metadata !2666), !dbg !6212
  call void @llvm.dbg.value(metadata double %826, i64 0, metadata !1672, metadata !2666), !dbg !6213
  call void @llvm.dbg.value(metadata double %826, i64 0, metadata !1672, metadata !2666), !dbg !6213
  call void @llvm.dbg.value(metadata double %826, i64 0, metadata !1672, metadata !2666), !dbg !6213
  call void @llvm.dbg.value(metadata double %826, i64 0, metadata !1672, metadata !2666), !dbg !6213
  call void @llvm.dbg.value(metadata double %826, i64 0, metadata !1672, metadata !2666), !dbg !6213
  %827 = fcmp ugt double %826, 0.000000e+00, !dbg !6214
  br i1 %827, label %830, label %828, !dbg !6216

; <label>:828                                     ; preds = %815
  call void @llvm.dbg.value(metadata double* %670, i64 0, metadata !1349, metadata !2666), !dbg !6217
  %829 = fsub double -0.000000e+00, %826, !dbg !6220
  call void @llvm.dbg.value(metadata double %829, i64 0, metadata !1672, metadata !2666), !dbg !6213
  call void @llvm.dbg.value(metadata double %829, i64 0, metadata !1357, metadata !2666), !dbg !6212
  call void @llvm.dbg.value(metadata double %829, i64 0, metadata !1672, metadata !2666), !dbg !6213
  call void @llvm.dbg.value(metadata double %829, i64 0, metadata !1672, metadata !2666), !dbg !6213
  call void @llvm.dbg.value(metadata double %829, i64 0, metadata !1672, metadata !2666), !dbg !6213
  call void @llvm.dbg.value(metadata double %829, i64 0, metadata !1672, metadata !2666), !dbg !6213
  call void @llvm.dbg.value(metadata double %829, i64 0, metadata !1672, metadata !2666), !dbg !6213
  br label %834, !dbg !6221

; <label>:830                                     ; preds = %815
  %831 = fsub double -0.000000e+00, %510, !dbg !6222
  %832 = fsub double -0.000000e+00, %509, !dbg !6224
  %833 = fsub double -0.000000e+00, %508, !dbg !6225
  br label %834, !dbg !6151

; <label>:834                                     ; preds = %830, %828
  %.sink95 = phi double [ %831, %830 ], [ %510, %828 ]
  %.sink94 = phi double [ %832, %830 ], [ %509, %828 ]
  %.sink = phi double [ %833, %830 ], [ %508, %828 ]
  %835 = phi double [ %826, %830 ], [ %829, %828 ], !dbg !6151
  %836 = getelementptr inbounds [3 x double]* %Local_Normal.i, i64 0, i64 0, !dbg !6226
  store double %.sink95, double* %836, align 16
  %837 = getelementptr inbounds [3 x double]* %Local_Normal.i, i64 0, i64 1, !dbg !6227
  store double %.sink94, double* %837, align 8
  %838 = getelementptr inbounds [3 x double]* %Local_Normal.i, i64 0, i64 2, !dbg !6228
  store double %.sink, double* %838, align 16
  %839 = load i32* @_ZN3pov9disp_elemE, align 4, !dbg !6229, !tbaa !2664
  %840 = icmp sgt i32 %839, 0, !dbg !6230
  %841 = load i32* @_ZN3pov11disp_nelemsE, align 4, !dbg !6151
  %842 = icmp slt i32 %841, 2, !dbg !6231
  %or.cond.i = or i1 %840, %842, !dbg !6232
  br i1 %or.cond.i, label %850, label %843, !dbg !6232

; <label>:843                                     ; preds = %834
  %844 = extractelement <2 x double> %767, i32 0, !dbg !6233
  %845 = fadd double %844, -1.000000e+00, !dbg !6233
  %846 = call double @fabs(double %845) #7, !dbg !6234
  %847 = fcmp olt double %846, 1.000000e-07, !dbg !6235
  %848 = load i32* @_ZN3pov18firstRadiosityPassE, align 4, !dbg !6151
  %849 = icmp ne i32 %848, 0, !dbg !6236
  %or.cond6.i = or i1 %847, %849, !dbg !6237
  br i1 %or.cond6.i, label %850, label %884, !dbg !6237

; <label>:850                                     ; preds = %843, %834
  %851 = load float* %LightCol, align 4, !dbg !6238, !tbaa !3269
  %852 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 0), align 16, !dbg !6239, !tbaa !3269
  %853 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 3), align 4, !dbg !6240, !tbaa !3269
  %854 = fmul float %852, %853, !dbg !6241
  %855 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 4), align 16, !dbg !6242, !tbaa !3269
  %856 = fadd float %854, %855, !dbg !6243
  %857 = fmul float %851, %856, !dbg !6244
  %858 = getelementptr inbounds [5 x float]* %lc1.i, i64 0, i64 0, !dbg !6245
  store float %857, float* %858, align 16, !dbg !6246, !tbaa !3269
  %859 = load float* %138, align 4, !dbg !6247, !tbaa !3269
  %860 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 1), align 4, !dbg !6248, !tbaa !3269
  %861 = fmul float %853, %860, !dbg !6249
  %862 = fadd float %855, %861, !dbg !6250
  %863 = fmul float %859, %862, !dbg !6251
  %864 = getelementptr inbounds [5 x float]* %lc1.i, i64 0, i64 1, !dbg !6252
  store float %863, float* %864, align 4, !dbg !6253, !tbaa !3269
  %865 = load float* %141, align 4, !dbg !6254, !tbaa !3269
  %866 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 2), align 8, !dbg !6255, !tbaa !3269
  %867 = fmul float %853, %866, !dbg !6256
  %868 = fadd float %855, %867, !dbg !6257
  %869 = fmul float %865, %868, !dbg !6258
  %870 = getelementptr inbounds [5 x float]* %lc1.i, i64 0, i64 2, !dbg !6259
  store float %869, float* %870, align 8, !dbg !6260, !tbaa !3269
  %871 = icmp sgt i32 %841, 1, !dbg !6261
  %or.cond8.i = and i1 %840, %871, !dbg !6263
  br i1 %or.cond8.i, label %872, label %882, !dbg !6263

; <label>:872                                     ; preds = %850
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1702, metadata !2666) #5, !dbg !6264
  call void @llvm.dbg.value(metadata double undef, i64 0, metadata !1703, metadata !2666) #5, !dbg !6266
  call void @llvm.dbg.value(metadata i32 %839, i64 0, metadata !1704, metadata !2666) #5, !dbg !6267
  call void @llvm.dbg.value(metadata i32 %841, i64 0, metadata !1705, metadata !2666) #5, !dbg !6268
  %873 = add nsw i32 %839, -1, !dbg !6269
  %874 = sitofp i32 %873 to double, !dbg !6270
  %875 = add nsw i32 %841, -1, !dbg !6271
  %876 = sitofp i32 %875 to double, !dbg !6272
  %877 = fdiv double %874, %876, !dbg !6273
  %878 = fadd double %877, -5.000000e-01, !dbg !6274
  %879 = extractelement <2 x double> %767, i32 0, !dbg !6275
  %880 = call double @llvm.pow.f64(double %879, double %878) #5, !dbg !6275
  %881 = fmul double %768, %880, !dbg !6276
  call void @llvm.dbg.value(metadata double %881, i64 0, metadata !1683, metadata !2666), !dbg !6277
  br label %882, !dbg !6278

; <label>:882                                     ; preds = %872, %850
  %ior2.0.i = phi double [ %881, %872 ], [ %768, %850 ], !dbg !6151
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay.i, i64 0, metadata !1677, metadata !2666), !dbg !6071
  %883 = call fastcc i32 @_ZN3povL12Refract_GutsEPfdPdS1_S1_dPNS_10Ray_StructES3_dS1_(float* %858, double %ior2.0.i, double* %3, double* %670, double* %836, double %835, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Ray_Struct"* %NRay.i, double %667, double* %Raw_Normal) #6, !dbg !6279
  br label %_ZN3povL16BacktraceRefractEPNS_15Interior_StructEPdPNS_10Ray_StructES2_S2_Pfd.exit, !dbg !6280

; <label>:884                                     ; preds = %843
  call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !1688, metadata !2666), !dbg !6281
  %885 = load float* %LightCol, align 4, !dbg !6282, !tbaa !3269
  %886 = sitofp i32 %841 to float, !dbg !6283
  %887 = fdiv float %885, %886, !dbg !6284
  %888 = fpext float %887 to double, !dbg !6282
  %889 = fmul double %888, 3.000000e+00, !dbg !6285
  %890 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 0), align 16, !dbg !6286, !tbaa !3269
  %891 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 3), align 4, !dbg !6287, !tbaa !3269
  %892 = fmul float %890, %891, !dbg !6288
  %893 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 4), align 16, !dbg !6289, !tbaa !3269
  %894 = fadd float %892, %893, !dbg !6290
  %895 = fpext float %894 to double, !dbg !6291
  %896 = fmul double %889, %895, !dbg !6292
  %897 = fptrunc double %896 to float, !dbg !6282
  call void @llvm.dbg.value(metadata float %897, i64 0, metadata !1688, metadata !3896), !dbg !6281
  %898 = load float* %138, align 4, !dbg !6293, !tbaa !3269
  %899 = fdiv float %898, %886, !dbg !6294
  %900 = fpext float %899 to double, !dbg !6293
  %901 = fmul double %900, 3.000000e+00, !dbg !6295
  %902 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 1), align 4, !dbg !6296, !tbaa !3269
  %903 = fmul float %891, %902, !dbg !6297
  %904 = fadd float %893, %903, !dbg !6298
  %905 = fpext float %904 to double, !dbg !6299
  %906 = fmul double %901, %905, !dbg !6300
  %907 = fptrunc double %906 to float, !dbg !6293
  call void @llvm.dbg.value(metadata float %907, i64 0, metadata !1688, metadata !3933), !dbg !6281
  %908 = load float* %141, align 4, !dbg !6301, !tbaa !3269
  %909 = fdiv float %908, %886, !dbg !6302
  %910 = fpext float %909 to double, !dbg !6301
  %911 = fmul double %910, 3.000000e+00, !dbg !6303
  %912 = load float* getelementptr inbounds ([5 x float]* @_ZN3pov7GFilColE, i64 0, i64 2), align 8, !dbg !6304, !tbaa !3269
  %913 = fmul float %891, %912, !dbg !6305
  %914 = fadd float %893, %913, !dbg !6306
  %915 = fpext float %914 to double, !dbg !6307
  %916 = fmul double %911, %915, !dbg !6308
  %917 = fptrunc double %916 to float, !dbg !6301
  call void @llvm.dbg.value(metadata float %917, i64 0, metadata !1688, metadata !3940), !dbg !6281
  %918 = add nsw i32 %841, -1, !dbg !6309
  %919 = sitofp i32 %918 to double, !dbg !6310
  %920 = fdiv double 1.000000e+00, %919, !dbg !6311
  %921 = call double @llvm.pow.f64(double %844, double %920), !dbg !6312
  call void @llvm.dbg.value(metadata double %921, i64 0, metadata !1675, metadata !2666), !dbg !6313
  store i32 1, i32* @_ZN3pov9disp_elemE, align 4, !dbg !6314, !tbaa !2664
  %922 = icmp slt i32 %841, 1, !dbg !6317
  br i1 %922, label %._crit_edge.i, label %.lr.ph.i, !dbg !6318

.lr.ph.i:                                         ; preds = %884
  %923 = call double @sqrt(double %844) #7, !dbg !6319
  %924 = fdiv double %768, %923, !dbg !6320
  %925 = getelementptr inbounds [5 x float]* %Hue.i, i64 0, i64 0, !dbg !6321
  %926 = getelementptr inbounds [5 x float]* %Elem.i, i64 0, i64 0, !dbg !6323
  %927 = getelementptr inbounds [5 x float]* %Hue.i, i64 0, i64 1, !dbg !6324
  %928 = getelementptr inbounds [5 x float]* %Elem.i, i64 0, i64 1, !dbg !6325
  %929 = getelementptr inbounds [5 x float]* %Hue.i, i64 0, i64 2, !dbg !6326
  %930 = getelementptr inbounds [5 x float]* %Elem.i, i64 0, i64 2, !dbg !6327
  br label %931, !dbg !6318

; <label>:931                                     ; preds = %948, %.lr.ph.i
  %932 = phi i32 [ %841, %.lr.ph.i ], [ %952, %948 ], !dbg !6151
  %ior23.012.i = phi double [ %924, %.lr.ph.i ], [ %949, %948 ], !dbg !6151
  %storemerge11.i = phi i32 [ 1, %.lr.ph.i ], [ %951, %948 ], !dbg !6151
  call fastcc void @_ZN3povL22Dispersion_Element_HueEPfii(float* %925, i32 %storemerge11.i, i32 %932) #6, !dbg !6328
  %933 = load float* %925, align 16, !dbg !6329, !tbaa !3269
  %934 = fmul float %897, %933, !dbg !6330
  store float %934, float* %926, align 16, !dbg !6331, !tbaa !3269
  %935 = load float* %927, align 4, !dbg !6324, !tbaa !3269
  %936 = fmul float %907, %935, !dbg !6332
  store float %936, float* %928, align 4, !dbg !6333, !tbaa !3269
  %937 = load float* %929, align 8, !dbg !6326, !tbaa !3269
  %938 = fmul float %917, %937, !dbg !6334
  store float %938, float* %930, align 8, !dbg !6335, !tbaa !3269
  %939 = fpext float %934 to double, !dbg !6336
  %940 = fcmp ogt double %939, 1.000000e-07, !dbg !6338
  br i1 %940, label %946, label %941, !dbg !6339

; <label>:941                                     ; preds = %931
  %942 = fpext float %936 to double, !dbg !6340
  %943 = fcmp ogt double %942, 1.000000e-07, !dbg !6341
  %944 = fpext float %938 to double, !dbg !6151
  %945 = fcmp ogt double %944, 1.000000e-07, !dbg !6342
  %or.cond10.i = or i1 %943, %945, !dbg !6343
  br i1 %or.cond10.i, label %946, label %948, !dbg !6343

; <label>:946                                     ; preds = %941, %931
  call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay.i, i64 0, metadata !1677, metadata !2666), !dbg !6071
  %947 = call fastcc i32 @_ZN3povL12Refract_GutsEPfdPdS1_S1_dPNS_10Ray_StructES3_dS1_(float* %926, double %ior23.012.i, double* %3, double* %670, double* %836, double %835, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Ray_Struct"* %NRay.i, double %667, double* %Raw_Normal) #6, !dbg !6344
  br label %948, !dbg !6346

; <label>:948                                     ; preds = %946, %941
  %949 = fmul double %921, %ior23.012.i, !dbg !6347
  call void @llvm.dbg.value(metadata double %949, i64 0, metadata !1690, metadata !2666), !dbg !6348
  %950 = load i32* @_ZN3pov9disp_elemE, align 4, !dbg !6314, !tbaa !2664
  %951 = add nsw i32 %950, 1, !dbg !6314
  store i32 %951, i32* @_ZN3pov9disp_elemE, align 4, !dbg !6314, !tbaa !2664
  %952 = load i32* @_ZN3pov11disp_nelemsE, align 4, !dbg !6349, !tbaa !2664
  %953 = icmp slt i32 %950, %952, !dbg !6317
  br i1 %953, label %931, label %._crit_edge.i, !dbg !6318

._crit_edge.i:                                    ; preds = %948, %884
  store i32 0, i32* @_ZN3pov9disp_elemE, align 4, !dbg !6350, !tbaa !2664
  store i32 0, i32* @_ZN3pov11disp_nelemsE, align 4, !dbg !6351, !tbaa !2664
  br label %_ZN3povL16BacktraceRefractEPNS_15Interior_StructEPdPNS_10Ray_StructES2_S2_Pfd.exit, !dbg !6151

_ZN3povL16BacktraceRefractEPNS_15Interior_StructEPdPNS_10Ray_StructES2_S2_Pfd.exit: ; preds = %777, %882, %._crit_edge.i
  %.0.i = phi i32 [ %883, %882 ], [ 0, %._crit_edge.i ], [ 0, %777 ], !dbg !6151
  call void @llvm.lifetime.end(i64 856, i8* %676) #5, !dbg !6352
  call void @llvm.lifetime.end(i64 24, i8* %671), !dbg !6352
  call void @llvm.lifetime.end(i64 20, i8* %672), !dbg !6352
  call void @llvm.lifetime.end(i64 20, i8* %673), !dbg !6352
  call void @llvm.lifetime.end(i64 20, i8* %674), !dbg !6352
  call void @llvm.lifetime.end(i64 20, i8* %675), !dbg !6352
  call void @llvm.dbg.value(metadata i32 %.0.i, i64 0, metadata !1584, metadata !2666), !dbg !5995
  br label %.thread, !dbg !6353

.thread:                                          ; preds = %642, %641, %648, %635, %_ZN3povL16BacktraceRefractEPNS_15Interior_StructEPdPNS_10Ray_StructES2_S2_Pfd.exit
  %TIR_occured.0 = phi i32 [ %.0.i, %_ZN3povL16BacktraceRefractEPNS_15Interior_StructEPdPNS_10Ray_StructES2_S2_Pfd.exit ], [ 0, %648 ], [ 0, %642 ], [ 0, %641 ], [ 0, %635 ]
  %954 = icmp eq i32 %doReflection.0.ph.ph26, 0, !dbg !6354
  br i1 %954, label %.thread.thread, label %955, !dbg !5971

; <label>:955                                     ; preds = %.thread.thread33, %.thread
  %TIR_occured.034 = phi i32 [ undef, %.thread.thread33 ], [ %TIR_occured.0, %.thread ]
  %956 = load %"struct.pov::Object_Struct"** %55, align 8, !dbg !6356, !tbaa !3151
  %957 = getelementptr inbounds %"struct.pov::Object_Struct"* %956, i64 0, i32 13, !dbg !6356
  %958 = load i32* %957, align 4, !dbg !6356, !tbaa !3160
  %959 = and i32 %958, 2097152, !dbg !6356
  %960 = icmp eq i32 %959, 0, !dbg !6356
  br i1 %960, label %965, label %961, !dbg !6359

; <label>:961                                     ; preds = %955
  %962 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 25), align 8, !dbg !6360, !tbaa !4495
  %963 = and i32 %962, 4194304, !dbg !6361
  %964 = icmp eq i32 %963, 0, !dbg !6361
  br i1 %964, label %974, label %965, !dbg !6362

; <label>:965                                     ; preds = %961, %955
  %966 = and i32 %958, 4194304, !dbg !6363
  %967 = icmp eq i32 %966, 0, !dbg !6363
  br i1 %967, label %968, label %.thread.thread, !dbg !6364

; <label>:968                                     ; preds = %965
  %969 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 25), align 8, !dbg !6365, !tbaa !4495
  %970 = and i32 %969, 2097152, !dbg !6366
  %971 = icmp eq i32 %970, 0, !dbg !6366
  %972 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 23), align 8
  %973 = icmp ne i32 %972, 0, !dbg !6367
  %or.cond10 = or i1 %971, %973, !dbg !6368
  br i1 %or.cond10, label %.thread.thread, label %975, !dbg !6368

; <label>:974                                     ; preds = %961
  %.old8 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 23), align 8, !dbg !6369, !tbaa !5508
  %.old9 = icmp eq i32 %.old8, 0, !dbg !6367
  br i1 %.old9, label %975, label %.thread.thread, !dbg !6370

; <label>:975                                     ; preds = %974, %968
  %976 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !6371, !tbaa !3797
  %977 = and i32 %976, 32, !dbg !6373
  %978 = icmp ne i32 %977, 0, !dbg !6373
  %979 = icmp sgt i32 %layer_number.0.lcssa, 0, !dbg !6374
  %or.cond106 = and i1 %978, %979, !dbg !6378
  br i1 %or.cond106, label %.lr.ph, label %.thread.thread, !dbg !6378

.lr.ph:                                           ; preds = %975
  %980 = icmp eq i32 %TIR_occured.034, 0, !dbg !6379
  %981 = bitcast float* %LightCol to i32*, !dbg !6382
  %982 = getelementptr inbounds [5 x float]* %TmpCol, i64 0, i64 0, !dbg !6386
  %983 = bitcast [5 x float]* %TmpCol to i32*, !dbg !6387
  %984 = bitcast float* %138 to i32*, !dbg !6388
  %985 = getelementptr inbounds [5 x float]* %TmpCol, i64 0, i64 1, !dbg !6389
  %986 = bitcast float* %985 to i32*, !dbg !6390
  %987 = bitcast float* %141 to i32*, !dbg !6391
  %988 = getelementptr inbounds [5 x float]* %TmpCol, i64 0, i64 2, !dbg !6392
  %989 = bitcast float* %988 to i32*, !dbg !6393
  %990 = getelementptr inbounds [3 x double]* %LayNormal, i64 0, i64 0, !dbg !6394
  br label %991, !dbg !6397

; <label>:991                                     ; preds = %.lr.ph, %1077
  %i.450 = phi i32 [ 0, %.lr.ph ], [ %1080, %1077 ]
  %.pre101 = sext i32 %i.450 to i64, !dbg !6398
  br i1 %980, label %._crit_edge100, label %992, !dbg !6399

; <label>:992                                     ; preds = %991
  %993 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 3, i64 %.pre101, i64 0, !dbg !6400
  %994 = load double* %993, align 8, !dbg !6400, !tbaa !3114
  %995 = fsub double %507, %994, !dbg !6401
  %996 = call double @fabs(double %995) #7, !dbg !6402
  %997 = fcmp ogt double %996, 1.000000e-07, !dbg !6403
  br i1 %997, label %._crit_edge100, label %998, !dbg !6404

; <label>:998                                     ; preds = %992
  %999 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 3, i64 %.pre101, i64 1, !dbg !6405
  %1000 = load double* %999, align 8, !dbg !6405, !tbaa !3114
  %1001 = fsub double %506, %1000, !dbg !6406
  %1002 = call double @fabs(double %1001) #7, !dbg !6407
  %1003 = fcmp ogt double %1002, 1.000000e-07, !dbg !6408
  br i1 %1003, label %._crit_edge100, label %1004, !dbg !6409

; <label>:1004                                    ; preds = %998
  %1005 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 3, i64 %.pre101, i64 2, !dbg !6410
  %1006 = load double* %1005, align 8, !dbg !6410, !tbaa !3114
  %1007 = fsub double %505, %1006, !dbg !6411
  %1008 = call double @fabs(double %1007) #7, !dbg !6412
  %1009 = fcmp ogt double %1008, 1.000000e-07, !dbg !6413
  br i1 %1009, label %._crit_edge100, label %1077, !dbg !6414

._crit_edge100:                                   ; preds = %991, %1004, %998, %992
  %1010 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %.pre101, i64 0, !dbg !6398
  %1011 = load float* %1010, align 4, !dbg !6398, !tbaa !3269
  %1012 = fcmp une float %1011, 0.000000e+00, !dbg !6415
  br i1 %1012, label %1021, label %1013, !dbg !6416

; <label>:1013                                    ; preds = %._crit_edge100
  %1014 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %.pre101, i64 1, !dbg !6417
  %1015 = load float* %1014, align 4, !dbg !6417, !tbaa !3269
  %1016 = fcmp une float %1015, 0.000000e+00, !dbg !6418
  br i1 %1016, label %1021, label %1017, !dbg !6419

; <label>:1017                                    ; preds = %1013
  %1018 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %.pre101, i64 2, !dbg !6420
  %1019 = load float* %1018, align 4, !dbg !6420, !tbaa !3269
  %1020 = fcmp une float %1019, 0.000000e+00, !dbg !6421
  br i1 %1020, label %1021, label %1077, !dbg !6422

; <label>:1021                                    ; preds = %1017, %1013, %._crit_edge100
  %1022 = load i32* %981, align 4, !dbg !6382, !tbaa !3269
  store i32 %1022, i32* %983, align 16, !dbg !6387, !tbaa !3269
  %1023 = load i32* %984, align 4, !dbg !6388, !tbaa !3269
  store i32 %1023, i32* %986, align 4, !dbg !6390, !tbaa !3269
  %1024 = load i32* %987, align 4, !dbg !6391, !tbaa !3269
  store i32 %1024, i32* %989, align 8, !dbg !6393, !tbaa !3269
  %1025 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 5, i64 %.pre101, !dbg !6423
  %1026 = load float* %1025, align 4, !dbg !6423, !tbaa !3269
  %1027 = fcmp une float %1026, 1.000000e+00, !dbg !6425
  %1028 = load float* %1010, align 4, !dbg !6426, !tbaa !3269
  %1029 = bitcast i32 %1022 to float
  %1030 = bitcast i32 %1023 to float
  %1031 = bitcast i32 %1024 to float
  br i1 %1027, label %1032, label %1057, !dbg !6428

; <label>:1032                                    ; preds = %1021
  %1033 = fpext float %1026 to double, !dbg !6423
  %1034 = fpext float %1028 to double, !dbg !6426
  %1035 = fpext float %1029 to double, !dbg !6429
  %1036 = call double @llvm.pow.f64(double %1035, double %1033), !dbg !6430
  %1037 = fmul double %1034, %1036, !dbg !6431
  %1038 = fptrunc double %1037 to float, !dbg !6426
  store float %1038, float* %982, align 16, !dbg !6432, !tbaa !3269
  %1039 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %.pre101, i64 1, !dbg !6433
  %1040 = load float* %1039, align 4, !dbg !6433, !tbaa !3269
  %1041 = fpext float %1040 to double, !dbg !6433
  %1042 = fpext float %1030 to double, !dbg !6434
  %1043 = load float* %1025, align 4, !dbg !6435, !tbaa !3269
  %1044 = fpext float %1043 to double, !dbg !6435
  %1045 = call double @llvm.pow.f64(double %1042, double %1044), !dbg !6436
  %1046 = fmul double %1041, %1045, !dbg !6437
  %1047 = fptrunc double %1046 to float, !dbg !6433
  store float %1047, float* %985, align 4, !dbg !6438, !tbaa !3269
  %1048 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %.pre101, i64 2, !dbg !6439
  %1049 = load float* %1048, align 4, !dbg !6439, !tbaa !3269
  %1050 = fpext float %1049 to double, !dbg !6439
  %1051 = fpext float %1031 to double, !dbg !6440
  %1052 = load float* %1025, align 4, !dbg !6441, !tbaa !3269
  %1053 = fpext float %1052 to double, !dbg !6441
  %1054 = call double @llvm.pow.f64(double %1051, double %1053), !dbg !6442
  %1055 = fmul double %1050, %1054, !dbg !6443
  %1056 = fptrunc double %1055 to float, !dbg !6439
  br label %1065, !dbg !6444

; <label>:1057                                    ; preds = %1021
  %1058 = fmul float %1028, %1029, !dbg !6445
  store float %1058, float* %982, align 16, !dbg !6447, !tbaa !3269
  %1059 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %.pre101, i64 1, !dbg !6448
  %1060 = load float* %1059, align 4, !dbg !6448, !tbaa !3269
  %1061 = fmul float %1060, %1030, !dbg !6449
  store float %1061, float* %985, align 4, !dbg !6450, !tbaa !3269
  %1062 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 4, i64 %.pre101, i64 2, !dbg !6451
  %1063 = load float* %1062, align 4, !dbg !6451, !tbaa !3269
  %1064 = fmul float %1063, %1031, !dbg !6452
  br label %1065

; <label>:1065                                    ; preds = %1057, %1032
  %.pre-phi98 = phi float* [ %1062, %1057 ], [ %1048, %1032 ], !dbg !6453
  %.pre-phi = phi float* [ %1059, %1057 ], [ %1039, %1032 ], !dbg !6453
  %storemerge = phi float [ %1064, %1057 ], [ %1056, %1032 ]
  store float %storemerge, float* %988, align 8, !dbg !6454, !tbaa !3269
  %1066 = getelementptr inbounds %"struct.pov::ComTexData_Struct"* %2, i64 0, i32 2, i64 %.pre101, !dbg !6455
  %1067 = load double* %1066, align 8, !dbg !6455, !tbaa !3114
  tail call void @llvm.dbg.value(metadata float* %.pre-phi, i64 0, metadata !1643, metadata !2666), !dbg !6456
  tail call void @llvm.dbg.value(metadata float* %.pre-phi98, i64 0, metadata !1644, metadata !2666), !dbg !6458
  tail call void @llvm.dbg.value(metadata float* %.pre-phi, i64 0, metadata !1651, metadata !2666), !dbg !6459
  tail call void @llvm.dbg.value(metadata float* %.pre-phi98, i64 0, metadata !1652, metadata !2666), !dbg !6461
  tail call void @llvm.dbg.value(metadata float* %.pre-phi, i64 0, metadata !1658, metadata !2666), !dbg !6462
  tail call void @llvm.dbg.value(metadata float* %.pre-phi98, i64 0, metadata !1659, metadata !2666), !dbg !6464
  %1068 = load float* %.pre-phi, align 4, !dbg !6465, !tbaa !3269
  %1069 = load float* %.pre-phi98, align 4, !dbg !6466, !tbaa !3269
  %1070 = fcmp olt float %1068, %1069, !dbg !6467
  tail call void @llvm.dbg.value(metadata float* %1010, i64 0, metadata !1643, metadata !2666), !dbg !6468
  tail call void @llvm.dbg.value(metadata float* %1010, i64 0, metadata !1651, metadata !2666), !dbg !6470
  tail call void @llvm.dbg.value(metadata float* %1010, i64 0, metadata !1658, metadata !2666), !dbg !6472
  %1071 = load float* %1010, align 4, !dbg !6474, !tbaa !3269
  %1072 = select i1 %1070, float %1069, float %1068, !dbg !6475
  %1073 = fcmp olt float %1071, %1072, !dbg !6476
  %1074 = select i1 %1073, float %1072, float %1071, !dbg !6453
  %1075 = fpext float %1074 to double, !dbg !6453
  %1076 = fmul double %1067, %1075, !dbg !6477
  call void @llvm.dbg.value(metadata double %1076, i64 0, metadata !1557, metadata !2666), !dbg !6478
  call fastcc void @_ZN3povL7ReflectEPdPNS_10Ray_StructES0_S0_Pfd(double* %3, %"struct.pov::Ray_Struct"* %Ray, double* %990, double* %Raw_Normal, float* %982, double %1076) #6, !dbg !6479
  br label %1077, !dbg !6480

; <label>:1077                                    ; preds = %1017, %1065, %1004
  %1078 = load %"struct.pov::Object_Struct"** getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 18), align 8, !dbg !6481, !tbaa !5858
  %1079 = icmp eq %"struct.pov::Object_Struct"* %1078, null, !dbg !6483
  %layer_number.0.i.4 = select i1 %1079, i32 %layer_number.0.lcssa, i32 %i.450, !dbg !6484
  %1080 = add nsw i32 %layer_number.0.i.4, 1, !dbg !6485
  call void @llvm.dbg.value(metadata i32 %1080, i64 0, metadata !1550, metadata !2666), !dbg !5385
  %1081 = icmp slt i32 %1080, %layer_number.0.lcssa, !dbg !6374
  br i1 %1081, label %991, label %.thread.thread, !dbg !6397

.thread.thread:                                   ; preds = %1077, %975, %535, %.thread32, %974, %965, %.thread, %968
  %1082 = load double* %144, align 8, !dbg !6486, !tbaa !3111
  %1083 = load double* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 17), align 8, !dbg !6487, !tbaa !5493
  %1084 = fsub double %1083, %1082, !dbg !6487
  store double %1084, double* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 17), align 8, !dbg !6487, !tbaa !5493
  call void @_ZN3pov14FreeComTexDataEPNS_17ComTexData_StructE(%"struct.pov::ComTexData_Struct"* %2) #6, !dbg !6488
  call void @llvm.lifetime.end(i64 856, i8* %1) #5, !dbg !6489
  ret void, !dbg !6489
}
