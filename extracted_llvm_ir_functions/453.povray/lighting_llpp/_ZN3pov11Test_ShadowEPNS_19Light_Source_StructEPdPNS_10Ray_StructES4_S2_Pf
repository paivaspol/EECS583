define i32 @_ZN3pov11Test_ShadowEPNS_19Light_Source_StructEPdPNS_10Ray_StructES4_S2_Pf(%"struct.pov::Light_Source_Struct"* %Light, double* nocapture %Depth, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::Ray_Struct"* %Eye_Ray, double* %P, float* %Colour) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Light_Source_Struct"* %Light}, i64 0, metadata !1027), !dbg !3092
  tail call void @llvm.dbg.value(metadata !{double* %Depth}, i64 0, metadata !1028), !dbg !3092
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Ray_Struct"* %Light_Source_Ray}, i64 0, metadata !1029), !dbg !3092
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Ray_Struct"* %Eye_Ray}, i64 0, metadata !1030), !dbg !3092
  tail call void @llvm.dbg.value(metadata !{double* %P}, i64 0, metadata !1031), !dbg !3092
  tail call void @llvm.dbg.value(metadata !{float* %Colour}, i64 0, metadata !1032), !dbg !3092
  tail call fastcc void @_ZN3povL8do_lightEPNS_19Light_Source_StructEPdPNS_10Ray_StructES4_S2_Pf(%"struct.pov::Light_Source_Struct"* %Light, double* %Depth, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::Ray_Struct"* %Eye_Ray, double* %P, float* %Colour) #7, !dbg !3093
  %0 = load float* %Colour, align 4, !dbg !3094, !tbaa !2644
  %fabsf = tail call float @fabsf(float %0) #4, !dbg !3094
  %1 = fpext float %fabsf to double, !dbg !3094
  %cmp = fcmp olt double %1, 1.000000e-07, !dbg !3094
  br i1 %cmp, label %land.lhs.true, label %if.else, !dbg !3094

land.lhs.true:                                    ; preds = %entry
  %arrayidx1 = getelementptr inbounds float* %Colour, i64 1, !dbg !3095
  %2 = load float* %arrayidx1, align 4, !dbg !3095, !tbaa !2644
  %fabsf50 = tail call float @fabsf(float %2) #4, !dbg !3095
  %3 = fpext float %fabsf50 to double, !dbg !3095
  %cmp4 = fcmp olt double %3, 1.000000e-07, !dbg !3095
  br i1 %cmp4, label %land.lhs.true5, label %if.else, !dbg !3095

land.lhs.true5:                                   ; preds = %land.lhs.true
  %arrayidx6 = getelementptr inbounds float* %Colour, i64 2, !dbg !3096
  %4 = load float* %arrayidx6, align 4, !dbg !3096, !tbaa !2644
  %fabsf51 = tail call float @fabsf(float %4) #4, !dbg !3096
  %5 = fpext float %fabsf51 to double, !dbg !3096
  %cmp9 = fcmp olt double %5, 1.000000e-07, !dbg !3096
  br i1 %cmp9, label %return, label %if.else, !dbg !3096

if.else:                                          ; preds = %land.lhs.true5, %land.lhs.true, %entry
  %6 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !3097, !tbaa !2301
  %and = and i32 %6, 4, !dbg !3097
  %tobool = icmp eq i32 %and, 0, !dbg !3097
  br i1 %tobool, label %if.end32, label %land.lhs.true11, !dbg !3097

land.lhs.true11:                                  ; preds = %if.else
  %Projected_Through_Object = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light, i64 0, i32 42, !dbg !3097
  %7 = load %"struct.pov::Object_Struct"** %Projected_Through_Object, align 8, !dbg !3097, !tbaa !2295
  %cmp12 = icmp eq %"struct.pov::Object_Struct"* %7, null, !dbg !3097
  br i1 %cmp12, label %lor.lhs.false, label %if.then15, !dbg !3097

lor.lhs.false:                                    ; preds = %land.lhs.true11
  %Light_Type = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light, i64 0, i32 27, !dbg !3097
  %8 = load i8* %Light_Type, align 1, !dbg !3097, !tbaa !2296
  %cmp14 = icmp eq i8 %8, 3, !dbg !3097
  br i1 %cmp14, label %if.end32, label %if.then15, !dbg !3097

if.then15:                                        ; preds = %lor.lhs.false, %land.lhs.true11
  %9 = load double* %Depth, align 8, !dbg !3099, !tbaa !2552
  tail call fastcc void @_ZN3povL18block_light_sourceEPNS_19Light_Source_StructEdPNS_10Ray_StructES3_PdPf(%"struct.pov::Light_Source_Struct"* %Light, double %9, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::Ray_Struct"* %Eye_Ray, double* %P, float* %Colour) #7, !dbg !3099
  %10 = load float* %Colour, align 4, !dbg !3101, !tbaa !2644
  %fabsf47 = tail call float @fabsf(float %10) #4, !dbg !3101
  %11 = fpext float %fabsf47 to double, !dbg !3101
  %cmp19 = fcmp olt double %11, 1.000000e-07, !dbg !3101
  br i1 %cmp19, label %land.lhs.true20, label %if.end32, !dbg !3101

land.lhs.true20:                                  ; preds = %if.then15
  %arrayidx21 = getelementptr inbounds float* %Colour, i64 1, !dbg !3102
  %12 = load float* %arrayidx21, align 4, !dbg !3102, !tbaa !2644
  %fabsf48 = tail call float @fabsf(float %12) #4, !dbg !3102
  %13 = fpext float %fabsf48 to double, !dbg !3102
  %cmp24 = fcmp olt double %13, 1.000000e-07, !dbg !3102
  br i1 %cmp24, label %land.lhs.true25, label %if.end32, !dbg !3102

land.lhs.true25:                                  ; preds = %land.lhs.true20
  %arrayidx26 = getelementptr inbounds float* %Colour, i64 2, !dbg !3103
  %14 = load float* %arrayidx26, align 4, !dbg !3103, !tbaa !2644
  %fabsf49 = tail call float @fabsf(float %14) #4, !dbg !3103
  %15 = fpext float %fabsf49 to double, !dbg !3103
  %cmp29 = fcmp olt double %15, 1.000000e-07, !dbg !3103
  br i1 %cmp29, label %return, label %if.end32, !dbg !3103

if.end32:                                         ; preds = %lor.lhs.false, %if.else, %land.lhs.true25, %land.lhs.true20, %if.then15
  br label %return, !dbg !3104

return:                                           ; preds = %land.lhs.true25, %land.lhs.true5, %if.end32
  %retval.0 = phi i32 [ 0, %if.end32 ], [ 1, %land.lhs.true5 ], [ 1, %land.lhs.true25 ]
  ret i32 %retval.0, !dbg !3104
}
