define internal fastcc void @_ZN3povL17filter_shadow_rayEPNS_10istk_entryEPNS_10Ray_StructEPf(%"struct.pov::istk_entry"* %Ray_Intersection, %"struct.pov::Ray_Struct"* %Light_Source_Ray, float* %Colour) #0 {
  %IPoint = alloca [3 x double], align 16
  %Raw_Normal = alloca [3 x double], align 16
  %FC1 = alloca [5 x float], align 16
  %UV_Coords = alloca [2 x double], align 16
  tail call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, metadata !2137, metadata !2666), !dbg !10336
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !2138, metadata !2666), !dbg !10337
  tail call void @llvm.dbg.value(metadata float* %Colour, i64 0, metadata !2139, metadata !2666), !dbg !10338
  tail call void @llvm.dbg.declare(metadata [3 x double]* %IPoint, metadata !2142, metadata !2666), !dbg !10339
  tail call void @llvm.dbg.declare(metadata [3 x double]* %Raw_Normal, metadata !2143, metadata !2666), !dbg !10340
  tail call void @llvm.dbg.declare(metadata [5 x float]* %FC1, metadata !2144, metadata !2666), !dbg !10341
  tail call void @llvm.dbg.declare(metadata [5 x float]* undef, metadata !2145, metadata !2666), !dbg !10342
  tail call void @llvm.dbg.value(metadata %"struct.pov::Texture_Struct"* null, i64 0, metadata !2146, metadata !2666), !dbg !10343
  tail call void @llvm.dbg.value(metadata double* null, i64 0, metadata !2148, metadata !2666), !dbg !10344
  tail call void @llvm.dbg.value(metadata %"struct.pov::Texture_Struct"** null, i64 0, metadata !2149, metadata !2666), !dbg !10345
  tail call void @llvm.dbg.declare(metadata [2 x double]* %UV_Coords, metadata !2150, metadata !2666), !dbg !10346
  %1 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 0), align 8, !dbg !10347, !tbaa !7063
  %2 = icmp eq i32 %1, 0, !dbg !10349
  br i1 %2, label %31, label %3, !dbg !10350

; <label>:3                                       ; preds = %0
  %4 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 5, !dbg !10351
  %5 = load %"struct.pov::Object_Struct"** %4, align 8, !dbg !10351, !tbaa !3151
  %6 = getelementptr inbounds %"struct.pov::Object_Struct"* %5, i64 0, i32 13, !dbg !10351
  %7 = load i32* %6, align 4, !dbg !10351, !tbaa !3160
  %8 = zext i32 %7 to i64, !dbg !10351
  %9 = and i64 %8, 524288, !dbg !10351
  %10 = icmp eq i64 %9, 0, !dbg !10351
  br i1 %10, label %31, label %11, !dbg !10352

; <label>:11                                      ; preds = %3
  %12 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 26), align 4, !dbg !10353, !tbaa !6980
  %13 = and i32 %12, 33554432, !dbg !10354
  %14 = icmp eq i32 %13, 0, !dbg !10354
  br i1 %14, label %15, label %31, !dbg !10355

; <label>:15                                      ; preds = %11
  %16 = and i64 %8, 8388608, !dbg !10356
  %17 = icmp eq i64 %16, 0, !dbg !10356
  br i1 %17, label %22, label %18, !dbg !10359

; <label>:18                                      ; preds = %15
  %19 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 25), align 8, !dbg !10360, !tbaa !4495
  %20 = and i32 %19, 16777216, !dbg !10361
  %21 = icmp eq i32 %20, 0, !dbg !10361
  br i1 %21, label %29, label %22, !dbg !10362

; <label>:22                                      ; preds = %18, %15
  %23 = and i32 %7, 16777216, !dbg !10363
  %24 = icmp eq i32 %23, 0, !dbg !10363
  br i1 %24, label %25, label %31, !dbg !10364

; <label>:25                                      ; preds = %22
  %26 = load i32* getelementptr inbounds (%"struct.pov::photon_options_struct"* @_ZN3pov13photonOptionsE, i64 0, i32 25), align 8, !dbg !10365, !tbaa !4495
  %27 = and i32 %26, 8388608, !dbg !10366
  %28 = icmp eq i32 %27, 0, !dbg !10366
  br i1 %28, label %31, label %29, !dbg !10367

; <label>:29                                      ; preds = %18, %25
  tail call void @llvm.dbg.value(metadata float* %Colour, i64 0, metadata !1535, metadata !2666), !dbg !10368
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1536, metadata !2666), !dbg !10371
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1537, metadata !2666), !dbg !10372
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1538, metadata !2666), !dbg !10373
  %30 = bitcast float* %Colour to i8*, !dbg !10374
  call void @llvm.memset.p0i8.i64(i8* %30, i8 0, i64 20, i32 4, i1 false), !dbg !10375
  br label %256, !dbg !10374

; <label>:31                                      ; preds = %25, %22, %11, %3, %0
  %32 = getelementptr inbounds [3 x double]* %IPoint, i64 0, i64 0, !dbg !10376
  %33 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 1, i64 0, !dbg !10377
  tail call void @llvm.dbg.value(metadata double* %32, i64 0, metadata !1348, metadata !2666), !dbg !10378
  tail call void @llvm.dbg.value(metadata double* %33, i64 0, metadata !1349, metadata !2666), !dbg !10380
  %34 = bitcast [3 x double]* %IPoint to i64*, !dbg !10381
  %35 = bitcast double* %33 to <2 x i64>*, !dbg !10382
  %36 = load <2 x i64>* %35, align 8, !dbg !10382, !tbaa !3114
  %37 = getelementptr inbounds [3 x double]* %IPoint, i64 0, i64 1, !dbg !10383
  %38 = bitcast double* %37 to i64*, !dbg !10384
  %39 = bitcast [3 x double]* %IPoint to <2 x i64>*, !dbg !10381
  store <2 x i64> %36, <2 x i64>* %39, align 16, !dbg !10381, !tbaa !3114
  %40 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 1, i64 2, !dbg !10385
  %41 = bitcast double* %40 to i64*, !dbg !10385
  %42 = load i64* %41, align 8, !dbg !10385, !tbaa !3114
  %43 = getelementptr inbounds [3 x double]* %IPoint, i64 0, i64 2, !dbg !10386
  %44 = bitcast double* %43 to i64*, !dbg !10387
  store i64 %42, i64* %44, align 16, !dbg !10387, !tbaa !3114
  %45 = load i32* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 13), align 8, !dbg !10388, !tbaa !3797
  %46 = and i32 %45, 4, !dbg !10390
  %47 = icmp eq i32 %46, 0, !dbg !10390
  br i1 %47, label %256, label %48, !dbg !10391

; <label>:48                                      ; preds = %31
  %49 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 5, !dbg !10392
  %50 = load %"struct.pov::Object_Struct"** %49, align 8, !dbg !10392, !tbaa !3151
  %51 = getelementptr inbounds %"struct.pov::Object_Struct"* %50, i64 0, i32 13, !dbg !10392
  %52 = load i32* %51, align 4, !dbg !10392, !tbaa !3160
  %53 = and i32 %52, 128, !dbg !10392
  %54 = icmp eq i32 %53, 0, !dbg !10392
  br i1 %54, label %57, label %55, !dbg !10394

; <label>:55                                      ; preds = %48
  tail call void @llvm.dbg.value(metadata float* %Colour, i64 0, metadata !1535, metadata !2666), !dbg !10395
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1536, metadata !2666), !dbg !10398
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1537, metadata !2666), !dbg !10399
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1538, metadata !2666), !dbg !10400
  %56 = bitcast float* %Colour to i8*, !dbg !10401
  call void @llvm.memset.p0i8.i64(i8* %56, i8 0, i64 20, i32 4, i1 false), !dbg !10402
  br label %256, !dbg !10401

; <label>:57                                      ; preds = %48
  %58 = getelementptr inbounds %"struct.pov::Object_Struct"* %50, i64 0, i32 0, !dbg !10403
  %59 = load %"struct.pov::Method_Struct"** %58, align 8, !dbg !10403, !tbaa !3152
  %60 = getelementptr inbounds %"struct.pov::Method_Struct"* %59, i64 0, i32 2, !dbg !10403
  %61 = load void (double*, %"struct.pov::Object_Struct"*, %"struct.pov::istk_entry"*)** %60, align 8, !dbg !10403, !tbaa !3156
  %62 = getelementptr inbounds [3 x double]* %Raw_Normal, i64 0, i64 0, !dbg !10403
  call void %61(double* %62, %"struct.pov::Object_Struct"* %50, %"struct.pov::istk_entry"* %Ray_Intersection) #6, !dbg !10403
  %63 = load %"struct.pov::Object_Struct"** %49, align 8, !dbg !10404, !tbaa !3151
  %64 = getelementptr inbounds %"struct.pov::Object_Struct"* %63, i64 0, i32 13, !dbg !10404
  %65 = load i32* %64, align 4, !dbg !10404, !tbaa !3160
  %66 = and i32 %65, 4, !dbg !10404
  %67 = icmp eq i32 %66, 0, !dbg !10404
  %.pre = load double* %62, align 16, !dbg !10406, !tbaa !3114
  br i1 %67, label %._crit_edge16, label %70, !dbg !10408

._crit_edge16:                                    ; preds = %57
  %.phi.trans.insert = getelementptr inbounds [3 x double]* %Raw_Normal, i64 0, i64 1
  %.phi.trans.insert18 = getelementptr inbounds [3 x double]* %Raw_Normal, i64 0, i64 2
  %68 = bitcast double* %.phi.trans.insert to <2 x double>*, !dbg !10409
  %69 = load <2 x double>* %68, align 8, !dbg !10409, !tbaa !3114
  br label %78, !dbg !10408

; <label>:70                                      ; preds = %57
  %71 = fsub double -0.000000e+00, %.pre, !dbg !10410
  store double %71, double* %62, align 16, !dbg !10412, !tbaa !3114
  %72 = getelementptr inbounds [3 x double]* %Raw_Normal, i64 0, i64 1, !dbg !10413
  %73 = getelementptr inbounds [3 x double]* %Raw_Normal, i64 0, i64 2, !dbg !10414
  %74 = bitcast double* %72 to <2 x double>*, !dbg !10413
  %75 = load <2 x double>* %74, align 8, !dbg !10413, !tbaa !3114
  %76 = fsub <2 x double> <double -0.000000e+00, double -0.000000e+00>, %75, !dbg !10415
  %77 = bitcast double* %72 to <2 x double>*, !dbg !10416
  store <2 x double> %76, <2 x double>* %77, align 8, !dbg !10416, !tbaa !3114
  br label %78, !dbg !10417

; <label>:78                                      ; preds = %._crit_edge16, %70
  %.pre-phi25 = phi double* [ %.phi.trans.insert18, %._crit_edge16 ], [ %73, %70 ], !dbg !10418
  %.pre-phi = phi double* [ %.phi.trans.insert, %._crit_edge16 ], [ %72, %70 ], !dbg !10409
  %79 = phi double [ %.pre, %._crit_edge16 ], [ %71, %70 ]
  %80 = phi <2 x double> [ %69, %._crit_edge16 ], [ %76, %70 ]
  %81 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 0, !dbg !10419
  tail call void @llvm.dbg.value(metadata double* %62, i64 0, metadata !1358, metadata !2666), !dbg !10420
  tail call void @llvm.dbg.value(metadata double* %81, i64 0, metadata !1359, metadata !2666), !dbg !10421
  %82 = load double* %81, align 8, !dbg !10422, !tbaa !3114
  %83 = fmul double %79, %82, !dbg !10423
  %84 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 1, !dbg !10424
  %85 = load double* %84, align 8, !dbg !10424, !tbaa !3114
  %86 = extractelement <2 x double> %80, i32 0, !dbg !10425
  %87 = fmul double %86, %85, !dbg !10425
  %88 = fadd double %83, %87, !dbg !10426
  %89 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 2, !dbg !10427
  %90 = load double* %89, align 8, !dbg !10427, !tbaa !3114
  %91 = extractelement <2 x double> %80, i32 1, !dbg !10428
  %92 = fmul double %91, %90, !dbg !10428
  %93 = fadd double %88, %92, !dbg !10429
  call void @llvm.dbg.value(metadata double %93, i64 0, metadata !1357, metadata !2666), !dbg !10430
  call void @llvm.dbg.value(metadata double %93, i64 0, metadata !2151, metadata !2666), !dbg !10431
  call void @llvm.dbg.value(metadata double %93, i64 0, metadata !2151, metadata !2666), !dbg !10431
  call void @llvm.dbg.value(metadata double %93, i64 0, metadata !2151, metadata !2666), !dbg !10431
  %94 = fcmp ogt double %93, 0.000000e+00, !dbg !10432
  br i1 %94, label %95, label %104, !dbg !10434

; <label>:95                                      ; preds = %78
  tail call void @llvm.dbg.value(metadata double* %62, i64 0, metadata !1364, metadata !2666), !dbg !10435
  tail call void @llvm.dbg.value(metadata double -1.000000e+00, i64 0, metadata !1365, metadata !2666), !dbg !10438
  %96 = fsub double -0.000000e+00, %79, !dbg !10439
  store double %96, double* %62, align 16, !dbg !10439, !tbaa !3114
  %97 = load double* %.pre-phi, align 8, !dbg !10440, !tbaa !3114
  %98 = load double* %.pre-phi25, align 16, !dbg !10441, !tbaa !3114
  %99 = insertelement <2 x double> undef, double %97, i32 0, !dbg !10440
  %100 = insertelement <2 x double> %99, double %98, i32 1, !dbg !10440
  %101 = fsub <2 x double> <double -0.000000e+00, double -0.000000e+00>, %100, !dbg !10440
  %102 = extractelement <2 x double> %101, i32 0, !dbg !10440
  store double %102, double* %.pre-phi, align 8, !dbg !10440, !tbaa !3114
  %103 = extractelement <2 x double> %101, i32 1, !dbg !10441
  store double %103, double* %.pre-phi25, align 16, !dbg !10441, !tbaa !3114
  br label %104, !dbg !10442

; <label>:104                                     ; preds = %95, %78
  %.in27 = phi double [ %96, %95 ], [ %79, %78 ]
  %105 = phi <2 x double> [ %101, %95 ], [ %80, %78 ]
  %106 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 2, i64 0, !dbg !10443
  tail call void @llvm.dbg.value(metadata double* %106, i64 0, metadata !1348, metadata !2666), !dbg !10444
  tail call void @llvm.dbg.value(metadata double* %62, i64 0, metadata !1349, metadata !2666), !dbg !10446
  store double %.in27, double* %106, align 8, !dbg !10447, !tbaa !3114
  %107 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 2, i64 1, !dbg !10448
  %108 = bitcast double* %107 to <2 x double>*, !dbg !10449
  store <2 x double> %105, <2 x double>* %108, align 8, !dbg !10449, !tbaa !3114
  %109 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 3, i64 0, !dbg !10450
  tail call void @llvm.dbg.value(metadata double* %109, i64 0, metadata !1348, metadata !2666), !dbg !10451
  tail call void @llvm.dbg.value(metadata double* %62, i64 0, metadata !1349, metadata !2666), !dbg !10453
  store double %.in27, double* %109, align 8, !dbg !10454, !tbaa !3114
  %110 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 3, i64 1, !dbg !10455
  %111 = bitcast double* %110 to <2 x double>*, !dbg !10456
  store <2 x double> %105, <2 x double>* %111, align 8, !dbg !10456, !tbaa !3114
  %112 = and i32 %65, 8192, !dbg !10457
  %113 = icmp eq i32 %112, 0, !dbg !10457
  br i1 %113, label %129, label %114, !dbg !10459

; <label>:114                                     ; preds = %104
  %115 = getelementptr inbounds %"struct.pov::Object_Struct"* %63, i64 0, i32 0, !dbg !10460
  %116 = load %"struct.pov::Method_Struct"** %115, align 8, !dbg !10460, !tbaa !3152
  %117 = getelementptr inbounds %"struct.pov::Method_Struct"* %116, i64 0, i32 3, !dbg !10460
  %118 = load void (double*, %"struct.pov::Object_Struct"*, %"struct.pov::istk_entry"*)** %117, align 8, !dbg !10460, !tbaa !3217
  %119 = getelementptr inbounds [2 x double]* %UV_Coords, i64 0, i64 0, !dbg !10460
  call void %118(double* %119, %"struct.pov::Object_Struct"* %63, %"struct.pov::istk_entry"* %Ray_Intersection) #6, !dbg !10460
  %120 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 4, i64 0, !dbg !10462
  tail call void @llvm.dbg.value(metadata double* %120, i64 0, metadata !1368, metadata !2666), !dbg !10463
  tail call void @llvm.dbg.value(metadata double* %119, i64 0, metadata !1369, metadata !2666), !dbg !10465
  %121 = bitcast [2 x double]* %UV_Coords to i64*, !dbg !10466
  %122 = load i64* %121, align 16, !dbg !10466, !tbaa !3114
  %123 = bitcast double* %120 to i64*, !dbg !10467
  store i64 %122, i64* %123, align 8, !dbg !10467, !tbaa !3114
  %124 = getelementptr inbounds [2 x double]* %UV_Coords, i64 0, i64 1, !dbg !10468
  %125 = bitcast double* %124 to i64*, !dbg !10468
  %126 = load i64* %125, align 8, !dbg !10468, !tbaa !3114
  %127 = getelementptr inbounds %"struct.pov::istk_entry"* %Ray_Intersection, i64 0, i32 4, i64 1, !dbg !10469
  %128 = bitcast double* %127 to i64*, !dbg !10470
  store i64 %126, i64* %128, align 8, !dbg !10470, !tbaa !3114
  %.pre20 = load %"struct.pov::Object_Struct"** %49, align 8, !dbg !10471, !tbaa !3151
  %.phi.trans.insert21 = getelementptr inbounds %"struct.pov::Object_Struct"* %.pre20, i64 0, i32 13
  %.pre22 = load i32* %.phi.trans.insert21, align 4, !dbg !10471, !tbaa !3160
  br label %129, !dbg !10473

; <label>:129                                     ; preds = %104, %114
  %130 = phi i64 [ undef, %104 ], [ %126, %114 ]
  %131 = phi i64 [ undef, %104 ], [ %122, %114 ]
  %132 = phi i32 [ %65, %104 ], [ %.pre22, %114 ]
  %133 = and i32 %132, 8192, !dbg !10471
  %134 = icmp eq i32 %133, 0, !dbg !10471
  br i1 %134, label %136, label %135, !dbg !10474

; <label>:135                                     ; preds = %129
  store i64 %131, i64* %34, align 16, !dbg !10475, !tbaa !3114
  store i64 %130, i64* %38, align 8, !dbg !10477, !tbaa !3114
  store double 0.000000e+00, double* %43, align 16, !dbg !10478, !tbaa !3114
  br label %136, !dbg !10479

; <label>:136                                     ; preds = %129, %135
  %137 = load i64* @_ZN3pov17LightingPoolIndexE, align 8, !dbg !10480, !tbaa !2676
  %138 = add nsw i64 %137, 1, !dbg !10480
  store i64 %138, i64* @_ZN3pov17LightingPoolIndexE, align 8, !dbg !10480, !tbaa !2676
  %139 = load i64* @_ZN3pov17MaxLightPoolDepthE, align 8, !dbg !10481, !tbaa !2676
  %140 = icmp slt i64 %138, %139, !dbg !10483
  br i1 %140, label %143, label %141, !dbg !10484

; <label>:141                                     ; preds = %136
  %142 = shl nsw i64 %139, 1, !dbg !10485
  call void @_ZN3pov22ResizeLightMallocPoolsEl(i64 %142) #6, !dbg !10487
  %.pre23 = load i64* @_ZN3pov17LightingPoolIndexE, align 8, !dbg !10488, !tbaa !2676
  br label %143, !dbg !10489

; <label>:143                                     ; preds = %136, %141
  %144 = phi i64 [ %138, %136 ], [ %.pre23, %141 ]
  %145 = load double*** @_ZN3pov14WeightListPoolE, align 8, !dbg !10490, !tbaa !2657
  %146 = getelementptr inbounds double** %145, i64 %144, !dbg !10490
  %147 = bitcast double** %146 to i64*, !dbg !10490
  %148 = load i64* %147, align 8, !dbg !10490, !tbaa !2657
  store i64 %148, i64* bitcast (double** @_ZN3pov11Weight_ListE to i64*), align 8, !dbg !10491, !tbaa !2657
  %149 = load %"struct.pov::Light_Tested_Struct"*** @_ZN3pov13LightListPoolE, align 8, !dbg !10492, !tbaa !2657
  %150 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"** %149, i64 %144, !dbg !10492
  %151 = bitcast %"struct.pov::Light_Tested_Struct"** %150 to i64*, !dbg !10492
  %152 = load i64* %151, align 8, !dbg !10492, !tbaa !2657
  store i64 %152, i64* bitcast (%"struct.pov::Light_Tested_Struct"** @_ZN3pov10Light_ListE to i64*), align 8, !dbg !10493, !tbaa !2657
  %153 = load %"struct.pov::Texture_Struct"**** @_ZN3pov15TextureListPoolE, align 8, !dbg !10494, !tbaa !2657
  %154 = getelementptr inbounds %"struct.pov::Texture_Struct"*** %153, i64 %144, !dbg !10494
  %155 = bitcast %"struct.pov::Texture_Struct"*** %154 to i64*, !dbg !10494
  %156 = load i64* %155, align 8, !dbg !10494, !tbaa !2657
  store i64 %156, i64* bitcast (%"struct.pov::Texture_Struct"*** @_ZN3pov12Texture_ListE to i64*), align 8, !dbg !10495, !tbaa !2657
  %157 = call fastcc i32 @_ZN3povL19create_texture_listEPNS_10istk_entryEd(%"struct.pov::istk_entry"* %Ray_Intersection, double %93) #6, !dbg !10496
  call void @llvm.dbg.value(metadata i32 %157, i64 0, metadata !2141, metadata !2666), !dbg !10497
  tail call void @llvm.dbg.value(metadata float* undef, i64 0, metadata !1495, metadata !2666), !dbg !10498
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1496, metadata !2666), !dbg !10500
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1497, metadata !2666), !dbg !10501
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1498, metadata !2666), !dbg !10502
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1499, metadata !2666), !dbg !10503
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1500, metadata !2666), !dbg !10504
  call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !2145, metadata !3896), !dbg !10342
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !2140, metadata !2666), !dbg !10505
  %158 = icmp sgt i32 %157, 0, !dbg !10506
  br i1 %158, label %.lr.ph, label %._crit_edge, !dbg !10509

.lr.ph:                                           ; preds = %143
  %159 = getelementptr inbounds [5 x float]* %FC1, i64 0, i64 0, !dbg !10510
  %160 = getelementptr inbounds [5 x float]* %FC1, i64 0, i64 1, !dbg !10512
  %161 = getelementptr inbounds [5 x float]* %FC1, i64 0, i64 2, !dbg !10513
  %162 = getelementptr inbounds [5 x float]* %FC1, i64 0, i64 3, !dbg !10514
  %163 = add i32 %157, -1, !dbg !10509
  %.pre24 = load double** @_ZN3pov11Weight_ListE, align 8, !dbg !10515, !tbaa !2657
  br label %164, !dbg !10509

; <label>:164                                     ; preds = %208, %.lr.ph
  %165 = phi double* [ %.pre24, %.lr.ph ], [ %209, %208 ], !dbg !10515
  %indvars.iv = phi i64 [ 0, %.lr.ph ], [ %indvars.iv.next, %208 ]
  %166 = phi float [ 0.000000e+00, %.lr.ph ], [ %212, %208 ]
  %167 = phi float [ 0.000000e+00, %.lr.ph ], [ %211, %208 ]
  %168 = phi float [ 0.000000e+00, %.lr.ph ], [ %210, %208 ]
  %169 = phi <2 x float> [ zeroinitializer, %.lr.ph ], [ %213, %208 ]
  %170 = getelementptr inbounds double* %165, i64 %indvars.iv, !dbg !10515
  %171 = load double* %170, align 8, !dbg !10515, !tbaa !3114
  %172 = load double* @_ZN3pov11ADC_BailoutE, align 8, !dbg !10517, !tbaa !3114
  %173 = fcmp olt double %171, %172, !dbg !10518
  br i1 %173, label %208, label %174, !dbg !10519

; <label>:174                                     ; preds = %164
  %175 = load %"struct.pov::Texture_Struct"*** @_ZN3pov12Texture_ListE, align 8, !dbg !10520, !tbaa !2657
  %176 = getelementptr inbounds %"struct.pov::Texture_Struct"** %175, i64 %indvars.iv, !dbg !10520
  %177 = load %"struct.pov::Texture_Struct"** %176, align 8, !dbg !10520, !tbaa !2657
  call void @llvm.dbg.value(metadata %"struct.pov::Texture_Struct"* %177, i64 0, metadata !2146, metadata !2666), !dbg !10343
  call fastcc void @_ZN3povL14do_texture_mapEPfPNS_14Texture_StructEPdS3_PNS_10Ray_StructEdPNS_10istk_entryEi(float* %159, %"struct.pov::Texture_Struct"* %177, double* %32, double* %62, %"struct.pov::Ray_Struct"* %Light_Source_Ray, double 0.000000e+00, %"struct.pov::istk_entry"* %Ray_Intersection, i32 1) #6, !dbg !10521
  %178 = load double** @_ZN3pov11Weight_ListE, align 8, !dbg !10522, !tbaa !2657
  %179 = getelementptr inbounds double* %178, i64 %indvars.iv, !dbg !10522
  %180 = load double* %179, align 8, !dbg !10522, !tbaa !3114
  %181 = load float* %159, align 16, !dbg !10523, !tbaa !3269
  %182 = fpext float %181 to double, !dbg !10523
  %183 = fmul double %180, %182, !dbg !10524
  %184 = fpext float %166 to double, !dbg !10525
  %185 = fadd double %184, %183, !dbg !10525
  %186 = fptrunc double %185 to float, !dbg !10525
  call void @llvm.dbg.value(metadata float %186, i64 0, metadata !2145, metadata !3896), !dbg !10342
  %187 = load float* %160, align 4, !dbg !10512, !tbaa !3269
  %188 = fpext float %187 to double, !dbg !10512
  %189 = fmul double %180, %188, !dbg !10526
  %190 = fpext float %167 to double, !dbg !10527
  %191 = fadd double %190, %189, !dbg !10527
  %192 = fptrunc double %191 to float, !dbg !10527
  call void @llvm.dbg.value(metadata float %192, i64 0, metadata !2145, metadata !3933), !dbg !10342
  %193 = load float* %161, align 8, !dbg !10513, !tbaa !3269
  %194 = fpext float %193 to double, !dbg !10513
  %195 = fmul double %180, %194, !dbg !10528
  %196 = fpext float %168 to double, !dbg !10529
  %197 = fadd double %196, %195, !dbg !10529
  %198 = fptrunc double %197 to float, !dbg !10529
  call void @llvm.dbg.value(metadata float %198, i64 0, metadata !2145, metadata !3940), !dbg !10342
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !2145, metadata !3897), !dbg !10342
  %199 = bitcast float* %162 to <2 x float>*, !dbg !10514
  %200 = load <2 x float>* %199, align 4, !dbg !10514, !tbaa !3269
  %201 = fpext <2 x float> %200 to <2 x double>, !dbg !10514
  %202 = insertelement <2 x double> undef, double %180, i32 0, !dbg !10530
  %203 = insertelement <2 x double> %202, double %180, i32 1, !dbg !10530
  %204 = fmul <2 x double> %203, %201, !dbg !10530
  %205 = fpext <2 x float> %169 to <2 x double>, !dbg !10531
  %206 = fadd <2 x double> %205, %204, !dbg !10531
  %207 = fptrunc <2 x double> %206 to <2 x float>, !dbg !10531
  call void @llvm.dbg.value(metadata float undef, i64 0, metadata !2145, metadata !5339), !dbg !10342
  br label %208, !dbg !10532

; <label>:208                                     ; preds = %164, %174
  %209 = phi double* [ %165, %164 ], [ %178, %174 ]
  %210 = phi float [ %168, %164 ], [ %198, %174 ]
  %211 = phi float [ %167, %164 ], [ %192, %174 ]
  %212 = phi float [ %166, %164 ], [ %186, %174 ]
  %213 = phi <2 x float> [ %169, %164 ], [ %207, %174 ]
  %indvars.iv.next = add nuw nsw i64 %indvars.iv, 1, !dbg !10509
  %lftr.wideiv = trunc i64 %indvars.iv to i32, !dbg !10509
  %exitcond = icmp eq i32 %lftr.wideiv, %163, !dbg !10509
  br i1 %exitcond, label %._crit_edge, label %164, !dbg !10509

._crit_edge:                                      ; preds = %208, %143
  %.lcssa5 = phi float [ 0.000000e+00, %143 ], [ %212, %208 ]
  %.lcssa4 = phi float [ 0.000000e+00, %143 ], [ %211, %208 ]
  %.lcssa3 = phi float [ 0.000000e+00, %143 ], [ %210, %208 ]
  %214 = phi <2 x float> [ zeroinitializer, %143 ], [ %213, %208 ]
  %215 = load i64* @_ZN3pov17LightingPoolIndexE, align 8, !dbg !10533, !tbaa !2676
  %216 = add nsw i64 %215, -1, !dbg !10533
  store i64 %216, i64* @_ZN3pov17LightingPoolIndexE, align 8, !dbg !10533, !tbaa !2676
  %217 = load double*** @_ZN3pov14WeightListPoolE, align 8, !dbg !10534, !tbaa !2657
  %218 = getelementptr inbounds double** %217, i64 %216, !dbg !10534
  %219 = bitcast double** %218 to i64*, !dbg !10534
  %220 = load i64* %219, align 8, !dbg !10534, !tbaa !2657
  store i64 %220, i64* bitcast (double** @_ZN3pov11Weight_ListE to i64*), align 8, !dbg !10535, !tbaa !2657
  %221 = load %"struct.pov::Light_Tested_Struct"*** @_ZN3pov13LightListPoolE, align 8, !dbg !10536, !tbaa !2657
  %222 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"** %221, i64 %216, !dbg !10536
  %223 = bitcast %"struct.pov::Light_Tested_Struct"** %222 to i64*, !dbg !10536
  %224 = load i64* %223, align 8, !dbg !10536, !tbaa !2657
  store i64 %224, i64* bitcast (%"struct.pov::Light_Tested_Struct"** @_ZN3pov10Light_ListE to i64*), align 8, !dbg !10537, !tbaa !2657
  %225 = load %"struct.pov::Texture_Struct"**** @_ZN3pov15TextureListPoolE, align 8, !dbg !10538, !tbaa !2657
  %226 = getelementptr inbounds %"struct.pov::Texture_Struct"*** %225, i64 %216, !dbg !10538
  %227 = bitcast %"struct.pov::Texture_Struct"*** %226 to i64*, !dbg !10538
  %228 = load i64* %227, align 8, !dbg !10538, !tbaa !2657
  store i64 %228, i64* bitcast (%"struct.pov::Texture_Struct"*** @_ZN3pov12Texture_ListE to i64*), align 8, !dbg !10539, !tbaa !2657
  %229 = call <2 x float> @llvm.fabs.v2f32(<2 x float> %214), !dbg !10540
  %230 = fpext <2 x float> %229 to <2 x double>, !dbg !10540
  %231 = extractelement <2 x double> %230, i32 0, !dbg !10542
  %232 = extractelement <2 x double> %230, i32 1, !dbg !10542
  %233 = fadd double %231, %232, !dbg !10542
  %234 = load double* @_ZN3pov11ADC_BailoutE, align 8, !dbg !10543, !tbaa !3114
  %235 = fcmp olt double %233, %234, !dbg !10544
  br i1 %235, label %236, label %238, !dbg !10545

; <label>:236                                     ; preds = %._crit_edge
  tail call void @llvm.dbg.value(metadata float* %Colour, i64 0, metadata !1535, metadata !2666), !dbg !10546
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1536, metadata !2666), !dbg !10549
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1537, metadata !2666), !dbg !10550
  tail call void @llvm.dbg.value(metadata float 0.000000e+00, i64 0, metadata !1538, metadata !2666), !dbg !10551
  %237 = bitcast float* %Colour to i8*, !dbg !10552
  call void @llvm.memset.p0i8.i64(i8* %237, i8 0, i64 20, i32 4, i1 false), !dbg !10553
  br label %255, !dbg !10552

; <label>:238                                     ; preds = %._crit_edge
  %239 = extractelement <2 x float> %214, i32 0, !dbg !10554
  %240 = fmul float %239, %.lcssa5, !dbg !10554
  %241 = extractelement <2 x float> %214, i32 1, !dbg !10556
  %242 = fadd float %241, %240, !dbg !10556
  %243 = load float* %Colour, align 4, !dbg !10557, !tbaa !3269
  %244 = fmul float %242, %243, !dbg !10557
  store float %244, float* %Colour, align 4, !dbg !10557, !tbaa !3269
  %245 = fmul float %239, %.lcssa4, !dbg !10558
  %246 = fadd float %241, %245, !dbg !10559
  %247 = getelementptr inbounds float* %Colour, i64 1, !dbg !10560
  %248 = load float* %247, align 4, !dbg !10561, !tbaa !3269
  %249 = fmul float %246, %248, !dbg !10561
  store float %249, float* %247, align 4, !dbg !10561, !tbaa !3269
  %250 = fmul float %239, %.lcssa3, !dbg !10562
  %251 = fadd float %241, %250, !dbg !10563
  %252 = getelementptr inbounds float* %Colour, i64 2, !dbg !10564
  %253 = load float* %252, align 4, !dbg !10565, !tbaa !3269
  %254 = fmul float %251, %253, !dbg !10565
  store float %254, float* %252, align 4, !dbg !10565, !tbaa !3269
  br label %255

; <label>:255                                     ; preds = %238, %236
  call fastcc void @_ZN3povL23do_light_ray_atmosphereEPNS_10Ray_StructEPNS_10istk_entryEPfi(%"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::istk_entry"* %Ray_Intersection, float* %Colour, i32 1) #6, !dbg !10566
  br label %256, !dbg !10567

; <label>:256                                     ; preds = %31, %255, %55, %29
  ret void, !dbg !10567
}
