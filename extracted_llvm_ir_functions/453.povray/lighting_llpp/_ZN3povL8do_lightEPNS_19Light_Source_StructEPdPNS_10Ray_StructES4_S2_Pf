define internal fastcc void @_ZN3povL8do_lightEPNS_19Light_Source_StructEPdPNS_10Ray_StructES4_S2_Pf(%"struct.pov::Light_Source_Struct"* %Light_Source, double* nocapture %Light_Source_Depth, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::Ray_Struct"* %Eye_Ray, double* nocapture %IPoint, float* nocapture %Light_Colour) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Light_Source_Struct"* %Light_Source}, i64 0, metadata !2080), !dbg !3105
  tail call void @llvm.dbg.value(metadata !{double* %Light_Source_Depth}, i64 0, metadata !2081), !dbg !3105
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Ray_Struct"* %Light_Source_Ray}, i64 0, metadata !2082), !dbg !3105
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Ray_Struct"* %Eye_Ray}, i64 0, metadata !2083), !dbg !3105
  tail call void @llvm.dbg.value(metadata !{double* %IPoint}, i64 0, metadata !2084), !dbg !3105
  tail call void @llvm.dbg.value(metadata !{float* %Light_Colour}, i64 0, metadata !2085), !dbg !3105
  tail call void @llvm.dbg.declare(metadata !3106, metadata !2089), !dbg !3107
  %arraydecay = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 15, i64 0, !dbg !3108
  tail call void @llvm.dbg.value(metadata !{float* %Light_Colour}, i64 0, metadata !3109), !dbg !3110
  tail call void @llvm.dbg.value(metadata !{float* %arraydecay}, i64 0, metadata !3111), !dbg !3110
  %0 = load float* %arraydecay, align 4, !dbg !3112, !tbaa !2644
  store float %0, float* %Light_Colour, align 4, !dbg !3112, !tbaa !2644
  %arrayidx2.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 15, i64 1, !dbg !3114
  %1 = load float* %arrayidx2.i, align 4, !dbg !3114, !tbaa !2644
  %arrayidx3.i = getelementptr inbounds float* %Light_Colour, i64 1, !dbg !3114
  store float %1, float* %arrayidx3.i, align 4, !dbg !3114, !tbaa !2644
  %arrayidx4.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 15, i64 2, !dbg !3115
  %2 = load float* %arrayidx4.i, align 4, !dbg !3115, !tbaa !2644
  %arrayidx5.i = getelementptr inbounds float* %Light_Colour, i64 2, !dbg !3115
  store float %2, float* %arrayidx5.i, align 4, !dbg !3115, !tbaa !2644
  %arrayidx6.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 15, i64 3, !dbg !3116
  %3 = load float* %arrayidx6.i, align 4, !dbg !3116, !tbaa !2644
  %arrayidx7.i = getelementptr inbounds float* %Light_Colour, i64 3, !dbg !3116
  store float %3, float* %arrayidx7.i, align 4, !dbg !3116, !tbaa !2644
  %arrayidx8.i = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 15, i64 4, !dbg !3117
  %4 = load float* %arrayidx8.i, align 4, !dbg !3117, !tbaa !2644
  %arrayidx9.i = getelementptr inbounds float* %Light_Colour, i64 4, !dbg !3117
  store float %4, float* %arrayidx9.i, align 4, !dbg !3117, !tbaa !2644
  %arraydecay1 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 0, i64 0, !dbg !3118
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay1}, i64 0, metadata !3119), !dbg !3120
  tail call void @llvm.dbg.value(metadata !{double* %IPoint}, i64 0, metadata !3121), !dbg !3120
  %5 = load double* %IPoint, align 8, !dbg !3122, !tbaa !2552
  store double %5, double* %arraydecay1, align 8, !dbg !3122, !tbaa !2552
  %arrayidx2.i123 = getelementptr inbounds double* %IPoint, i64 1, !dbg !3123
  %6 = load double* %arrayidx2.i123, align 8, !dbg !3123, !tbaa !2552
  %arrayidx3.i124 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 0, i64 1, !dbg !3123
  store double %6, double* %arrayidx3.i124, align 8, !dbg !3123, !tbaa !2552
  %arrayidx4.i125 = getelementptr inbounds double* %IPoint, i64 2, !dbg !3124
  %7 = load double* %arrayidx4.i125, align 8, !dbg !3124, !tbaa !2552
  %arrayidx5.i126 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 0, i64 2, !dbg !3124
  store double %7, double* %arrayidx5.i126, align 8, !dbg !3124, !tbaa !2552
  %Light_Type = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 27, !dbg !3125
  %8 = load i8* %Light_Type, align 1, !dbg !3125, !tbaa !2296
  %cmp = icmp eq i8 %8, 4, !dbg !3125
  %arraydecay2 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 0, !dbg !3126
  %arraydecay3 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 17, i64 0, !dbg !3126
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3127), !dbg !3128
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay3}, i64 0, metadata !3129), !dbg !3128
  tail call void @llvm.dbg.value(metadata !{double* %IPoint}, i64 0, metadata !3130), !dbg !3128
  %9 = load double* %arraydecay3, align 8, !dbg !3131, !tbaa !2552
  %10 = load double* %IPoint, align 8, !dbg !3131, !tbaa !2552
  %sub.i149 = fsub double %9, %10, !dbg !3131
  store double %sub.i149, double* %arraydecay2, align 8, !dbg !3131, !tbaa !2552
  %arrayidx3.i150 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 17, i64 1, !dbg !3132
  %11 = load double* %arrayidx3.i150, align 8, !dbg !3132, !tbaa !2552
  %12 = load double* %arrayidx2.i123, align 8, !dbg !3132, !tbaa !2552
  %sub5.i152 = fsub double %11, %12, !dbg !3132
  %arrayidx6.i153 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 1, !dbg !3132
  store double %sub5.i152, double* %arrayidx6.i153, align 8, !dbg !3132, !tbaa !2552
  %arrayidx7.i154 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 17, i64 2, !dbg !3133
  %13 = load double* %arrayidx7.i154, align 8, !dbg !3133, !tbaa !2552
  %14 = load double* %arrayidx4.i125, align 8, !dbg !3133, !tbaa !2552
  %sub9.i156 = fsub double %13, %14, !dbg !3133
  %arrayidx10.i157 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 2, !dbg !3133
  store double %sub9.i156, double* %arrayidx10.i157, align 8, !dbg !3133, !tbaa !2552
  tail call void @llvm.dbg.value(metadata !{double* %Light_Source_Depth}, i64 0, metadata !3134) #6, !dbg !3136
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3137) #6, !dbg !3136
  %mul.i174 = fmul double %sub.i149, %sub.i149, !dbg !3138
  %mul4.i176 = fmul double %sub5.i152, %sub5.i152, !dbg !3138
  %add.i177 = fadd double %mul.i174, %mul4.i176, !dbg !3138
  %mul7.i179 = fmul double %sub9.i156, %sub9.i156, !dbg !3138
  %add8.i180 = fadd double %mul7.i179, %add.i177, !dbg !3138
  %call.i181 = tail call double @sqrt(double %add8.i180) #8, !dbg !3138
  store double %call.i181, double* %Light_Source_Depth, align 8, !dbg !3138, !tbaa !2552
  br i1 %cmp, label %if.then, label %if.else, !dbg !3125

if.then:                                          ; preds = %entry
  tail call void @llvm.dbg.declare(metadata !3106, metadata !2092), !dbg !3139
  %arraydecay10 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 18, i64 0, !dbg !3140
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3141), !dbg !3142
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay3}, i64 0, metadata !3143), !dbg !3142
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay10}, i64 0, metadata !3144), !dbg !3142
  %15 = load double* %arraydecay3, align 8, !dbg !3145, !tbaa !2552
  %16 = load double* %arraydecay10, align 8, !dbg !3145, !tbaa !2552
  %sub.i182 = fsub double %15, %16, !dbg !3145
  store double %sub.i182, double* %arraydecay2, align 8, !dbg !3145, !tbaa !2552
  %17 = load double* %arrayidx3.i150, align 8, !dbg !3146, !tbaa !2552
  %arrayidx4.i184 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 18, i64 1, !dbg !3146
  %18 = load double* %arrayidx4.i184, align 8, !dbg !3146, !tbaa !2552
  %sub5.i185 = fsub double %17, %18, !dbg !3146
  store double %sub5.i185, double* %arrayidx6.i153, align 8, !dbg !3146, !tbaa !2552
  %19 = load double* %arrayidx7.i154, align 8, !dbg !3147, !tbaa !2552
  %arrayidx8.i188 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 18, i64 2, !dbg !3147
  %20 = load double* %arrayidx8.i188, align 8, !dbg !3147, !tbaa !2552
  %sub9.i189 = fsub double %19, %20, !dbg !3147
  store double %sub9.i189, double* %arrayidx10.i157, align 8, !dbg !3147, !tbaa !2552
  tail call void @llvm.dbg.value(metadata !3148, i64 0, metadata !3149), !dbg !3151
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay3}, i64 0, metadata !3152), !dbg !3151
  tail call void @llvm.dbg.value(metadata !{double* %IPoint}, i64 0, metadata !3153), !dbg !3151
  %21 = load double* %arraydecay3, align 8, !dbg !3154, !tbaa !2552
  %22 = load double* %IPoint, align 8, !dbg !3154, !tbaa !2552
  %sub.i191 = fsub double %21, %22, !dbg !3154
  %23 = load double* %arrayidx3.i150, align 8, !dbg !3155, !tbaa !2552
  %24 = load double* %arrayidx2.i123, align 8, !dbg !3155, !tbaa !2552
  %sub5.i194 = fsub double %23, %24, !dbg !3155
  %25 = load double* %arrayidx7.i154, align 8, !dbg !3156, !tbaa !2552
  %26 = load double* %arrayidx4.i125, align 8, !dbg !3156, !tbaa !2552
  %sub9.i198 = fsub double %25, %26, !dbg !3156
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3157) #6, !dbg !3159
  %mul.i167 = fmul double %sub.i182, %sub.i182, !dbg !3160
  %mul4.i169 = fmul double %sub5.i185, %sub5.i185, !dbg !3160
  %add.i170 = fadd double %mul.i167, %mul4.i169, !dbg !3160
  %mul7.i172 = fmul double %sub9.i189, %sub9.i189, !dbg !3160
  %add8.i173 = fadd double %mul7.i172, %add.i170, !dbg !3160
  %call.i = tail call double @sqrt(double %add8.i173) #8, !dbg !3160
  tail call void @llvm.dbg.value(metadata !{double %call.i}, i64 0, metadata !2090), !dbg !3160
  tail call void @llvm.dbg.value(metadata !{double %call.i}, i64 0, metadata !3161), !dbg !3159
  tail call void @llvm.dbg.value(metadata !{double %call.i}, i64 0, metadata !2090), !dbg !3162
  tail call void @llvm.dbg.value(metadata !{double* %Light_Source_Depth}, i64 0, metadata !3163), !dbg !3165
  tail call void @llvm.dbg.value(metadata !3148, i64 0, metadata !3166), !dbg !3165
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3167), !dbg !3165
  %27 = load double* %arraydecay2, align 8, !dbg !3168, !tbaa !2552
  %mul.i158 = fmul double %sub.i191, %27, !dbg !3168
  %28 = load double* %arrayidx6.i153, align 8, !dbg !3168, !tbaa !2552
  %mul4.i161 = fmul double %sub5.i194, %28, !dbg !3168
  %add.i162 = fadd double %mul.i158, %mul4.i161, !dbg !3168
  %29 = load double* %arrayidx10.i157, align 8, !dbg !3168, !tbaa !2552
  %mul7.i165 = fmul double %sub9.i198, %29, !dbg !3168
  %add8.i166 = fadd double %add.i162, %mul7.i165, !dbg !3168
  %div = fdiv double %add8.i166, %call.i, !dbg !3162
  store double %div, double* %Light_Source_Depth, align 8, !dbg !3162, !tbaa !2552
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3169) #6, !dbg !3171
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3172) #6, !dbg !3174
  %30 = load double* %arraydecay2, align 8, !dbg !3175, !tbaa !2552
  %mul.i.i137 = fmul double %30, %30, !dbg !3175
  %31 = load double* %arrayidx6.i153, align 8, !dbg !3175, !tbaa !2552
  %mul4.i.i139 = fmul double %31, %31, !dbg !3175
  %add.i.i140 = fadd double %mul.i.i137, %mul4.i.i139, !dbg !3175
  %32 = load double* %arrayidx10.i157, align 8, !dbg !3175, !tbaa !2552
  %mul7.i.i142 = fmul double %32, %32, !dbg !3175
  %add8.i.i143 = fadd double %add.i.i140, %mul7.i.i142, !dbg !3175
  %call.i.i144 = tail call double @sqrt(double %add8.i.i143) #8, !dbg !3175
  tail call void @llvm.dbg.value(metadata !{double %call.i.i144}, i64 0, metadata !3176) #6, !dbg !3175
  tail call void @llvm.dbg.value(metadata !{double %call.i.i144}, i64 0, metadata !3177) #6, !dbg !3174
  tail call void @llvm.dbg.value(metadata !{double %call.i.i144}, i64 0, metadata !3178) #6, !dbg !3179
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3180) #6, !dbg !3181
  tail call void @llvm.dbg.value(metadata !{double %call.i.i144}, i64 0, metadata !3182) #6, !dbg !3181
  %div.i.i145 = fdiv double 1.000000e+00, %call.i.i144, !dbg !3183
  tail call void @llvm.dbg.value(metadata !{double %div.i.i145}, i64 0, metadata !3184) #6, !dbg !3183
  %33 = load double* %arraydecay2, align 8, !dbg !3185, !tbaa !2552
  %mul.i2.i146 = fmul double %div.i.i145, %33, !dbg !3185
  store double %mul.i2.i146, double* %arraydecay2, align 8, !dbg !3185, !tbaa !2552
  %34 = load double* %arrayidx6.i153, align 8, !dbg !3186, !tbaa !2552
  %mul2.i.i147 = fmul double %div.i.i145, %34, !dbg !3186
  store double %mul2.i.i147, double* %arrayidx6.i153, align 8, !dbg !3186, !tbaa !2552
  %35 = load double* %arrayidx10.i157, align 8, !dbg !3187, !tbaa !2552
  %mul4.i3.i148 = fmul double %div.i.i145, %35, !dbg !3187
  br label %if.end, !dbg !3188

if.else:                                          ; preds = %entry
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3189), !dbg !3192
  tail call void @llvm.dbg.value(metadata !{double %call.i181}, i64 0, metadata !3193), !dbg !3192
  %div.i = fdiv double 1.000000e+00, %call.i181, !dbg !3194
  tail call void @llvm.dbg.value(metadata !{double %div.i}, i64 0, metadata !3195), !dbg !3194
  %36 = load double* %arraydecay2, align 8, !dbg !3196, !tbaa !2552
  %mul.i132 = fmul double %div.i, %36, !dbg !3196
  store double %mul.i132, double* %arraydecay2, align 8, !dbg !3196, !tbaa !2552
  %37 = load double* %arrayidx6.i153, align 8, !dbg !3197, !tbaa !2552
  %mul2.i134 = fmul double %div.i, %37, !dbg !3197
  store double %mul2.i134, double* %arrayidx6.i153, align 8, !dbg !3197, !tbaa !2552
  %38 = load double* %arrayidx10.i157, align 8, !dbg !3198, !tbaa !2552
  %mul4.i136 = fmul double %div.i, %38, !dbg !3198
  br label %if.end

if.end:                                           ; preds = %if.else, %if.then
  %storemerge = phi double [ %mul4.i136, %if.else ], [ %mul4.i3.i148, %if.then ]
  store double %storemerge, double* %arrayidx10.i157, align 8, !dbg !3187, !tbaa !2552
  %39 = load double* %Light_Source_Depth, align 8, !dbg !3199, !tbaa !2552
  %call = tail call double @_ZN3pov15Attenuate_LightEPNS_19Light_Source_StructEPNS_10Ray_StructEd(%"struct.pov::Light_Source_Struct"* %Light_Source, %"struct.pov::Ray_Struct"* %Light_Source_Ray, double %39) #7, !dbg !3199
  tail call void @llvm.dbg.value(metadata !{double %call}, i64 0, metadata !2086), !dbg !3199
  %Parallel = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 33, !dbg !3200
  %40 = load i8* %Parallel, align 1, !dbg !3200, !tbaa !2296
  %tobool = icmp eq i8 %40, 0, !dbg !3200
  br i1 %tobool, label %if.end57, label %if.then29, !dbg !3200

if.then29:                                        ; preds = %if.end
  %Area_Light = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 28, !dbg !3201
  %41 = load i8* %Area_Light, align 1, !dbg !3201, !tbaa !2296
  %tobool30 = icmp eq i8 %41, 0, !dbg !3201
  br i1 %tobool30, label %if.else44, label %if.then31, !dbg !3201

if.then31:                                        ; preds = %if.then29
  %arraydecay36 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 18, i64 0, !dbg !3203
  tail call void @llvm.dbg.value(metadata !3148, i64 0, metadata !3205), !dbg !3206
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay3}, i64 0, metadata !3207), !dbg !3206
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay36}, i64 0, metadata !3208), !dbg !3206
  %42 = load double* %arraydecay3, align 8, !dbg !3209, !tbaa !2552
  %43 = load double* %arraydecay36, align 8, !dbg !3209, !tbaa !2552
  %sub.i = fsub double %42, %43, !dbg !3209
  %44 = load double* %arrayidx3.i150, align 8, !dbg !3210, !tbaa !2552
  %arrayidx4.i128 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 18, i64 1, !dbg !3210
  %45 = load double* %arrayidx4.i128, align 8, !dbg !3210, !tbaa !2552
  %sub5.i = fsub double %44, %45, !dbg !3210
  %46 = load double* %arrayidx7.i154, align 8, !dbg !3211, !tbaa !2552
  %arrayidx8.i131 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 18, i64 2, !dbg !3211
  %47 = load double* %arrayidx8.i131, align 8, !dbg !3211, !tbaa !2552
  %sub9.i = fsub double %46, %47, !dbg !3211
  tail call void @llvm.dbg.value(metadata !3148, i64 0, metadata !3212) #6, !dbg !3214
  tail call void @llvm.dbg.value(metadata !3148, i64 0, metadata !3215) #6, !dbg !3217
  %mul.i.i = fmul double %sub.i, %sub.i, !dbg !3218
  %mul4.i.i = fmul double %sub5.i, %sub5.i, !dbg !3218
  %add.i.i = fadd double %mul.i.i, %mul4.i.i, !dbg !3218
  %mul7.i.i = fmul double %sub9.i, %sub9.i, !dbg !3218
  %add8.i.i = fadd double %add.i.i, %mul7.i.i, !dbg !3218
  %call.i.i = tail call double @sqrt(double %add8.i.i) #8, !dbg !3218
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !3219) #6, !dbg !3218
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !3220) #6, !dbg !3217
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !3221) #6, !dbg !3222
  tail call void @llvm.dbg.value(metadata !3148, i64 0, metadata !3223) #6, !dbg !3224
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !3225) #6, !dbg !3224
  %div.i.i = fdiv double 1.000000e+00, %call.i.i, !dbg !3226
  tail call void @llvm.dbg.value(metadata !{double %div.i.i}, i64 0, metadata !3227) #6, !dbg !3226
  %mul.i2.i = fmul double %sub.i, %div.i.i, !dbg !3228
  %mul2.i.i = fmul double %sub5.i, %div.i.i, !dbg !3229
  %mul4.i3.i = fmul double %sub9.i, %div.i.i, !dbg !3230
  tail call void @llvm.dbg.value(metadata !3148, i64 0, metadata !3231), !dbg !3233
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3234), !dbg !3233
  %48 = load double* %arraydecay2, align 8, !dbg !3235, !tbaa !2552
  %mul.i114 = fmul double %mul.i2.i, %48, !dbg !3235
  %49 = load double* %arrayidx6.i153, align 8, !dbg !3235, !tbaa !2552
  %mul4.i117 = fmul double %mul2.i.i, %49, !dbg !3235
  %add.i118 = fadd double %mul.i114, %mul4.i117, !dbg !3235
  %50 = load double* %arrayidx10.i157, align 8, !dbg !3235, !tbaa !2552
  %mul7.i121 = fmul double %mul4.i3.i, %50, !dbg !3235
  %add8.i122 = fadd double %add.i118, %mul7.i121, !dbg !3235
  tail call void @llvm.dbg.value(metadata !{double %add8.i122}, i64 0, metadata !2088), !dbg !3235
  tail call void @llvm.dbg.value(metadata !{double %add8.i122}, i64 0, metadata !3236), !dbg !3233
  tail call void @llvm.dbg.value(metadata !{double %add8.i122}, i64 0, metadata !3237), !dbg !3240
  tail call void @llvm.dbg.value(metadata !{double %add8.i122}, i64 0, metadata !2088), !dbg !3241
  tail call void @llvm.dbg.value(metadata !{double %add8.i122}, i64 0, metadata !2088), !dbg !3242
  %51 = load double* %Light_Source_Depth, align 8, !dbg !3241, !tbaa !2552
  %mul = fmul double %51, %add8.i122, !dbg !3241
  store double %mul, double* %Light_Source_Depth, align 8, !dbg !3241, !tbaa !2552
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3243), !dbg !3245
  tail call void @llvm.dbg.value(metadata !3148, i64 0, metadata !3246), !dbg !3245
  store double %mul.i2.i, double* %arraydecay2, align 8, !dbg !3247, !tbaa !2552
  store double %mul2.i.i, double* %arrayidx6.i153, align 8, !dbg !3248, !tbaa !2552
  store double %mul4.i3.i, double* %arrayidx10.i157, align 8, !dbg !3249, !tbaa !2552
  br label %if.end57, !dbg !3250

if.else44:                                        ; preds = %if.then29
  %arraydecay46 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 16, i64 0, !dbg !3238
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay46}, i64 0, metadata !3251), !dbg !3240
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3252), !dbg !3240
  %52 = load double* %arraydecay46, align 8, !dbg !3253, !tbaa !2552
  %53 = load double* %arraydecay2, align 8, !dbg !3253, !tbaa !2552
  %mul.i104 = fmul double %52, %53, !dbg !3253
  %arrayidx2.i105 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 16, i64 1, !dbg !3253
  %54 = load double* %arrayidx2.i105, align 8, !dbg !3253, !tbaa !2552
  %55 = load double* %arrayidx6.i153, align 8, !dbg !3253, !tbaa !2552
  %mul4.i107 = fmul double %54, %55, !dbg !3253
  %add.i = fadd double %mul.i104, %mul4.i107, !dbg !3253
  %arrayidx5.i108 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 16, i64 2, !dbg !3253
  %56 = load double* %arrayidx5.i108, align 8, !dbg !3253, !tbaa !2552
  %57 = load double* %arrayidx10.i157, align 8, !dbg !3253, !tbaa !2552
  %mul7.i = fmul double %56, %57, !dbg !3253
  %add8.i = fadd double %add.i, %mul7.i, !dbg !3253
  tail call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !2088), !dbg !3253
  tail call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !3236), !dbg !3233
  tail call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !3237), !dbg !3240
  tail call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !2088), !dbg !3241
  tail call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !2088), !dbg !3242
  %58 = load double* %Light_Source_Depth, align 8, !dbg !3242, !tbaa !2552
  %59 = fmul double %58, %add8.i, !dbg !3242
  %mul49 = fsub double -0.000000e+00, %59, !dbg !3242
  store double %mul49, double* %Light_Source_Depth, align 8, !dbg !3242, !tbaa !2552
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3254), !dbg !3256
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay46}, i64 0, metadata !3257), !dbg !3256
  %60 = load double* %arraydecay46, align 8, !dbg !3258, !tbaa !2552
  store double %60, double* %arraydecay2, align 8, !dbg !3258, !tbaa !2552
  %61 = load double* %arrayidx2.i105, align 8, !dbg !3259, !tbaa !2552
  store double %61, double* %arrayidx6.i153, align 8, !dbg !3259, !tbaa !2552
  %62 = load double* %arrayidx5.i108, align 8, !dbg !3260, !tbaa !2552
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay2}, i64 0, metadata !3261), !dbg !3263
  tail call void @llvm.dbg.value(metadata !2590, i64 0, metadata !3264), !dbg !3263
  %mul.i95 = fmul double %60, -1.000000e+00, !dbg !3265
  store double %mul.i95, double* %arraydecay2, align 8, !dbg !3265, !tbaa !2552
  %mul2.i97 = fmul double %61, -1.000000e+00, !dbg !3266
  store double %mul2.i97, double* %arrayidx6.i153, align 8, !dbg !3266, !tbaa !2552
  %mul4.i99 = fmul double %62, -1.000000e+00, !dbg !3267
  store double %mul4.i99, double* %arrayidx10.i157, align 8, !dbg !3267, !tbaa !2552
  br label %if.end57

if.end57:                                         ; preds = %if.end, %if.then31, %if.else44
  %conv58 = fptrunc double %call to float, !dbg !3268
  tail call void @llvm.dbg.value(metadata !{float* %Light_Colour}, i64 0, metadata !3269), !dbg !3270
  tail call void @llvm.dbg.value(metadata !{float %conv58}, i64 0, metadata !3271), !dbg !3270
  %63 = load float* %Light_Colour, align 4, !dbg !3272, !tbaa !2644
  %mul.i = fmul float %conv58, %63, !dbg !3272
  store float %mul.i, float* %Light_Colour, align 4, !dbg !3272, !tbaa !2644
  %64 = load float* %arrayidx3.i, align 4, !dbg !3274, !tbaa !2644
  %mul2.i = fmul float %conv58, %64, !dbg !3274
  store float %mul2.i, float* %arrayidx3.i, align 4, !dbg !3274, !tbaa !2644
  %65 = load float* %arrayidx5.i, align 4, !dbg !3275, !tbaa !2644
  %mul4.i = fmul float %conv58, %65, !dbg !3275
  store float %mul4.i, float* %arrayidx5.i, align 4, !dbg !3275, !tbaa !2644
  tail call void @_ZN3pov25Initialize_Ray_ContainersEPNS_10Ray_StructEj(%"struct.pov::Ray_Struct"* %Light_Source_Ray, i32 0) #7, !dbg !3276
  tail call void @_ZN3pov19Copy_Ray_ContainersEPNS_10Ray_StructES1_(%"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::Ray_Struct"* %Eye_Ray) #7, !dbg !3277
  ret void, !dbg !3278
}
