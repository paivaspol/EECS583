define internal fastcc void @_ZN3povL17block_point_lightEPNS_19Light_Source_StructEPdPNS_10Ray_StructEPf(%"struct.pov::Light_Source_Struct"* nocapture %Light_Source, double* nocapture %Light_Source_Depth, %"struct.pov::Ray_Struct"* %Light_Source_Ray, float* %Light_Colour) #0 {
  %Blocking_Object = alloca %"struct.pov::Object_Struct"*, align 8
  %Bounded_Intersection = alloca %"struct.pov::istk_entry", align 8
  %Temp_Intersection = alloca %"struct.pov::istk_entry", align 8
  tail call void @llvm.dbg.value(metadata %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, metadata !2154, metadata !2666), !dbg !9982
  tail call void @llvm.dbg.value(metadata double* %Light_Source_Depth, i64 0, metadata !2155, metadata !2666), !dbg !9983
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !2156, metadata !2666), !dbg !9984
  tail call void @llvm.dbg.value(metadata float* %Light_Colour, i64 0, metadata !2157, metadata !2666), !dbg !9985
  %1 = bitcast %"struct.pov::istk_entry"* %Bounded_Intersection to i8*, !dbg !9986
  call void @llvm.lifetime.start(i64 200, i8* %1) #5, !dbg !9986
  %2 = bitcast %"struct.pov::istk_entry"* %Temp_Intersection to i8*, !dbg !9986
  call void @llvm.lifetime.start(i64 200, i8* %2) #5, !dbg !9986
  tail call void @llvm.dbg.value(metadata double 0.000000e+00, i64 0, metadata !2167, metadata !2666), !dbg !9987
  %3 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 42, !dbg !9988
  %4 = load %"struct.pov::Object_Struct"** %3, align 8, !dbg !9988, !tbaa !4200
  %5 = icmp eq %"struct.pov::Object_Struct"* %4, null, !dbg !9990
  br i1 %5, label %27, label %6, !dbg !9991

; <label>:6                                       ; preds = %0
  tail call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Temp_Intersection, i64 0, metadata !2165, metadata !2666), !dbg !9992
  %7 = call zeroext i1 @_ZN3pov12IntersectionEPNS_10istk_entryEPNS_13Object_StructEPNS_10Ray_StructE(%"struct.pov::istk_entry"* %Temp_Intersection, %"struct.pov::Object_Struct"* %4, %"struct.pov::Ray_Struct"* %Light_Source_Ray) #6, !dbg !9993
  br i1 %7, label %8, label %24, !dbg !9996

; <label>:8                                       ; preds = %6
  %9 = getelementptr inbounds %"struct.pov::istk_entry"* %Temp_Intersection, i64 0, i32 0, !dbg !9997
  %10 = load double* %9, align 8, !dbg !9997, !tbaa !3111
  %11 = load double* %Light_Source_Depth, align 8, !dbg !10000, !tbaa !3114
  %12 = fsub double %10, %11, !dbg !10001
  %13 = fcmp olt double %12, 0.000000e+00, !dbg !10002
  br i1 %13, label %14, label %21, !dbg !10003

; <label>:14                                      ; preds = %8
  %15 = call double @fabs(double %10) #7, !dbg !10004
  %16 = fsub double %11, %15, !dbg !10006
  %17 = fadd double %16, 1.000000e-03, !dbg !10007
  call void @llvm.dbg.value(metadata double %17, i64 0, metadata !2167, metadata !2666), !dbg !9987
  %18 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 27, !dbg !10008
  %19 = load i8* %18, align 1, !dbg !10008, !tbaa !4205
  %20 = icmp eq i8 %19, 3, !dbg !10010
  br i1 %20, label %225, label %27, !dbg !10011

; <label>:21                                      ; preds = %8
  %22 = getelementptr inbounds float* %Light_Colour, i64 2, !dbg !10012
  store float 0.000000e+00, float* %22, align 4, !dbg !10014, !tbaa !3269
  %23 = getelementptr inbounds float* %Light_Colour, i64 1, !dbg !10015
  store float 0.000000e+00, float* %23, align 4, !dbg !10016, !tbaa !3269
  store float 0.000000e+00, float* %Light_Colour, align 4, !dbg !10017, !tbaa !3269
  br label %225, !dbg !10018

; <label>:24                                      ; preds = %6
  %25 = getelementptr inbounds float* %Light_Colour, i64 2, !dbg !10019
  store float 0.000000e+00, float* %25, align 4, !dbg !10021, !tbaa !3269
  %26 = getelementptr inbounds float* %Light_Colour, i64 1, !dbg !10022
  store float 0.000000e+00, float* %26, align 4, !dbg !10023, !tbaa !3269
  store float 0.000000e+00, float* %Light_Colour, align 4, !dbg !10024, !tbaa !3269
  br label %225, !dbg !10025

; <label>:27                                      ; preds = %0, %14
  %Projected_Depth.0 = phi double [ %17, %14 ], [ 0.000000e+00, %0 ]
  %28 = call %"struct.pov::istack_struct"* @_ZN3pov11open_istackEv() #6, !dbg !10026
  call void @llvm.dbg.value(metadata %"struct.pov::istack_struct"* %28, i64 0, metadata !2166, metadata !2666), !dbg !10027
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !2159, metadata !2666), !dbg !10028
  %29 = getelementptr inbounds %"struct.pov::Light_Source_Struct"* %Light_Source, i64 0, i32 41, !dbg !10029
  %30 = load %"struct.pov::Object_Struct"** %29, align 8, !dbg !10029, !tbaa !4587
  %31 = icmp eq %"struct.pov::Object_Struct"* %30, null, !dbg !10031
  br i1 %31, label %.thread, label %32, !dbg !10032

; <label>:32                                      ; preds = %27
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), i64 0, metadata !1697, metadata !2666), !dbg !10033
  %33 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), align 8, !dbg !10036, !tbaa !2676
  %34 = add nsw i64 %33, 1, !dbg !10036
  store i64 %34, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), align 8, !dbg !10036, !tbaa !2676
  %35 = getelementptr inbounds %"struct.pov::Object_Struct"* %30, i64 0, i32 6, !dbg !10037
  %36 = load %"struct.pov::Object_Struct"** %35, align 8, !dbg !10037, !tbaa !4596
  %37 = call zeroext i1 @_ZN3pov12Ray_In_BoundEPNS_10Ray_StructEPNS_13Object_StructE(%"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::Object_Struct"* %36) #6, !dbg !10039
  br i1 %37, label %38, label %.thread, !dbg !10040

; <label>:38                                      ; preds = %32
  %39 = load %"struct.pov::Object_Struct"** %29, align 8, !dbg !10041, !tbaa !4587
  %40 = getelementptr inbounds %"struct.pov::Object_Struct"* %39, i64 0, i32 0, !dbg !10041
  %41 = load %"struct.pov::Method_Struct"** %40, align 8, !dbg !10041, !tbaa !3152
  %42 = getelementptr inbounds %"struct.pov::Method_Struct"* %41, i64 0, i32 0, !dbg !10041
  %43 = load i32 (%"struct.pov::Object_Struct"*, %"struct.pov::Ray_Struct"*, %"struct.pov::istack_struct"*)** %42, align 8, !dbg !10041, !tbaa !4602
  %44 = call i32 %43(%"struct.pov::Object_Struct"* %39, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::istack_struct"* %28) #6, !dbg !10041
  %45 = icmp eq i32 %44, 0, !dbg !10041
  br i1 %45, label %.thread, label %.preheader9, !dbg !10044

.preheader9:                                      ; preds = %38
  tail call void @llvm.dbg.value(metadata %"struct.pov::istack_struct"* %28, i64 0, metadata !2124, metadata !2666), !dbg !10045
  %46 = getelementptr inbounds %"struct.pov::istack_struct"* %28, i64 0, i32 3, !dbg !10048
  %47 = load i32* %46, align 4, !dbg !10048, !tbaa !4608
  %48 = icmp eq i32 %47, 0, !dbg !10049
  br i1 %48, label %.thread, label %_ZN3pov9pop_entryEPNS_13istack_structE.exit.lr.ph, !dbg !10050

_ZN3pov9pop_entryEPNS_13istack_structE.exit.lr.ph: ; preds = %.preheader9
  %49 = getelementptr inbounds %"struct.pov::istack_struct"* %28, i64 0, i32 1, !dbg !10051
  br label %_ZN3pov9pop_entryEPNS_13istack_structE.exit, !dbg !10050

_ZN3pov9pop_entryEPNS_13istack_structE.exit:      ; preds = %_ZN3pov9pop_entryEPNS_13istack_structE.exit.lr.ph, %.backedge
  %50 = phi i32 [ %47, %_ZN3pov9pop_entryEPNS_13istack_structE.exit.lr.ph ], [ %72, %.backedge ]
  %51 = add i32 %50, -1, !dbg !10052
  store i32 %51, i32* %46, align 4, !dbg !10052, !tbaa !4608
  %52 = zext i32 %51 to i64, !dbg !10053
  %53 = load %"struct.pov::istk_entry"** %49, align 8, !dbg !10051, !tbaa !4615
  %54 = getelementptr inbounds %"struct.pov::istk_entry"* %53, i64 %52, !dbg !10053
  call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %54, i64 0, metadata !2163, metadata !2666), !dbg !10054
  %55 = icmp eq %"struct.pov::istk_entry"* %54, null, !dbg !10055
  br i1 %55, label %.thread, label %56, !dbg !10056

; <label>:56                                      ; preds = %_ZN3pov9pop_entryEPNS_13istack_structE.exit
  %57 = getelementptr inbounds %"struct.pov::istk_entry"* %53, i64 %52, i32 5, !dbg !10057
  %58 = load %"struct.pov::Object_Struct"** %57, align 8, !dbg !10057, !tbaa !3151
  %59 = getelementptr inbounds %"struct.pov::Object_Struct"* %58, i64 0, i32 13, !dbg !10057
  %60 = load i32* %59, align 4, !dbg !10057, !tbaa !3160
  %61 = and i32 %60, 1, !dbg !10057
  %62 = icmp eq i32 %61, 0, !dbg !10057
  br i1 %62, label %63, label %.backedge, !dbg !10060

; <label>:63                                      ; preds = %56
  %64 = getelementptr inbounds %"struct.pov::istk_entry"* %54, i64 0, i32 0, !dbg !10061
  %65 = load double* %64, align 8, !dbg !10061, !tbaa !3111
  %66 = load double* %Light_Source_Depth, align 8, !dbg !10062, !tbaa !3114
  %67 = fadd double %66, -1.000000e-03, !dbg !10063
  %68 = fcmp olt double %65, %67, !dbg !10064
  %69 = fsub double %66, %65
  %70 = fcmp ogt double %69, %Projected_Depth.0, !dbg !10065
  %or.cond = and i1 %68, %70, !dbg !10066
  %71 = fcmp ogt double %65, 1.000000e-03, !dbg !10067
  %or.cond7 = and i1 %71, %or.cond, !dbg !10066
  br i1 %or.cond7, label %74, label %.backedge, !dbg !10066

.backedge:                                        ; preds = %..backedge_crit_edge, %63, %56
  %72 = phi i32 [ %.pre, %..backedge_crit_edge ], [ %51, %63 ], [ %51, %56 ]
  tail call void @llvm.dbg.value(metadata %"struct.pov::istack_struct"* %28, i64 0, metadata !2124, metadata !2666), !dbg !10045
  %73 = icmp eq i32 %72, 0, !dbg !10049
  br i1 %73, label %.thread, label %_ZN3pov9pop_entryEPNS_13istack_structE.exit, !dbg !10050

; <label>:74                                      ; preds = %63
  %75 = call fastcc i32 @_ZN3povL11do_blockingEPNS_10istk_entryEPNS_10Ray_StructEPfPNS_13istack_structE(%"struct.pov::istk_entry"* %54, %"struct.pov::Ray_Struct"* %Light_Source_Ray, float* %Light_Colour, %"struct.pov::istack_struct"* %28) #6, !dbg !10068
  %76 = icmp eq i32 %75, 0, !dbg !10068
  br i1 %76, label %..backedge_crit_edge, label %77, !dbg !10071

..backedge_crit_edge:                             ; preds = %74
  %.pre = load i32* %46, align 4, !dbg !10048, !tbaa !4608
  br label %.backedge, !dbg !10071

; <label>:77                                      ; preds = %74
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2159, metadata !2666), !dbg !10028
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 105), i64 0, metadata !1697, metadata !2666), !dbg !10072
  %78 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 105), align 8, !dbg !10075, !tbaa !2676
  %79 = add nsw i64 %78, 1, !dbg !10075
  store i64 %79, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 105), align 8, !dbg !10075, !tbaa !2676
  call void @_ZN3pov12close_istackEPNS_13istack_structE(%"struct.pov::istack_struct"* %28) #6, !dbg !10076
  br label %225, !dbg !10079

.thread:                                          ; preds = %_ZN3pov9pop_entryEPNS_13istack_structE.exit, %.backedge, %.preheader9, %32, %38, %27
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2160, metadata !2666), !dbg !10080
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !2161, metadata !2666), !dbg !10081
  %80 = load i8* getelementptr inbounds (%"struct.pov::OPTIONS_STRUCT"* @_ZN3pov4optsE, i64 0, i32 29), align 4, !dbg !10082, !tbaa !10084, !range !6545
  %81 = icmp eq i8 %80, 0, !dbg !10082
  br i1 %81, label %.preheader, label %155, !dbg !10085

.preheader:                                       ; preds = %.thread
  %82 = getelementptr inbounds %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, i32 5, !dbg !10086
  %83 = getelementptr inbounds %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, i32 0, !dbg !10089
  %84 = bitcast %"struct.pov::Object_Struct"** %Blocking_Object to i64*, !dbg !10090
  %85 = getelementptr inbounds float* %Light_Colour, i64 1, !dbg !10092
  %86 = getelementptr inbounds float* %Light_Colour, i64 2, !dbg !10096
  %87 = getelementptr inbounds %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, i32 1, i64 0, !dbg !10097
  %88 = getelementptr inbounds %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, i32 1, i64 2, !dbg !10098
  %89 = bitcast double* %88 to i64*, !dbg !10098
  %90 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 0, i64 2, !dbg !10100
  %91 = bitcast double* %90 to i64*, !dbg !10101
  %92 = getelementptr inbounds %"struct.pov::istk_entry"* %Temp_Intersection, i64 0, i32 0, !dbg !10102
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !2162, metadata !2666), !dbg !10112
  store %"struct.pov::Object_Struct"* null, %"struct.pov::Object_Struct"** %82, align 8, !dbg !10113, !tbaa !3151
  %93 = load double* %Light_Source_Depth, align 8, !dbg !10114, !tbaa !3114
  %94 = fsub double %93, %Projected_Depth.0, !dbg !10115
  store double %94, double* %83, align 8, !dbg !10116, !tbaa !3111
  %95 = load i64* bitcast (%"struct.pov::Object_Struct"** getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 5) to i64*), align 8, !dbg !10117, !tbaa !10118
  store i64 %95, i64* %84, align 8, !dbg !10119, !tbaa !2657
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  %96 = icmp eq i64 %95, 0, !dbg !10121
  br i1 %96, label %.thread8, label %.lr.ph.preheader, !dbg !10122

.lr.ph.preheader:                                 ; preds = %.preheader, %143
  %97 = phi i64 [ %153, %143 ], [ %95, %.preheader ]
  %Not_Found_Shadow.026 = phi i32 [ 0, %143 ], [ 1, %.preheader ]
  br label %.lr.ph

.lr.ph:                                           ; preds = %.lr.ph.preheader, %116
  %.in24 = phi i64 [ %120, %116 ], [ %97, %.lr.ph.preheader ]
  %Maybe_Found.011 = phi i32 [ %Maybe_Found.1, %116 ], [ 0, %.lr.ph.preheader ]
  %98 = inttoptr i64 %.in24 to %"struct.pov::Object_Struct"*
  %99 = inttoptr i64 %.in24 to %"struct.pov::Object_Struct"*
  %100 = load %"struct.pov::Object_Struct"** %29, align 8, !dbg !10123, !tbaa !4587
  %101 = icmp eq %"struct.pov::Object_Struct"* %99, %100, !dbg !10124
  br i1 %101, label %116, label %102, !dbg !10125

; <label>:102                                     ; preds = %.lr.ph
  %103 = getelementptr inbounds %"struct.pov::Object_Struct"* %99, i64 0, i32 13, !dbg !10126
  %104 = load i32* %103, align 4, !dbg !10126, !tbaa !3160
  %105 = and i32 %104, 1, !dbg !10126
  %106 = icmp eq i32 %105, 0, !dbg !10126
  br i1 %106, label %107, label %116, !dbg !10127

; <label>:107                                     ; preds = %102
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), i64 0, metadata !1697, metadata !2666), !dbg !10128
  %108 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), align 8, !dbg !10130, !tbaa !2676
  %109 = add nsw i64 %108, 1, !dbg !10130
  store i64 %109, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), align 8, !dbg !10130, !tbaa !2676
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Temp_Intersection, i64 0, metadata !2165, metadata !2666), !dbg !9992
  %110 = call zeroext i1 @_ZN3pov12IntersectionEPNS_10istk_entryEPNS_13Object_StructEPNS_10Ray_StructE(%"struct.pov::istk_entry"* %Temp_Intersection, %"struct.pov::Object_Struct"* %98, %"struct.pov::Ray_Struct"* %Light_Source_Ray) #6, !dbg !10131
  br i1 %110, label %111, label %116, !dbg !10132

; <label>:111                                     ; preds = %107
  %112 = load double* %92, align 8, !dbg !10102, !tbaa !3111
  %113 = load double* %83, align 8, !dbg !10133, !tbaa !3111
  %114 = fcmp olt double %112, %113, !dbg !10134
  br i1 %114, label %115, label %116, !dbg !10135

; <label>:115                                     ; preds = %111
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2162, metadata !2666), !dbg !10112
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* %1, i8* %2, i64 200, i32 8, i1 false), !dbg !10136, !tbaa.struct !10138
  br label %116, !dbg !10139

; <label>:116                                     ; preds = %102, %.lr.ph, %107, %115, %111
  %Maybe_Found.1 = phi i32 [ %Maybe_Found.011, %102 ], [ 1, %115 ], [ %Maybe_Found.011, %111 ], [ %Maybe_Found.011, %107 ], [ %Maybe_Found.011, %.lr.ph ]
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  %117 = load %"struct.pov::Object_Struct"** %Blocking_Object, align 8, !dbg !10140, !tbaa !2657
  %118 = getelementptr inbounds %"struct.pov::Object_Struct"* %117, i64 0, i32 2, !dbg !10141
  %119 = bitcast %"struct.pov::Object_Struct"** %118 to i64*, !dbg !10141
  %120 = load i64* %119, align 8, !dbg !10141, !tbaa !10142
  store i64 %120, i64* %84, align 8, !dbg !10119, !tbaa !2657
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  %121 = icmp eq i64 %120, 0, !dbg !10121
  br i1 %121, label %._crit_edge, label %.lr.ph, !dbg !10122

._crit_edge:                                      ; preds = %116
  %122 = icmp eq i32 %Maybe_Found.1, 0, !dbg !10143
  br i1 %122, label %.thread8, label %123, !dbg !10144

; <label>:123                                     ; preds = %._crit_edge
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 106), i64 0, metadata !1697, metadata !2666), !dbg !10145
  %124 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 106), align 8, !dbg !10147, !tbaa !2676
  %125 = add nsw i64 %124, 1, !dbg !10147
  store i64 %125, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 106), align 8, !dbg !10147, !tbaa !2676
  call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, metadata !2164, metadata !2666), !dbg !10148
  call fastcc void @_ZN3povL17filter_shadow_rayEPNS_10istk_entryEPNS_10Ray_StructEPf(%"struct.pov::istk_entry"* %Bounded_Intersection, %"struct.pov::Ray_Struct"* %Light_Source_Ray, float* %Light_Colour) #6, !dbg !10149
  %126 = load float* %Light_Colour, align 4, !dbg !10150, !tbaa !3269
  %fabsf = call float @fabsf(float %126) #4, !dbg !10151
  %127 = fpext float %fabsf to double, !dbg !10151
  %128 = fcmp olt double %127, 1.000000e-07, !dbg !10152
  br i1 %128, label %129, label %143, !dbg !10153

; <label>:129                                     ; preds = %123
  %130 = load float* %85, align 4, !dbg !10092, !tbaa !3269
  %fabsf1 = call float @fabsf(float %130) #4, !dbg !10154
  %131 = fpext float %fabsf1 to double, !dbg !10154
  %132 = fcmp olt double %131, 1.000000e-07, !dbg !10155
  br i1 %132, label %133, label %143, !dbg !10156

; <label>:133                                     ; preds = %129
  %134 = load float* %86, align 4, !dbg !10096, !tbaa !3269
  %fabsf2 = call float @fabsf(float %134) #4, !dbg !10157
  %135 = fpext float %fabsf2 to double, !dbg !10157
  %136 = fcmp olt double %135, 1.000000e-07, !dbg !10158
  br i1 %136, label %137, label %143, !dbg !10159

; <label>:137                                     ; preds = %133
  %138 = load %"struct.pov::Object_Struct"** %82, align 8, !dbg !10160, !tbaa !3151
  %139 = getelementptr inbounds %"struct.pov::Object_Struct"* %138, i64 0, i32 13, !dbg !10160
  %140 = load i32* %139, align 4, !dbg !10160, !tbaa !3160
  %141 = and i32 %140, 128, !dbg !10161
  %142 = icmp eq i32 %141, 0, !dbg !10161
  br i1 %142, label %143, label %.loopexit, !dbg !10162

; <label>:143                                     ; preds = %137, %133, %129, %123
  %144 = load double* %83, align 8, !dbg !10163, !tbaa !3111
  %145 = load double* %Light_Source_Depth, align 8, !dbg !10164, !tbaa !3114
  %146 = fsub double %145, %144, !dbg !10164
  store double %146, double* %Light_Source_Depth, align 8, !dbg !10164, !tbaa !3114
  tail call void @llvm.dbg.value(metadata double* %87, i64 0, metadata !1349, metadata !2666), !dbg !10165
  %147 = bitcast double* %87 to <2 x i64>*, !dbg !10166
  %148 = load <2 x i64>* %147, align 8, !dbg !10166, !tbaa !3114
  %149 = bitcast %"struct.pov::Ray_Struct"* %Light_Source_Ray to <2 x i64>*, !dbg !10167
  store <2 x i64> %148, <2 x i64>* %149, align 8, !dbg !10167, !tbaa !3114
  %150 = load i64* %89, align 8, !dbg !10098, !tbaa !3114
  store i64 %150, i64* %91, align 8, !dbg !10101, !tbaa !3114
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !2160, metadata !2666), !dbg !10080
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !2162, metadata !2666), !dbg !10112
  store %"struct.pov::Object_Struct"* null, %"struct.pov::Object_Struct"** %82, align 8, !dbg !10113, !tbaa !3151
  %151 = load double* %Light_Source_Depth, align 8, !dbg !10114, !tbaa !3114
  %152 = fsub double %151, %Projected_Depth.0, !dbg !10115
  store double %152, double* %83, align 8, !dbg !10116, !tbaa !3111
  %153 = load i64* bitcast (%"struct.pov::Object_Struct"** getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 5) to i64*), align 8, !dbg !10117, !tbaa !10118
  store i64 %153, i64* %84, align 8, !dbg !10119, !tbaa !2657
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  %154 = icmp eq i64 %153, 0, !dbg !10121
  br i1 %154, label %.thread8, label %.lr.ph.preheader, !dbg !10122

; <label>:155                                     ; preds = %.thread
  store i8 1, i8* @_ZN3pov13In_Shadow_RayE, align 1, !dbg !10168, !tbaa !8260
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), i64 0, metadata !1697, metadata !2666), !dbg !10170
  %156 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), align 8, !dbg !10173, !tbaa !2676
  %157 = add nsw i64 %156, 1, !dbg !10173
  store i64 %157, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), align 8, !dbg !10173, !tbaa !2676
  %158 = bitcast double* %Light_Source_Depth to i64*, !dbg !10174
  %159 = load i64* %158, align 8, !dbg !10174, !tbaa !3114
  %160 = getelementptr inbounds %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, i32 0, !dbg !10175
  %161 = bitcast %"struct.pov::istk_entry"* %Bounded_Intersection to i64*, !dbg !10176
  store i64 %159, i64* %161, align 8, !dbg !10176, !tbaa !3111
  %162 = load %"struct.pov::BBox_Tree_Struct"** @_ZN3pov11Root_ObjectE, align 8, !dbg !10177, !tbaa !2657
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, metadata !2164, metadata !2666), !dbg !10148
  %163 = call zeroext i1 @_ZN3pov19Intersect_BBox_TreeEPNS_16BBox_Tree_StructEPNS_10Ray_StructEPNS_10istk_entryEPPNS_13Object_StructEb(%"struct.pov::BBox_Tree_Struct"* %162, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::istk_entry"* %Bounded_Intersection, %"struct.pov::Object_Struct"** %Blocking_Object, i1 zeroext true) #6, !dbg !10179
  br i1 %163, label %.lr.ph14, label %._crit_edge15, !dbg !10180

.lr.ph14:                                         ; preds = %155
  %164 = getelementptr inbounds %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, i32 5, !dbg !10181
  %165 = getelementptr inbounds float* %Light_Colour, i64 1, !dbg !10184
  %166 = getelementptr inbounds float* %Light_Colour, i64 2, !dbg !10189
  %167 = getelementptr inbounds %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, i32 1, i64 0, !dbg !10190
  %168 = getelementptr inbounds %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, i32 1, i64 2, !dbg !10191
  %169 = bitcast double* %168 to i64*, !dbg !10191
  %170 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 0, i64 2, !dbg !10193
  %171 = bitcast double* %170 to i64*, !dbg !10194
  br label %172, !dbg !10180

; <label>:172                                     ; preds = %.lr.ph14, %207
  %Not_Found_Shadow.112 = phi i32 [ 1, %.lr.ph14 ], [ 0, %207 ]
  %173 = load double* %160, align 8, !dbg !10195, !tbaa !3111
  %174 = load double* %Light_Source_Depth, align 8, !dbg !10197, !tbaa !3114
  %175 = fsub double %174, %Projected_Depth.0, !dbg !10198
  %176 = fcmp ogt double %173, %175, !dbg !10199
  br i1 %176, label %._crit_edge15, label %177, !dbg !10200

; <label>:177                                     ; preds = %172
  %178 = load %"struct.pov::Object_Struct"** %164, align 8, !dbg !10181, !tbaa !3151
  %179 = getelementptr inbounds %"struct.pov::Object_Struct"* %178, i64 0, i32 13, !dbg !10181
  %180 = load i32* %179, align 4, !dbg !10181, !tbaa !3160
  %181 = and i32 %180, 1, !dbg !10181
  %182 = icmp eq i32 %181, 0, !dbg !10181
  br i1 %182, label %183, label %207, !dbg !10201

; <label>:183                                     ; preds = %177
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  %184 = load %"struct.pov::Object_Struct"** %Blocking_Object, align 8, !dbg !10202, !tbaa !2657
  %185 = load %"struct.pov::Object_Struct"** %29, align 8, !dbg !10203, !tbaa !4587
  %186 = icmp eq %"struct.pov::Object_Struct"* %184, %185, !dbg !10204
  br i1 %186, label %207, label %187, !dbg !10205

; <label>:187                                     ; preds = %183
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 106), i64 0, metadata !1697, metadata !2666), !dbg !10206
  %188 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 106), align 8, !dbg !10208, !tbaa !2676
  %189 = add nsw i64 %188, 1, !dbg !10208
  store i64 %189, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 106), align 8, !dbg !10208, !tbaa !2676
  call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, metadata !2164, metadata !2666), !dbg !10148
  call fastcc void @_ZN3povL17filter_shadow_rayEPNS_10istk_entryEPNS_10Ray_StructEPf(%"struct.pov::istk_entry"* %Bounded_Intersection, %"struct.pov::Ray_Struct"* %Light_Source_Ray, float* %Light_Colour) #6, !dbg !10209
  %190 = load float* %Light_Colour, align 4, !dbg !10210, !tbaa !3269
  %fabsf3 = call float @fabsf(float %190) #4, !dbg !10211
  %191 = fpext float %fabsf3 to double, !dbg !10211
  %192 = fcmp olt double %191, 1.000000e-07, !dbg !10212
  br i1 %192, label %193, label %207, !dbg !10213

; <label>:193                                     ; preds = %187
  %194 = load float* %165, align 4, !dbg !10184, !tbaa !3269
  %fabsf4 = call float @fabsf(float %194) #4, !dbg !10214
  %195 = fpext float %fabsf4 to double, !dbg !10214
  %196 = fcmp olt double %195, 1.000000e-07, !dbg !10215
  br i1 %196, label %197, label %207, !dbg !10216

; <label>:197                                     ; preds = %193
  %198 = load float* %166, align 4, !dbg !10189, !tbaa !3269
  %fabsf5 = call float @fabsf(float %198) #4, !dbg !10217
  %199 = fpext float %fabsf5 to double, !dbg !10217
  %200 = fcmp olt double %199, 1.000000e-07, !dbg !10218
  br i1 %200, label %201, label %207, !dbg !10219

; <label>:201                                     ; preds = %197
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  %202 = load %"struct.pov::Object_Struct"** %Blocking_Object, align 8, !dbg !10220, !tbaa !2657
  %203 = getelementptr inbounds %"struct.pov::Object_Struct"* %202, i64 0, i32 13, !dbg !10220
  %204 = load i32* %203, align 4, !dbg !10220, !tbaa !3160
  %205 = and i32 %204, 128, !dbg !10221
  %206 = icmp eq i32 %205, 0, !dbg !10221
  br i1 %206, label %207, label %._crit_edge15, !dbg !10222

; <label>:207                                     ; preds = %201, %183, %177, %197, %193, %187
  %208 = load double* %160, align 8, !dbg !10223, !tbaa !3111
  %209 = load double* %Light_Source_Depth, align 8, !dbg !10224, !tbaa !3114
  %210 = fsub double %209, %208, !dbg !10224
  store double %210, double* %Light_Source_Depth, align 8, !dbg !10224, !tbaa !3114
  tail call void @llvm.dbg.value(metadata double* %167, i64 0, metadata !1349, metadata !2666), !dbg !10225
  %211 = bitcast double* %167 to <2 x i64>*, !dbg !10226
  %212 = load <2 x i64>* %211, align 8, !dbg !10226, !tbaa !3114
  %213 = bitcast %"struct.pov::Ray_Struct"* %Light_Source_Ray to <2 x i64>*, !dbg !10227
  store <2 x i64> %212, <2 x i64>* %213, align 8, !dbg !10227, !tbaa !3114
  %214 = load i64* %169, align 8, !dbg !10191, !tbaa !3114
  store i64 %214, i64* %171, align 8, !dbg !10194, !tbaa !3114
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !2160, metadata !2666), !dbg !10080
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), i64 0, metadata !1697, metadata !2666), !dbg !10170
  %215 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), align 8, !dbg !10173, !tbaa !2676
  %216 = add nsw i64 %215, 1, !dbg !10173
  store i64 %216, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 107), align 8, !dbg !10173, !tbaa !2676
  %217 = load i64* %158, align 8, !dbg !10174, !tbaa !3114
  store i64 %217, i64* %161, align 8, !dbg !10176, !tbaa !3111
  %218 = load %"struct.pov::BBox_Tree_Struct"** @_ZN3pov11Root_ObjectE, align 8, !dbg !10177, !tbaa !2657
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  call void @llvm.dbg.value(metadata %"struct.pov::istk_entry"* %Bounded_Intersection, i64 0, metadata !2164, metadata !2666), !dbg !10148
  %219 = call zeroext i1 @_ZN3pov19Intersect_BBox_TreeEPNS_16BBox_Tree_StructEPNS_10Ray_StructEPNS_10istk_entryEPPNS_13Object_StructEb(%"struct.pov::BBox_Tree_Struct"* %218, %"struct.pov::Ray_Struct"* %Light_Source_Ray, %"struct.pov::istk_entry"* %Bounded_Intersection, %"struct.pov::Object_Struct"** %Blocking_Object, i1 zeroext true) #6, !dbg !10179
  br i1 %219, label %172, label %._crit_edge15, !dbg !10180

._crit_edge15:                                    ; preds = %172, %207, %201, %155
  %Cache_Me.0 = phi i32 [ 0, %155 ], [ 0, %172 ], [ 0, %207 ], [ %Not_Found_Shadow.112, %201 ]
  store i8 0, i8* @_ZN3pov13In_Shadow_RayE, align 1, !dbg !10228, !tbaa !8260
  br label %.loopexit

.loopexit:                                        ; preds = %137, %._crit_edge15
  %Cache_Me.1 = phi i32 [ %Cache_Me.0, %._crit_edge15 ], [ %Not_Found_Shadow.026, %137 ]
  %220 = icmp eq i32 %Cache_Me.1, 0, !dbg !10229
  br i1 %220, label %.thread8, label %221, !dbg !10231

; <label>:221                                     ; preds = %.loopexit
  call void @llvm.dbg.value(metadata %"struct.pov::Object_Struct"** %Blocking_Object, i64 0, metadata !2158, metadata !2666), !dbg !10120
  %222 = bitcast %"struct.pov::Object_Struct"** %Blocking_Object to i64*, !dbg !10232
  %223 = load i64* %222, align 8, !dbg !10232, !tbaa !2657
  %224 = bitcast %"struct.pov::Object_Struct"** %29 to i64*, !dbg !10234
  store i64 %223, i64* %224, align 8, !dbg !10234, !tbaa !4587
  br label %.thread8, !dbg !10235

.thread8:                                         ; preds = %.preheader, %._crit_edge, %143, %.loopexit, %221
  call void @_ZN3pov12close_istackEPNS_13istack_structE(%"struct.pov::istack_struct"* %28) #6, !dbg !10236
  br label %225, !dbg !10237

; <label>:225                                     ; preds = %14, %.thread8, %77, %24, %21
  call void @llvm.lifetime.end(i64 200, i8* %2) #5, !dbg !10237
  call void @llvm.lifetime.end(i64 200, i8* %1) #5, !dbg !10237
  ret void, !dbg !10237
}
