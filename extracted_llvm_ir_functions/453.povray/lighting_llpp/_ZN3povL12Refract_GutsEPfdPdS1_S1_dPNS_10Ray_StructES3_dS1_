define internal fastcc i32 @_ZN3povL12Refract_GutsEPfdPdS1_S1_dPNS_10Ray_StructES3_dS1_(float* %Colour, double %ior, double* nocapture readonly %IPoint, double* nocapture readonly %Normal, double* nocapture readonly %Local_Normal, double %n, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Ray_Struct"* %NRay, double %Weight, double* nocapture readonly %Raw_Normal) #0 {
  tail call void @llvm.dbg.value(metadata float* %Colour, i64 0, metadata !1710, metadata !2666), !dbg !8419
  tail call void @llvm.dbg.value(metadata double %ior, i64 0, metadata !1711, metadata !2666), !dbg !8420
  tail call void @llvm.dbg.value(metadata double* %IPoint, i64 0, metadata !1712, metadata !2666), !dbg !8421
  tail call void @llvm.dbg.value(metadata double* %Normal, i64 0, metadata !1713, metadata !2666), !dbg !8422
  tail call void @llvm.dbg.value(metadata double* %Local_Normal, i64 0, metadata !1714, metadata !2666), !dbg !8423
  tail call void @llvm.dbg.value(metadata double %n, i64 0, metadata !1715, metadata !2666), !dbg !8424
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Ray, i64 0, metadata !1716, metadata !2666), !dbg !8425
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %NRay, i64 0, metadata !1717, metadata !2666), !dbg !8426
  tail call void @llvm.dbg.value(metadata double %Weight, i64 0, metadata !1718, metadata !2666), !dbg !8427
  tail call void @llvm.dbg.value(metadata double* %Raw_Normal, i64 0, metadata !1719, metadata !2666), !dbg !8428
  tail call void @llvm.dbg.value(metadata double %ior, i64 0, metadata !1430, metadata !2666), !dbg !8429
  %1 = fmul double %ior, %ior, !dbg !8431
  tail call void @llvm.dbg.value(metadata double %n, i64 0, metadata !1430, metadata !2666), !dbg !8432
  %2 = fmul double %n, %n, !dbg !8434
  %3 = fadd double %2, -1.000000e+00, !dbg !8435
  %4 = fmul double %1, %3, !dbg !8436
  %5 = fadd double %4, 1.000000e+00, !dbg !8437
  tail call void @llvm.dbg.value(metadata double %5, i64 0, metadata !1720, metadata !2666), !dbg !8438
  %6 = fcmp olt double %5, 0.000000e+00, !dbg !8439
  br i1 %6, label %7, label %10, !dbg !8441

; <label>:7                                       ; preds = %0
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 104), i64 0, metadata !1697, metadata !2666), !dbg !8442
  %8 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 104), align 8, !dbg !8445, !tbaa !2676
  %9 = add nsw i64 %8, 1, !dbg !8445
  store i64 %9, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 104), align 8, !dbg !8445, !tbaa !2676
  tail call fastcc void @_ZN3povL7ReflectEPdPNS_10Ray_StructES0_S0_Pfd(double* %IPoint, %"struct.pov::Ray_Struct"* %Ray, double* %Normal, double* %Raw_Normal, float* %Colour, double %Weight) #6, !dbg !8446
  br label %44, !dbg !8447

; <label>:10                                      ; preds = %0
  %11 = fmul double %ior, %n, !dbg !8448
  %12 = tail call double @sqrt(double %5) #7, !dbg !8449
  %13 = fsub double %11, %12, !dbg !8450
  tail call void @llvm.dbg.value(metadata double %13, i64 0, metadata !1720, metadata !2666), !dbg !8438
  %14 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay, i64 0, i32 1, i64 0, !dbg !8451
  %15 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !8452
  tail call void @llvm.dbg.value(metadata double* %14, i64 0, metadata !1421, metadata !2666), !dbg !8453
  tail call void @llvm.dbg.value(metadata double %ior, i64 0, metadata !1422, metadata !2666), !dbg !8455
  tail call void @llvm.dbg.value(metadata double* %15, i64 0, metadata !1423, metadata !2666), !dbg !8456
  tail call void @llvm.dbg.value(metadata double %13, i64 0, metadata !1424, metadata !2666), !dbg !8457
  tail call void @llvm.dbg.value(metadata double* %Local_Normal, i64 0, metadata !1425, metadata !2666), !dbg !8458
  %16 = load double* %15, align 8, !dbg !8459, !tbaa !3114
  %17 = fmul double %16, %ior, !dbg !8460
  %18 = load double* %Local_Normal, align 8, !dbg !8461, !tbaa !3114
  %19 = fmul double %13, %18, !dbg !8462
  %20 = fadd double %17, %19, !dbg !8463
  store double %20, double* %14, align 8, !dbg !8464, !tbaa !3114
  %21 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 1, !dbg !8465
  %22 = load double* %21, align 8, !dbg !8465, !tbaa !3114
  %23 = fmul double %22, %ior, !dbg !8466
  %24 = getelementptr inbounds double* %Local_Normal, i64 1, !dbg !8467
  %25 = load double* %24, align 8, !dbg !8467, !tbaa !3114
  %26 = fmul double %13, %25, !dbg !8468
  %27 = fadd double %23, %26, !dbg !8469
  %28 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay, i64 0, i32 1, i64 1, !dbg !8470
  store double %27, double* %28, align 8, !dbg !8471, !tbaa !3114
  %29 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !8472
  %30 = load double* %29, align 8, !dbg !8472, !tbaa !3114
  %31 = fmul double %30, %ior, !dbg !8473
  %32 = getelementptr inbounds double* %Local_Normal, i64 2, !dbg !8474
  %33 = load double* %32, align 8, !dbg !8474, !tbaa !3114
  %34 = fmul double %13, %33, !dbg !8475
  %35 = fadd double %31, %34, !dbg !8476
  %36 = getelementptr inbounds %"struct.pov::Ray_Struct"* %NRay, i64 0, i32 1, i64 2, !dbg !8477
  store double %35, double* %36, align 8, !dbg !8478, !tbaa !3114
  tail call void @llvm.dbg.value(metadata i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 102), i64 0, metadata !1697, metadata !2666), !dbg !8479
  %37 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 102), align 8, !dbg !8481, !tbaa !2676
  %38 = add nsw i64 %37, 1, !dbg !8481
  store i64 %38, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 102), align 8, !dbg !8481, !tbaa !2676
  %39 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !8482, !tbaa !2664
  %40 = add nsw i32 %39, 1, !dbg !8482
  store i32 %40, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !8482, !tbaa !2664
  %41 = tail call double @_ZN3pov5TraceEPNS_10Ray_StructEPfd(%"struct.pov::Ray_Struct"* %NRay, float* %Colour, double %Weight) #6, !dbg !8483
  %42 = load i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !8484, !tbaa !2664
  %43 = add nsw i32 %42, -1, !dbg !8484
  store i32 %43, i32* @_ZN3pov11Trace_LevelE, align 4, !dbg !8484, !tbaa !2664
  br label %44, !dbg !8485

; <label>:44                                      ; preds = %10, %7
  %.0 = phi i32 [ 1, %7 ], [ 0, %10 ]
  ret i32 %.0, !dbg !8486
}
