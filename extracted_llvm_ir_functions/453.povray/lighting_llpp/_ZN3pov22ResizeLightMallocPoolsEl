define void @_ZN3pov22ResizeLightMallocPoolsEl(i64 %newSize) #0 {
  tail call void @llvm.dbg.value(metadata i64 %newSize, i64 0, metadata !1325, metadata !2666), !dbg !3301
  %1 = load i32* @_ZN3pov30Number_Of_Textures_And_WeightsE, align 4, !dbg !3302, !tbaa !2664
  %2 = sext i32 %1 to i64, !dbg !3302
  %3 = shl nsw i64 %2, 3, !dbg !3303
  tail call void @llvm.dbg.value(metadata i64 %3, i64 0, metadata !1327, metadata !2666), !dbg !3304
  tail call void @llvm.dbg.value(metadata i64 %3, i64 0, metadata !1328, metadata !2666), !dbg !3305
  %4 = load i8** bitcast (double*** @_ZN3pov14WeightListPoolE to i8**), align 8, !dbg !3306, !tbaa !2657
  %5 = shl i64 %newSize, 3, !dbg !3306
  %6 = tail call i8* @_ZN3pov11pov_reallocEPvmPKciS2_(i8* %4, i64 %5, i8* getelementptr inbounds ([69 x i8]* @.str, i64 0, i64 0), i32 6182, i8* getelementptr inbounds ([18 x i8]* @.str7, i64 0, i64 0)) #6, !dbg !3306
  store i8* %6, i8** bitcast (double*** @_ZN3pov14WeightListPoolE to i8**), align 8, !dbg !3307, !tbaa !2657
  %7 = load i8** bitcast (%"struct.pov::Texture_Struct"**** @_ZN3pov15TextureListPoolE to i8**), align 8, !dbg !3308, !tbaa !2657
  %8 = tail call i8* @_ZN3pov11pov_reallocEPvmPKciS2_(i8* %7, i64 %5, i8* getelementptr inbounds ([69 x i8]* @.str, i64 0, i64 0), i32 6183, i8* getelementptr inbounds ([18 x i8]* @.str7, i64 0, i64 0)) #6, !dbg !3308
  store i8* %8, i8** bitcast (%"struct.pov::Texture_Struct"**** @_ZN3pov15TextureListPoolE to i8**), align 8, !dbg !3309, !tbaa !2657
  %9 = load i8** bitcast (%"struct.pov::Light_Tested_Struct"*** @_ZN3pov13LightListPoolE to i8**), align 8, !dbg !3310, !tbaa !2657
  %10 = tail call i8* @_ZN3pov11pov_reallocEPvmPKciS2_(i8* %9, i64 %5, i8* getelementptr inbounds ([69 x i8]* @.str, i64 0, i64 0), i32 6184, i8* getelementptr inbounds ([18 x i8]* @.str7, i64 0, i64 0)) #6, !dbg !3310
  store i8* %10, i8** bitcast (%"struct.pov::Light_Tested_Struct"*** @_ZN3pov13LightListPoolE to i8**), align 8, !dbg !3311, !tbaa !2657
  %11 = load i64* @_ZN3pov17MaxLightPoolDepthE, align 8, !dbg !3312, !tbaa !2676
  %sext = shl i64 %11, 32, !dbg !3314
  %12 = ashr exact i64 %sext, 32, !dbg !3314
  %13 = icmp slt i64 %12, %newSize, !dbg !3316
  br i1 %13, label %.lr.ph, label %._crit_edge, !dbg !3317

.lr.ph:                                           ; preds = %0
  %14 = shl nsw i64 %2, 5, !dbg !3318
  %sext3 = shl i64 %11, 32
  %15 = ashr exact i64 %sext3, 32
  %16 = add i64 %newSize, -1, !dbg !3317
  br label %17, !dbg !3317

; <label>:17                                      ; preds = %17, %.lr.ph
  %indvars.iv = phi i64 [ %15, %.lr.ph ], [ %indvars.iv.next, %17 ]
  %18 = tail call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %3, i8* getelementptr inbounds ([69 x i8]* @.str, i64 0, i64 0), i32 6188, i8* getelementptr inbounds ([18 x i8]* @.str7, i64 0, i64 0)) #6, !dbg !3320
  %19 = load double*** @_ZN3pov14WeightListPoolE, align 8, !dbg !3321, !tbaa !2657
  %20 = getelementptr inbounds double** %19, i64 %indvars.iv, !dbg !3321
  %21 = bitcast double** %20 to i8**, !dbg !3322
  store i8* %18, i8** %21, align 8, !dbg !3322, !tbaa !2657
  %22 = tail call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %3, i8* getelementptr inbounds ([69 x i8]* @.str, i64 0, i64 0), i32 6189, i8* getelementptr inbounds ([18 x i8]* @.str7, i64 0, i64 0)) #6, !dbg !3323
  %23 = load %"struct.pov::Texture_Struct"**** @_ZN3pov15TextureListPoolE, align 8, !dbg !3324, !tbaa !2657
  %24 = getelementptr inbounds %"struct.pov::Texture_Struct"*** %23, i64 %indvars.iv, !dbg !3324
  %25 = bitcast %"struct.pov::Texture_Struct"*** %24 to i8**, !dbg !3325
  store i8* %22, i8** %25, align 8, !dbg !3325, !tbaa !2657
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2246, metadata !2666), !dbg !3326
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2239, metadata !2666), !dbg !3330
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2231, metadata !2666), !dbg !3331
  tail call void @llvm.dbg.value(metadata i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), i64 0, metadata !2232, metadata !2666), !dbg !3332
  tail call void @llvm.dbg.value(metadata i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), i64 0, metadata !2240, metadata !2666), !dbg !3333
  tail call void @llvm.dbg.value(metadata i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), i64 0, metadata !2247, metadata !2666), !dbg !3334
  %26 = load i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), align 8, !dbg !3335, !tbaa !2664
  %27 = icmp sgt i32 %26, 1, !dbg !3336
  %28 = sext i32 %26 to i64, !dbg !3337
  %.op = mul nsw i64 %28, 24, !dbg !3337
  %29 = select i1 %27, i64 %.op, i64 24, !dbg !3337
  %30 = tail call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %29, i8* getelementptr inbounds ([69 x i8]* @.str, i64 0, i64 0), i32 6190, i8* getelementptr inbounds ([18 x i8]* @.str7, i64 0, i64 0)) #6, !dbg !3337
  %31 = load %"struct.pov::Light_Tested_Struct"*** @_ZN3pov13LightListPoolE, align 8, !dbg !3338, !tbaa !2657
  %32 = getelementptr inbounds %"struct.pov::Light_Tested_Struct"** %31, i64 %indvars.iv, !dbg !3338
  %33 = bitcast %"struct.pov::Light_Tested_Struct"** %32 to i8**, !dbg !3339
  store i8* %30, i8** %33, align 8, !dbg !3339, !tbaa !2657
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2246, metadata !2666), !dbg !3340
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2239, metadata !2666), !dbg !3344
  tail call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2231, metadata !2666), !dbg !3345
  tail call void @llvm.dbg.value(metadata i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), i64 0, metadata !2232, metadata !2666), !dbg !3346
  tail call void @llvm.dbg.value(metadata i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), i64 0, metadata !2240, metadata !2666), !dbg !3347
  tail call void @llvm.dbg.value(metadata i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), i64 0, metadata !2247, metadata !2666), !dbg !3348
  %34 = load i32* getelementptr inbounds (%"struct.pov::Frame_Struct"* @_ZN3pov5FrameE, i64 0, i32 3), align 8, !dbg !3349, !tbaa !2664
  %35 = icmp sgt i32 %34, 1, !dbg !3350
  %36 = sext i32 %34 to i64, !dbg !3351
  %.op1 = mul nsw i64 %36, 24, !dbg !3352
  %37 = select i1 %35, i64 %.op1, i64 24, !dbg !3352
  %38 = load i64* @_ZN3pov19TotalMallocPoolSizeE, align 8, !dbg !3353, !tbaa !2676
  %39 = add i64 %38, %14, !dbg !3354
  %40 = add i64 %39, %37, !dbg !3353
  store i64 %40, i64* @_ZN3pov19TotalMallocPoolSizeE, align 8, !dbg !3353, !tbaa !2676
  %indvars.iv.next = add nsw i64 %indvars.iv, 1, !dbg !3317
  %exitcond = icmp eq i64 %indvars.iv, %16, !dbg !3317
  br i1 %exitcond, label %._crit_edge, label %17, !dbg !3317

._crit_edge:                                      ; preds = %17, %0
  store i64 %newSize, i64* @_ZN3pov17MaxLightPoolDepthE, align 8, !dbg !3355, !tbaa !2676
  ret void, !dbg !3356
}
