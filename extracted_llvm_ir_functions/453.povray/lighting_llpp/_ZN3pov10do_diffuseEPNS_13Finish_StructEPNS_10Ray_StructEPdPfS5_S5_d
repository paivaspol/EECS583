define void @_ZN3pov10do_diffuseEPNS_13Finish_StructEPNS_10Ray_StructEPdPfS5_S5_d(%"struct.pov::Finish_Struct"* nocapture readonly %Finish, %"struct.pov::Ray_Struct"* nocapture readonly %Light_Source_Ray, double* nocapture readonly %Layer_Normal, float* nocapture %Colour, float* nocapture readonly %Light_Colour, float* nocapture readonly %Layer_Pigment_Colour, double %Attenuation) #0 {
  tail call void @llvm.dbg.value(metadata %"struct.pov::Finish_Struct"* %Finish, i64 0, metadata !1272, metadata !2666), !dbg !4781
  tail call void @llvm.dbg.value(metadata %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, metadata !1273, metadata !2666), !dbg !4782
  tail call void @llvm.dbg.value(metadata double* %Layer_Normal, i64 0, metadata !1274, metadata !2666), !dbg !4783
  tail call void @llvm.dbg.value(metadata float* %Colour, i64 0, metadata !1275, metadata !2666), !dbg !4784
  tail call void @llvm.dbg.value(metadata float* %Light_Colour, i64 0, metadata !1276, metadata !2666), !dbg !4785
  tail call void @llvm.dbg.value(metadata float* %Layer_Pigment_Colour, i64 0, metadata !1277, metadata !2666), !dbg !4786
  tail call void @llvm.dbg.value(metadata double %Attenuation, i64 0, metadata !1278, metadata !2666), !dbg !4787
  %1 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 0, !dbg !4788
  tail call void @llvm.dbg.value(metadata double* %Layer_Normal, i64 0, metadata !1358, metadata !2666), !dbg !4789
  tail call void @llvm.dbg.value(metadata double* %1, i64 0, metadata !1359, metadata !2666), !dbg !4791
  %2 = load double* %Layer_Normal, align 8, !dbg !4792, !tbaa !3114
  %3 = load double* %1, align 8, !dbg !4793, !tbaa !3114
  %4 = fmul double %2, %3, !dbg !4794
  %5 = getelementptr inbounds double* %Layer_Normal, i64 1, !dbg !4795
  %6 = load double* %5, align 8, !dbg !4795, !tbaa !3114
  %7 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 1, !dbg !4796
  %8 = load double* %7, align 8, !dbg !4796, !tbaa !3114
  %9 = fmul double %6, %8, !dbg !4797
  %10 = fadd double %4, %9, !dbg !4798
  %11 = getelementptr inbounds double* %Layer_Normal, i64 2, !dbg !4799
  %12 = load double* %11, align 8, !dbg !4799, !tbaa !3114
  %13 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Light_Source_Ray, i64 0, i32 1, i64 2, !dbg !4800
  %14 = load double* %13, align 8, !dbg !4800, !tbaa !3114
  %15 = fmul double %12, %14, !dbg !4801
  %16 = fadd double %10, %15, !dbg !4802
  tail call void @llvm.dbg.value(metadata double %16, i64 0, metadata !1357, metadata !2666), !dbg !4803
  tail call void @llvm.dbg.value(metadata double %16, i64 0, metadata !1279, metadata !2666), !dbg !4804
  tail call void @llvm.dbg.value(metadata double %16, i64 0, metadata !1279, metadata !2666), !dbg !4804
  %17 = getelementptr inbounds %"struct.pov::Finish_Struct"* %Finish, i64 0, i32 1, !dbg !4805
  %18 = load float* %17, align 4, !dbg !4805, !tbaa !4807
  %19 = fcmp une float %18, 1.000000e+00, !dbg !4809
  %20 = tail call double @fabs(double %16) #7, !dbg !4810
  br i1 %19, label %21, label %24, !dbg !4812

; <label>:21                                      ; preds = %0
  %22 = fpext float %18 to double, !dbg !4813
  %23 = tail call double @llvm.pow.f64(double %20, double %22), !dbg !4814
  tail call void @llvm.dbg.value(metadata double %23, i64 0, metadata !1280, metadata !2666), !dbg !4815
  br label %24, !dbg !4816

; <label>:24                                      ; preds = %0, %21
  %Intensity.0 = phi double [ %23, %21 ], [ %20, %0 ]
  %25 = getelementptr inbounds %"struct.pov::Finish_Struct"* %Finish, i64 0, i32 0, !dbg !4817
  %26 = load float* %25, align 4, !dbg !4817, !tbaa !4818
  %27 = fpext float %26 to double, !dbg !4819
  %28 = fmul double %27, %Attenuation, !dbg !4820
  %29 = fmul double %Intensity.0, %28, !dbg !4821
  tail call void @llvm.dbg.value(metadata double %29, i64 0, metadata !1280, metadata !2666), !dbg !4815
  %30 = getelementptr inbounds %"struct.pov::Finish_Struct"* %Finish, i64 0, i32 14, !dbg !4822
  %31 = load float* %30, align 4, !dbg !4822, !tbaa !4824
  %32 = fcmp ogt float %31, 0.000000e+00, !dbg !4825
  br i1 %32, label %33, label %41, !dbg !4826

; <label>:33                                      ; preds = %24
  %34 = tail call i32 @_ZN3pov8POV_RANDEv() #6, !dbg !4827
  %35 = sitofp i32 %34 to double, !dbg !4827
  %36 = fmul double %35, 0x3F0000200040021E, !dbg !4827
  %37 = load float* %30, align 4, !dbg !4829, !tbaa !4824
  %38 = fpext float %37 to double, !dbg !4830
  %39 = fmul double %36, %38, !dbg !4831
  %40 = fsub double %29, %39, !dbg !4832
  tail call void @llvm.dbg.value(metadata double %40, i64 0, metadata !1280, metadata !2666), !dbg !4815
  br label %41, !dbg !4833

; <label>:41                                      ; preds = %33, %24
  %Intensity.1 = phi double [ %40, %33 ], [ %29, %24 ]
  %42 = load float* %Layer_Pigment_Colour, align 4, !dbg !4834, !tbaa !3269
  %43 = fpext float %42 to double, !dbg !4834
  %44 = fmul double %Intensity.1, %43, !dbg !4835
  %45 = load float* %Light_Colour, align 4, !dbg !4836, !tbaa !3269
  %46 = fpext float %45 to double, !dbg !4836
  %47 = fmul double %44, %46, !dbg !4837
  %48 = load float* %Colour, align 4, !dbg !4838, !tbaa !3269
  %49 = fpext float %48 to double, !dbg !4838
  %50 = fadd double %49, %47, !dbg !4838
  %51 = fptrunc double %50 to float, !dbg !4838
  store float %51, float* %Colour, align 4, !dbg !4838, !tbaa !3269
  %52 = getelementptr inbounds float* %Layer_Pigment_Colour, i64 1, !dbg !4839
  %53 = load float* %52, align 4, !dbg !4839, !tbaa !3269
  %54 = fpext float %53 to double, !dbg !4839
  %55 = fmul double %Intensity.1, %54, !dbg !4840
  %56 = getelementptr inbounds float* %Light_Colour, i64 1, !dbg !4841
  %57 = load float* %56, align 4, !dbg !4841, !tbaa !3269
  %58 = fpext float %57 to double, !dbg !4841
  %59 = fmul double %55, %58, !dbg !4842
  %60 = getelementptr inbounds float* %Colour, i64 1, !dbg !4843
  %61 = load float* %60, align 4, !dbg !4844, !tbaa !3269
  %62 = fpext float %61 to double, !dbg !4844
  %63 = fadd double %62, %59, !dbg !4844
  %64 = fptrunc double %63 to float, !dbg !4844
  store float %64, float* %60, align 4, !dbg !4844, !tbaa !3269
  %65 = getelementptr inbounds float* %Layer_Pigment_Colour, i64 2, !dbg !4845
  %66 = load float* %65, align 4, !dbg !4845, !tbaa !3269
  %67 = fpext float %66 to double, !dbg !4845
  %68 = fmul double %Intensity.1, %67, !dbg !4846
  %69 = getelementptr inbounds float* %Light_Colour, i64 2, !dbg !4847
  %70 = load float* %69, align 4, !dbg !4847, !tbaa !3269
  %71 = fpext float %70 to double, !dbg !4847
  %72 = fmul double %68, %71, !dbg !4848
  %73 = getelementptr inbounds float* %Colour, i64 2, !dbg !4849
  %74 = load float* %73, align 4, !dbg !4850, !tbaa !3269
  %75 = fpext float %74 to double, !dbg !4850
  %76 = fadd double %75, %72, !dbg !4850
  %77 = fptrunc double %76 to float, !dbg !4850
  store float %77, float* %73, align 4, !dbg !4850, !tbaa !3269
  ret void, !dbg !4851
}
