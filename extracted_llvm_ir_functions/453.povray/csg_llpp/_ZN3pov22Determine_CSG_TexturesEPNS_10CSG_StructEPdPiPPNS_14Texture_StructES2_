define void @_ZN3pov22Determine_CSG_TexturesEPNS_10CSG_StructEPdPiPPNS_14Texture_StructES2_(%"struct.pov::CSG_Struct"* nocapture %Csg, double* %IPoint, i32* nocapture %Count, %"struct.pov::Texture_Struct"** %Textures, double* %Weights) #0 {
entry:
  %Textures.addr = alloca %"struct.pov::Texture_Struct"**, align 8
  %Weights.addr = alloca double*, align 8
  %i = alloca i32, align 4
  call void @llvm.dbg.value(metadata !{%"struct.pov::CSG_Struct"* %Csg}, i64 0, metadata !1001), !dbg !1838
  call void @llvm.dbg.value(metadata !{double* %IPoint}, i64 0, metadata !1002), !dbg !1838
  call void @llvm.dbg.value(metadata !{i32* %Count}, i64 0, metadata !1003), !dbg !1838
  call void @llvm.dbg.value(metadata !{%"struct.pov::Texture_Struct"** %Textures}, i64 0, metadata !1004), !dbg !1838
  store %"struct.pov::Texture_Struct"** %Textures, %"struct.pov::Texture_Struct"*** %Textures.addr, align 8, !tbaa !1292
  call void @llvm.dbg.declare(metadata !{%"struct.pov::Texture_Struct"*** %Textures.addr}, metadata !1004), !dbg !1838
  call void @llvm.dbg.value(metadata !{double* %Weights}, i64 0, metadata !1005), !dbg !1838
  store double* %Weights, double** %Weights.addr, align 8, !tbaa !1292
  call void @llvm.dbg.declare(metadata !{double** %Weights.addr}, metadata !1005), !dbg !1838
  call void @llvm.dbg.declare(metadata !{i32* %i}, metadata !1006), !dbg !1839
  store i32 0, i32* %Count, align 4, !dbg !1840, !tbaa !1298
  call fastcc void @_ZN3povL17Find_CSG_TexturesEPNS_10CSG_StructEPdPiPPNS_14Texture_StructE(%"struct.pov::CSG_Struct"* %Csg, double* %IPoint, i32* %Count, %"struct.pov::Texture_Struct"** null) #4, !dbg !1841
  %0 = load i32* %Count, align 4, !dbg !1842, !tbaa !1298
  %cmp = icmp eq i32 %0, 0, !dbg !1842
  br i1 %cmp, label %if.then, label %if.end, !dbg !1842

if.then:                                          ; preds = %entry
  %call = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([41 x i8]* @.str6, i64 0, i64 0)) #4, !dbg !1843
  %.pre = load i32* %Count, align 4, !dbg !1845, !tbaa !1298
  br label %if.end, !dbg !1846

if.end:                                           ; preds = %if.then, %entry
  %1 = phi i32 [ %.pre, %if.then ], [ %0, %entry ]
  call void @_ZN3pov26Reinitialize_Lighting_CodeEiPPPNS_14Texture_StructEPPd(i32 %1, %"struct.pov::Texture_Struct"*** %Textures.addr, double** %Weights.addr) #4, !dbg !1845
  %2 = load i32* %Count, align 4, !dbg !1847, !tbaa !1298
  %conv = sitofp i32 %2 to double, !dbg !1847
  %div = fdiv double 1.000000e+00, %conv, !dbg !1847
  call void @llvm.dbg.value(metadata !{double %div}, i64 0, metadata !1007), !dbg !1847
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !1006), !dbg !1848
  store i32 0, i32* %i, align 4, !dbg !1848, !tbaa !1298
  call void @llvm.dbg.value(metadata !{%"struct.pov::Texture_Struct"*** %Textures.addr}, i64 0, metadata !1004), !dbg !1849
  %3 = load %"struct.pov::Texture_Struct"*** %Textures.addr, align 8, !dbg !1849, !tbaa !1292
  call fastcc void @_ZN3povL17Find_CSG_TexturesEPNS_10CSG_StructEPdPiPPNS_14Texture_StructE(%"struct.pov::CSG_Struct"* %Csg, double* %IPoint, i32* %i, %"struct.pov::Texture_Struct"** %3) #4, !dbg !1849
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !1006), !dbg !1850
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !1006), !dbg !1850
  store i32 0, i32* %i, align 4, !dbg !1850, !tbaa !1298
  call void @llvm.dbg.value(metadata !{i32* %i}, i64 0, metadata !1006), !dbg !1850
  %4 = load i32* %Count, align 4, !dbg !1850, !tbaa !1298
  %cmp19 = icmp sgt i32 %4, 0, !dbg !1850
  br i1 %cmp19, label %for.body.lr.ph, label %for.end, !dbg !1850

for.body.lr.ph:                                   ; preds = %if.end
  call void @llvm.dbg.value(metadata !{double** %Weights.addr}, i64 0, metadata !1005), !dbg !1852
  %5 = load double** %Weights.addr, align 8, !dbg !1852, !tbaa !1292
  call void @llvm.dbg.value(metadata !{i32* %i}, i64 0, metadata !1006), !dbg !1850
  %6 = icmp sgt i32 %4, 1
  br label %for.body, !dbg !1850

for.body:                                         ; preds = %for.body.lr.ph, %for.body
  %inc11 = phi i32 [ 0, %for.body.lr.ph ], [ %inc, %for.body ], !dbg !1852
  %idxprom = sext i32 %inc11 to i64, !dbg !1852
  call void @llvm.dbg.value(metadata !{double** %Weights.addr}, i64 0, metadata !1005), !dbg !1852
  %arrayidx = getelementptr inbounds double* %5, i64 %idxprom, !dbg !1852
  store double %div, double* %arrayidx, align 8, !dbg !1852, !tbaa !1340
  call void @llvm.dbg.value(metadata !{i32* %i}, i64 0, metadata !1006), !dbg !1850
  %inc = add nsw i32 %inc11, 1, !dbg !1850
  call void @llvm.dbg.value(metadata !{i32 %smax}, i64 0, metadata !1006), !dbg !1850
  call void @llvm.dbg.value(metadata !{i32 %inc11}, i64 0, metadata !1006), !dbg !1850
  call void @llvm.dbg.value(metadata !{i32* %i}, i64 0, metadata !1006), !dbg !1850
  %cmp1 = icmp slt i32 %inc, %4, !dbg !1850
  br i1 %cmp1, label %for.body, label %for.cond.for.end_crit_edge, !dbg !1850

for.cond.for.end_crit_edge:                       ; preds = %for.body
  %smax = select i1 %6, i32 %4, i32 1
  call void @llvm.dbg.value(metadata !{i32 %smax}, i64 0, metadata !1006), !dbg !1850
  store i32 %smax, i32* %i, align 4, !dbg !1850, !tbaa !1298
  br label %for.end, !dbg !1850

for.end:                                          ; preds = %for.cond.for.end_crit_edge, %if.end
  ret void, !dbg !1854
}
