define i32 @_ZN3pov9image_mapEPdPNS_14Pigment_StructEPf(double* nocapture %EPoint, %"struct.pov::Pigment_Struct"* nocapture %Pigment, float* %colour) #0 {
entry:
  %reg_number = alloca i32, align 4
  %xcoor = alloca double, align 8
  %ycoor = alloca double, align 8
  call void @llvm.dbg.value(metadata !{double* %EPoint}, i64 0, metadata !783), !dbg !1189
  call void @llvm.dbg.value(metadata !{%"struct.pov::Pigment_Struct"* %Pigment}, i64 0, metadata !785), !dbg !1189
  call void @llvm.dbg.value(metadata !{float* %colour}, i64 0, metadata !786), !dbg !1189
  call void @llvm.dbg.declare(metadata !{i32* %reg_number}, metadata !787), !dbg !1190
  call void @llvm.dbg.declare(metadata !{double* %xcoor}, metadata !788), !dbg !1191
  call void @llvm.dbg.value(metadata !1192, i64 0, metadata !788), !dbg !1191
  store double 0.000000e+00, double* %xcoor, align 8, !dbg !1191, !tbaa !1193
  call void @llvm.dbg.declare(metadata !{double* %ycoor}, metadata !789), !dbg !1191
  call void @llvm.dbg.value(metadata !1192, i64 0, metadata !789), !dbg !1191
  store double 0.000000e+00, double* %ycoor, align 8, !dbg !1191, !tbaa !1193
  %0 = bitcast %"struct.pov::Pigment_Struct"* %Pigment to %"struct.pov::Pattern_Struct"*, !dbg !1196
  %call = call fastcc i32 @_ZN3povL3mapEPdPNS_14Pattern_StructES0_S0_(double* %EPoint, %"struct.pov::Pattern_Struct"* %0, double* %xcoor, double* %ycoor) #8, !dbg !1196
  %tobool = icmp eq i32 %call, 0, !dbg !1196
  br i1 %tobool, label %if.else, label %if.then, !dbg !1196

if.then:                                          ; preds = %entry
  tail call void @llvm.dbg.value(metadata !{float* %colour}, i64 0, metadata !1197), !dbg !1200
  tail call void @llvm.dbg.value(metadata !1201, i64 0, metadata !1202), !dbg !1200
  tail call void @llvm.dbg.value(metadata !1201, i64 0, metadata !1203), !dbg !1200
  tail call void @llvm.dbg.value(metadata !1201, i64 0, metadata !1204), !dbg !1200
  tail call void @llvm.dbg.value(metadata !1205, i64 0, metadata !1206), !dbg !1200
  tail call void @llvm.dbg.value(metadata !1201, i64 0, metadata !1207), !dbg !1200
  store float 1.000000e+00, float* %colour, align 4, !dbg !1208, !tbaa !1210
  %arrayidx1.i = getelementptr inbounds float* %colour, i64 1, !dbg !1211
  store float 1.000000e+00, float* %arrayidx1.i, align 4, !dbg !1211, !tbaa !1210
  %arrayidx2.i = getelementptr inbounds float* %colour, i64 2, !dbg !1212
  store float 1.000000e+00, float* %arrayidx2.i, align 4, !dbg !1212, !tbaa !1210
  %arrayidx3.i = getelementptr inbounds float* %colour, i64 3, !dbg !1213
  store float 0.000000e+00, float* %arrayidx3.i, align 4, !dbg !1213, !tbaa !1210
  %arrayidx4.i = getelementptr inbounds float* %colour, i64 4, !dbg !1214
  store float 1.000000e+00, float* %arrayidx4.i, align 4, !dbg !1214, !tbaa !1210
  br label %return, !dbg !1215

if.else:                                          ; preds = %entry
  %Vals = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 10, !dbg !1216
  %Image = bitcast %union.anon.25* %Vals to %"struct.pov::Image_Struct"**, !dbg !1216
  %1 = load %"struct.pov::Image_Struct"** %Image, align 8, !dbg !1216, !tbaa !1218
  call void @llvm.dbg.value(metadata !{double* %xcoor}, i64 0, metadata !788), !dbg !1216
  %2 = load double* %xcoor, align 8, !dbg !1216, !tbaa !1193
  call void @llvm.dbg.value(metadata !{double* %ycoor}, i64 0, metadata !789), !dbg !1216
  %3 = load double* %ycoor, align 8, !dbg !1216, !tbaa !1193
  call fastcc void @_ZN3povL15image_colour_atEPNS_12Image_StructEddPfPi(%"struct.pov::Image_Struct"* %1, double %2, double %3, float* %colour, i32* %reg_number) #8, !dbg !1216
  br label %return, !dbg !1219

return:                                           ; preds = %if.else, %if.then
  %retval.0 = phi i32 [ 0, %if.then ], [ 1, %if.else ]
  ret i32 %retval.0, !dbg !1219
}
