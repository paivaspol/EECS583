define void @_ZN3pov13Destroy_ImageEPNS_12Image_StructE(%"struct.pov::Image_Struct"* %Image) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Image_Struct"* %Image}, i64 0, metadata !874), !dbg !1958
  %cmp = icmp eq %"struct.pov::Image_Struct"* %Image, null, !dbg !1959
  br i1 %cmp, label %return, label %lor.lhs.false, !dbg !1959

lor.lhs.false:                                    ; preds = %entry
  %References = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 0, !dbg !1959
  %0 = load i32* %References, align 4, !dbg !1959, !tbaa !1223
  %dec = add nsw i32 %0, -1, !dbg !1959
  store i32 %dec, i32* %References, align 4, !dbg !1959, !tbaa !1223
  %cmp1 = icmp sgt i32 %dec, 0, !dbg !1959
  br i1 %cmp1, label %return, label %if.end, !dbg !1959

if.end:                                           ; preds = %lor.lhs.false
  %Colour_Map = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 16, !dbg !1960
  %1 = load %"struct.pov::Image_Colour_Struct"** %Colour_Map, align 8, !dbg !1960, !tbaa !1218
  %cmp2 = icmp eq %"struct.pov::Image_Colour_Struct"* %1, null, !dbg !1960
  br i1 %cmp2, label %if.else, label %if.then3, !dbg !1960

if.then3:                                         ; preds = %if.end
  %2 = bitcast %"struct.pov::Image_Colour_Struct"* %1 to i8*, !dbg !1961
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %2, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1635) #8, !dbg !1961
  store %"struct.pov::Image_Colour_Struct"* null, %"struct.pov::Image_Colour_Struct"** %Colour_Map, align 8, !dbg !1964, !tbaa !1218
  %data = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 18, !dbg !1965
  %map_lines = bitcast %union.anon.2* %data to i8***, !dbg !1965
  %3 = load i8*** %map_lines, align 8, !dbg !1965, !tbaa !1218
  %cmp7 = icmp eq i8** %3, null, !dbg !1965
  br i1 %cmp7, label %if.end184, label %for.cond.preheader, !dbg !1965

for.cond.preheader:                               ; preds = %if.then3
  %iheight = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 6, !dbg !1966
  %4 = load i32* %iheight, align 4, !dbg !1966, !tbaa !1223
  %cmp9267 = icmp sgt i32 %4, 0, !dbg !1966
  br i1 %cmp9267, label %for.body, label %for.end, !dbg !1966

for.body:                                         ; preds = %for.body, %for.cond.preheader
  %5 = phi i8** [ %3, %for.cond.preheader ], [ %.pre281, %for.body ]
  %indvars.iv273 = phi i64 [ 0, %for.cond.preheader ], [ %indvars.iv.next274, %for.body ]
  %arrayidx = getelementptr inbounds i8** %5, i64 %indvars.iv273, !dbg !1969
  %6 = load i8** %arrayidx, align 8, !dbg !1969, !tbaa !1218
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %6, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1643) #8, !dbg !1969
  %7 = load i8*** %map_lines, align 8, !dbg !1969, !tbaa !1218
  %arrayidx15 = getelementptr inbounds i8** %7, i64 %indvars.iv273, !dbg !1969
  store i8* null, i8** %arrayidx15, align 8, !dbg !1969, !tbaa !1218
  %indvars.iv.next274 = add i64 %indvars.iv273, 1, !dbg !1966
  %8 = load i32* %iheight, align 4, !dbg !1966, !tbaa !1223
  %9 = trunc i64 %indvars.iv.next274 to i32, !dbg !1966
  %cmp9 = icmp slt i32 %9, %8, !dbg !1966
  %.pre281 = load i8*** %map_lines, align 8, !dbg !1969, !tbaa !1218
  br i1 %cmp9, label %for.body, label %for.end, !dbg !1966

for.end:                                          ; preds = %for.body, %for.cond.preheader
  %10 = phi i8** [ %3, %for.cond.preheader ], [ %.pre281, %for.body ]
  %11 = bitcast i8** %10 to i8*, !dbg !1972
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %11, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1646) #8, !dbg !1972
  %12 = getelementptr inbounds %union.anon.2* %data, i64 0, i32 0, !dbg !1974
  store %"struct.pov::Image8_Line_Struct"* null, %"struct.pov::Image8_Line_Struct"** %12, align 8, !dbg !1974, !tbaa !1218
  br label %if.end184, !dbg !1975

if.else:                                          ; preds = %if.end
  %Image_Type = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 3, !dbg !1976
  %13 = load i32* %Image_Type, align 4, !dbg !1976, !tbaa !1223
  %and = and i32 %13, 131072, !dbg !1976
  %cmp23 = icmp eq i32 %and, 0, !dbg !1976
  br i1 %cmp23, label %if.else117, label %if.then24, !dbg !1976

if.then24:                                        ; preds = %if.else
  %and26 = and i32 %13, 262144, !dbg !1978
  %cmp27 = icmp eq i32 %and26, 0, !dbg !1978
  %data29 = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 18, !dbg !1980
  br i1 %cmp27, label %if.else54, label %if.then28, !dbg !1978

if.then28:                                        ; preds = %if.then24
  %gray16_lines = bitcast %union.anon.2* %data29 to i16***, !dbg !1980
  %14 = load i16*** %gray16_lines, align 8, !dbg !1980, !tbaa !1218
  %cmp30 = icmp eq i16** %14, null, !dbg !1980
  br i1 %cmp30, label %if.end184, label %for.cond32.preheader, !dbg !1980

for.cond32.preheader:                             ; preds = %if.then28
  %iheight33 = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 6, !dbg !1982
  %15 = load i32* %iheight33, align 4, !dbg !1982, !tbaa !1223
  %cmp34265 = icmp sgt i32 %15, 0, !dbg !1982
  br i1 %cmp34265, label %for.body35, label %for.end46, !dbg !1982

for.body35:                                       ; preds = %for.body35, %for.cond32.preheader
  %16 = phi i16** [ %14, %for.cond32.preheader ], [ %.pre280, %for.body35 ]
  %indvars.iv271 = phi i64 [ 0, %for.cond32.preheader ], [ %indvars.iv.next272, %for.body35 ]
  %arrayidx39 = getelementptr inbounds i16** %16, i64 %indvars.iv271, !dbg !1985
  %17 = load i16** %arrayidx39, align 8, !dbg !1985, !tbaa !1218
  %18 = bitcast i16* %17 to i8*, !dbg !1985
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %18, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1661) #8, !dbg !1985
  %19 = load i16*** %gray16_lines, align 8, !dbg !1985, !tbaa !1218
  %arrayidx43 = getelementptr inbounds i16** %19, i64 %indvars.iv271, !dbg !1985
  store i16* null, i16** %arrayidx43, align 8, !dbg !1985, !tbaa !1218
  %indvars.iv.next272 = add i64 %indvars.iv271, 1, !dbg !1982
  %20 = load i32* %iheight33, align 4, !dbg !1982, !tbaa !1223
  %21 = trunc i64 %indvars.iv.next272 to i32, !dbg !1982
  %cmp34 = icmp slt i32 %21, %20, !dbg !1982
  %.pre280 = load i16*** %gray16_lines, align 8, !dbg !1985, !tbaa !1218
  br i1 %cmp34, label %for.body35, label %for.end46, !dbg !1982

for.end46:                                        ; preds = %for.body35, %for.cond32.preheader
  %22 = phi i16** [ %14, %for.cond32.preheader ], [ %.pre280, %for.body35 ]
  %23 = bitcast i16** %22 to i8*, !dbg !1988
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %23, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1664) #8, !dbg !1988
  %24 = getelementptr inbounds %union.anon.2* %data29, i64 0, i32 0, !dbg !1990
  store %"struct.pov::Image8_Line_Struct"* null, %"struct.pov::Image8_Line_Struct"** %24, align 8, !dbg !1990, !tbaa !1218
  br label %if.end184, !dbg !1991

if.else54:                                        ; preds = %if.then24
  %rgb16_lines = bitcast %union.anon.2* %data29 to %"struct.pov::Image16_Line_Struct"**, !dbg !1992
  %25 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !1992, !tbaa !1218
  %cmp56 = icmp eq %"struct.pov::Image16_Line_Struct"* %25, null, !dbg !1992
  br i1 %cmp56, label %if.end184, label %for.cond58.preheader, !dbg !1992

for.cond58.preheader:                             ; preds = %if.else54
  %iheight59 = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 6, !dbg !1993
  %26 = load i32* %iheight59, align 4, !dbg !1993, !tbaa !1223
  %cmp60263 = icmp sgt i32 %26, 0, !dbg !1993
  br i1 %cmp60263, label %for.body61, label %for.end108, !dbg !1993

for.body61:                                       ; preds = %for.inc106, %for.cond58.preheader
  %27 = phi %"struct.pov::Image16_Line_Struct"* [ %25, %for.cond58.preheader ], [ %.pre279, %for.inc106 ], !dbg !1996
  %indvars.iv269 = phi i64 [ 0, %for.cond58.preheader ], [ %indvars.iv.next270, %for.inc106 ]
  %red = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %27, i64 %indvars.iv269, i32 0, !dbg !1996
  %28 = load i16** %red, align 8, !dbg !1996, !tbaa !1218
  %29 = bitcast i16* %28 to i8*, !dbg !1996
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %29, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1673) #8, !dbg !1996
  %30 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !1996, !tbaa !1218
  %red70 = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %30, i64 %indvars.iv269, i32 0, !dbg !1996
  store i16* null, i16** %red70, align 8, !dbg !1996, !tbaa !1218
  %31 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !1999, !tbaa !1218
  %green = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %31, i64 %indvars.iv269, i32 1, !dbg !1999
  %32 = load i16** %green, align 8, !dbg !1999, !tbaa !1218
  %33 = bitcast i16* %32 to i8*, !dbg !1999
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %33, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1674) #8, !dbg !1999
  %34 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !1999, !tbaa !1218
  %green79 = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %34, i64 %indvars.iv269, i32 1, !dbg !1999
  store i16* null, i16** %green79, align 8, !dbg !1999, !tbaa !1218
  %35 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !2001, !tbaa !1218
  %blue = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %35, i64 %indvars.iv269, i32 2, !dbg !2001
  %36 = load i16** %blue, align 8, !dbg !2001, !tbaa !1218
  %37 = bitcast i16* %36 to i8*, !dbg !2001
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %37, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1675) #8, !dbg !2001
  %38 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !2001, !tbaa !1218
  %blue88 = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %38, i64 %indvars.iv269, i32 2, !dbg !2001
  store i16* null, i16** %blue88, align 8, !dbg !2001, !tbaa !1218
  %39 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !2003, !tbaa !1218
  %transm = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %39, i64 %indvars.iv269, i32 3, !dbg !2003
  %40 = load i16** %transm, align 8, !dbg !2003, !tbaa !1218
  %cmp93 = icmp eq i16* %40, null, !dbg !2003
  br i1 %cmp93, label %for.inc106, label %if.then94, !dbg !2003

if.then94:                                        ; preds = %for.body61
  %41 = bitcast i16* %40 to i8*, !dbg !2004
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %41, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1679) #8, !dbg !2004
  %42 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !2004, !tbaa !1218
  %transm104 = getelementptr inbounds %"struct.pov::Image16_Line_Struct"* %42, i64 %indvars.iv269, i32 3, !dbg !2004
  store i16* null, i16** %transm104, align 8, !dbg !2004, !tbaa !1218
  br label %for.inc106, !dbg !2007

for.inc106:                                       ; preds = %for.body61, %if.then94
  %indvars.iv.next270 = add i64 %indvars.iv269, 1, !dbg !1993
  %43 = load i32* %iheight59, align 4, !dbg !1993, !tbaa !1223
  %44 = trunc i64 %indvars.iv.next270 to i32, !dbg !1993
  %cmp60 = icmp slt i32 %44, %43, !dbg !1993
  %.pre279 = load %"struct.pov::Image16_Line_Struct"** %rgb16_lines, align 8, !dbg !1996, !tbaa !1218
  br i1 %cmp60, label %for.body61, label %for.end108, !dbg !1993

for.end108:                                       ; preds = %for.inc106, %for.cond58.preheader
  %45 = phi %"struct.pov::Image16_Line_Struct"* [ %25, %for.cond58.preheader ], [ %.pre279, %for.inc106 ]
  %46 = bitcast %"struct.pov::Image16_Line_Struct"* %45 to i8*, !dbg !2008
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %46, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1683) #8, !dbg !2008
  %47 = getelementptr inbounds %union.anon.2* %data29, i64 0, i32 0, !dbg !2010
  store %"struct.pov::Image8_Line_Struct"* null, %"struct.pov::Image8_Line_Struct"** %47, align 8, !dbg !2010, !tbaa !1218
  br label %if.end184, !dbg !2011

if.else117:                                       ; preds = %if.else
  %rgb8_lines = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 18, i32 0, !dbg !2012
  %48 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2012, !tbaa !1218
  %cmp119 = icmp eq %"struct.pov::Image8_Line_Struct"* %48, null, !dbg !2012
  br i1 %cmp119, label %if.end184, label %for.cond121.preheader, !dbg !2012

for.cond121.preheader:                            ; preds = %if.else117
  %iheight122 = getelementptr inbounds %"struct.pov::Image_Struct"* %Image, i64 0, i32 6, !dbg !2014
  %49 = load i32* %iheight122, align 4, !dbg !2014, !tbaa !1223
  %cmp123261 = icmp sgt i32 %49, 0, !dbg !2014
  br i1 %cmp123261, label %for.body124, label %for.end175, !dbg !2014

for.body124:                                      ; preds = %for.inc173, %for.cond121.preheader
  %50 = phi %"struct.pov::Image8_Line_Struct"* [ %48, %for.cond121.preheader ], [ %.pre278, %for.inc173 ], !dbg !2017
  %indvars.iv = phi i64 [ 0, %for.cond121.preheader ], [ %indvars.iv.next, %for.inc173 ]
  %red129 = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %50, i64 %indvars.iv, i32 0, !dbg !2017
  %51 = load i8** %red129, align 8, !dbg !2017, !tbaa !1218
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %51, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1694) #8, !dbg !2017
  %52 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2017, !tbaa !1218
  %red134 = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %52, i64 %indvars.iv, i32 0, !dbg !2017
  store i8* null, i8** %red134, align 8, !dbg !2017, !tbaa !1218
  %53 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2020, !tbaa !1218
  %green139 = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %53, i64 %indvars.iv, i32 1, !dbg !2020
  %54 = load i8** %green139, align 8, !dbg !2020, !tbaa !1218
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %54, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1695) #8, !dbg !2020
  %55 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2020, !tbaa !1218
  %green144 = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %55, i64 %indvars.iv, i32 1, !dbg !2020
  store i8* null, i8** %green144, align 8, !dbg !2020, !tbaa !1218
  %56 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2022, !tbaa !1218
  %blue149 = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %56, i64 %indvars.iv, i32 2, !dbg !2022
  %57 = load i8** %blue149, align 8, !dbg !2022, !tbaa !1218
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %57, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1696) #8, !dbg !2022
  %58 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2022, !tbaa !1218
  %blue154 = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %58, i64 %indvars.iv, i32 2, !dbg !2022
  store i8* null, i8** %blue154, align 8, !dbg !2022, !tbaa !1218
  %59 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2024, !tbaa !1218
  %transm159 = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %59, i64 %indvars.iv, i32 3, !dbg !2024
  %60 = load i8** %transm159, align 8, !dbg !2024, !tbaa !1218
  %cmp160 = icmp eq i8* %60, null, !dbg !2024
  br i1 %cmp160, label %for.inc173, label %if.then161, !dbg !2024

if.then161:                                       ; preds = %for.body124
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %60, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1700) #8, !dbg !2025
  %61 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2025, !tbaa !1218
  %transm171 = getelementptr inbounds %"struct.pov::Image8_Line_Struct"* %61, i64 %indvars.iv, i32 3, !dbg !2025
  store i8* null, i8** %transm171, align 8, !dbg !2025, !tbaa !1218
  br label %for.inc173, !dbg !2028

for.inc173:                                       ; preds = %for.body124, %if.then161
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !2014
  %62 = load i32* %iheight122, align 4, !dbg !2014, !tbaa !1223
  %63 = trunc i64 %indvars.iv.next to i32, !dbg !2014
  %cmp123 = icmp slt i32 %63, %62, !dbg !2014
  %.pre278 = load %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2017, !tbaa !1218
  br i1 %cmp123, label %for.body124, label %for.end175, !dbg !2014

for.end175:                                       ; preds = %for.inc173, %for.cond121.preheader
  %64 = phi %"struct.pov::Image8_Line_Struct"* [ %48, %for.cond121.preheader ], [ %.pre278, %for.inc173 ]
  %65 = bitcast %"struct.pov::Image8_Line_Struct"* %64 to i8*, !dbg !2029
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %65, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1704) #8, !dbg !2029
  store %"struct.pov::Image8_Line_Struct"* null, %"struct.pov::Image8_Line_Struct"** %rgb8_lines, align 8, !dbg !2031, !tbaa !1218
  br label %if.end184, !dbg !2032

if.end184:                                        ; preds = %if.then3, %if.then28, %if.else54, %if.else117, %for.end108, %for.end46, %for.end175, %for.end
  %66 = bitcast %"struct.pov::Image_Struct"* %Image to i8*, !dbg !2033
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %66, i8* getelementptr inbounds ([54 x i8]* @.str1, i64 0, i64 0), i32 1711) #8, !dbg !2033
  tail call void @llvm.dbg.value(metadata !2035, i64 0, metadata !874), !dbg !2033
  br label %return, !dbg !2036

return:                                           ; preds = %entry, %lor.lhs.false, %if.end184
  ret void, !dbg !2036
}
