define internal fastcc i32 @_ZN3povL23intersect_mesh_triangleEPNS_10Ray_StructEPNS_11Mesh_StructEPNS_20Mesh_Triangle_StructEPd(%"struct.pov::Ray_Struct"* nocapture %Ray, %"struct.pov::Mesh_Struct"* nocapture %Mesh, %"struct.pov::Mesh_Triangle_Struct"* nocapture %Triangle, double* nocapture %Depth) #1 {
entry:
  %P1 = alloca [3 x double], align 16
  %P2 = alloca [3 x double], align 16
  %P3 = alloca [3 x double], align 16
  call void @llvm.dbg.value(metadata !{%"struct.pov::Ray_Struct"* %Ray}, i64 0, metadata !1552), !dbg !3075
  call void @llvm.dbg.value(metadata !{%"struct.pov::Mesh_Struct"* %Mesh}, i64 0, metadata !1553), !dbg !3075
  call void @llvm.dbg.value(metadata !{%"struct.pov::Mesh_Triangle_Struct"* %Triangle}, i64 0, metadata !1554), !dbg !3075
  call void @llvm.dbg.value(metadata !{double* %Depth}, i64 0, metadata !1555), !dbg !3075
  call void @llvm.dbg.declare(metadata !{[3 x double]* %P1}, metadata !1561), !dbg !3076
  call void @llvm.dbg.declare(metadata !{[3 x double]* %P2}, metadata !1562), !dbg !3076
  call void @llvm.dbg.declare(metadata !{[3 x double]* %P3}, metadata !1563), !dbg !3076
  call void @llvm.dbg.declare(metadata !1958, metadata !1564), !dbg !3076
  %Normal_Ind = getelementptr inbounds %"struct.pov::Mesh_Triangle_Struct"* %Triangle, i64 0, i32 1, !dbg !3077
  %0 = load i64* %Normal_Ind, align 8, !dbg !3077, !tbaa !1739
  %Data = getelementptr inbounds %"struct.pov::Mesh_Struct"* %Mesh, i64 0, i32 14, !dbg !3077
  %1 = load %"struct.pov::Mesh_Data_Struct"** %Data, align 8, !dbg !3077, !tbaa !1750
  %Normals = getelementptr inbounds %"struct.pov::Mesh_Data_Struct"* %1, i64 0, i32 5, !dbg !3077
  %2 = load [3 x float]** %Normals, align 8, !dbg !3077, !tbaa !1750
  %arraydecay1 = getelementptr inbounds [3 x float]* %2, i64 %0, i64 0, !dbg !3077
  tail call void @llvm.dbg.value(metadata !1959, i64 0, metadata !3078), !dbg !3079
  tail call void @llvm.dbg.value(metadata !{float* %arraydecay1}, i64 0, metadata !3080), !dbg !3079
  %3 = load float* %arraydecay1, align 4, !dbg !3081, !tbaa !1971
  %conv.i = fpext float %3 to double, !dbg !3081
  %arrayidx2.i = getelementptr inbounds [3 x float]* %2, i64 %0, i64 1, !dbg !3082
  %4 = load float* %arrayidx2.i, align 4, !dbg !3082, !tbaa !1971
  %conv3.i = fpext float %4 to double, !dbg !3082
  %arrayidx5.i = getelementptr inbounds [3 x float]* %2, i64 %0, i64 2, !dbg !3083
  %5 = load float* %arrayidx5.i, align 4, !dbg !3083, !tbaa !1971
  %conv6.i = fpext float %5 to double, !dbg !3083
  %arraydecay3 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 0, !dbg !3084
  tail call void @llvm.dbg.value(metadata !1959, i64 0, metadata !3085), !dbg !3086
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay3}, i64 0, metadata !3087), !dbg !3086
  %6 = load double* %arraydecay3, align 8, !dbg !3088, !tbaa !1758
  %mul.i = fmul double %conv.i, %6, !dbg !3088
  %arrayidx3.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 1, !dbg !3088
  %7 = load double* %arrayidx3.i, align 8, !dbg !3088, !tbaa !1758
  %mul4.i = fmul double %conv3.i, %7, !dbg !3088
  %add.i = fadd double %mul.i, %mul4.i, !dbg !3088
  %arrayidx6.i = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 1, i64 2, !dbg !3088
  %8 = load double* %arrayidx6.i, align 8, !dbg !3088, !tbaa !1758
  %mul7.i = fmul double %conv6.i, %8, !dbg !3088
  %add8.i = fadd double %add.i, %mul7.i, !dbg !3088
  call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !1558), !dbg !3088
  call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !3089), !dbg !3086
  call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !1558), !dbg !3090
  call void @llvm.dbg.value(metadata !{double %add8.i}, i64 0, metadata !1558), !dbg !3091
  %call = call double @fabs(double %add8.i) #9, !dbg !3090
  %cmp = fcmp olt double %call, 1.000000e-07, !dbg !3090
  br i1 %cmp, label %return, label %if.end, !dbg !3090

if.end:                                           ; preds = %entry
  %arraydecay5 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 0, !dbg !3092
  tail call void @llvm.dbg.value(metadata !1959, i64 0, metadata !3093), !dbg !3094
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay5}, i64 0, metadata !3095), !dbg !3094
  %9 = load double* %arraydecay5, align 8, !dbg !3096, !tbaa !1758
  %mul.i230 = fmul double %conv.i, %9, !dbg !3096
  %arrayidx3.i232 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 1, !dbg !3096
  %10 = load double* %arrayidx3.i232, align 8, !dbg !3096, !tbaa !1758
  %mul4.i233 = fmul double %conv3.i, %10, !dbg !3096
  %add.i234 = fadd double %mul.i230, %mul4.i233, !dbg !3096
  %arrayidx6.i236 = getelementptr inbounds %"struct.pov::Ray_Struct"* %Ray, i64 0, i32 0, i64 2, !dbg !3096
  %11 = load double* %arrayidx6.i236, align 8, !dbg !3096, !tbaa !1758
  %mul7.i237 = fmul double %conv6.i, %11, !dbg !3096
  %add8.i238 = fadd double %add.i234, %mul7.i237, !dbg !3096
  call void @llvm.dbg.value(metadata !{double %add8.i238}, i64 0, metadata !1556), !dbg !3096
  call void @llvm.dbg.value(metadata !{double %add8.i238}, i64 0, metadata !3097), !dbg !3094
  call void @llvm.dbg.value(metadata !{double %add8.i238}, i64 0, metadata !1556), !dbg !3091
  %Distance = getelementptr inbounds %"struct.pov::Mesh_Triangle_Struct"* %Triangle, i64 0, i32 14, !dbg !3091
  %12 = load float* %Distance, align 4, !dbg !3091, !tbaa !1971
  %conv = fpext float %12 to double, !dbg !3091
  %add = fadd double %conv, %add8.i238, !dbg !3091
  %sub = fsub double -0.000000e+00, %add, !dbg !3091
  %div = fdiv double %sub, %add8.i, !dbg !3091
  store double %div, double* %Depth, align 8, !dbg !3091, !tbaa !1758
  %cmp6 = fcmp olt double %div, 1.000000e-06, !dbg !3098
  %cmp7 = fcmp ogt double %div, 1.000000e+07, !dbg !3098
  %or.cond = or i1 %cmp6, %cmp7, !dbg !3098
  br i1 %or.cond, label %return, label %if.end9, !dbg !3098

if.end9:                                          ; preds = %if.end
  %arraydecay10 = getelementptr inbounds [3 x double]* %P1, i64 0, i64 0, !dbg !3099
  %arraydecay11 = getelementptr inbounds [3 x double]* %P2, i64 0, i64 0, !dbg !3099
  %arraydecay12 = getelementptr inbounds [3 x double]* %P3, i64 0, i64 0, !dbg !3099
  call fastcc void @_ZN3povL21get_triangle_verticesEPNS_11Mesh_StructEPNS_20Mesh_Triangle_StructEPdS4_S4_(%"struct.pov::Mesh_Struct"* %Mesh, %"struct.pov::Mesh_Triangle_Struct"* %Triangle, double* %arraydecay10, double* %arraydecay11, double* %arraydecay12) #7, !dbg !3099
  %13 = getelementptr inbounds %"struct.pov::Mesh_Triangle_Struct"* %Triangle, i64 0, i32 0, !dbg !3100
  %bf.load = load i8* %13, align 8, !dbg !3100
  %bf.lshr = lshr i8 %bf.load, 1, !dbg !3100
  %bf.clear = and i8 %bf.lshr, 3, !dbg !3100
  %bf.cast = zext i8 %bf.clear to i32, !dbg !3100
  switch i32 %bf.cast, label %return [
    i32 0, label %sw.bb
    i32 1, label %sw.bb69
    i32 2, label %sw.bb127
  ], !dbg !3100

sw.bb:                                            ; preds = %if.end9
  %14 = load double* %arrayidx3.i232, align 8, !dbg !3101, !tbaa !1758
  %15 = load double* %Depth, align 8, !dbg !3101, !tbaa !1758
  %16 = load double* %arrayidx3.i, align 8, !dbg !3101, !tbaa !1758
  %mul = fmul double %15, %16, !dbg !3101
  %add17 = fadd double %14, %mul, !dbg !3101
  call void @llvm.dbg.value(metadata !{double %add17}, i64 0, metadata !1559), !dbg !3101
  %17 = load double* %arrayidx6.i236, align 8, !dbg !3103, !tbaa !1758
  %18 = load double* %arrayidx6.i, align 8, !dbg !3103, !tbaa !1758
  %mul22 = fmul double %15, %18, !dbg !3103
  %add23 = fadd double %17, %mul22, !dbg !3103
  call void @llvm.dbg.value(metadata !{double %add23}, i64 0, metadata !1560), !dbg !3103
  %arrayidx24 = getelementptr inbounds [3 x double]* %P2, i64 0, i64 1, !dbg !3104
  %19 = load double* %arrayidx24, align 8, !dbg !3104, !tbaa !1758
  %sub25 = fsub double %19, %add17, !dbg !3104
  %arrayidx26 = getelementptr inbounds [3 x double]* %P2, i64 0, i64 2, !dbg !3104
  %20 = load double* %arrayidx26, align 16, !dbg !3104, !tbaa !1758
  %arrayidx27 = getelementptr inbounds [3 x double]* %P1, i64 0, i64 2, !dbg !3104
  %21 = load double* %arrayidx27, align 16, !dbg !3104, !tbaa !1758
  %sub28 = fsub double %20, %21, !dbg !3104
  %mul29 = fmul double %sub25, %sub28, !dbg !3104
  %sub31 = fsub double %20, %add23, !dbg !3104
  %arrayidx33 = getelementptr inbounds [3 x double]* %P1, i64 0, i64 1, !dbg !3104
  %22 = load double* %arrayidx33, align 8, !dbg !3104, !tbaa !1758
  %sub34 = fsub double %19, %22, !dbg !3104
  %mul35 = fmul double %sub31, %sub34, !dbg !3104
  %cmp36 = fcmp olt double %mul29, %mul35, !dbg !3104
  br i1 %cmp36, label %return, label %if.end38, !dbg !3104

if.end38:                                         ; preds = %sw.bb
  %arrayidx39 = getelementptr inbounds [3 x double]* %P3, i64 0, i64 1, !dbg !3105
  %23 = load double* %arrayidx39, align 8, !dbg !3105, !tbaa !1758
  %sub40 = fsub double %23, %add17, !dbg !3105
  %arrayidx41 = getelementptr inbounds [3 x double]* %P3, i64 0, i64 2, !dbg !3105
  %24 = load double* %arrayidx41, align 16, !dbg !3105, !tbaa !1758
  %sub43 = fsub double %24, %20, !dbg !3105
  %mul44 = fmul double %sub40, %sub43, !dbg !3105
  %sub46 = fsub double %24, %add23, !dbg !3105
  %sub49 = fsub double %23, %19, !dbg !3105
  %mul50 = fmul double %sub49, %sub46, !dbg !3105
  %cmp51 = fcmp olt double %mul44, %mul50, !dbg !3105
  br i1 %cmp51, label %return, label %if.end53, !dbg !3105

if.end53:                                         ; preds = %if.end38
  %sub55 = fsub double %22, %add17, !dbg !3106
  %sub58 = fsub double %21, %24, !dbg !3106
  %mul59 = fmul double %sub55, %sub58, !dbg !3106
  %sub61 = fsub double %21, %add23, !dbg !3106
  %sub64 = fsub double %22, %23, !dbg !3106
  %mul65 = fmul double %sub61, %sub64, !dbg !3106
  %not.cmp66 = fcmp uge double %mul59, %mul65, !dbg !3107
  %. = zext i1 %not.cmp66 to i32, !dbg !3107
  br label %return, !dbg !3107

sw.bb69:                                          ; preds = %if.end9
  %25 = load double* %arraydecay5, align 8, !dbg !3109, !tbaa !1758
  %26 = load double* %Depth, align 8, !dbg !3109, !tbaa !1758
  %27 = load double* %arraydecay3, align 8, !dbg !3109, !tbaa !1758
  %mul74 = fmul double %26, %27, !dbg !3109
  %add75 = fadd double %25, %mul74, !dbg !3109
  call void @llvm.dbg.value(metadata !{double %add75}, i64 0, metadata !1559), !dbg !3109
  %28 = load double* %arrayidx6.i236, align 8, !dbg !3110, !tbaa !1758
  %29 = load double* %arrayidx6.i, align 8, !dbg !3110, !tbaa !1758
  %mul80 = fmul double %26, %29, !dbg !3110
  %add81 = fadd double %28, %mul80, !dbg !3110
  call void @llvm.dbg.value(metadata !{double %add81}, i64 0, metadata !1560), !dbg !3110
  %30 = load double* %arraydecay11, align 16, !dbg !3111, !tbaa !1758
  %sub83 = fsub double %30, %add75, !dbg !3111
  %arrayidx84 = getelementptr inbounds [3 x double]* %P2, i64 0, i64 2, !dbg !3111
  %31 = load double* %arrayidx84, align 16, !dbg !3111, !tbaa !1758
  %arrayidx85 = getelementptr inbounds [3 x double]* %P1, i64 0, i64 2, !dbg !3111
  %32 = load double* %arrayidx85, align 16, !dbg !3111, !tbaa !1758
  %sub86 = fsub double %31, %32, !dbg !3111
  %mul87 = fmul double %sub83, %sub86, !dbg !3111
  %sub89 = fsub double %31, %add81, !dbg !3111
  %33 = load double* %arraydecay10, align 16, !dbg !3111, !tbaa !1758
  %sub92 = fsub double %30, %33, !dbg !3111
  %mul93 = fmul double %sub89, %sub92, !dbg !3111
  %cmp94 = fcmp olt double %mul87, %mul93, !dbg !3111
  br i1 %cmp94, label %return, label %if.end96, !dbg !3111

if.end96:                                         ; preds = %sw.bb69
  %34 = load double* %arraydecay12, align 16, !dbg !3112, !tbaa !1758
  %sub98 = fsub double %34, %add75, !dbg !3112
  %arrayidx99 = getelementptr inbounds [3 x double]* %P3, i64 0, i64 2, !dbg !3112
  %35 = load double* %arrayidx99, align 16, !dbg !3112, !tbaa !1758
  %sub101 = fsub double %35, %31, !dbg !3112
  %mul102 = fmul double %sub98, %sub101, !dbg !3112
  %sub104 = fsub double %35, %add81, !dbg !3112
  %sub107 = fsub double %34, %30, !dbg !3112
  %mul108 = fmul double %sub107, %sub104, !dbg !3112
  %cmp109 = fcmp olt double %mul102, %mul108, !dbg !3112
  br i1 %cmp109, label %return, label %if.end111, !dbg !3112

if.end111:                                        ; preds = %if.end96
  %sub113 = fsub double %33, %add75, !dbg !3113
  %sub116 = fsub double %32, %35, !dbg !3113
  %mul117 = fmul double %sub113, %sub116, !dbg !3113
  %sub119 = fsub double %32, %add81, !dbg !3113
  %sub122 = fsub double %33, %34, !dbg !3113
  %mul123 = fmul double %sub119, %sub122, !dbg !3113
  %not.cmp124 = fcmp uge double %mul117, %mul123, !dbg !3114
  %.226 = zext i1 %not.cmp124 to i32, !dbg !3114
  br label %return, !dbg !3114

sw.bb127:                                         ; preds = %if.end9
  %36 = load double* %arraydecay5, align 8, !dbg !3116, !tbaa !1758
  %37 = load double* %Depth, align 8, !dbg !3116, !tbaa !1758
  %38 = load double* %arraydecay3, align 8, !dbg !3116, !tbaa !1758
  %mul132 = fmul double %37, %38, !dbg !3116
  %add133 = fadd double %36, %mul132, !dbg !3116
  call void @llvm.dbg.value(metadata !{double %add133}, i64 0, metadata !1559), !dbg !3116
  %39 = load double* %arrayidx3.i232, align 8, !dbg !3117, !tbaa !1758
  %40 = load double* %arrayidx3.i, align 8, !dbg !3117, !tbaa !1758
  %mul138 = fmul double %37, %40, !dbg !3117
  %add139 = fadd double %39, %mul138, !dbg !3117
  call void @llvm.dbg.value(metadata !{double %add139}, i64 0, metadata !1560), !dbg !3117
  %41 = load double* %arraydecay11, align 16, !dbg !3118, !tbaa !1758
  %sub141 = fsub double %41, %add133, !dbg !3118
  %arrayidx142 = getelementptr inbounds [3 x double]* %P2, i64 0, i64 1, !dbg !3118
  %42 = load double* %arrayidx142, align 8, !dbg !3118, !tbaa !1758
  %arrayidx143 = getelementptr inbounds [3 x double]* %P1, i64 0, i64 1, !dbg !3118
  %43 = load double* %arrayidx143, align 8, !dbg !3118, !tbaa !1758
  %sub144 = fsub double %42, %43, !dbg !3118
  %mul145 = fmul double %sub141, %sub144, !dbg !3118
  %sub147 = fsub double %42, %add139, !dbg !3118
  %44 = load double* %arraydecay10, align 16, !dbg !3118, !tbaa !1758
  %sub150 = fsub double %41, %44, !dbg !3118
  %mul151 = fmul double %sub147, %sub150, !dbg !3118
  %cmp152 = fcmp olt double %mul145, %mul151, !dbg !3118
  br i1 %cmp152, label %return, label %if.end154, !dbg !3118

if.end154:                                        ; preds = %sw.bb127
  %45 = load double* %arraydecay12, align 16, !dbg !3119, !tbaa !1758
  %sub156 = fsub double %45, %add133, !dbg !3119
  %arrayidx157 = getelementptr inbounds [3 x double]* %P3, i64 0, i64 1, !dbg !3119
  %46 = load double* %arrayidx157, align 8, !dbg !3119, !tbaa !1758
  %sub159 = fsub double %46, %42, !dbg !3119
  %mul160 = fmul double %sub156, %sub159, !dbg !3119
  %sub162 = fsub double %46, %add139, !dbg !3119
  %sub165 = fsub double %45, %41, !dbg !3119
  %mul166 = fmul double %sub165, %sub162, !dbg !3119
  %cmp167 = fcmp olt double %mul160, %mul166, !dbg !3119
  br i1 %cmp167, label %return, label %if.end169, !dbg !3119

if.end169:                                        ; preds = %if.end154
  %sub171 = fsub double %44, %add133, !dbg !3120
  %sub174 = fsub double %43, %46, !dbg !3120
  %mul175 = fmul double %sub171, %sub174, !dbg !3120
  %sub177 = fsub double %43, %add139, !dbg !3120
  %sub180 = fsub double %44, %45, !dbg !3120
  %mul181 = fmul double %sub177, %sub180, !dbg !3120
  %not.cmp182 = fcmp uge double %mul175, %mul181, !dbg !3121
  %.227 = zext i1 %not.cmp182 to i32, !dbg !3121
  br label %return, !dbg !3121

return:                                           ; preds = %if.end9, %if.end169, %if.end154, %sw.bb127, %if.end111, %if.end96, %sw.bb69, %if.end53, %if.end38, %sw.bb, %if.end, %entry
  %retval.0 = phi i32 [ 0, %entry ], [ 0, %if.end ], [ 0, %sw.bb ], [ 0, %if.end38 ], [ %., %if.end53 ], [ 0, %sw.bb69 ], [ 0, %if.end96 ], [ %.226, %if.end111 ], [ 0, %sw.bb127 ], [ 0, %if.end154 ], [ %.227, %if.end169 ], [ 0, %if.end9 ]
  ret i32 %retval.0, !dbg !3123
}
