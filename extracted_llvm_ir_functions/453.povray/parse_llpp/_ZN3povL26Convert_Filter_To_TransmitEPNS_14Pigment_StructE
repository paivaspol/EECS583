define internal fastcc void @_ZN3povL26Convert_Filter_To_TransmitEPNS_14Pigment_StructE(%"struct.pov::Pigment_Struct"* %Pigment) #5 {
entry:
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Pigment_Struct"* %Pigment}, i64 0, metadata !2227), !dbg !9746
  %cmp = icmp eq %"struct.pov::Pigment_Struct"* %Pigment, null, !dbg !9747
  br i1 %cmp, label %sw.epilog, label %if.end, !dbg !9747

if.end:                                           ; preds = %entry
  %Type = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 0, !dbg !9748
  %0 = load i16* %Type, align 2, !dbg !9748, !tbaa !4099
  %cond = icmp eq i16 %0, 1, !dbg !9748
  br i1 %cond, label %sw.bb, label %sw.default, !dbg !9748

sw.bb:                                            ; preds = %if.end
  %arrayidx = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 11, i64 3, !dbg !9749
  %1 = load float* %arrayidx, align 4, !dbg !9749, !tbaa !4117
  %arrayidx2 = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 11, i64 4, !dbg !9749
  %2 = load float* %arrayidx2, align 4, !dbg !9749, !tbaa !4117
  %add = fadd float %1, %2, !dbg !9749
  store float %add, float* %arrayidx2, align 4, !dbg !9749, !tbaa !4117
  store float 0.000000e+00, float* %arrayidx, align 4, !dbg !9751, !tbaa !4117
  br label %sw.epilog, !dbg !9752

sw.default:                                       ; preds = %if.end
  %Blend_Map = getelementptr inbounds %"struct.pov::Pigment_Struct"* %Pigment, i64 0, i32 9, !dbg !9753
  %3 = load %"struct.pov::Blend_Map_Struct"** %Blend_Map, align 8, !dbg !9753, !tbaa !4088
  %cmp5 = icmp eq %"struct.pov::Blend_Map_Struct"* %3, null, !dbg !9753
  br i1 %cmp5, label %sw.epilog, label %if.then6, !dbg !9753

if.then6:                                         ; preds = %sw.default
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Blend_Map_Struct"* %3}, i64 0, metadata !2230), !dbg !9754
  %Type8 = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %3, i64 0, i32 3, !dbg !9756
  %4 = load i8* %Type8, align 1, !dbg !9756, !tbaa !4089
  switch i8 %4, label %for.cond19.preheader [
    i8 0, label %for.cond.preheader
    i8 7, label %for.cond.preheader
  ], !dbg !9756

for.cond.preheader:                               ; preds = %if.then6, %if.then6
  %Number_Of_Entries = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %3, i64 0, i32 1, !dbg !9757
  %5 = load i16* %Number_Of_Entries, align 2, !dbg !9757, !tbaa !4099
  %cmp1672 = icmp sgt i16 %5, 0, !dbg !9757
  br i1 %cmp1672, label %for.body.lr.ph, label %sw.epilog, !dbg !9757

for.body.lr.ph:                                   ; preds = %for.cond.preheader
  %Blend_Map_Entries = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %3, i64 0, i32 4, !dbg !9760
  br label %for.body, !dbg !9757

for.cond19.preheader:                             ; preds = %if.then6
  %Number_Of_Entries20 = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %3, i64 0, i32 1, !dbg !9762
  %6 = load i16* %Number_Of_Entries20, align 2, !dbg !9762, !tbaa !4099
  %cmp2268 = icmp sgt i16 %6, 0, !dbg !9762
  br i1 %cmp2268, label %for.body23.lr.ph, label %sw.epilog, !dbg !9762

for.body23.lr.ph:                                 ; preds = %for.cond19.preheader
  %Blend_Map_Entries25 = getelementptr inbounds %"struct.pov::Blend_Map_Struct"* %3, i64 0, i32 4, !dbg !9765
  %7 = load %"struct.pov::Blend_Map_Entry"** %Blend_Map_Entries25, align 8, !dbg !9765, !tbaa !4088
  %conv21 = sext i16 %6 to i32, !dbg !9762
  br label %for.body23, !dbg !9762

for.body:                                         ; preds = %for.body.lr.ph, %for.body
  %indvars.iv74 = phi i64 [ 0, %for.body.lr.ph ], [ %indvars.iv.next75, %for.body ]
  %8 = load %"struct.pov::Blend_Map_Entry"** %Blend_Map_Entries, align 8, !dbg !9760, !tbaa !4088
  %Vals = getelementptr inbounds %"struct.pov::Blend_Map_Entry"* %8, i64 %indvars.iv74, i32 2, !dbg !9760
  %Pigment18 = bitcast %union.anon* %Vals to %"struct.pov::Pigment_Struct"**, !dbg !9760
  %9 = load %"struct.pov::Pigment_Struct"** %Pigment18, align 8, !dbg !9760, !tbaa !4088
  tail call fastcc void @_ZN3povL26Convert_Filter_To_TransmitEPNS_14Pigment_StructE(%"struct.pov::Pigment_Struct"* %9) #9, !dbg !9760
  %indvars.iv.next75 = add i64 %indvars.iv74, 1, !dbg !9757
  %10 = load i16* %Number_Of_Entries, align 2, !dbg !9757, !tbaa !4099
  %conv15 = sext i16 %10 to i32, !dbg !9757
  %11 = trunc i64 %indvars.iv.next75 to i32, !dbg !9757
  %cmp16 = icmp slt i32 %11, %conv15, !dbg !9757
  br i1 %cmp16, label %for.body, label %sw.epilog, !dbg !9757

for.body23:                                       ; preds = %for.body23.lr.ph, %for.body23
  %indvars.iv = phi i64 [ 0, %for.body23.lr.ph ], [ %indvars.iv.next, %for.body23 ]
  %Vals27 = getelementptr inbounds %"struct.pov::Blend_Map_Entry"* %7, i64 %indvars.iv, i32 2, !dbg !9765
  %Colour28 = bitcast %union.anon* %Vals27 to [5 x float]*, !dbg !9765
  %arrayidx29 = getelementptr inbounds [5 x float]* %Colour28, i64 0, i64 3, !dbg !9765
  %12 = load float* %arrayidx29, align 4, !dbg !9765, !tbaa !4117
  %arrayidx35 = getelementptr inbounds %"struct.pov::Blend_Map_Entry"* %7, i64 %indvars.iv, i32 2, i32 1, !dbg !9765
  %13 = bitcast [8 x i8]* %arrayidx35 to float*, !dbg !9765
  %14 = load float* %13, align 4, !dbg !9765, !tbaa !4117
  %add36 = fadd float %12, %14, !dbg !9765
  store float %add36, float* %13, align 4, !dbg !9765, !tbaa !4117
  store float 0.000000e+00, float* %arrayidx29, align 4, !dbg !9767, !tbaa !4117
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !9762
  %15 = trunc i64 %indvars.iv.next to i32, !dbg !9762
  %cmp22 = icmp slt i32 %15, %conv21, !dbg !9762
  br i1 %cmp22, label %for.body23, label %sw.epilog, !dbg !9762

sw.epilog:                                        ; preds = %for.cond.preheader, %for.body, %for.cond19.preheader, %for.body23, %sw.default, %entry, %sw.bb
  ret void, !dbg !9768
}
