define i8* @_ZN3pov11pov_reallocEPvmPKciS2_(i8* %ptr, i64 %size, i8* %file, i32 %line, i8* %msg) #1 {
entry:
  tail call void @llvm.dbg.value(metadata !{i8* %ptr}, i64 0, metadata !101), !dbg !537
  tail call void @llvm.dbg.value(metadata !{i64 %size}, i64 0, metadata !102), !dbg !537
  tail call void @llvm.dbg.value(metadata !{i8* %file}, i64 0, metadata !103), !dbg !537
  tail call void @llvm.dbg.value(metadata !{i32 %line}, i64 0, metadata !104), !dbg !537
  tail call void @llvm.dbg.value(metadata !{i8* %msg}, i64 0, metadata !105), !dbg !537
  %cmp = icmp eq i64 %size, 0, !dbg !538
  %tobool = icmp eq i8* %ptr, null, !dbg !539
  br i1 %cmp, label %if.then, label %if.else, !dbg !538

if.then:                                          ; preds = %entry
  br i1 %tobool, label %return, label %if.then1, !dbg !539

if.then1:                                         ; preds = %if.then
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %ptr, i8* %file, i32 %line) #8, !dbg !541
  br label %return, !dbg !541

if.else:                                          ; preds = %entry
  br i1 %tobool, label %if.then3, label %if.end5, !dbg !542

if.then3:                                         ; preds = %if.else
  %call = tail call i8* @_ZN3pov10pov_mallocEmPKciS1_(i64 %size, i8* %file, i32 %line, i8* %msg) #8, !dbg !543
  br label %return, !dbg !543

if.end5:                                          ; preds = %if.else
  %add.ptr = getelementptr inbounds i8* %ptr, i64 -48, !dbg !544
  tail call void @llvm.dbg.value(metadata !{i8* %add.ptr}, i64 0, metadata !106), !dbg !544
  %prev7 = getelementptr inbounds i8* %ptr, i64 -40, !dbg !545
  %0 = bitcast i8* %prev7 to %"struct.pov::mem_node"**, !dbg !545
  %1 = load %"struct.pov::mem_node"** %0, align 8, !dbg !545, !tbaa !471
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::mem_node"* %1}, i64 0, metadata !109), !dbg !545
  %next8 = getelementptr inbounds i8* %ptr, i64 -32, !dbg !546
  %2 = bitcast i8* %next8 to %"struct.pov::mem_node"**, !dbg !546
  %3 = load %"struct.pov::mem_node"** %2, align 8, !dbg !546, !tbaa !471
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::mem_node"* %3}, i64 0, metadata !110), !dbg !546
  %size9 = bitcast i8* %add.ptr to i64*, !dbg !547
  %4 = load i64* %size9, align 8, !dbg !547, !tbaa !465
  tail call void @llvm.dbg.value(metadata !{i64 %4}, i64 0, metadata !107), !dbg !547
  %add = add i64 %size, 48, !dbg !548
  %call10 = tail call i8* @realloc(i8* %add.ptr, i64 %add) #9, !dbg !548
  tail call void @llvm.dbg.value(metadata !{i8* %call10}, i64 0, metadata !106), !dbg !548
  %cmp11 = icmp eq i8* %call10, null, !dbg !549
  br i1 %cmp11, label %if.then12, label %if.end13, !dbg !549

if.then12:                                        ; preds = %if.end5
  tail call void @_ZN3pov7MAErrorEPKcl(i8* %msg, i64 %size) #8, !dbg !550
  br label %if.end13, !dbg !550

if.end13:                                         ; preds = %if.then12, %if.end5
  tail call void @llvm.dbg.value(metadata !{i64 %4}, i64 0, metadata !551), !dbg !553
  %5 = load i64* @_ZN3povL9mem_statsE.2, align 8, !dbg !554, !tbaa !465
  %sub.i = sub i64 %5, %4, !dbg !554
  store i64 %sub.i, i64* @_ZN3povL9mem_statsE.2, align 8, !dbg !554, !tbaa !465
  tail call fastcc void @_ZN3povL15mem_stats_allocEmPKci(i64 %add) #8, !dbg !555
  %6 = bitcast i8* %call10 to %"struct.pov::mem_node"*, !dbg !556
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::mem_node"* %6}, i64 0, metadata !108), !dbg !556
  %size17 = bitcast i8* %call10 to i64*, !dbg !557
  store i64 %add, i64* %size17, align 8, !dbg !557, !tbaa !465
  %file18 = getelementptr inbounds i8* %call10, i64 32, !dbg !558
  %7 = bitcast i8* %file18 to i8**, !dbg !558
  store i8* %file, i8** %7, align 8, !dbg !558, !tbaa !471
  %line19 = getelementptr inbounds i8* %call10, i64 40, !dbg !559
  %8 = bitcast i8* %line19 to i32*, !dbg !559
  store i32 %line, i32* %8, align 4, !dbg !559, !tbaa !469
  %cmp20 = icmp eq %"struct.pov::mem_node"* %1, null, !dbg !560
  br i1 %cmp20, label %if.then21, label %if.else22, !dbg !560

if.then21:                                        ; preds = %if.end13
  store %"struct.pov::mem_node"* %6, %"struct.pov::mem_node"** @_ZN3povL7memlistE, align 8, !dbg !561, !tbaa !471
  br label %if.end24, !dbg !561

if.else22:                                        ; preds = %if.end13
  %next23 = getelementptr inbounds %"struct.pov::mem_node"* %1, i64 0, i32 2, !dbg !562
  store %"struct.pov::mem_node"* %6, %"struct.pov::mem_node"** %next23, align 8, !dbg !562, !tbaa !471
  br label %if.end24

if.end24:                                         ; preds = %if.else22, %if.then21
  %next25 = getelementptr inbounds i8* %call10, i64 16, !dbg !563
  %9 = bitcast i8* %next25 to %"struct.pov::mem_node"**, !dbg !563
  %10 = load %"struct.pov::mem_node"** %9, align 8, !dbg !563, !tbaa !471
  %cmp26 = icmp eq %"struct.pov::mem_node"* %10, null, !dbg !563
  br i1 %cmp26, label %if.end30, label %if.then27, !dbg !563

if.then27:                                        ; preds = %if.end24
  %prev29 = getelementptr inbounds %"struct.pov::mem_node"* %10, i64 0, i32 1, !dbg !564
  store %"struct.pov::mem_node"* %6, %"struct.pov::mem_node"** %prev29, align 8, !dbg !564, !tbaa !471
  br label %if.end30, !dbg !564

if.end30:                                         ; preds = %if.end24, %if.then27
  %cmp31 = icmp eq %"struct.pov::mem_node"* %3, null, !dbg !565
  br i1 %cmp31, label %if.end34, label %if.then32, !dbg !565

if.then32:                                        ; preds = %if.end30
  %prev33 = getelementptr inbounds %"struct.pov::mem_node"* %3, i64 0, i32 1, !dbg !566
  store %"struct.pov::mem_node"* %6, %"struct.pov::mem_node"** %prev33, align 8, !dbg !566, !tbaa !471
  br label %if.end34, !dbg !566

if.end34:                                         ; preds = %if.end30, %if.then32
  %add.ptr35 = getelementptr inbounds i8* %call10, i64 48, !dbg !567
  br label %return, !dbg !567

return:                                           ; preds = %if.then1, %if.then, %if.end34, %if.then3
  %retval.0 = phi i8* [ %call, %if.then3 ], [ %add.ptr35, %if.end34 ], [ null, %if.then ], [ null, %if.then1 ]
  ret i8* %retval.0, !dbg !568
}
