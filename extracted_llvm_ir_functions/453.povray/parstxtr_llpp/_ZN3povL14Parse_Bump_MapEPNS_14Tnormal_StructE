define internal fastcc void @_ZN3povL14Parse_Bump_MapEPNS_14Tnormal_StructE(%"struct.pov::Tnormal_Struct"* nocapture %Tnormal) #0 {
entry:
  %Repeat = alloca [2 x double], align 16
  call void @llvm.dbg.value(metadata !{%"struct.pov::Tnormal_Struct"* %Tnormal}, i64 0, metadata !1855), !dbg !5290
  call void @_ZN3pov11Parse_BeginEv() #6, !dbg !5291
  %call = call %"struct.pov::Image_Struct"* @_ZN3pov11Parse_ImageEi(i32 4093) #6, !dbg !5292
  call void @llvm.dbg.value(metadata !{%"struct.pov::Image_Struct"* %call}, i64 0, metadata !1856), !dbg !5292
  %Use_Colour_Flag = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 9, !dbg !5293
  store i8 1, i8* %Use_Colour_Flag, align 1, !dbg !5293, !tbaa !2163
  call void @llvm.dbg.value(metadata !617, i64 0, metadata !1857), !dbg !5294
  %Once_Flag = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 8, !dbg !5295
  %Map_Type = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 1, !dbg !5296
  %Interpolation_Type = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 4, !dbg !5297
  %Amount = getelementptr inbounds %"struct.pov::Tnormal_Struct"* %Tnormal, i64 0, i32 11, !dbg !5298
  %arraydecay = getelementptr inbounds [2 x double]* %Repeat, i64 0, i64 0, !dbg !5299
  %arrayidx14 = getelementptr inbounds [2 x double]* %Repeat, i64 0, i64 1, !dbg !5300
  %iwidth = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 5, !dbg !5301
  %width = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 11, !dbg !5301
  %iheight = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 6, !dbg !5302
  %height = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 12, !dbg !5302
  %arraydecay25 = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 13, i64 0, !dbg !5303
  %arrayidx35 = getelementptr inbounds %"struct.pov::Image_Struct"* %call, i64 0, i32 13, i64 1, !dbg !5304
  br label %while.body, !dbg !5294

while.body:                                       ; preds = %sw.bb, %sw.bb1, %sw.bb3, %sw.bb6, %sw.bb9, %sw.bb11, %if.end, %sw.bb24, %entry
  call void @_ZN3pov9Get_TokenEv() #6, !dbg !5305
  %0 = load i32* getelementptr inbounds (%"struct.pov::Token_Struct"* @_ZN3pov5TokenE, i64 0, i32 0), align 8, !dbg !5305, !tbaa !2162
  switch i32 %0, label %while.end [
    i32 194, label %sw.bb
    i32 181, label %sw.bb1
    i32 165, label %sw.bb3
    i32 116, label %sw.bb6
    i32 261, label %sw.bb9
    i32 262, label %sw.bb11
    i32 349, label %sw.bb13
    i32 348, label %sw.bb24
  ], !dbg !5305

sw.bb:                                            ; preds = %while.body
  store i8 1, i8* %Once_Flag, align 1, !dbg !5295, !tbaa !2163
  br label %while.body, !dbg !5306

sw.bb1:                                           ; preds = %while.body
  %call2 = call double @_ZN3pov11Parse_FloatEv() #6, !dbg !5296
  %conv = fptosi double %call2 to i32, !dbg !5296
  store i32 %conv, i32* %Map_Type, align 4, !dbg !5296, !tbaa !2162
  br label %while.body, !dbg !5307

sw.bb3:                                           ; preds = %while.body
  %call4 = call double @_ZN3pov11Parse_FloatEv() #6, !dbg !5297
  %conv5 = fptosi double %call4 to i32, !dbg !5297
  store i32 %conv5, i32* %Interpolation_Type, align 4, !dbg !5297, !tbaa !2162
  br label %while.body, !dbg !5308

sw.bb6:                                           ; preds = %while.body
  %call7 = call double @_ZN3pov11Parse_FloatEv() #6, !dbg !5298
  %conv8 = fptrunc double %call7 to float, !dbg !5298
  store float %conv8, float* %Amount, align 4, !dbg !5298, !tbaa !2192
  br label %while.body, !dbg !5309

sw.bb9:                                           ; preds = %while.body
  store i8 1, i8* %Use_Colour_Flag, align 1, !dbg !5310, !tbaa !2163
  br label %while.body, !dbg !5311

sw.bb11:                                          ; preds = %while.body
  store i8 0, i8* %Use_Colour_Flag, align 1, !dbg !5312, !tbaa !2163
  br label %while.body, !dbg !5313

sw.bb13:                                          ; preds = %while.body
  call void @llvm.dbg.declare(metadata !{[2 x double]* %Repeat}, metadata !1859), !dbg !5314
  call void @_ZN3pov13Parse_UV_VectEPd(double* %arraydecay) #6, !dbg !5299
  %1 = load double* %arraydecay, align 16, !dbg !5300, !tbaa !2447
  %cmp = fcmp ugt double %1, 0.000000e+00, !dbg !5300
  br i1 %cmp, label %lor.lhs.false, label %if.then, !dbg !5300

lor.lhs.false:                                    ; preds = %sw.bb13
  %2 = load double* %arrayidx14, align 8, !dbg !5300, !tbaa !2447
  %cmp15 = fcmp ugt double %2, 0.000000e+00, !dbg !5300
  br i1 %cmp15, label %if.end, label %if.then, !dbg !5300

if.then:                                          ; preds = %lor.lhs.false, %sw.bb13
  %call16 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([38 x i8]* @.str78, i64 0, i64 0)) #6, !dbg !5315
  %.pre = load double* %arraydecay, align 16, !dbg !5301, !tbaa !2447
  %.pre55 = load double* %arrayidx14, align 8, !dbg !5302, !tbaa !2447
  br label %if.end, !dbg !5315

if.end:                                           ; preds = %lor.lhs.false, %if.then
  %3 = phi double [ %2, %lor.lhs.false ], [ %.pre55, %if.then ]
  %4 = phi double [ %1, %lor.lhs.false ], [ %.pre, %if.then ]
  %5 = load i32* %iwidth, align 4, !dbg !5301, !tbaa !2162
  %conv17 = sitofp i32 %5 to double, !dbg !5301
  %mul = fmul double %conv17, %4, !dbg !5301
  %conv19 = fptrunc double %mul to float, !dbg !5301
  store float %conv19, float* %width, align 4, !dbg !5301, !tbaa !2192
  %6 = load i32* %iheight, align 4, !dbg !5302, !tbaa !2162
  %conv20 = sitofp i32 %6 to double, !dbg !5302
  %mul22 = fmul double %conv20, %3, !dbg !5302
  %conv23 = fptrunc double %mul22 to float, !dbg !5302
  store float %conv23, float* %height, align 4, !dbg !5302, !tbaa !2192
  br label %while.body, !dbg !5316

sw.bb24:                                          ; preds = %while.body
  call void @_ZN3pov13Parse_UV_VectEPd(double* %arraydecay25) #6, !dbg !5303
  %7 = load i32* %iwidth, align 4, !dbg !5317, !tbaa !2162
  %sub = sub nsw i32 0, %7, !dbg !5317
  %conv27 = sitofp i32 %sub to double, !dbg !5317
  %8 = load double* %arraydecay25, align 8, !dbg !5317, !tbaa !2447
  %mul30 = fmul double %8, %conv27, !dbg !5317
  store double %mul30, double* %arraydecay25, align 8, !dbg !5317, !tbaa !2447
  %9 = load i32* %iheight, align 4, !dbg !5304, !tbaa !2162
  %sub32 = sub nsw i32 0, %9, !dbg !5304
  %conv33 = sitofp i32 %sub32 to double, !dbg !5304
  %10 = load double* %arrayidx35, align 8, !dbg !5304, !tbaa !2447
  %mul36 = fmul double %10, %conv33, !dbg !5304
  store double %mul36, double* %arrayidx35, align 8, !dbg !5304, !tbaa !2447
  br label %while.body, !dbg !5318

while.end:                                        ; preds = %while.body
  call void @_ZN3pov11Unget_TokenEv() #6, !dbg !5319
  call void @llvm.dbg.value(metadata !2189, i64 0, metadata !1857), !dbg !5320
  %Vals = getelementptr inbounds %"struct.pov::Tnormal_Struct"* %Tnormal, i64 0, i32 10, !dbg !5321
  %Image37 = bitcast %union.anon.9* %Vals to %"struct.pov::Image_Struct"**, !dbg !5321
  store %"struct.pov::Image_Struct"* %call, %"struct.pov::Image_Struct"** %Image37, align 8, !dbg !5321, !tbaa !2214
  call void @_ZN3pov9Parse_EndEv() #6, !dbg !5322
  ret void, !dbg !5323
}
