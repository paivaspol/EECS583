define internal fastcc %"struct.pov::Texture_Struct"* @_ZN3povL18Parse_Material_MapEv() #0 {
  %Repeat = alloca [2 x double], align 16
  tail call void @_ZN3pov11Parse_BeginEv() #5, !dbg !5147
  %1 = tail call %"struct.pov::Texture_Struct"* @_ZN3pov14Create_TextureEv() #5, !dbg !5148
  tail call void @llvm.dbg.value(metadata %"struct.pov::Texture_Struct"* %1, i64 0, metadata !2094, metadata !2690), !dbg !5149
  %2 = getelementptr inbounds %"struct.pov::Texture_Struct"* %1, i64 0, i32 12, !dbg !5150
  %3 = load %"struct.pov::Pigment_Struct"** %2, align 8, !dbg !5150, !tbaa !4439
  tail call void @_ZN3pov15Destroy_PigmentEPNS_14Pigment_StructE(%"struct.pov::Pigment_Struct"* %3) #5, !dbg !5151
  %4 = getelementptr inbounds %"struct.pov::Texture_Struct"* %1, i64 0, i32 13, !dbg !5152
  %5 = load %"struct.pov::Tnormal_Struct"** %4, align 8, !dbg !5152, !tbaa !4126
  tail call void @_ZN3pov15Destroy_TnormalEPNS_14Tnormal_StructE(%"struct.pov::Tnormal_Struct"* %5) #5, !dbg !5153
  %6 = getelementptr inbounds %"struct.pov::Texture_Struct"* %1, i64 0, i32 14, !dbg !5154
  %7 = load %"struct.pov::Finish_Struct"** %6, align 8, !dbg !5154, !tbaa !4450
  %8 = icmp eq %"struct.pov::Finish_Struct"* %7, null, !dbg !5154
  br i1 %8, label %11, label %9, !dbg !5156

; <label>:9                                       ; preds = %0
  %10 = bitcast %"struct.pov::Finish_Struct"* %7 to i8*, !dbg !5157
  tail call void @_ZN3pov8pov_freeEPvPKci(i8* %10, i8* getelementptr inbounds ([69 x i8]* @.str3, i64 0, i64 0), i32 2424) #5, !dbg !5157
  store %"struct.pov::Finish_Struct"* null, %"struct.pov::Finish_Struct"** %6, align 8, !dbg !5157, !tbaa !4450
  br label %11, !dbg !5157

; <label>:11                                      ; preds = %0, %9
  %12 = getelementptr inbounds %"struct.pov::Texture_Struct"* %1, i64 0, i32 0, !dbg !5159
  %13 = bitcast %"struct.pov::Pigment_Struct"** %2 to i8*, !dbg !5160
  call void @llvm.memset.p0i8.i64(i8* %13, i8 0, i64 24, i32 8, i1 false), !dbg !5161
  store i16 4, i16* %12, align 2, !dbg !5160, !tbaa !4429
  %14 = tail call %"struct.pov::Image_Struct"* @_ZN3pov11Parse_ImageEi(i32 67581) #5, !dbg !5162
  %15 = getelementptr inbounds %"struct.pov::Texture_Struct"* %1, i64 0, i32 10, !dbg !5163
  %16 = bitcast %union.anon.25* %15 to %"struct.pov::Image_Struct"**, !dbg !5164
  store %"struct.pov::Image_Struct"* %14, %"struct.pov::Image_Struct"** %16, align 8, !dbg !5165, !tbaa !2790
  %17 = getelementptr inbounds %"struct.pov::Image_Struct"* %14, i64 0, i32 9, !dbg !5166
  store i8 0, i8* %17, align 1, !dbg !5167, !tbaa !5168
  tail call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !2096, metadata !2690), !dbg !5169
  call void @_ZN3pov9Get_TokenEv() #5, !dbg !5170
  %18 = getelementptr inbounds [2 x double]* %Repeat, i64 0, i64 0, !dbg !5171
  %19 = getelementptr inbounds [2 x double]* %Repeat, i64 0, i64 1, !dbg !5172
  br label %.lr.ph, !dbg !5169

.lr.ph:                                           ; preds = %.outer2.backedge.thread, %42, %11
  %20 = load i32* getelementptr inbounds (%"struct.pov::Token_Struct"* @_ZN3pov5TokenE, i64 0, i32 0), align 8, !dbg !5170
  switch i32 %20, label %76 [
    i32 194, label %21
    i32 165, label %24
    i32 181, label %29
    i32 349, label %34
    i32 348, label %58
  ], !dbg !5170

; <label>:21                                      ; preds = %.lr.ph
  %22 = load %"struct.pov::Image_Struct"** %16, align 8, !dbg !5174, !tbaa !2790
  %23 = getelementptr inbounds %"struct.pov::Image_Struct"* %22, i64 0, i32 8, !dbg !5175
  store i8 1, i8* %23, align 1, !dbg !5176, !tbaa !5177
  br label %.outer2.backedge.thread, !dbg !5178

; <label>:24                                      ; preds = %.lr.ph
  %25 = call double @_ZN3pov11Parse_FloatEv() #5, !dbg !5179
  %26 = fptosi double %25 to i32, !dbg !5179
  %27 = load %"struct.pov::Image_Struct"** %16, align 8, !dbg !5180, !tbaa !2790
  %28 = getelementptr inbounds %"struct.pov::Image_Struct"* %27, i64 0, i32 4, !dbg !5181
  store i32 %26, i32* %28, align 4, !dbg !5182, !tbaa !5183
  br label %.outer2.backedge.thread, !dbg !5184

; <label>:29                                      ; preds = %.lr.ph
  %30 = call double @_ZN3pov11Parse_FloatEv() #5, !dbg !5185
  %31 = fptosi double %30 to i32, !dbg !5185
  %32 = load %"struct.pov::Image_Struct"** %16, align 8, !dbg !5186, !tbaa !2790
  %33 = getelementptr inbounds %"struct.pov::Image_Struct"* %32, i64 0, i32 1, !dbg !5187
  store i32 %31, i32* %33, align 4, !dbg !5188, !tbaa !5189
  br label %.outer2.backedge.thread, !dbg !5190

; <label>:34                                      ; preds = %.lr.ph
  call void @llvm.dbg.declare(metadata [2 x double]* %Repeat, metadata !2098, metadata !2690), !dbg !5191
  call void @_ZN3pov13Parse_UV_VectEPd(double* %18) #5, !dbg !5192
  %35 = load double* %18, align 16, !dbg !5193, !tbaa !3156
  %36 = fcmp ugt double %35, 0.000000e+00, !dbg !5194
  br i1 %36, label %37, label %40, !dbg !5195

; <label>:37                                      ; preds = %34
  %38 = load double* %19, align 8, !dbg !5172, !tbaa !3156
  %39 = fcmp ugt double %38, 0.000000e+00, !dbg !5196
  br i1 %39, label %42, label %40, !dbg !5197

; <label>:40                                      ; preds = %37, %34
  %41 = call i32 (i8*, ...)* @_ZN3pov5ErrorEPKcz(i8* getelementptr inbounds ([38 x i8]* @.str98, i64 0, i64 0)) #5, !dbg !5198
  %.pre = load double* %18, align 16, !dbg !5199, !tbaa !3156
  %.pre11 = load double* %19, align 8, !dbg !5200, !tbaa !3156
  br label %42, !dbg !5198

; <label>:42                                      ; preds = %37, %40
  %43 = phi double [ %38, %37 ], [ %.pre11, %40 ]
  %44 = phi double [ %35, %37 ], [ %.pre, %40 ]
  %45 = load %"struct.pov::Image_Struct"** %16, align 8, !dbg !5201, !tbaa !2790
  %46 = getelementptr inbounds %"struct.pov::Image_Struct"* %45, i64 0, i32 5, !dbg !5202
  %47 = load i32* %46, align 4, !dbg !5202, !tbaa !2768
  %48 = sitofp i32 %47 to double, !dbg !5203
  %49 = fmul double %48, %44, !dbg !5204
  %50 = fptrunc double %49 to float, !dbg !5205
  %51 = getelementptr inbounds %"struct.pov::Image_Struct"* %45, i64 0, i32 11, !dbg !5206
  store float %50, float* %51, align 4, !dbg !5207, !tbaa !2735
  %52 = getelementptr inbounds %"struct.pov::Image_Struct"* %45, i64 0, i32 6, !dbg !5208
  %53 = load i32* %52, align 4, !dbg !5208, !tbaa !2773
  %54 = sitofp i32 %53 to double, !dbg !5209
  %55 = fmul double %54, %43, !dbg !5210
  %56 = fptrunc double %55 to float, !dbg !5211
  %57 = getelementptr inbounds %"struct.pov::Image_Struct"* %45, i64 0, i32 12, !dbg !5212
  store float %56, float* %57, align 4, !dbg !5213, !tbaa !2742
  call void @_ZN3pov9Get_TokenEv() #5, !dbg !5170
  br label %.lr.ph, !dbg !5169

; <label>:58                                      ; preds = %.lr.ph
  %59 = load %"struct.pov::Image_Struct"** %16, align 8, !dbg !5214, !tbaa !2790
  %60 = getelementptr inbounds %"struct.pov::Image_Struct"* %59, i64 0, i32 13, i64 0, !dbg !5215
  call void @_ZN3pov13Parse_UV_VectEPd(double* %60) #5, !dbg !5216
  %61 = load %"struct.pov::Image_Struct"** %16, align 8, !dbg !5217, !tbaa !2790
  %62 = getelementptr inbounds %"struct.pov::Image_Struct"* %61, i64 0, i32 5, !dbg !5218
  %63 = load i32* %62, align 4, !dbg !5218, !tbaa !2768
  %64 = sub nsw i32 0, %63, !dbg !5219
  %65 = sitofp i32 %64 to double, !dbg !5219
  %66 = getelementptr inbounds %"struct.pov::Image_Struct"* %61, i64 0, i32 13, i64 0, !dbg !5220
  %67 = load double* %66, align 8, !dbg !5221, !tbaa !3156
  %68 = fmul double %67, %65, !dbg !5221
  store double %68, double* %66, align 8, !dbg !5221, !tbaa !3156
  %69 = getelementptr inbounds %"struct.pov::Image_Struct"* %61, i64 0, i32 6, !dbg !5222
  %70 = load i32* %69, align 4, !dbg !5222, !tbaa !2773
  %71 = sub nsw i32 0, %70, !dbg !5223
  %72 = sitofp i32 %71 to double, !dbg !5223
  %73 = getelementptr inbounds %"struct.pov::Image_Struct"* %61, i64 0, i32 13, i64 1, !dbg !5224
  %74 = load double* %73, align 8, !dbg !5225, !tbaa !3156
  %75 = fmul double %74, %72, !dbg !5225
  store double %75, double* %73, align 8, !dbg !5225, !tbaa !3156
  br label %.outer2.backedge.thread, !dbg !5226

.outer2.backedge.thread:                          ; preds = %21, %24, %29, %58
  call void @_ZN3pov9Get_TokenEv() #5, !dbg !5170
  br label %.lr.ph, !dbg !5169

; <label>:76                                      ; preds = %.lr.ph
  call void @_ZN3pov11Unget_TokenEv() #5, !dbg !5227
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2096, metadata !2690), !dbg !5169
  call void @_ZN3pov9Get_TokenEv() #5, !dbg !5170
  %77 = load i32* getelementptr inbounds (%"struct.pov::Token_Struct"* @_ZN3pov5TokenE, i64 0, i32 0), align 8, !dbg !5170, !tbaa !2713
  %phitmp = icmp eq i32 %77, 240, !dbg !5169
  br i1 %phitmp, label %79, label %78, !dbg !5228

; <label>:78                                      ; preds = %76
  call void @_ZN3pov11Parse_ErrorEi(i32 240) #5, !dbg !5229
  br label %79, !dbg !5229

; <label>:79                                      ; preds = %76, %78
  call void @_ZN3pov11Parse_BeginEv() #5, !dbg !5231
  %80 = call %"struct.pov::Texture_Struct"* @_ZN3pov13Parse_TextureEv() #5, !dbg !5232
  call void @llvm.dbg.value(metadata %"struct.pov::Texture_Struct"* %80, i64 0, metadata !2095, metadata !2690), !dbg !5233
  %81 = getelementptr inbounds %"struct.pov::Texture_Struct"* %1, i64 0, i32 15, !dbg !5234
  store %"struct.pov::Texture_Struct"* %80, %"struct.pov::Texture_Struct"** %81, align 8, !dbg !5235, !tbaa !5236
  call void @_ZN3pov9Parse_EndEv() #5, !dbg !5237
  %82 = getelementptr inbounds %"struct.pov::Texture_Struct"* %1, i64 0, i32 16, !dbg !5238
  call void @llvm.dbg.value(metadata i32 0, i64 0, metadata !2101, metadata !2690), !dbg !5239
  %storemerge.in13 = load i32* %82, align 4, !dbg !5240
  %storemerge14 = add nsw i32 %storemerge.in13, 1, !dbg !5240
  store i32 %storemerge14, i32* %82, align 4, !dbg !5241, !tbaa !5244
  call void @_ZN3pov9Get_TokenEv() #5, !dbg !5245
  %83 = load i32* getelementptr inbounds (%"struct.pov::Token_Struct"* @_ZN3pov5TokenE, i64 0, i32 0), align 8, !dbg !5245, !tbaa !2713
  %cond15 = icmp eq i32 %83, 240, !dbg !5245
  br i1 %cond15, label %.lr.ph17, label %._crit_edge, !dbg !5245

.lr.ph17:                                         ; preds = %79, %.lr.ph17
  %Local_Texture.0.ph16 = phi %"struct.pov::Texture_Struct"* [ %86, %.lr.ph17 ], [ %80, %79 ]
  call void @_ZN3pov11Parse_BeginEv() #5, !dbg !5246
  %84 = call %"struct.pov::Texture_Struct"* @_ZN3pov13Parse_TextureEv() #5, !dbg !5247
  %85 = getelementptr inbounds %"struct.pov::Texture_Struct"* %Local_Texture.0.ph16, i64 0, i32 11, !dbg !5248
  store %"struct.pov::Texture_Struct"* %84, %"struct.pov::Texture_Struct"** %85, align 8, !dbg !5249, !tbaa !5250
  call void @_ZN3pov9Parse_EndEv() #5, !dbg !5251
  %86 = load %"struct.pov::Texture_Struct"** %85, align 8, !dbg !5252, !tbaa !5250
  call void @llvm.dbg.value(metadata %"struct.pov::Texture_Struct"* %86, i64 0, metadata !2095, metadata !2690), !dbg !5233
  %storemerge.in = load i32* %82, align 4, !dbg !5240
  %storemerge = add nsw i32 %storemerge.in, 1, !dbg !5240
  store i32 %storemerge, i32* %82, align 4, !dbg !5241, !tbaa !5244
  call void @_ZN3pov9Get_TokenEv() #5, !dbg !5245
  %87 = load i32* getelementptr inbounds (%"struct.pov::Token_Struct"* @_ZN3pov5TokenE, i64 0, i32 0), align 8, !dbg !5245, !tbaa !2713
  %cond = icmp eq i32 %87, 240, !dbg !5245
  br i1 %cond, label %.lr.ph17, label %._crit_edge, !dbg !5245

._crit_edge:                                      ; preds = %.lr.ph17, %79
  call void @_ZN3pov11Unget_TokenEv() #5, !dbg !5253
  call void @llvm.dbg.value(metadata i32 1, i64 0, metadata !2101, metadata !2690), !dbg !5239
  call void @_ZN3pov9Parse_EndEv() #5, !dbg !5254
  ret %"struct.pov::Texture_Struct"* %1, !dbg !5255
}
