define void @_ZN3pov11Warp_NormalEPdS0_PNS_14Pattern_StructEi(double* %TNorm, double* nocapture %ENorm, %"struct.pov::Pattern_Struct"* nocapture %TPat, i32 %DontScaleBumps) #0 {
entry:
  tail call void @llvm.dbg.value(metadata !{double* %TNorm}, i64 0, metadata !903), !dbg !1451
  tail call void @llvm.dbg.value(metadata !{double* %ENorm}, i64 0, metadata !904), !dbg !1451
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Pattern_Struct"* %TPat}, i64 0, metadata !905), !dbg !1451
  tail call void @llvm.dbg.value(metadata !{i32 %DontScaleBumps}, i64 0, metadata !906), !dbg !1451
  %Warps = getelementptr inbounds %"struct.pov::Pattern_Struct"* %TPat, i64 0, i32 7, !dbg !1452
  %0 = load %"struct.pov::Warps_Struct"** %Warps, align 8, !dbg !1452, !tbaa !1142
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Warps_Struct"* %0}, i64 0, metadata !907), !dbg !1452
  %tobool = icmp ne i32 %DontScaleBumps, 0, !dbg !1453
  %1 = load double* %ENorm, align 8, !dbg !1454, !tbaa !1153
  br i1 %tobool, label %if.else, label %if.then, !dbg !1453

if.then:                                          ; preds = %entry
  tail call void @llvm.dbg.value(metadata !{double* %TNorm}, i64 0, metadata !1456) #5, !dbg !1458
  tail call void @llvm.dbg.value(metadata !{double* %ENorm}, i64 0, metadata !1459) #5, !dbg !1458
  tail call void @llvm.dbg.value(metadata !{double* %ENorm}, i64 0, metadata !1460) #5, !dbg !1462
  %mul.i.i = fmul double %1, %1, !dbg !1463
  %arrayidx2.i.i = getelementptr inbounds double* %ENorm, i64 1, !dbg !1463
  %2 = load double* %arrayidx2.i.i, align 8, !dbg !1463, !tbaa !1153
  %mul4.i.i = fmul double %2, %2, !dbg !1463
  %add.i.i = fadd double %mul.i.i, %mul4.i.i, !dbg !1463
  %arrayidx5.i.i = getelementptr inbounds double* %ENorm, i64 2, !dbg !1463
  %3 = load double* %arrayidx5.i.i, align 8, !dbg !1463, !tbaa !1153
  %mul7.i.i = fmul double %3, %3, !dbg !1463
  %add8.i.i = fadd double %add.i.i, %mul7.i.i, !dbg !1463
  %call.i.i = tail call double @sqrt(double %add8.i.i) #8, !dbg !1463
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !1464) #5, !dbg !1463
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !1465) #5, !dbg !1462
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !1466) #5, !dbg !1467
  tail call void @llvm.dbg.value(metadata !{double* %TNorm}, i64 0, metadata !1468) #5, !dbg !1469
  tail call void @llvm.dbg.value(metadata !{double* %ENorm}, i64 0, metadata !1470) #5, !dbg !1469
  tail call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !1471) #5, !dbg !1469
  %div.i.i = fdiv double 1.000000e+00, %call.i.i, !dbg !1472
  tail call void @llvm.dbg.value(metadata !{double %div.i.i}, i64 0, metadata !1473) #5, !dbg !1472
  %4 = load double* %ENorm, align 8, !dbg !1474, !tbaa !1153
  %mul.i2.i = fmul double %div.i.i, %4, !dbg !1474
  store double %mul.i2.i, double* %TNorm, align 8, !dbg !1474, !tbaa !1153
  %5 = load double* %arrayidx2.i.i, align 8, !dbg !1475, !tbaa !1153
  %mul3.i.i = fmul double %div.i.i, %5, !dbg !1475
  %arrayidx4.i.i = getelementptr inbounds double* %TNorm, i64 1, !dbg !1475
  store double %mul3.i.i, double* %arrayidx4.i.i, align 8, !dbg !1475, !tbaa !1153
  %6 = load double* %arrayidx5.i.i, align 8, !dbg !1476, !tbaa !1153
  %mul6.i.i = fmul double %div.i.i, %6, !dbg !1476
  %arrayidx7.i.i = getelementptr inbounds double* %TNorm, i64 2, !dbg !1476
  store double %mul6.i.i, double* %arrayidx7.i.i, align 8, !dbg !1476, !tbaa !1153
  br label %while.cond.preheader, !dbg !1457

if.else:                                          ; preds = %entry
  tail call void @llvm.dbg.value(metadata !{double* %TNorm}, i64 0, metadata !1477), !dbg !1478
  tail call void @llvm.dbg.value(metadata !{double* %ENorm}, i64 0, metadata !1479), !dbg !1478
  store double %1, double* %TNorm, align 8, !dbg !1454, !tbaa !1153
  %arrayidx2.i = getelementptr inbounds double* %ENorm, i64 1, !dbg !1480
  %7 = load double* %arrayidx2.i, align 8, !dbg !1480, !tbaa !1153
  %arrayidx3.i = getelementptr inbounds double* %TNorm, i64 1, !dbg !1480
  store double %7, double* %arrayidx3.i, align 8, !dbg !1480, !tbaa !1153
  %arrayidx4.i = getelementptr inbounds double* %ENorm, i64 2, !dbg !1481
  %8 = load double* %arrayidx4.i, align 8, !dbg !1481, !tbaa !1153
  %arrayidx5.i = getelementptr inbounds double* %TNorm, i64 2, !dbg !1481
  store double %8, double* %arrayidx5.i, align 8, !dbg !1481, !tbaa !1153
  br label %while.cond.preheader

while.cond.preheader:                             ; preds = %if.else, %if.then
  %cmp21 = icmp eq %"struct.pov::Warps_Struct"* %0, null, !dbg !1482
  br i1 %cmp21, label %while.end, label %while.body, !dbg !1482

while.body:                                       ; preds = %while.cond.preheader, %sw.epilog
  %Warp.022 = phi %"struct.pov::Warps_Struct"* [ %11, %sw.epilog ], [ %0, %while.cond.preheader ]
  %Warp_Type = getelementptr inbounds %"struct.pov::Warps_Struct"* %Warp.022, i64 0, i32 0, !dbg !1483
  %9 = load i16* %Warp_Type, align 2, !dbg !1483, !tbaa !1167
  %cond = icmp eq i16 %9, 5, !dbg !1483
  br i1 %cond, label %sw.bb, label %sw.epilog, !dbg !1483

sw.bb:                                            ; preds = %while.body
  %Trans = getelementptr inbounds %"struct.pov::Warps_Struct"* %Warp.022, i64 1, !dbg !1485
  %10 = bitcast %"struct.pov::Warps_Struct"* %Trans to %"struct.pov::Transform_Struct"*, !dbg !1485
  tail call void @_ZN3pov15MInvTransNormalEPdS0_PNS_16Transform_StructE(double* %TNorm, double* %TNorm, %"struct.pov::Transform_Struct"* %10) #6, !dbg !1485
  br label %sw.epilog, !dbg !1487

sw.epilog:                                        ; preds = %while.body, %sw.bb
  %Next_Warp = getelementptr inbounds %"struct.pov::Warps_Struct"* %Warp.022, i64 0, i32 2, !dbg !1488
  %11 = load %"struct.pov::Warps_Struct"** %Next_Warp, align 8, !dbg !1488, !tbaa !1142
  tail call void @llvm.dbg.value(metadata !{%"struct.pov::Warps_Struct"* %11}, i64 0, metadata !907), !dbg !1488
  %cmp = icmp eq %"struct.pov::Warps_Struct"* %11, null, !dbg !1482
  br i1 %cmp, label %while.end, label %while.body, !dbg !1482

while.end:                                        ; preds = %sw.epilog, %while.cond.preheader
  br i1 %tobool, label %if.end3, label %if.then2, !dbg !1489

if.then2:                                         ; preds = %while.end
  tail call void @llvm.dbg.value(metadata !{double* %TNorm}, i64 0, metadata !1490) #5, !dbg !1492
  tail call void @llvm.dbg.value(metadata !{double* %TNorm}, i64 0, metadata !1493) #5, !dbg !1495
  %12 = load double* %TNorm, align 8, !dbg !1496, !tbaa !1153
  %mul.i.i11 = fmul double %12, %12, !dbg !1496
  %arrayidx2.i.i12 = getelementptr inbounds double* %TNorm, i64 1, !dbg !1496
  %13 = load double* %arrayidx2.i.i12, align 8, !dbg !1496, !tbaa !1153
  %mul4.i.i13 = fmul double %13, %13, !dbg !1496
  %add.i.i14 = fadd double %mul.i.i11, %mul4.i.i13, !dbg !1496
  %arrayidx5.i.i15 = getelementptr inbounds double* %TNorm, i64 2, !dbg !1496
  %14 = load double* %arrayidx5.i.i15, align 8, !dbg !1496, !tbaa !1153
  %mul7.i.i16 = fmul double %14, %14, !dbg !1496
  %add8.i.i17 = fadd double %add.i.i14, %mul7.i.i16, !dbg !1496
  %call.i.i18 = tail call double @sqrt(double %add8.i.i17) #8, !dbg !1496
  tail call void @llvm.dbg.value(metadata !{double %call.i.i18}, i64 0, metadata !1497) #5, !dbg !1496
  tail call void @llvm.dbg.value(metadata !{double %call.i.i18}, i64 0, metadata !1498) #5, !dbg !1495
  tail call void @llvm.dbg.value(metadata !{double %call.i.i18}, i64 0, metadata !1499) #5, !dbg !1500
  tail call void @llvm.dbg.value(metadata !{double* %TNorm}, i64 0, metadata !1501) #5, !dbg !1502
  tail call void @llvm.dbg.value(metadata !{double %call.i.i18}, i64 0, metadata !1503) #5, !dbg !1502
  %div.i.i19 = fdiv double 1.000000e+00, %call.i.i18, !dbg !1504
  tail call void @llvm.dbg.value(metadata !{double %div.i.i19}, i64 0, metadata !1505) #5, !dbg !1504
  %15 = load double* %TNorm, align 8, !dbg !1506, !tbaa !1153
  %mul.i2.i20 = fmul double %div.i.i19, %15, !dbg !1506
  store double %mul.i2.i20, double* %TNorm, align 8, !dbg !1506, !tbaa !1153
  %16 = load double* %arrayidx2.i.i12, align 8, !dbg !1507, !tbaa !1153
  %mul2.i.i = fmul double %div.i.i19, %16, !dbg !1507
  store double %mul2.i.i, double* %arrayidx2.i.i12, align 8, !dbg !1507, !tbaa !1153
  %17 = load double* %arrayidx5.i.i15, align 8, !dbg !1508, !tbaa !1153
  %mul4.i3.i = fmul double %div.i.i19, %17, !dbg !1508
  store double %mul4.i3.i, double* %arrayidx5.i.i15, align 8, !dbg !1508, !tbaa !1153
  br label %if.end3, !dbg !1491

if.end3:                                          ; preds = %if.then2, %while.end
  ret void, !dbg !1509
}
