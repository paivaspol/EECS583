define internal void @_ZN3povL12Torus_NormalEPdPNS_13Object_StructEPNS_10istk_entryE(double* %Result, %"struct.pov::Object_Struct"* nocapture %Object, %"struct.pov::istk_entry"* %Inter) #0 {
entry:
  %P = alloca [3 x double], align 16
  %N = alloca [3 x double], align 16
  call void @llvm.dbg.value(metadata !{double* %Result}, i64 0, metadata !1038), !dbg !1580
  call void @llvm.dbg.value(metadata !{%"struct.pov::Object_Struct"* %Object}, i64 0, metadata !1039), !dbg !1580
  call void @llvm.dbg.value(metadata !{%"struct.pov::istk_entry"* %Inter}, i64 0, metadata !1040), !dbg !1580
  call void @llvm.dbg.declare(metadata !{[3 x double]* %P}, metadata !1042), !dbg !1581
  call void @llvm.dbg.declare(metadata !{[3 x double]* %N}, metadata !1043), !dbg !1581
  call void @llvm.dbg.declare(metadata !1582, metadata !1044), !dbg !1581
  %arraydecay = getelementptr inbounds [3 x double]* %P, i64 0, i64 0, !dbg !1583
  %arraydecay1 = getelementptr inbounds %"struct.pov::istk_entry"* %Inter, i64 0, i32 1, i64 0, !dbg !1583
  %0 = getelementptr inbounds %"struct.pov::Object_Struct"* %Object, i64 0, i32 10, !dbg !1583
  %1 = load %"struct.pov::Transform_Struct"** %0, align 8, !dbg !1583, !tbaa !1269
  call void @_ZN3pov14MInvTransPointEPdS0_PNS_16Transform_StructE(double* %arraydecay, double* %arraydecay1, %"struct.pov::Transform_Struct"* %1) #7, !dbg !1583
  %2 = load double* %arraydecay, align 16, !dbg !1584, !tbaa !1292
  %mul = fmul double %2, %2, !dbg !1584
  %arrayidx3 = getelementptr inbounds [3 x double]* %P, i64 0, i64 2, !dbg !1584
  %3 = load double* %arrayidx3, align 16, !dbg !1584, !tbaa !1292
  %mul5 = fmul double %3, %3, !dbg !1584
  %add = fadd double %mul, %mul5, !dbg !1584
  %call = call double @sqrt(double %add) #9, !dbg !1584
  call void @llvm.dbg.value(metadata !{double %call}, i64 0, metadata !1041), !dbg !1584
  %cmp = fcmp ogt double %call, 1.000000e-07, !dbg !1585
  br i1 %cmp, label %if.then, label %entry.if.end_crit_edge, !dbg !1585

entry.if.end_crit_edge:                           ; preds = %entry
  %.pre = load double* %arraydecay, align 16, !dbg !1586, !tbaa !1292
  %.pre31 = load double* %arrayidx3, align 16, !dbg !1588, !tbaa !1292
  br label %if.end, !dbg !1585

if.then:                                          ; preds = %entry
  %R = getelementptr inbounds %"struct.pov::Object_Struct"* %Object, i64 1, !dbg !1589
  %4 = bitcast %"struct.pov::Object_Struct"* %R to double*, !dbg !1589
  %5 = load double* %4, align 8, !dbg !1589, !tbaa !1292
  %6 = load double* %arraydecay, align 16, !dbg !1589, !tbaa !1292
  %mul7 = fmul double %5, %6, !dbg !1589
  %div = fdiv double %mul7, %call, !dbg !1589
  %7 = load double* %arrayidx3, align 16, !dbg !1591, !tbaa !1292
  %mul12 = fmul double %5, %7, !dbg !1591
  %div13 = fdiv double %mul12, %call, !dbg !1591
  br label %if.end, !dbg !1592

if.end:                                           ; preds = %entry.if.end_crit_edge, %if.then
  %8 = phi double [ %7, %if.then ], [ %.pre31, %entry.if.end_crit_edge ]
  %9 = phi double [ %6, %if.then ], [ %.pre, %entry.if.end_crit_edge ]
  %M.sroa.2.16.load30 = phi double [ %div13, %if.then ], [ 0.000000e+00, %entry.if.end_crit_edge ]
  %M.sroa.0.0.load28 = phi double [ %div, %if.then ], [ 0.000000e+00, %entry.if.end_crit_edge ]
  %arraydecay16 = getelementptr inbounds [3 x double]* %N, i64 0, i64 0, !dbg !1587
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay16}, i64 0, metadata !1593), !dbg !1594
  tail call void @llvm.dbg.value(metadata !{double* %arraydecay}, i64 0, metadata !1595), !dbg !1594
  tail call void @llvm.dbg.value(metadata !1596, i64 0, metadata !1597), !dbg !1594
  %sub.i = fsub double %9, %M.sroa.0.0.load28, !dbg !1586
  store double %sub.i, double* %arraydecay16, align 16, !dbg !1586, !tbaa !1292
  %arrayidx3.i = getelementptr inbounds [3 x double]* %P, i64 0, i64 1, !dbg !1598
  %10 = load double* %arrayidx3.i, align 8, !dbg !1598, !tbaa !1292
  %arrayidx6.i = getelementptr inbounds [3 x double]* %N, i64 0, i64 1, !dbg !1598
  store double %10, double* %arrayidx6.i, align 8, !dbg !1598, !tbaa !1292
  %sub9.i = fsub double %8, %M.sroa.2.16.load30, !dbg !1588
  %arrayidx10.i = getelementptr inbounds [3 x double]* %N, i64 0, i64 2, !dbg !1588
  store double %sub9.i, double* %arrayidx10.i, align 16, !dbg !1588, !tbaa !1292
  %11 = load %"struct.pov::Transform_Struct"** %0, align 8, !dbg !1599, !tbaa !1269
  call void @_ZN3pov12MTransNormalEPdS0_PNS_16Transform_StructE(double* %Result, double* %arraydecay16, %"struct.pov::Transform_Struct"* %11) #7, !dbg !1599
  call void @llvm.dbg.value(metadata !{double* %Result}, i64 0, metadata !1600) #6, !dbg !1602
  call void @llvm.dbg.value(metadata !{double* %Result}, i64 0, metadata !1603) #6, !dbg !1602
  call void @llvm.dbg.value(metadata !{double* %Result}, i64 0, metadata !1604) #6, !dbg !1606
  %12 = load double* %Result, align 8, !dbg !1607, !tbaa !1292
  %mul.i.i = fmul double %12, %12, !dbg !1607
  %arrayidx2.i.i = getelementptr inbounds double* %Result, i64 1, !dbg !1607
  %13 = load double* %arrayidx2.i.i, align 8, !dbg !1607, !tbaa !1292
  %mul4.i.i = fmul double %13, %13, !dbg !1607
  %add.i.i = fadd double %mul.i.i, %mul4.i.i, !dbg !1607
  %arrayidx5.i.i = getelementptr inbounds double* %Result, i64 2, !dbg !1607
  %14 = load double* %arrayidx5.i.i, align 8, !dbg !1607, !tbaa !1292
  %mul7.i.i = fmul double %14, %14, !dbg !1607
  %add8.i.i = fadd double %add.i.i, %mul7.i.i, !dbg !1607
  %call.i.i = call double @sqrt(double %add8.i.i) #9, !dbg !1607
  call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !1608) #6, !dbg !1607
  call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !1609) #6, !dbg !1606
  call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !1610) #6, !dbg !1611
  call void @llvm.dbg.value(metadata !{double* %Result}, i64 0, metadata !1612) #6, !dbg !1613
  call void @llvm.dbg.value(metadata !{double* %Result}, i64 0, metadata !1614) #6, !dbg !1613
  call void @llvm.dbg.value(metadata !{double %call.i.i}, i64 0, metadata !1615) #6, !dbg !1613
  %div.i.i = fdiv double 1.000000e+00, %call.i.i, !dbg !1616
  call void @llvm.dbg.value(metadata !{double %div.i.i}, i64 0, metadata !1617) #6, !dbg !1616
  %15 = load double* %Result, align 8, !dbg !1618, !tbaa !1292
  %mul.i2.i = fmul double %div.i.i, %15, !dbg !1618
  store double %mul.i2.i, double* %Result, align 8, !dbg !1618, !tbaa !1292
  %16 = load double* %arrayidx2.i.i, align 8, !dbg !1619, !tbaa !1292
  %mul3.i.i = fmul double %div.i.i, %16, !dbg !1619
  store double %mul3.i.i, double* %arrayidx2.i.i, align 8, !dbg !1619, !tbaa !1292
  %17 = load double* %arrayidx5.i.i, align 8, !dbg !1620, !tbaa !1292
  %mul6.i.i = fmul double %div.i.i, %17, !dbg !1620
  store double %mul6.i.i, double* %arrayidx5.i.i, align 8, !dbg !1620, !tbaa !1292
  ret void, !dbg !1621
}
