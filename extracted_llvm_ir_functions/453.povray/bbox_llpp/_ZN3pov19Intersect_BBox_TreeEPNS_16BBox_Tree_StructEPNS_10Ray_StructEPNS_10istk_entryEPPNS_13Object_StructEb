define zeroext i1 @_ZN3pov19Intersect_BBox_TreeEPNS_16BBox_Tree_StructEPNS_10Ray_StructEPNS_10istk_entryEPPNS_13Object_StructEb(%"struct.pov::BBox_Tree_Struct"* %Root, %"struct.pov::Ray_Struct"* %Ray, %"struct.pov::istk_entry"* nocapture %Best_Intersection, %"struct.pov::Object_Struct"** nocapture %Best_Object, i1 zeroext %shadow_flag) #0 {
entry:
  %Depth = alloca double, align 8
  %Node = alloca %"struct.pov::BBox_Tree_Struct"*, align 8
  %rayinfo = alloca %"struct.pov::Rayinfo_Struct", align 8
  %New_Intersection = alloca %"struct.pov::istk_entry", align 8
  call void @llvm.dbg.value(metadata !{%"struct.pov::BBox_Tree_Struct"* %Root}, i64 0, metadata !1018), !dbg !1811
  call void @llvm.dbg.value(metadata !{%"struct.pov::Ray_Struct"* %Ray}, i64 0, metadata !1019), !dbg !1811
  call void @llvm.dbg.value(metadata !{%"struct.pov::istk_entry"* %Best_Intersection}, i64 0, metadata !1020), !dbg !1811
  call void @llvm.dbg.value(metadata !{%"struct.pov::Object_Struct"** %Best_Object}, i64 0, metadata !1021), !dbg !1811
  call void @llvm.dbg.value(metadata !{i1 %shadow_flag}, i64 0, metadata !1022), !dbg !1811
  call void @llvm.dbg.declare(metadata !{double* %Depth}, metadata !1025), !dbg !1812
  call void @llvm.dbg.declare(metadata !{%"struct.pov::BBox_Tree_Struct"** %Node}, metadata !1026), !dbg !1813
  %0 = bitcast %"struct.pov::Rayinfo_Struct"* %rayinfo to i8*, !dbg !1814
  call void @llvm.lifetime.start(i64 72, i8* %0) #4, !dbg !1814
  call void @llvm.dbg.declare(metadata !{%"struct.pov::Rayinfo_Struct"* %rayinfo}, metadata !1027), !dbg !1814
  %1 = bitcast %"struct.pov::istk_entry"* %New_Intersection to i8*, !dbg !1815
  call void @llvm.lifetime.start(i64 200, i8* %1) #4, !dbg !1815
  call void @llvm.dbg.declare(metadata !{%"struct.pov::istk_entry"* %New_Intersection}, metadata !1042), !dbg !1815
  call void @_ZN3pov14Create_RayinfoEPNS_10Ray_StructEPNS_14Rayinfo_StructE(%"struct.pov::Ray_Struct"* %Ray, %"struct.pov::Rayinfo_Struct"* %rayinfo) #6, !dbg !1816
  %Object = getelementptr inbounds %"struct.pov::istk_entry"* %New_Intersection, i64 0, i32 5, !dbg !1817
  store %"struct.pov::Object_Struct"* null, %"struct.pov::Object_Struct"** %Object, align 8, !dbg !1817, !tbaa !1312
  call void @llvm.dbg.value(metadata !142, i64 0, metadata !1024), !dbg !1818
  %2 = load %"struct.pov::Priority_Queue_Struct"** @_ZN3povL11Frame_QueueE, align 8, !dbg !1819, !tbaa !1312
  %QSize = getelementptr inbounds %"struct.pov::Priority_Queue_Struct"* %2, i64 0, i32 0, !dbg !1819
  store i32 0, i32* %QSize, align 4, !dbg !1819, !tbaa !1316
  tail call void @llvm.dbg.value(metadata !1820, i64 0, metadata !1821), !dbg !1823
  %3 = load i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 111), align 8, !dbg !1824, !tbaa !1501
  %inc.i = add nsw i64 %3, 1, !dbg !1824
  store i64 %inc.i, i64* getelementptr inbounds ([126 x i64]* @_ZN3pov5statsE, i64 0, i64 111), align 8, !dbg !1824, !tbaa !1501
  %BBox = getelementptr inbounds %"struct.pov::BBox_Tree_Struct"* %Root, i64 0, i32 2, !dbg !1826
  call void @_ZN3pov17Check_And_EnqueueEPNS_21Priority_Queue_StructEPNS_16BBox_Tree_StructEPNS_19Bounding_Box_StructEPNS_14Rayinfo_StructE(%"struct.pov::Priority_Queue_Struct"* %2, %"struct.pov::BBox_Tree_Struct"* %Root, %"struct.pov::Bounding_Box_Struct"* %BBox, %"struct.pov::Rayinfo_Struct"* %rayinfo) #6, !dbg !1826
  %4 = load %"struct.pov::Priority_Queue_Struct"** @_ZN3povL11Frame_QueueE, align 8, !dbg !1827, !tbaa !1312
  %QSize17176 = getelementptr inbounds %"struct.pov::Priority_Queue_Struct"* %4, i64 0, i32 0, !dbg !1827
  %5 = load i32* %QSize17176, align 4, !dbg !1827, !tbaa !1316
  %tobool7277 = icmp eq i32 %5, 0, !dbg !1827
  br i1 %tobool7277, label %while.end, label %while.body.lr.ph.lr.ph, !dbg !1827

while.body.lr.ph.lr.ph:                           ; preds = %entry
  %Depth2 = getelementptr inbounds %"struct.pov::istk_entry"* %Best_Intersection, i64 0, i32 0, !dbg !1828
  %Depth48 = getelementptr inbounds %"struct.pov::istk_entry"* %New_Intersection, i64 0, i32 0, !dbg !1830
  %6 = bitcast %"struct.pov::istk_entry"* %Best_Intersection to i8*, !dbg !1834
  br label %while.body.lr.ph, !dbg !1827

while.body.lr.ph:                                 ; preds = %while.body.lr.ph.lr.ph, %if.then51
  %7 = phi %"struct.pov::Priority_Queue_Struct"* [ %4, %while.body.lr.ph.lr.ph ], [ %30, %if.then51 ]
  %found.0.ph78 = phi i32 [ 0, %while.body.lr.ph.lr.ph ], [ 1, %if.then51 ]
  br label %while.body, !dbg !1827

while.body:                                       ; preds = %while.body.lr.ph, %while.cond.backedge
  %8 = phi %"struct.pov::Priority_Queue_Struct"* [ %7, %while.body.lr.ph ], [ %23, %while.cond.backedge ]
  call void @_ZN3pov21Priority_Queue_DeleteEPNS_21Priority_Queue_StructEPdPPNS_16BBox_Tree_StructE(%"struct.pov::Priority_Queue_Struct"* %8, double* %Depth, %"struct.pov::BBox_Tree_Struct"** %Node) #6, !dbg !1836
  call void @llvm.dbg.value(metadata !{double* %Depth}, i64 0, metadata !1025), !dbg !1828
  %9 = load double* %Depth, align 8, !dbg !1828, !tbaa !1407
  %10 = load double* %Depth2, align 8, !dbg !1828, !tbaa !1407
  %cmp = fcmp ogt double %9, %10, !dbg !1828
  br i1 %cmp, label %while.end, label %if.end, !dbg !1828

if.end:                                           ; preds = %while.body
  call void @llvm.dbg.value(metadata !{%"struct.pov::BBox_Tree_Struct"** %Node}, i64 0, metadata !1026), !dbg !1837
  %11 = load %"struct.pov::BBox_Tree_Struct"** %Node, align 8, !dbg !1837, !tbaa !1312
  %Entries = getelementptr inbounds %"struct.pov::BBox_Tree_Struct"* %11, i64 0, i32 1, !dbg !1837
  %12 = load i16* %Entries, align 2, !dbg !1837, !tbaa !1345
  %tobool3 = icmp eq i16 %12, 0, !dbg !1837
  br i1 %tobool3, label %if.else, label %for.cond.preheader, !dbg !1837

for.cond.preheader:                               ; preds = %if.end
  call void @llvm.dbg.value(metadata !{%"struct.pov::BBox_Tree_Struct"** %Node}, i64 0, metadata !1026), !dbg !1838
  %cmp669 = icmp sgt i16 %12, 0, !dbg !1838
  br i1 %cmp669, label %for.body, label %while.cond.backedge, !dbg !1838

for.body:                                         ; preds = %for.cond.preheader, %for.body
  %indvars.iv = phi i64 [ %indvars.iv.next, %for.body ], [ 0, %for.cond.preheader ]
  %13 = load %"struct.pov::Priority_Queue_Struct"** @_ZN3povL11Frame_QueueE, align 8, !dbg !1841, !tbaa !1312
  %Node7 = getelementptr inbounds %"struct.pov::BBox_Tree_Struct"* %11, i64 0, i32 3, !dbg !1841
  %14 = load %"struct.pov::BBox_Tree_Struct"*** %Node7, align 8, !dbg !1841, !tbaa !1312
  %arrayidx = getelementptr inbounds %"struct.pov::BBox_Tree_Struct"** %14, i64 %indvars.iv, !dbg !1841
  %15 = load %"struct.pov::BBox_Tree_Struct"** %arrayidx, align 8, !dbg !1841, !tbaa !1312
  %BBox11 = getelementptr inbounds %"struct.pov::BBox_Tree_Struct"* %15, i64 0, i32 2, !dbg !1841
  call void @_ZN3pov17Check_And_EnqueueEPNS_21Priority_Queue_StructEPNS_16BBox_Tree_StructEPNS_19Bounding_Box_StructEPNS_14Rayinfo_StructE(%"struct.pov::Priority_Queue_Struct"* %13, %"struct.pov::BBox_Tree_Struct"* %15, %"struct.pov::Bounding_Box_Struct"* %BBox11, %"struct.pov::Rayinfo_Struct"* %rayinfo) #6, !dbg !1841
  %indvars.iv.next = add i64 %indvars.iv, 1, !dbg !1838
  call void @llvm.dbg.value(metadata !{%"struct.pov::BBox_Tree_Struct"** %Node}, i64 0, metadata !1026), !dbg !1838
  %16 = load i16* %Entries, align 2, !dbg !1838, !tbaa !1345
  %conv = sext i16 %16 to i32, !dbg !1838
  %17 = trunc i64 %indvars.iv.next to i32, !dbg !1838
  %cmp6 = icmp slt i32 %17, %conv, !dbg !1838
  br i1 %cmp6, label %for.body, label %while.cond.backedge, !dbg !1838

if.else:                                          ; preds = %if.end
  %18 = load i32* @_ZN3pov13backtraceFlagE, align 4, !dbg !1843, !tbaa !1316
  %tobool12 = icmp eq i32 %18, 0, !dbg !1843
  %Node13 = getelementptr inbounds %"struct.pov::BBox_Tree_Struct"* %11, i64 0, i32 3, !dbg !1843
  %19 = load %"struct.pov::BBox_Tree_Struct"*** %Node13, align 8, !dbg !1843, !tbaa !1312
  %20 = bitcast %"struct.pov::BBox_Tree_Struct"** %19 to %"struct.pov::Object_Struct"*, !dbg !1843
  %Flags = getelementptr inbounds %"struct.pov::Object_Struct"* %20, i64 0, i32 13, !dbg !1843
  %21 = load i32* %Flags, align 4, !dbg !1843, !tbaa !1316
  br i1 %tobool12, label %land.lhs.true, label %land.lhs.true31, !dbg !1843

land.lhs.true:                                    ; preds = %if.else
  %and = and i32 %21, 32768, !dbg !1843
  %tobool15 = icmp ne i32 %and, 0, !dbg !1843
  %22 = load i8* @_ZN3pov17In_Reflection_RayE, align 1, !dbg !1843, !tbaa !1720, !range !1721
  %tobool16 = icmp eq i8 %22, 0, !dbg !1843
  %or.cond = and i1 %tobool15, %tobool16, !dbg !1843
  br i1 %or.cond, label %lor.lhs.false37, label %land.lhs.true19, !dbg !1843

land.lhs.true19:                                  ; preds = %land.lhs.true
  call void @llvm.dbg.value(metadata !{%"struct.pov::BBox_Tree_Struct"** %Node}, i64 0, metadata !1026), !dbg !1843
  %and23 = and i32 %21, 65536, !dbg !1843
  %tobool24 = icmp eq i32 %and23, 0, !dbg !1843
  %or.cond65 = or i1 %tobool24, %tobool16, !dbg !1843
  br i1 %or.cond65, label %if.then45, label %lor.lhs.false37, !dbg !1843

land.lhs.true31:                                  ; preds = %if.else
  call void @llvm.dbg.value(metadata !{%"struct.pov::BBox_Tree_Struct"** %Node}, i64 0, metadata !1026), !dbg !1843
  %and35 = and i32 %21, 1, !dbg !1843
  %tobool36 = icmp eq i32 %and35, 0, !dbg !1843
  br i1 %tobool36, label %if.then45, label %lor.lhs.false37, !dbg !1843

lor.lhs.false37:                                  ; preds = %land.lhs.true, %land.lhs.true19, %land.lhs.true31
  br i1 %shadow_flag, label %land.lhs.true39, label %while.cond.backedge, !dbg !1843

while.cond.backedge:                              ; preds = %for.cond.preheader, %for.body, %lor.lhs.false37, %if.then47, %if.then45, %land.lhs.true39
  %23 = load %"struct.pov::Priority_Queue_Struct"** @_ZN3povL11Frame_QueueE, align 8, !dbg !1827, !tbaa !1312
  %QSize1 = getelementptr inbounds %"struct.pov::Priority_Queue_Struct"* %23, i64 0, i32 0, !dbg !1827
  %24 = load i32* %QSize1, align 4, !dbg !1827, !tbaa !1316
  %tobool = icmp eq i32 %24, 0, !dbg !1827
  br i1 %tobool, label %while.end, label %while.body, !dbg !1827

land.lhs.true39:                                  ; preds = %lor.lhs.false37
  call void @llvm.dbg.value(metadata !{%"struct.pov::BBox_Tree_Struct"** %Node}, i64 0, metadata !1026), !dbg !1843
  %and43 = and i32 %21, 1, !dbg !1843
  %tobool44 = icmp eq i32 %and43, 0, !dbg !1843
  br i1 %tobool44, label %if.then45, label %while.cond.backedge, !dbg !1843

if.then45:                                        ; preds = %land.lhs.true31, %land.lhs.true39, %land.lhs.true19
  call void @llvm.dbg.value(metadata !{%"struct.pov::BBox_Tree_Struct"** %Node}, i64 0, metadata !1026), !dbg !1844
  %Node46 = getelementptr inbounds %"struct.pov::BBox_Tree_Struct"* %11, i64 0, i32 3, !dbg !1844
  %25 = bitcast %"struct.pov::BBox_Tree_Struct"** %19 to %"struct.pov::Object_Struct"*, !dbg !1844
  %call = call zeroext i1 @_ZN3pov12IntersectionEPNS_10istk_entryEPNS_13Object_StructEPNS_10Ray_StructE(%"struct.pov::istk_entry"* %New_Intersection, %"struct.pov::Object_Struct"* %25, %"struct.pov::Ray_Struct"* %Ray) #6, !dbg !1844
  br i1 %call, label %if.then47, label %while.cond.backedge, !dbg !1844

if.then47:                                        ; preds = %if.then45
  %26 = load double* %Depth48, align 8, !dbg !1830, !tbaa !1407
  %27 = load double* %Depth2, align 8, !dbg !1830, !tbaa !1407
  %cmp50 = fcmp olt double %26, %27, !dbg !1830
  br i1 %cmp50, label %if.then51, label %while.cond.backedge, !dbg !1830

if.then51:                                        ; preds = %if.then47
  call void @llvm.memcpy.p0i8.p0i8.i64(i8* %6, i8* %1, i64 200, i32 8, i1 false), !dbg !1834, !tbaa.struct !1845
  call void @llvm.dbg.value(metadata !{%"struct.pov::BBox_Tree_Struct"** %Node}, i64 0, metadata !1026), !dbg !1846
  %28 = load %"struct.pov::BBox_Tree_Struct"*** %Node46, align 8, !dbg !1846, !tbaa !1312
  %29 = bitcast %"struct.pov::BBox_Tree_Struct"** %28 to %"struct.pov::Object_Struct"*, !dbg !1846
  store %"struct.pov::Object_Struct"* %29, %"struct.pov::Object_Struct"** %Best_Object, align 8, !dbg !1846, !tbaa !1312
  call void @llvm.dbg.value(metadata !1396, i64 0, metadata !1024), !dbg !1847
  %30 = load %"struct.pov::Priority_Queue_Struct"** @_ZN3povL11Frame_QueueE, align 8, !dbg !1827, !tbaa !1312
  %QSize171 = getelementptr inbounds %"struct.pov::Priority_Queue_Struct"* %30, i64 0, i32 0, !dbg !1827
  %31 = load i32* %QSize171, align 4, !dbg !1827, !tbaa !1316
  %tobool72 = icmp eq i32 %31, 0, !dbg !1827
  br i1 %tobool72, label %while.end, label %while.body.lr.ph, !dbg !1827

while.end:                                        ; preds = %entry, %if.then51, %while.cond.backedge, %while.body
  %found.0.ph75 = phi i32 [ %found.0.ph78, %while.body ], [ %found.0.ph78, %while.cond.backedge ], [ 0, %entry ], [ 1, %if.then51 ]
  %tobool57 = icmp ne i32 %found.0.ph75, 0, !dbg !1848
  call void @llvm.lifetime.end(i64 200, i8* %1) #4, !dbg !1849
  call void @llvm.lifetime.end(i64 72, i8* %0) #4, !dbg !1849
  ret i1 %tobool57, !dbg !1849
}
